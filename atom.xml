<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="zh-CN">
  <id>https://breezeshane.github.io/</id>
  <title>𝕭𝖗𝖊𝖊𝖟𝖊 𝕾𝖍𝖆𝖓𝖊 𝕭𝖑𝖔𝖌</title>
  <subtitle>🤗😄😃😉𝓖𝓻𝓮𝓮𝓽𝓲𝓷𝓰𝓼! 𝓘'𝓶 𝓑𝓻𝓮𝓮𝔃𝓮 𝓢𝓱𝓪𝓷𝓮 ~😉😃😄🤗</subtitle>
  <author>
    <name>Breeze Shane</name>
  </author>
  <updated>2022-01-23T00:52:05.252Z</updated>
  <generator>@mr-hope/vuepress-plugin-feed</generator>
  <link rel="self" href="https://breezeshane.github.io/atom.xml"/>
  <link rel="alternate" href="https://breezeshane.github.io/"/>
  <rights>Copyright © 2021-present Breeze Shane</rights>
  <category term="使用指南"/>
  <contributor>
    <name>Breeze Shane</name>
  </contributor>
  <contributor>
    <name>BreezeShane</name>
  </contributor>
  <contributor>
    <name>Ms.Hope</name>
  </contributor>
  <entry>
    <title type="html">有关人工智能与机器学习领域的概况</title>
    <id>https://breezeshane.github.io/ArtificialIntelligence/AIOverview/</id>
    <link href="https://breezeshane.github.io/ArtificialIntelligence/AIOverview/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<h2 id="人工智能是什么"> 人工智能是什么？</h2>
<p>关于人工智能的定义在学术界一直尚存争议，原因也无非是因为实在难以给智能下定义。</p>
<p>目前比较广泛的说法是：<strong>人工智能是一门研究、开发用于模拟、延伸和扩展人的智能的理论方法技术及应用的一门技术科学。</strong></p>
<p>人工智能领域从开发层面上可以分两个领域，其一为硬件方向，其二为软件方向。</p>
<p>硬件方向目前是将研发中心放在打造专门适配机器学习领域的芯片，试图设计出能够模拟人脑进行高效运算的芯片。</p>
<p>软件方向除了机器学习领域外，其实还有其他分类。这里就不得不提到人工智能的发展史了，曾经人工智能在研究方面有分五个流派，其一是符号处理流派，即符号人工智能，其二是亚符号人工智能，其三是联结主义，其四便是传统机器学习「狭义意义上的机器学习」，其五才是今天正火热的深度学习。详细情况可以查看下面写的人工智能发展史。</p>
<h2 id="机器学习究竟是啥"> 机器学习究竟是啥？</h2>
<p>机器学习，广义上讲就是统计机器学习，这个领域的数学核心是概率论和统计学，机器学习的能力并不是凭空产生的，它的能力是有相关学科理论基础保证的，因此想学好机器学习并不是一件容易的事，还请求学者准备好这份觉悟。</p>
<p>统计机器学习从学习方式上分类的话，可以分为：</p>
<ol>
<li>有监督学习</li>
<li>半监督学习</li>
<li>无监督学习</li>
<li>强化学习</li>
<li>主动学习/查询学习</li>
<li>迁移学习</li>
<li>表征学习</li>
<li>对抗学习</li>
<li>对偶学习</li>
<li>分布式学习</li>
<li>元学习</li>
<li>……</li>
</ol>
<p>统计机器学习从应用领域上分类的话，可以分为：</p>
<ol>
<li>
<p>计算机视觉</p>
<ol>
<li>目标检测</li>
<li>图像修复与增强
<ol>
<li>去雨化</li>
<li>去雾化</li>
<li>图像残缺修补</li>
<li>低照度增强</li>
<li>图像去噪</li>
</ol>
</li>
<li>图像分割
<ol>
<li>语义分割</li>
<li>实例分割</li>
</ol>
</li>
<li>对抗攻击</li>
<li>数据生成
<ol>
<li>生成人脸</li>
<li>动作迁移</li>
<li>风格迁移</li>
</ol>
</li>
<li>目标追踪</li>
<li>……</li>
</ol>
</li>
<li>
<p>自然语言处理「客观上说自然语言处理是众多领域上的前沿」<a href="https://easyai.tech/ai-definition/nlp/" target="_blank" rel="noopener noreferrer">「详细链接」</a></p>
<ol>
<li>自然语言理解</li>
<li>自然语言生成</li>
<li>语音识别</li>
<li>情感分析</li>
<li>机器翻译</li>
<li>人机对话</li>
<li>……</li>
</ol>
<p>偶然搜到的<a href="https://zhuanlan.zhihu.com/p/51279338" target="_blank" rel="noopener noreferrer">30个练手项目</a></p>
</li>
<li>
<p>音频处理<a href="https://zhuanlan.zhihu.com/p/69116079" target="_blank" rel="noopener noreferrer">「详细链接」</a></p>
<ol>
<li>音频分类</li>
<li>音频指纹识别</li>
<li>自动音乐标注</li>
<li>音频分割</li>
<li>音源分离</li>
<li>节拍跟踪</li>
<li>音乐推荐</li>
<li>音乐信息检索</li>
<li>音乐转录</li>
<li>音符起始点检测</li>
<li>……</li>
</ol>
</li>
</ol>
<p>统计机器学习从研究方向上分类的话，可以分为：</p>
<ol>
<li>机器学习可解释性研究</li>
<li>轻量机器学习与边缘计算</li>
<li>量子机器学习</li>
<li>社会机器学习</li>
<li>……</li>
</ol>
<p>（研究领域太多了，这里就不一一列举了）</p>
<hr>
<h2 id="人工智能发展史"> 人工智能发展史</h2>
<p>人工智能发展的道路并非一帆风顺，直到今天为止经历过两次大寒冬时期。</p>
<ul>
<li>
<p>人工智能的起源，追寻什么是真正的智能。</p>
<p>“人工智能”一词由约翰·麦卡锡（John McCarthy）提出，其目标是“真正的”智能，而非“人工的”智能。</p>
</li>
<li>
<p>符号人工智能，无需构建模拟大脑运行的程序。</p>
<p>符号人工智能最初是受到数学逻辑以及人们描述自身思考过程的方式的启发，在人工智能领域发展的最初30年里占据了主导地位，以专家系统最为著名。</p>
</li>
<li>
<p>亚符号人工智能，从神经科学角度捕捉无意识思考。</p>
<p>亚符号人工智能从神经科学中汲取灵感，试图捕捉隐藏在“快速感知”（Fast Perception）背后的无意识思考过程。</p>
</li>
<li>
<p>联结主义崛起，神经网络再次流行。</p>
<p>联结主义认为：智能的关键在于构建合适的计算结构，并从数据或现实世界中学习。</p>
</li>
<li>
<p>机器学习，拉开下一个人工智能大变革舞台的序幕</p>
<p>基于统计学和概率论，研究者开发了一系列使计算机从数据中学习的方法，并形成了人工智能领域的一门分支学科。</p>
</li>
<li>
<p>深度学习，人工智能的春天再一次百花盛开。</p>
<p>从IBM的深蓝到沃森再到AlphaGo，统称为深度学习的人工智能方法已经成了主流的人工智能范式。</p>
</li>
</ul>
<hr>
<h2 id="人工智能未来该何去何从"> 人工智能未来该何去何从？</h2>
<p>迄今为止，尽管人工智能仍在火热阶段，但应该看到，它也在迎来瓶颈期，未来该如何发展依旧不定，有人持乐观态度，相信当前深度学习发展到一定程度会又一次出现革新，但也有人持悲观态度，认为人工智能可能在未来将要迎接第三次寒冬。</p>
<p>当下问题的焦点在于，人究竟该如何去理解、解释智能的真正含义？我们想要的人工智能究竟该是什么样子？</p>
<p>当然，这些不是现在我们能够考虑的，但至少，认识到这个问题能让你对未来有更清晰的印象和更理性的认知。</p>
<hr>
<p>这些内容大致了解即可，虽然对具体学习任何内容可能没什么帮助，但会有助于你对整个领域的掌控与了解，同时也是拓宽眼界的机会。</p>
]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2021-10-25T17:12:34.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">估计、偏差和方差</title>
    <id>https://breezeshane.github.io/ArtificialIntelligence/DeepLearning/BasicsofML/%E4%BC%B0%E8%AE%A1%E3%80%81%E5%81%8F%E5%B7%AE%E5%92%8C%E6%96%B9%E5%B7%AE/</id>
    <link href="https://breezeshane.github.io/ArtificialIntelligence/DeepLearning/BasicsofML/%E4%BC%B0%E8%AE%A1%E3%80%81%E5%81%8F%E5%B7%AE%E5%92%8C%E6%96%B9%E5%B7%AE/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:03:59.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">促使深度学习发展的挑战</title>
    <id>https://breezeshane.github.io/ArtificialIntelligence/DeepLearning/BasicsofML/%E4%BF%83%E4%BD%BF%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%8F%91%E5%B1%95%E7%9A%84%E6%8C%91%E6%88%98/</id>
    <link href="https://breezeshane.github.io/ArtificialIntelligence/DeepLearning/BasicsofML/%E4%BF%83%E4%BD%BF%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%8F%91%E5%B1%95%E7%9A%84%E6%8C%91%E6%88%98/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:04:16.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">学习算法</title>
    <id>https://breezeshane.github.io/ArtificialIntelligence/DeepLearning/BasicsofML/%E5%AD%A6%E4%B9%A0%E7%AE%97%E6%B3%95/</id>
    <link href="https://breezeshane.github.io/ArtificialIntelligence/DeepLearning/BasicsofML/%E5%AD%A6%E4%B9%A0%E7%AE%97%E6%B3%95/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:04:28.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">容量、过拟合和欠拟合</title>
    <id>https://breezeshane.github.io/ArtificialIntelligence/DeepLearning/BasicsofML/%E5%AE%B9%E9%87%8F%E3%80%81%E8%BF%87%E6%8B%9F%E5%90%88%E5%92%8C%E6%AC%A0%E6%8B%9F%E5%90%88/</id>
    <link href="https://breezeshane.github.io/ArtificialIntelligence/DeepLearning/BasicsofML/%E5%AE%B9%E9%87%8F%E3%80%81%E8%BF%87%E6%8B%9F%E5%90%88%E5%92%8C%E6%AC%A0%E6%8B%9F%E5%90%88/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:04:41.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">无监督学习算法</title>
    <id>https://breezeshane.github.io/ArtificialIntelligence/DeepLearning/BasicsofML/%E6%97%A0%E7%9B%91%E7%9D%A3%E5%AD%A6%E4%B9%A0%E7%AE%97%E6%B3%95/</id>
    <link href="https://breezeshane.github.io/ArtificialIntelligence/DeepLearning/BasicsofML/%E6%97%A0%E7%9B%91%E7%9D%A3%E5%AD%A6%E4%B9%A0%E7%AE%97%E6%B3%95/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:04:52.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">最大似然估计</title>
    <id>https://breezeshane.github.io/ArtificialIntelligence/DeepLearning/BasicsofML/%E6%9C%80%E5%A4%A7%E4%BC%BC%E7%84%B6%E4%BC%B0%E8%AE%A1/</id>
    <link href="https://breezeshane.github.io/ArtificialIntelligence/DeepLearning/BasicsofML/%E6%9C%80%E5%A4%A7%E4%BC%BC%E7%84%B6%E4%BC%B0%E8%AE%A1/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:05:02.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">构建机器学习算法</title>
    <id>https://breezeshane.github.io/ArtificialIntelligence/DeepLearning/BasicsofML/%E6%9E%84%E5%BB%BA%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AE%97%E6%B3%95/</id>
    <link href="https://breezeshane.github.io/ArtificialIntelligence/DeepLearning/BasicsofML/%E6%9E%84%E5%BB%BA%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AE%97%E6%B3%95/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:05:10.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">监督学习算法</title>
    <id>https://breezeshane.github.io/ArtificialIntelligence/DeepLearning/BasicsofML/%E7%9B%91%E7%9D%A3%E5%AD%A6%E4%B9%A0%E7%AE%97%E6%B3%95/</id>
    <link href="https://breezeshane.github.io/ArtificialIntelligence/DeepLearning/BasicsofML/%E7%9B%91%E7%9D%A3%E5%AD%A6%E4%B9%A0%E7%AE%97%E6%B3%95/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:05:21.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">贝叶斯统计</title>
    <id>https://breezeshane.github.io/ArtificialIntelligence/DeepLearning/BasicsofML/%E8%B4%9D%E5%8F%B6%E6%96%AF%E7%BB%9F%E8%AE%A1/</id>
    <link href="https://breezeshane.github.io/ArtificialIntelligence/DeepLearning/BasicsofML/%E8%B4%9D%E5%8F%B6%E6%96%AF%E7%BB%9F%E8%AE%A1/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:05:33.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">超参数和验证集</title>
    <id>https://breezeshane.github.io/ArtificialIntelligence/DeepLearning/BasicsofML/%E8%B6%85%E5%8F%82%E6%95%B0%E5%92%8C%E9%AA%8C%E8%AF%81%E9%9B%86/</id>
    <link href="https://breezeshane.github.io/ArtificialIntelligence/DeepLearning/BasicsofML/%E8%B6%85%E5%8F%82%E6%95%B0%E5%92%8C%E9%AA%8C%E8%AF%81%E9%9B%86/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:05:49.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">随机梯度下降</title>
    <id>https://breezeshane.github.io/ArtificialIntelligence/DeepLearning/BasicsofML/%E9%9A%8F%E6%9C%BA%E6%A2%AF%E5%BA%A6%E4%B8%8B%E9%99%8D/</id>
    <link href="https://breezeshane.github.io/ArtificialIntelligence/DeepLearning/BasicsofML/%E9%9A%8F%E6%9C%BA%E6%A2%AF%E5%BA%A6%E4%B8%8B%E9%99%8D/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:05:57.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">「实例」线性最小二乘</title>
    <id>https://breezeshane.github.io/ArtificialIntelligence/DeepLearning/DataCompute/%5B%E5%AE%9E%E4%BE%8B%5D%E7%BA%BF%E6%80%A7%E6%9C%80%E5%B0%8F%E4%BA%8C%E4%B9%98/</id>
    <link href="https://breezeshane.github.io/ArtificialIntelligence/DeepLearning/DataCompute/%5B%E5%AE%9E%E4%BE%8B%5D%E7%BA%BF%E6%80%A7%E6%9C%80%E5%B0%8F%E4%BA%8C%E4%B9%98/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:06:11.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">上溢和下溢</title>
    <id>https://breezeshane.github.io/ArtificialIntelligence/DeepLearning/DataCompute/%E4%B8%8A%E6%BA%A2%E5%92%8C%E4%B8%8B%E6%BA%A2/</id>
    <link href="https://breezeshane.github.io/ArtificialIntelligence/DeepLearning/DataCompute/%E4%B8%8A%E6%BA%A2%E5%92%8C%E4%B8%8B%E6%BA%A2/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:06:22.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">基于梯度的优化方法</title>
    <id>https://breezeshane.github.io/ArtificialIntelligence/DeepLearning/DataCompute/%E5%9F%BA%E4%BA%8E%E6%A2%AF%E5%BA%A6%E7%9A%84%E4%BC%98%E5%8C%96%E6%96%B9%E6%B3%95/</id>
    <link href="https://breezeshane.github.io/ArtificialIntelligence/DeepLearning/DataCompute/%E5%9F%BA%E4%BA%8E%E6%A2%AF%E5%BA%A6%E7%9A%84%E4%BC%98%E5%8C%96%E6%96%B9%E6%B3%95/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:06:30.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">病态条件</title>
    <id>https://breezeshane.github.io/ArtificialIntelligence/DeepLearning/DataCompute/%E7%97%85%E6%80%81%E6%9D%A1%E4%BB%B6/</id>
    <link href="https://breezeshane.github.io/ArtificialIntelligence/DeepLearning/DataCompute/%E7%97%85%E6%80%81%E6%9D%A1%E4%BB%B6/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:06:38.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">约束优化</title>
    <id>https://breezeshane.github.io/ArtificialIntelligence/DeepLearning/DataCompute/%E7%BA%A6%E6%9D%9F%E4%BC%98%E5%8C%96/</id>
    <link href="https://breezeshane.github.io/ArtificialIntelligence/DeepLearning/DataCompute/%E7%BA%A6%E6%9D%9F%E4%BC%98%E5%8C%96/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:06:46.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">前言</title>
    <id>https://breezeshane.github.io/ArtificialIntelligence/DeepLearning/%E5%89%8D%E8%A8%80/</id>
    <link href="https://breezeshane.github.io/ArtificialIntelligence/DeepLearning/%E5%89%8D%E8%A8%80/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<p>该系列下所有内容均来自书籍《Deep Learning》的译作《深度学习》，即业界内俗称的“花书”。该系列主要用于记录本人的读书笔记，并会在一些地方做延伸讨论，增加一些内容。</p>
<div><p>相关信息</p>
<p>需要掌握的数学知识「线性代数、概率论等」位于Mathematics栏目下，此栏目不作重复性描述。</p>
</div>
]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-16T14:52:36.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">入门机器学习的安装与配置</title>
    <id>https://breezeshane.github.io/ArtificialIntelligence/EnvInstall/</id>
    <link href="https://breezeshane.github.io/ArtificialIntelligence/EnvInstall/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<h2 id="你可能有配备"> 你可能有配备？</h2>
<p>或许你的电脑配有独立显卡，一般可以在Windows系统下通过查看设备管理器，或者在Linux系统下通过键入 <code>inxi -G</code>来查看电脑的显卡配备信息。可能你不懂什么是显卡？</p>
<blockquote>
<p>显卡又称<a href="https://baike.baidu.com/item/%E6%98%BE%E7%A4%BA%E5%8D%A1/103062" target="_blank" rel="noopener noreferrer">显示卡</a>( Graphics card)，是计算机中一个重要的组成部分，承担输出显示图形的任务，对喜欢玩游戏和从事专业图形设计的人来说，显卡非常重要。</p>
</blockquote>
<p>当然，对于机器学习的学习者来说，自然也是很重要的。机器学习领域之所以会使用显卡，是因为显卡具有良好的、高度的并发运行性能，可以同时并行计算众多表达式，这一点远远超过了CPU。</p>
<h2 id="你需要装什么"> 你需要装什么？</h2>
<ol>
<li><a href="https://www.anaconda.com/" target="_blank" rel="noopener noreferrer">Anaconda</a> / <a href="https://docs.conda.io/en/latest/miniconda.html" target="_blank" rel="noopener noreferrer">Miniconda</a></li>
<li><a href="https://www.nvidia.cn/Download/index.aspx?lang=cn" target="_blank" rel="noopener noreferrer">Nvidia Driver</a></li>
<li><a href="https://developer.nvidia.com/cuda-downloads" target="_blank" rel="noopener noreferrer">CUDA</a></li>
<li><a href="https://developer.nvidia.com/zh-cn/cudnn" target="_blank" rel="noopener noreferrer">cuDNN</a></li>
<li>一些常见的工具包</li>
<li>你喜欢的IDE/编辑器</li>
</ol>
<h2 id="它们都是啥"> 它们都是啥？</h2>
<ol>
<li>Anaconda/Miniconda是一个集虚拟环境管理器与包管理器于一身的计算科学工具。通过使用这个工具，你可以轻松地安装Python环境和社区内的各种工具包，并且可以很方便地创建新的虚拟环境以便日后版本切换使用，是机器学习入门的必备工具。</li>
<li>Nvidia Driver是指Nvidia显卡驱动程序。若想安装CUDA和cuDNN，安装驱动是必不可少的，必须由驱动程序来促使显卡正常运作。</li>
<li>CUDA通常指的是CUDA Toolkit，是一个完整的工具安装包，其中提供了Nvidia 驱动程序、开发CUDA 程序相关的开发工具包等可供安装的选项。至于CUDA的含义，它指的是Compute Unified Device Architecture，是一种由NVIDIA推出的通用并行计算架构，该架构使GPU能够解决复杂的计算问题。它是一个并行计算平台和编程模型，能够使得使用GPU进行通用计算变得简单和优雅。</li>
<li>cuDNN是一个专门为深度学习计算设计的软件库，里面提供了很多专门的计算函数，如卷积等。</li>
</ol>
<p>如果想具体、深入了解这些概念，可以看看<a href="https://zhuanlan.zhihu.com/p/91334380" target="_blank" rel="noopener noreferrer">这个</a>。</p>
<h2 id="一些常见的工具包"> 一些常见的工具包</h2>
<h3 id="数据科学计算工具包-建议使用时再去查询"> 数据科学计算工具包（建议使用时再去查询）</h3>
<ol>
<li><a href="https://numpy.org/doc/stable/" target="_blank" rel="noopener noreferrer">numpy</a></li>
<li><a href="https://pandas.pydata.org/docs/" target="_blank" rel="noopener noreferrer">pandas</a></li>
<li><a href="https://keras.io/api/" target="_blank" rel="noopener noreferrer">keras</a></li>
<li><a href="https://www.scipy.org/docs.html" target="_blank" rel="noopener noreferrer">scipy</a></li>
<li><a href="https://scikit-learn.org/stable/modules/classes.html" target="_blank" rel="noopener noreferrer">scikit-learn</a></li>
</ol>
<h3 id="常见机器学习框架-建议学习使用其一"> 常见机器学习框架（建议学习使用其一）</h3>
<ol>
<li><a href="https://www.tensorflow.org/api_docs/python/tf" target="_blank" rel="noopener noreferrer">Tensorflow</a></li>
<li><a href="https://pytorch.org/docs/stable/index.html" target="_blank" rel="noopener noreferrer">Pytorch</a></li>
<li><a href="https://mxnet.apache.org/versions/1.8.0/api/python/docs/api/" target="_blank" rel="noopener noreferrer">MXNet</a></li>
</ol>
<h3 id="常见数据可视化工具包-建议学习使用其一"> 常见数据可视化工具包（建议学习使用其一）</h3>
<ol>
<li><a href="https://www.tensorflow.org/tensorboard/get_started" target="_blank" rel="noopener noreferrer">tensorboard</a></li>
<li><a href="https://openbase.com/js/visdom/documentation" target="_blank" rel="noopener noreferrer">visdom</a></li>
</ol>
<h3 id="常见绘图工具"> 常见绘图工具</h3>
<ol>
<li><a href="https://matplotlib.org/stable/contents.html" target="_blank" rel="noopener noreferrer">matplotlib</a></li>
</ol>
<h2 id="ide-editor-推荐"> IDE / Editor 推荐</h2>
<p>在机器学习领域这里学习自然少不了码代码的过程，「工欲善其事，必先利其器」，选用一个适合自己的IDE / Editor是很重要的一件事。下面将罗列出目前能使用的IDE / Editor：</p>
<ol>
<li><a href="https://www.jetbrains.com/pycharm/" target="_blank" rel="noopener noreferrer">PyCharm</a></li>
<li>Jupyter Notebook</li>
<li>Jupyter Lab</li>
<li><a href="https://www.jetbrains.com/dataspell/" target="_blank" rel="noopener noreferrer">DataSpell</a></li>
<li>Spyder</li>
<li>VS Code</li>
</ol>
<p>当然远不止上面这些，像Pydev、Sublime Text、Vim、GNU/Emacs、Atom、IDLE、Thonny等等都可以用来写Python。</p>
<p>不过我更推荐使用PyCharm、DataSpell和Jupyter系列的，PyCharm和DataSpell的功能非常强大，而Jupyter系列一方面是基于Web页面设计的，另一方面则是可以做到分块分阶段输出结果，还可以局部运行代码，也值得一试。</p>
]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2021-10-20T01:50:22.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">同余式及其性质</title>
    <id>https://breezeshane.github.io/ArtificialIntelligence/Mathematics/CongruenceExpression/</id>
    <link href="https://breezeshane.github.io/ArtificialIntelligence/Mathematics/CongruenceExpression/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<h2 id="定义"> 定义</h2>
<p>若一个整数<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>a</span></span></span></span>被一个整数<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>m</span></span></span></span>除的时候得到的商<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.625em;vertical-align:-0.19444em;"></span><span><span style="margin-right:0.03588em;">q</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>和唯一的一个余数<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span style="margin-right:0.02778em;">r</span></span></span></span>，另一个整数<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.69444em;vertical-align:0em;"></span><span>b</span></span></span></span>也被<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>m</span></span></span></span>除时得到商<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.625em;vertical-align:-0.19444em;"></span><span><span style="margin-right:0.03588em;">q</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，得到的唯一余数也是<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span style="margin-right:0.02778em;">r</span></span></span></span>（其中<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.78041em;vertical-align:-0.13597em;"></span><span>0</span><span style="margin-right:0.2777777777777778em;"></span><span>≤</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.5782em;vertical-align:-0.0391em;"></span><span style="margin-right:0.02778em;">r</span><span style="margin-right:0.2777777777777778em;"></span><span>&lt;</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.43056em;vertical-align:0em;"></span><span>m</span></span></span></span>），即</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:3.0000299999999998em;vertical-align:-1.25003em;"></span><span><span style="top:0em;"><span>{</span></span><span><span><span><span><span><span style="height:1.69em;"><span style="top:-3.69em;"><span style="height:3.008em;"></span><span><span>a</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span><span>m</span><span><span style="margin-right:0.03588em;">q</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span style="margin-right:0.02778em;">r</span></span></span><span style="top:-2.25em;"><span style="height:3.008em;"></span><span><span>b</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span><span>m</span><span><span style="margin-right:0.03588em;">q</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:1.19em;"><span></span></span></span></span></span></span></span><span></span></span></span></span></span></span></p>
<p>则我们说<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>a</span></span></span></span>与<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.69444em;vertical-align:0em;"></span><span>b</span></span></span></span>对于模<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>m</span></span></span></span>，有同一个余数<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span style="margin-right:0.02778em;">r</span></span></span></span>，写成：</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.46375em;vertical-align:0em;"></span><span>a</span><span style="margin-right:0.2777777777777778em;"></span><span>≡</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span>b</span><span style="margin-right:1em;"></span><span>(</span><span>m</span><span>o</span><span>d</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>m</span><span>)</span></span></span></span></span></p>
<p>可以简略读作：对于模<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>m</span></span></span></span>，<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>a</span></span></span></span>和<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.69444em;vertical-align:0em;"></span><span>b</span></span></span></span>同余。</p>
<blockquote>
<p>mod是module的英文缩写</p>
</blockquote>
<h2 id="性质"> 性质</h2>
<ol>
<li>由定义可知下式成立：</li>
</ol>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.46375em;vertical-align:0em;"></span><span>a</span><span style="margin-right:0.2777777777777778em;"></span><span>≡</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span>b</span><span style="margin-right:1em;"></span><span>(</span><span>m</span><span>o</span><span>d</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>m</span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>⇔</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span>m</span><span>∣</span><span>a</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span>b</span><span>∣</span><span style="margin-right:0.2777777777777778em;"></span><span>⇔</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.66666em;vertical-align:-0.08333em;"></span><span>a</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:0.69444em;vertical-align:0em;"></span><span>b</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span>m</span><span>(</span><span><span style="margin-right:0.03588em;">q</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span><span style="margin-right:0.03588em;">q</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>)</span></span></span></span></span></p>
<ol start="2">
<li>
<p>若<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.61375em;vertical-align:-0.15em;"></span><span><span>a</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>≡</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span><span>b</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>(</span><span>m</span><span>o</span><span>d</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>m</span><span>)</span></span></span></span>, <span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.61375em;vertical-align:-0.15em;"></span><span><span>a</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>≡</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span><span>b</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>(</span><span>m</span><span>o</span><span>d</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>m</span><span>)</span></span></span></span>, <span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.12em;vertical-align:0em;"></span><span>…</span></span></span></span> , <span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.61375em;vertical-align:-0.15em;"></span><span><span>a</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>n</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>≡</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span><span>b</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>n</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>(</span><span>m</span><span>o</span><span>d</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>m</span><span>)</span></span></span></span>，则有</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:2.929066em;vertical-align:-1.277669em;"></span><span><span><span><span style="height:1.6513970000000002em;"><span style="top:-1.872331em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span>i</span><span>=</span><span>1</span></span></span></span><span style="top:-3.050005em;"><span style="height:3.05em;"></span><span><span>∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span style="height:3.05em;"></span><span><span>n</span></span></span></span><span>​</span></span><span><span style="height:1.277669em;"><span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span>a</span><span><span><span><span style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>i</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>≡</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:2.929066em;vertical-align:-1.277669em;"></span><span><span><span><span style="height:1.6513970000000002em;"><span style="top:-1.872331em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span>i</span><span>=</span><span>1</span></span></span></span><span style="top:-3.050005em;"><span style="height:3.05em;"></span><span><span>∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span style="height:3.05em;"></span><span><span>n</span></span></span></span><span>​</span></span><span><span style="height:1.277669em;"><span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span>b</span><span><span><span><span style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>i</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:1em;"></span><span>(</span><span>m</span><span>o</span><span>d</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>m</span><span>)</span></span></span></span></span></p>
</li>
<li>
<p>若<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.66666em;vertical-align:-0.08333em;"></span><span>a</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:0.46375em;vertical-align:0em;"></span><span>c</span><span style="margin-right:0.2777777777777778em;"></span><span>≡</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span>b</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>(</span><span>m</span><span>o</span><span>d</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>m</span><span>)</span></span></span></span>，则<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.46375em;vertical-align:0em;"></span><span>a</span><span style="margin-right:0.2777777777777778em;"></span><span>≡</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.77777em;vertical-align:-0.08333em;"></span><span>b</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span>c</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>(</span><span>m</span><span>o</span><span>d</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>m</span><span>)</span></span></span></span></p>
</li>
<li>
<p>若<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.46375em;vertical-align:0em;"></span><span>a</span><span style="margin-right:0.2777777777777778em;"></span><span>≡</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span>b</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>(</span><span>m</span><span>o</span><span>d</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>m</span><span>)</span></span></span></span>，则<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.66666em;vertical-align:-0.08333em;"></span><span>a</span><span style="margin-right:0.2222222222222222em;"></span><span>±</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:0.69444em;vertical-align:0em;"></span><span>km</span><span style="margin-right:0.2777777777777778em;"></span><span>≡</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span>b</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>(</span><span>m</span><span>o</span><span>d</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>m</span><span>)</span><span style="margin-right:1em;"></span><span style="margin-right:0.03148em;">k</span><span style="margin-right:0.2777777777777778em;"></span><span>∈</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.68333em;vertical-align:0em;"></span><span style="margin-right:0.10903em;">N</span></span></span></span></p>
</li>
<li>
<p>若<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.61375em;vertical-align:-0.15em;"></span><span><span>a</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>≡</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span><span>b</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>(</span><span>m</span><span>o</span><span>d</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>m</span><span>)</span></span></span></span>, <span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.61375em;vertical-align:-0.15em;"></span><span><span>a</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>≡</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span><span>b</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>(</span><span>m</span><span>o</span><span>d</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>m</span><span>)</span></span></span></span>, <span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.12em;vertical-align:0em;"></span><span>…</span></span></span></span> , <span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.61375em;vertical-align:-0.15em;"></span><span><span>a</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>n</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>≡</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span><span>b</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>n</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>(</span><span>m</span><span>o</span><span>d</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>m</span><span>)</span></span></span></span>，则有</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:2.929066em;vertical-align:-1.277669em;"></span><span><span><span><span style="height:1.6513970000000002em;"><span style="top:-1.872331em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span>i</span><span>=</span><span>1</span></span></span></span><span style="top:-3.050005em;"><span style="height:3.05em;"></span><span><span>∏</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span style="height:3.05em;"></span><span><span>n</span></span></span></span><span>​</span></span><span><span style="height:1.277669em;"><span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span>a</span><span><span><span><span style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>i</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>≡</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:2.929066em;vertical-align:-1.277669em;"></span><span><span><span><span style="height:1.6513970000000002em;"><span style="top:-1.872331em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span>i</span><span>=</span><span>1</span></span></span></span><span style="top:-3.050005em;"><span style="height:3.05em;"></span><span><span>∏</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span style="height:3.05em;"></span><span><span>n</span></span></span></span><span>​</span></span><span><span style="height:1.277669em;"><span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span>b</span><span><span><span><span style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>i</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:1em;"></span><span>(</span><span>m</span><span>o</span><span>d</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>m</span><span>)</span></span></span></span></span></p>
</li>
<li>
<p>利用性质2和5可得</p>
<ol>
<li>
<p>若<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span>A</span><span style="margin-right:0.2777777777777778em;"></span><span>≡</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.05017em;">B</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>(</span><span>m</span><span>o</span><span>d</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>m</span><span>)</span></span></span></span>, <span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.61375em;vertical-align:-0.15em;"></span><span><span>a</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>0</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>≡</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span><span>b</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>0</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>(</span><span>m</span><span>o</span><span>d</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>m</span><span>)</span></span></span></span>, <span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.61375em;vertical-align:-0.15em;"></span><span><span>a</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>≡</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span><span>b</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>(</span><span>m</span><span>o</span><span>d</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>m</span><span>)</span></span></span></span>, <span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.12em;vertical-align:0em;"></span><span>…</span></span></span></span> , <span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.61375em;vertical-align:-0.15em;"></span><span><span>a</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>n</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>≡</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span><span>b</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>n</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>(</span><span>m</span><span>o</span><span>d</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>m</span><span>)</span></span></span></span>，则</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:3.1382260000000004em;vertical-align:-1.302113em;"></span><span>A</span><span style="margin-right:0.16666666666666666em;"></span><span><span><span><span style="height:1.6513970000000002em;"><span style="top:-1.8478869999999998em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span style="margin-right:0.03148em;">k</span><span>=</span><span>0</span></span></span></span><span style="top:-3.0500049999999996em;"><span style="height:3.05em;"></span><span><span>∑</span></span></span><span style="top:-4.300005em;margin-left:0em;"><span style="height:3.05em;"></span><span><span>n</span></span></span></span><span>​</span></span><span><span style="height:1.302113em;"><span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span><span><span style="height:1.8361130000000003em;"><span style="top:-1.872331em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span>i</span><span>=</span><span>0</span></span></span></span><span style="top:-3.050005em;"><span style="height:3.05em;"></span><span><span>∏</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span style="margin-right:0.03148em;">k</span></span></span></span></span><span>​</span></span><span><span style="height:1.277669em;"><span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span>x</span><span><span><span><span style="height:0.746292em;"><span style="top:-2.4231360000000004em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>i</span></span></span><span style="top:-3.1449em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span><span>a</span><span><span><span><span style="height:0.3280857142857143em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span>i</span></span></span></span><span>​</span></span><span><span style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.27686399999999994em;"><span></span></span></span></span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:3.1382260000000004em;vertical-align:-1.302113em;"></span><span style="margin-right:0.05017em;">B</span><span style="margin-right:0.16666666666666666em;"></span><span><span><span><span style="height:1.6513970000000002em;"><span style="top:-1.8478869999999998em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span style="margin-right:0.03148em;">k</span><span>=</span><span>0</span></span></span></span><span style="top:-3.0500049999999996em;"><span style="height:3.05em;"></span><span><span>∑</span></span></span><span style="top:-4.300005em;margin-left:0em;"><span style="height:3.05em;"></span><span><span>n</span></span></span></span><span>​</span></span><span><span style="height:1.302113em;"><span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span><span><span style="height:1.8361130000000003em;"><span style="top:-1.872331em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span>i</span><span>=</span><span>0</span></span></span></span><span style="top:-3.050005em;"><span style="height:3.05em;"></span><span><span>∏</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span style="margin-right:0.03148em;">k</span></span></span></span></span><span>​</span></span><span><span style="height:1.277669em;"><span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span style="margin-right:0.03588em;">y</span><span><span><span><span style="height:0.746292em;"><span style="top:-2.4231360000000004em;margin-left:-0.03588em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>i</span></span></span><span style="top:-3.1449em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span><span>a</span><span><span><span><span style="height:0.3280857142857143em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span>i</span></span></span></span><span>​</span></span><span><span style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.27686399999999994em;"><span></span></span></span></span></span></span></span></span></span></span></p>
<blockquote>
<p>注：A和B表示一个常数。</p>
</blockquote>
</li>
<li>
<p>若<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.61375em;vertical-align:-0.15em;"></span><span><span>a</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>0</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>≡</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span><span>b</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>0</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>(</span><span>m</span><span>o</span><span>d</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>m</span><span>)</span></span></span></span>, <span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.61375em;vertical-align:-0.15em;"></span><span><span>a</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>≡</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span><span>b</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>(</span><span>m</span><span>o</span><span>d</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>m</span><span>)</span></span></span></span>, <span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.61375em;vertical-align:-0.15em;"></span><span><span>a</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>≡</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span><span>b</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>(</span><span>m</span><span>o</span><span>d</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>m</span><span>)</span></span></span></span>, <span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.12em;vertical-align:0em;"></span><span>…</span></span></span></span> , <span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.61375em;vertical-align:-0.15em;"></span><span><span>a</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>n</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>≡</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span><span>b</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>n</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>(</span><span>m</span><span>o</span><span>d</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>m</span><span>)</span></span></span></span>，则</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:2.929066em;vertical-align:-1.277669em;"></span><span><span><span><span style="height:1.6513970000000002em;"><span style="top:-1.872331em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span>i</span><span>=</span><span>1</span></span></span></span><span style="top:-3.050005em;"><span style="height:3.05em;"></span><span><span>∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span style="height:3.05em;"></span><span><span>n</span></span></span></span><span>​</span></span><span><span style="height:1.277669em;"><span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span>a</span><span><span><span><span style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>i</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span><span>x</span><span><span><span><span style="height:0.8746639999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>i</span></span></span></span></span></span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>≡</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:2.929066em;vertical-align:-1.277669em;"></span><span><span><span><span style="height:1.6513970000000002em;"><span style="top:-1.872331em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span>i</span><span>=</span><span>1</span></span></span></span><span style="top:-3.050005em;"><span style="height:3.05em;"></span><span><span>∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span style="height:3.05em;"></span><span><span>n</span></span></span></span><span>​</span></span><span><span style="height:1.277669em;"><span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span>b</span><span><span><span><span style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>i</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span><span>x</span><span><span><span><span style="height:0.8746639999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>i</span></span></span></span></span></span></span></span><span style="margin-right:1em;"></span><span>(</span><span>m</span><span>o</span><span>d</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>m</span><span>)</span></span></span></span></span></p>
</li>
</ol>
</li>
<li>
<p>若<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.46375em;vertical-align:0em;"></span><span>a</span><span style="margin-right:0.2777777777777778em;"></span><span>≡</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span>b</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>(</span><span>m</span><span>o</span><span>d</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>m</span><span>)</span></span></span></span>且<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>a</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.946332em;vertical-align:-0.19444em;"></span><span><span>a</span><span><span><span><span style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>′</span></span></span></span></span></span></span></span><span>d</span><span style="margin-right:0.16666666666666666em;"></span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>b</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1.001892em;vertical-align:-0.25em;"></span><span><span>b</span><span><span><span><span style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>′</span></span></span></span></span></span></span></span><span>d</span><span style="margin-right:0.16666666666666666em;"></span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.03588em;">g</span><span>c</span><span>d</span><span>(</span><span>d</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>m</span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.64444em;vertical-align:0em;"></span><span>1</span></span></span></span>，则<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.751892em;vertical-align:0em;"></span><span><span>a</span><span><span><span><span style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>′</span></span></span></span></span></span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>≡</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1.001892em;vertical-align:-0.25em;"></span><span><span>b</span><span><span><span><span style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>′</span></span></span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>(</span><span>m</span><span>o</span><span>d</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>m</span><span>)</span></span></span></span></p>
<blockquote>
<p>其中<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.03588em;">g</span><span>c</span><span>d</span><span>(</span><span>a</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>b</span><span>)</span></span></span></span>表示<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>a</span></span></span></span>和<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.69444em;vertical-align:0em;"></span><span>b</span></span></span></span>的最大公因数，<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.03588em;">g</span><span>c</span><span>d</span><span>(</span><span>a</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>b</span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.64444em;vertical-align:0em;"></span><span>1</span></span></span></span>表示<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>a</span></span></span></span>和<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.69444em;vertical-align:0em;"></span><span>b</span></span></span></span>互质。</p>
</blockquote>
</li>
<li>
<p>若<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.46375em;vertical-align:0em;"></span><span>a</span><span style="margin-right:0.2777777777777778em;"></span><span>≡</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span>b</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>(</span><span>m</span><span>o</span><span>d</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>m</span><span>)</span></span></span></span>，则<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.69444em;vertical-align:0em;"></span><span style="margin-right:0.03148em;">ak</span><span style="margin-right:0.2777777777777778em;"></span><span>≡</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.03148em;">bk</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>(</span><span>m</span><span>o</span><span>d</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>km</span><span>)</span><span style="margin-right:1em;"></span><span style="margin-right:0.03148em;">k</span><span style="margin-right:0.2777777777777778em;"></span><span>∈</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.68333em;vertical-align:0em;"></span><span style="margin-right:0.07153em;">Z</span></span></span></span></p>
</li>
<li>
<p>若<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.46375em;vertical-align:0em;"></span><span>a</span><span style="margin-right:0.2777777777777778em;"></span><span>≡</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span>b</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>(</span><span>m</span><span>o</span><span>d</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>m</span><span>)</span></span></span></span>且<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>a</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.946332em;vertical-align:-0.19444em;"></span><span><span>a</span><span><span><span><span style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>′</span></span></span></span></span></span></span></span><span>d</span><span style="margin-right:0.16666666666666666em;"></span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>b</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.946332em;vertical-align:-0.19444em;"></span><span><span>b</span><span><span><span><span style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>′</span></span></span></span></span></span></span></span><span>d</span><span style="margin-right:0.16666666666666666em;"></span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>m</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.751892em;vertical-align:0em;"></span><span><span>m</span><span><span><span><span style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>′</span></span></span></span></span></span></span></span><span>d</span></span></span></span>，则<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.751892em;vertical-align:0em;"></span><span><span>a</span><span><span><span><span style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>′</span></span></span></span></span></span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>≡</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1.001892em;vertical-align:-0.25em;"></span><span><span>b</span><span><span><span><span style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>′</span></span></span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>(</span><span>m</span><span>o</span><span>d</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span><span>m</span><span><span><span><span style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>′</span></span></span></span></span></span></span></span><span>)</span></span></span></span></p>
</li>
<li>
<p>若<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.46375em;vertical-align:0em;"></span><span>a</span><span style="margin-right:0.2777777777777778em;"></span><span>≡</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span>b</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>(</span><span>m</span><span>o</span><span>d</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>m</span><span>)</span></span></span></span>且<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>m</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.751892em;vertical-align:0em;"></span><span><span>m</span><span><span><span><span style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>′</span></span></span></span></span></span></span></span><span>d</span></span></span></span>，则<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.46375em;vertical-align:0em;"></span><span>a</span><span style="margin-right:0.2777777777777778em;"></span><span>≡</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1.001892em;vertical-align:-0.25em;"></span><span>b</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>(</span><span>m</span><span>o</span><span>d</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span><span>m</span><span><span><span><span style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>′</span></span></span></span></span></span></span></span><span>)</span></span></span></span></p>
</li>
<li>
<p>若<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.46375em;vertical-align:0em;"></span><span>a</span><span style="margin-right:0.2777777777777778em;"></span><span>≡</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span>b</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>(</span><span>m</span><span>o</span><span>d</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>m</span><span>)</span></span></span></span>且<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.03148em;">k</span><span>∣</span><span>a</span><span style="margin-right:0.16666666666666666em;"></span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.03148em;">k</span><span>∣</span><span>m</span></span></span></span>，则<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.03148em;">k</span><span>∣</span><span>b</span></span></span></span></p>
</li>
<li>
<p>若<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.46375em;vertical-align:0em;"></span><span>a</span><span style="margin-right:0.2777777777777778em;"></span><span>≡</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span>b</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>(</span><span>m</span><span>o</span><span>d</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>m</span><span>)</span></span></span></span>，则<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.03588em;">g</span><span>c</span><span>d</span><span>(</span><span>a</span><span style="margin-right:0.16666666666666666em;"></span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span>m</span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.03588em;">g</span><span>c</span><span>d</span><span>(</span><span>b</span><span style="margin-right:0.16666666666666666em;"></span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span>m</span><span>)</span></span></span></span></p>
</li>
</ol>
]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2021-10-17T15:15:15.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">Moore-Penrose伪逆</title>
    <id>https://breezeshane.github.io/ArtificialIntelligence/Mathematics/LinearAlgebra/Moore-Penrose%E4%BC%AA%E9%80%86/</id>
    <link href="https://breezeshane.github.io/ArtificialIntelligence/Mathematics/LinearAlgebra/Moore-Penrose%E4%BC%AA%E9%80%86/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:12:20.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">向量范数与矩阵范数</title>
    <id>https://breezeshane.github.io/ArtificialIntelligence/Mathematics/LinearAlgebra/Norm/</id>
    <link href="https://breezeshane.github.io/ArtificialIntelligence/Mathematics/LinearAlgebra/Norm/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<h2 id="向量范数"> 向量范数</h2>
<p>向量范数具有“长度”概念，是一个函数，其为向量空间内的所有向量赋予非零的正长度或大小。</p>
<p>假设V是域F上的向量空间；V的半范数是一个函数<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.625em;vertical-align:-0.19444em;"></span><span>p</span><span style="margin-right:0.2777777777777778em;"></span><span>:</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.68333em;vertical-align:0em;"></span><span style="margin-right:0.22222em;">V</span><span style="margin-right:0.2777777777777778em;"></span><span>→</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.88333em;vertical-align:-0.19444em;"></span><span>R</span><span>;</span><span style="margin-right:0.16666666666666666em;"></span><span>x</span><span style="margin-right:0.2777777777777778em;"></span><span>↦</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span>p</span><span>(</span><span>x</span><span>)</span></span></span></span>，满足：</p>
<p><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.73354em;vertical-align:-0.0391em;"></span><span>∀</span><span>a</span><span style="margin-right:0.2777777777777778em;"></span><span>∈</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span style="margin-right:0.13889em;">F</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span>∀</span><span>u</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.03588em;">v</span><span style="margin-right:0.2777777777777778em;"></span><span>∈</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span style="margin-right:0.22222em;">V</span><span>,</span></span></span></span></p>
<ol>
<li>
<p><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>p</span><span>(</span><span style="margin-right:0.03588em;">v</span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>≥</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.64444em;vertical-align:0em;"></span><span>0</span></span></span></span>（具有半正定性）</p>
</li>
<li>
<p><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>p</span><span>(</span><span>a</span><span style="margin-right:0.03588em;">v</span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span>∣</span><span>a</span><span>∣</span><span>p</span><span>(</span><span style="margin-right:0.03588em;">v</span><span>)</span></span></span></span>（具有绝对一次齐次性）</p>
</li>
<li>
<p><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>p</span><span>(</span><span>u</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.03588em;">v</span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>≤</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span>p</span><span>(</span><span>u</span><span>)</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span>p</span><span>(</span><span style="margin-right:0.03588em;">v</span><span>)</span></span></span></span>（满足三角不等式，或称次可加性）</p>
</li>
</ol>
<p>范数是一个半范数加上额外性质：</p>
<ol start="4">
<li><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>p</span><span>(</span><span style="margin-right:0.03588em;">v</span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.64444em;vertical-align:0em;"></span><span>0</span></span></span></span>,当且仅当<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span style="margin-right:0.03588em;">v</span></span></span></span>是零向量（正定性）</li>
</ol>
<div><p>提示</p>
<p>如果拓扑向量空间的拓扑可以被范数导出，这个拓扑向量空间被称为赋范向量空间。</p>
</div>
<p>机器学习领域中<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.969438em;vertical-align:-0.286108em;"></span><span><span>L</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>p</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>范数非常常见，它也同样满足以上的性质，是向量空间中的一组范数。<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.969438em;vertical-align:-0.286108em;"></span><span><span>L</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>p</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>范数与幂平均有一定的联系。为了对抗过拟合、提高模型的泛化能力，可以通过向目标函数当中引入参数向量的<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.969438em;vertical-align:-0.286108em;"></span><span><span>L</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>p</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>范数来进行正则化。其中最常用的是引入<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.83333em;vertical-align:-0.15em;"></span><span><span>L</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>1</span></span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>范数的<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.83333em;vertical-align:-0.15em;"></span><span><span>L</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>1</span></span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>正则项和引入<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.83333em;vertical-align:-0.15em;"></span><span><span>L</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>2</span></span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>范数的<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.83333em;vertical-align:-0.15em;"></span><span><span>L</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>2</span></span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>正则项；前者有利于得到稀疏解，后者有利于得到平滑解。</p>
<p>它的定义如下：</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.036108em;vertical-align:-0.286108em;"></span><span><span>L</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>p</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>(</span><span><span><span><span><span style="height:0.714em;"><span style="top:-3em;"><span style="height:3em;"></span><span>x</span></span><span style="top:-3em;"><span style="height:3em;"></span><span style="left:-0.20772em;"><span style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span></span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1.036108em;vertical-align:-0.286108em;"></span><span>∥</span><span><span><span><span style="height:0.714em;"><span style="top:-3em;"><span style="height:3em;"></span><span>x</span></span><span style="top:-3em;"><span style="height:3em;"></span><span style="left:-0.20772em;"><span style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span><span>∥</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>p</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:2.929066em;vertical-align:-1.277669em;"></span><span><span><span>(</span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span><span><span style="height:1.6513970000000002em;"><span style="top:-1.872331em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span>i</span><span>=</span><span>1</span></span></span></span><span style="top:-3.050005em;"><span style="height:3.05em;"></span><span><span>∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span>n</span></span></span></span></span><span>​</span></span><span><span style="height:1.277669em;"><span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span>∣</span><span><span>x</span><span><span><span><span style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>i</span></span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span><span>∣</span><span><span><span><span style="height:0.714392em;"><span style="top:-3.1130000000000004em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>p</span></span></span></span></span></span></span></span></span><span><span><span><span>)</span></span></span><span><span><span><span style="height:1.4279em;"><span style="top:-3.6029em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>1/</span><span>p</span></span></span></span></span></span></span></span></span><span>,</span></span><span></span><span><span style="height:0.714em;vertical-align:0em;"></span><span><span>其中</span></span><span style="margin-right:1em;"></span><span><span><span><span style="height:0.714em;"><span style="top:-3em;"><span style="height:3em;"></span><span>x</span></span><span style="top:-3em;"><span style="height:3em;"></span><span style="left:-0.20772em;"><span style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span>{</span><span><span>x</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>1</span></span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span><span>x</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>2</span></span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span>…</span><span style="margin-right:0.16666666666666666em;"></span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span><span>x</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>n</span></span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>}</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>p</span><span style="margin-right:0.2777777777777778em;"></span><span>⩾</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.64444em;vertical-align:0em;"></span><span>1.</span></span></span></span></span></p>
<i>Not supported content</i><p>以上的<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.969438em;vertical-align:-0.286108em;"></span><span><span>L</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>p</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>范数系都是在衡量向量的大小，如果想衡量矩阵的大小，则需要使用矩阵范数。</p>
<h2 id="矩阵范数"> 矩阵范数</h2>
<p>矩阵范数，又称矩阵模，是将一定的矩阵空间建立为赋范向量空间时为矩阵装备的范数。</p>
<p>赋范向量空间是拓扑向量空间中的基本种类。通过赋予向量空间（线性空间）以范数，建立拓扑结构。考虑系数域<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68889em;vertical-align:0em;"></span><span>K</span></span></span></span>（<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68889em;vertical-align:0em;"></span><span>K</span></span></span></span>可以是实数域<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68889em;vertical-align:0em;"></span><span>R</span></span></span></span>或复数域<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68889em;vertical-align:0em;"></span><span>C</span></span></span></span>等）上的所有<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.66666em;vertical-align:-0.08333em;"></span><span>m</span><span style="margin-right:0.2222222222222222em;"></span><span>×</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:0.43056em;vertical-align:0em;"></span><span>n</span></span></span></span>矩阵所构成的向量空间<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.036108em;vertical-align:-0.286108em;"></span><span><span>M</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>m</span><span>,</span><span>n</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>(</span><span>K</span><span>)</span></span></span></span>。这是一个有<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>mn</span></span></span></span>维的<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68889em;vertical-align:0em;"></span><span>K</span></span></span></span>-向量空间。可以如同对其他的有限维<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68889em;vertical-align:0em;"></span><span>K</span></span></span></span>-向量空间一样，为矩阵空间<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.036108em;vertical-align:-0.286108em;"></span><span><span>M</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>m</span><span>,</span><span>n</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>(</span><span>K</span><span>)</span></span></span></span>装备范数。这样的范数称为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.036108em;vertical-align:-0.286108em;"></span><span><span>M</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>m</span><span>,</span><span>n</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>(</span><span>K</span><span>)</span></span></span></span>上的一个矩阵范数。</p>
<p>依照范数的定义，一个从<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.036108em;vertical-align:-0.286108em;"></span><span><span>M</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>m</span><span>,</span><span>n</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>(</span><span>K</span><span>)</span></span></span></span>映射到非负实数的函数<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>∥</span><span style="margin-right:0.2222222222222222em;"></span><span>⋅</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span>∥</span></span></span></span>满足以下的条件：</p>
<p><strong>严格正定性</strong>：对任意矩阵<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.72243em;vertical-align:-0.0391em;"></span><span>A</span><span style="margin-right:0.2777777777777778em;"></span><span>∈</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1.036108em;vertical-align:-0.286108em;"></span><span><span>M</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>m</span><span>,</span><span>n</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>(</span><span>K</span><span>)</span></span></span></span>，都有<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>∥</span><span>A</span><span>∥</span><span style="margin-right:0.2777777777777778em;"></span><span>≥</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.64444em;vertical-align:0em;"></span><span>0</span></span></span></span>，且等号成立当且仅当<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span>A</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.64444em;vertical-align:0em;"></span><span>0</span></span></span></span>；</p>
<p><strong>线性性</strong>：对任意系数<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.5782em;vertical-align:-0.0391em;"></span><span style="margin-right:0.0037em;">α</span><span style="margin-right:0.2777777777777778em;"></span><span>∈</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.68889em;vertical-align:0em;"></span><span>K</span></span></span></span>、任意矩阵<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.72243em;vertical-align:-0.0391em;"></span><span>A</span><span style="margin-right:0.2777777777777778em;"></span><span>∈</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1.036108em;vertical-align:-0.286108em;"></span><span><span>M</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>m</span><span>,</span><span>n</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>(</span><span>K</span><span>)</span></span></span></span>，都有<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>∥</span><span style="margin-right:0.0037em;">α</span><span>A</span><span>∥</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span>∣</span><span style="margin-right:0.0037em;">α</span><span>∣∥</span><span>A</span><span>∥</span></span></span></span>；</p>
<p><strong>三角不等式</strong>：任意矩阵<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span>A</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.05017em;">B</span><span style="margin-right:0.2777777777777778em;"></span><span>∈</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1.036108em;vertical-align:-0.286108em;"></span><span><span>M</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>m</span><span>,</span><span>n</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>(</span><span>K</span><span>)</span></span></span></span>，都有<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>∥</span><span>A</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.05017em;">B</span><span>∥</span><span style="margin-right:0.2777777777777778em;"></span><span>≤</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span>∥</span><span>A</span><span>∥</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span>∥</span><span style="margin-right:0.05017em;">B</span><span>∥</span></span></span></span>。</p>
<p>则称之为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.036108em;vertical-align:-0.286108em;"></span><span><span>M</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>m</span><span>,</span><span>n</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>(</span><span>K</span><span>)</span></span></span></span>上的一个矩阵范数。</p>
<p>此外，某些定义在方块矩阵组成空间<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span><span>M</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>n</span></span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span>K</span><span>)</span></span></span></span>上的矩阵范数满足一个或多个以下与的条件：</p>
<p><strong>相容性</strong>：<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>∥</span><span>A</span><span style="margin-right:0.05017em;">B</span><span>∥</span><span style="margin-right:0.2777777777777778em;"></span><span>≤</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span>∥</span><span>A</span><span>∥∥</span><span style="margin-right:0.05017em;">B</span><span>∥</span></span></span></span>；</p>
<p><strong>共轭转置相等条件</strong>：<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>∥</span><span>A</span><span>∥</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span>∥</span><span><span>A</span><span><span><span><span style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>∗</span></span></span></span></span></span></span></span><span>∥</span></span></span></span>。其中<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.688696em;vertical-align:0em;"></span><span><span>A</span><span><span><span><span style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>∗</span></span></span></span></span></span></span></span></span></span></span>表示矩阵<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span>A</span></span></span></span>的共轭转置（在实矩阵中就是普通转置）。</p>
<p>一致性特性（consistency property）也称为次可乘性（sub-multiplicative property）。某些书籍中，矩阵范数特指满足一致性条件的范数。</p>
<p>满足以上设定的矩阵范数可以有多种。由于它们都是定义在<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.036108em;vertical-align:-0.286108em;"></span><span><span>M</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>m</span><span>,</span><span>n</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>(</span><span>K</span><span>)</span></span></span></span>这个有限维向量空间上的范数，所以实质上是等价的。常见的矩阵范数通常是在矩阵的应用中自然定义或诱导的范数。</p>
<p>常见的矩阵范数有</p>
<ol>
<li>向量范数诱导的矩阵范数</li>
<li>p-范数诱导的矩阵范数</li>
<li>矩阵元范数</li>
<li>弗罗贝尼乌斯范数</li>
<li>极大值范数</li>
<li>Schatten范数</li>
</ol>
<p>其中Frobenuis范数</p>
]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-18T22:04:04.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">相关的简单运算</title>
    <id>https://breezeshane.github.io/ArtificialIntelligence/Mathematics/LinearAlgebra/RelativeCompute/</id>
    <link href="https://breezeshane.github.io/ArtificialIntelligence/Mathematics/LinearAlgebra/RelativeCompute/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<h2 id="矩阵转置"> 矩阵转置</h2>
<h2 id="矩阵加法"> 矩阵加法</h2>
<h2 id="矩阵乘法"> 矩阵乘法</h2>
<h2 id="矩阵元素对应乘积"> 矩阵元素对应乘积</h2>
]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-16T20:59:30.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">相关名词的概念</title>
    <id>https://breezeshane.github.io/ArtificialIntelligence/Mathematics/LinearAlgebra/RelativeConcepts/</id>
    <link href="https://breezeshane.github.io/ArtificialIntelligence/Mathematics/LinearAlgebra/RelativeConcepts/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<h2 id="标量、向量、矩阵和张量"> 标量、向量、矩阵和张量</h2>
<h3 id="标量"> 标量</h3>
<p>又称<strong>纯量</strong>，是只有大小、没有方向、可用实数表示的一个量。</p>
<p>实际上标量就是实数，“标量”这个称法只是为了区别于向量。</p>
<h3 id="向量"> 向量</h3>
<p>也称作<strong>矢量</strong>，指一个同时具有大小和方向，且满足平行四边形法则的几何对象。</p>
<p>一个向量可以由一列有序的数来确定。</p>
<p>若向量<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>x</span></span></span></span>中总共有<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>n</span></span></span></span>个元素，且每一个元素都属于<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68889em;vertical-align:0em;"></span><span>R</span></span></span></span>，则<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.5782em;vertical-align:-0.0391em;"></span><span>x</span><span style="margin-right:0.2777777777777778em;"></span><span>∈</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.68889em;vertical-align:0em;"></span><span><span>R</span><span><span><span><span style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>n</span></span></span></span></span></span></span></span></span></span></span></span>，其中<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68889em;vertical-align:0em;"></span><span><span>R</span><span><span><span><span style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>n</span></span></span></span></span></span></span></span></span></span></span></span>表示实数集<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68889em;vertical-align:0em;"></span><span>R</span></span></span></span>的<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>n</span></span></span></span>次笛卡尔积所构成的集合。</p>
<div><p>提示</p>
<p>有时我们会这样描述向量：</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>x</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1.439018em;vertical-align:-0.35001em;"></span><span><span>[</span></span><span><span>x</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span><span>x</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>⋯</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span><span>x</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>n</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span><span><span>]</span></span><span><span><span><span style="height:1.089008em;"><span style="top:-3.3029em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>⊤</span></span></span></span></span></span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:5.459999999999999em;vertical-align:-2.4799999999999995em;"></span><span><span><span><span><span><span style="height:2.9500349999999997em;"><span style="top:-2.011015em;"><span style="height:3.8160299999999996em;"></span><span><span>⎣</span></span></span><span style="top:-3.158015em;"><span style="height:3.8160299999999996em;"></span><span style="height:1.8160299999999996em;width:0.667em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='1.8160299999999996em' style='width:0.667em' viewBox='0 0 667 1816' preserveAspectRatio='xMinYMin'><path d='M319 0 H403 V1816 H319z M319 0 H403 V1816 H319z'/></svg></span></span><span style="top:-5.611064999999999em;"><span style="height:3.8160299999999996em;"></span><span><span>⎡</span></span></span></span><span>​</span></span><span><span style="height:2.4500349999999997em;"><span></span></span></span></span></span></span><span><span><span><span><span><span style="height:2.9799999999999995em;"><span style="top:-5.8275em;"><span style="height:3.6875em;"></span><span><span><span>x</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-4.6275em;"><span style="height:3.6875em;"></span><span><span><span>x</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.7674999999999996em;"><span style="height:3.6875em;"></span><span><span><span>⋮</span><span style="border-right-width:0em;border-top-width:1.5em;bottom:0em;"></span></span></span></span><span style="top:-1.5675000000000006em;"><span style="height:3.6875em;"></span><span><span><span>x</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>n</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:2.4799999999999995em;"><span></span></span></span></span></span></span></span><span><span><span><span><span style="height:2.9500349999999997em;"><span style="top:-2.011015em;"><span style="height:3.8160299999999996em;"></span><span><span>⎦</span></span></span><span style="top:-3.158015em;"><span style="height:3.8160299999999996em;"></span><span style="height:1.8160299999999996em;width:0.667em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='1.8160299999999996em' style='width:0.667em' viewBox='0 0 667 1816' preserveAspectRatio='xMinYMin'><path d='M263 0 H347 V1816 H263z M263 0 H347 V1816 H263z'/></svg></span></span><span style="top:-5.611064999999999em;"><span style="height:3.8160299999999996em;"></span><span><span>⎤</span></span></span></span><span>​</span></span><span><span style="height:2.4500349999999997em;"><span></span></span></span></span></span></span></span></span></span></span></span></p>
</div>
<h3 id="矩阵"> 矩阵</h3>
<p>数学上，一个<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.66666em;vertical-align:-0.08333em;"></span><span>m</span><span style="margin-right:0.2222222222222222em;"></span><span>×</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:0.43056em;vertical-align:0em;"></span><span>n</span></span></span></span>的矩阵是一个由<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>m</span></span></span></span>行（row）<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>n</span></span></span></span>列（column）元素排列成的矩形阵列。矩阵里的元素可以是数字、符号或数学式。</p>
<p>若一个实数矩阵<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68611em;vertical-align:0em;"></span><span>A</span></span></span></span>高度为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>m</span></span></span></span>，宽度为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>n</span></span></span></span>，那么我们称矩阵<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.810431em;vertical-align:-0.0391em;"></span><span><span><span>A</span></span><span style="margin-right:0.2777777777777778em;"></span><span>∈</span><span style="margin-right:0.2777777777777778em;"></span><span><span>R</span><span><span><span><span style="height:0.771331em;"><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>m</span><span>×</span><span>n</span></span></span></span></span></span></span></span></span></span></span></span></span>。</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68611em;vertical-align:0em;"></span><span>A</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:9.719999999999999em;vertical-align:-4.61em;"></span><span><span><span><span><span><span style="height:5.05007em;"><span style="top:-4.11105em;"><span style="height:8.0161em;"></span><span><span>⎣</span></span></span><span style="top:-5.25805em;"><span style="height:8.0161em;"></span><span style="height:6.0161em;width:0.667em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='6.0161em' style='width:0.667em' viewBox='0 0 667 6016' preserveAspectRatio='xMinYMin'><path d='M319 0 H403 V6016 H319z M319 0 H403 V6016 H319z'/></svg></span></span><span style="top:-11.91117em;"><span style="height:8.0161em;"></span><span><span>⎡</span></span></span></span><span>​</span></span><span><span style="height:4.55007em;"><span></span></span></span></span></span></span><span><span><span><span><span><span style="height:5.109999999999999em;"><span style="top:-7.9575000000000005em;"><span style="height:3.6875em;"></span><span><span><span>a</span><span><span><span><span style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>1</span><span>,</span><span>1</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-6.757499999999999em;"><span style="height:3.6875em;"></span><span><span><span>a</span><span><span><span><span style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>2</span><span>,</span><span>1</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-5.557499999999999em;"><span style="height:3.6875em;"></span><span><span><span>a</span><span><span><span><span style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>3</span><span>,</span><span>1</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.6974999999999993em;"><span style="height:3.6875em;"></span><span><span><span>⋮</span><span style="border-right-width:0em;border-top-width:1.5em;bottom:0em;"></span></span></span></span><span style="top:-2.497499999999999em;"><span style="height:3.6875em;"></span><span><span><span>a</span><span><span><span><span style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>i</span><span>,</span><span>1</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-0.6374999999999991em;"><span style="height:3.6875em;"></span><span><span><span>⋮</span><span style="border-right-width:0em;border-top-width:1.5em;bottom:0em;"></span></span></span></span><span style="top:0.5625000000000002em;"><span style="height:3.6875em;"></span><span><span><span>a</span><span><span><span><span style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>m</span><span>,</span><span>1</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:4.61em;"><span></span></span></span></span></span><span style="width:0.5em;"></span><span style="width:0.5em;"></span><span><span><span><span style="height:5.109999999999999em;"><span style="top:-7.9575000000000005em;"><span style="height:3.6875em;"></span><span><span><span>a</span><span><span><span><span style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>1</span><span>,</span><span>2</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-6.757499999999999em;"><span style="height:3.6875em;"></span><span><span><span>a</span><span><span><span><span style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>2</span><span>,</span><span>2</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-5.557499999999999em;"><span style="height:3.6875em;"></span><span><span><span>a</span><span><span><span><span style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>3</span><span>,</span><span>2</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.6974999999999993em;"><span style="height:3.6875em;"></span><span><span><span>⋮</span><span style="border-right-width:0em;border-top-width:1.5em;bottom:0em;"></span></span></span></span><span style="top:-2.497499999999999em;"><span style="height:3.6875em;"></span><span><span><span>a</span><span><span><span><span style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>i</span><span>,</span><span>2</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-0.6374999999999991em;"><span style="height:3.6875em;"></span><span><span><span>⋮</span><span style="border-right-width:0em;border-top-width:1.5em;bottom:0em;"></span></span></span></span><span style="top:0.5625000000000002em;"><span style="height:3.6875em;"></span><span><span><span>a</span><span><span><span><span style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>m</span><span>,</span><span>2</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:4.61em;"><span></span></span></span></span></span><span style="width:0.5em;"></span><span style="width:0.5em;"></span><span><span><span><span style="height:5.109999999999999em;"><span style="top:-7.9575000000000005em;"><span style="height:3.6875em;"></span><span><span><span>a</span><span><span><span><span style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>1</span><span>,</span><span>3</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-6.757499999999999em;"><span style="height:3.6875em;"></span><span><span><span>a</span><span><span><span><span style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>2</span><span>,</span><span>3</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-5.557499999999999em;"><span style="height:3.6875em;"></span><span><span><span>a</span><span><span><span><span style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>3</span><span>,</span><span>3</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.6974999999999993em;"><span style="height:3.6875em;"></span><span><span><span>⋮</span><span style="border-right-width:0em;border-top-width:1.5em;bottom:0em;"></span></span></span></span><span style="top:-2.497499999999999em;"><span style="height:3.6875em;"></span><span><span><span>a</span><span><span><span><span style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>i</span><span>,</span><span>3</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-0.6374999999999991em;"><span style="height:3.6875em;"></span><span><span><span>⋮</span><span style="border-right-width:0em;border-top-width:1.5em;bottom:0em;"></span></span></span></span><span style="top:0.5625000000000002em;"><span style="height:3.6875em;"></span><span><span><span>a</span><span><span><span><span style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>m</span><span>,</span><span>3</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:4.61em;"><span></span></span></span></span></span><span style="width:0.5em;"></span><span style="width:0.5em;"></span><span><span><span><span style="height:5.109999999999999em;"><span style="top:-7.7700000000000005em;"><span style="height:3.5em;"></span><span><span>⋯</span></span></span><span style="top:-6.569999999999999em;"><span style="height:3.5em;"></span><span><span>⋯</span></span></span><span style="top:-5.369999999999999em;"><span style="height:3.5em;"></span><span><span>⋯</span></span></span><span style="top:-3.5099999999999993em;"><span style="height:3.5em;"></span><span><span>⋱</span></span></span><span style="top:-2.309999999999999em;"><span style="height:3.5em;"></span><span><span>⋯</span></span></span><span style="top:-0.449999999999999em;"><span style="height:3.5em;"></span><span><span>⋱</span></span></span><span style="top:0.7500000000000002em;"><span style="height:3.5em;"></span><span><span>⋯</span></span></span></span><span>​</span></span><span><span style="height:4.61em;"><span></span></span></span></span></span><span style="width:0.5em;"></span><span style="width:0.5em;"></span><span><span><span><span style="height:5.109999999999999em;"><span style="top:-7.9575000000000005em;"><span style="height:3.6875em;"></span><span><span><span>a</span><span><span><span><span style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>1</span><span>,</span><span style="margin-right:0.05724em;">j</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-6.757499999999999em;"><span style="height:3.6875em;"></span><span><span><span>a</span><span><span><span><span style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>2</span><span>,</span><span style="margin-right:0.05724em;">j</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-5.557499999999999em;"><span style="height:3.6875em;"></span><span><span><span>a</span><span><span><span><span style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>3</span><span>,</span><span style="margin-right:0.05724em;">j</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.6974999999999993em;"><span style="height:3.6875em;"></span><span><span><span>⋮</span><span style="border-right-width:0em;border-top-width:1.5em;bottom:0em;"></span></span></span></span><span style="top:-2.497499999999999em;"><span style="height:3.6875em;"></span><span><span><span>a</span><span><span><span><span style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>i</span><span>,</span><span style="margin-right:0.05724em;">j</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-0.6374999999999991em;"><span style="height:3.6875em;"></span><span><span><span>⋮</span><span style="border-right-width:0em;border-top-width:1.5em;bottom:0em;"></span></span></span></span><span style="top:0.5625000000000002em;"><span style="height:3.6875em;"></span><span><span><span>a</span><span><span><span><span style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>m</span><span>,</span><span style="margin-right:0.05724em;">j</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:4.61em;"><span></span></span></span></span></span><span style="width:0.5em;"></span><span style="width:0.5em;"></span><span><span><span><span style="height:5.109999999999999em;"><span style="top:-7.7700000000000005em;"><span style="height:3.5em;"></span><span><span>⋯</span></span></span><span style="top:-6.569999999999999em;"><span style="height:3.5em;"></span><span><span>⋯</span></span></span><span style="top:-5.369999999999999em;"><span style="height:3.5em;"></span><span><span>⋯</span></span></span><span style="top:-3.5099999999999993em;"><span style="height:3.5em;"></span><span><span>⋱</span></span></span><span style="top:-2.309999999999999em;"><span style="height:3.5em;"></span><span><span>⋯</span></span></span><span style="top:-0.449999999999999em;"><span style="height:3.5em;"></span><span><span>⋱</span></span></span><span style="top:0.7500000000000002em;"><span style="height:3.5em;"></span><span><span>⋯</span></span></span></span><span>​</span></span><span><span style="height:4.61em;"><span></span></span></span></span></span><span style="width:0.5em;"></span><span style="width:0.5em;"></span><span><span><span><span style="height:5.109999999999999em;"><span style="top:-7.9575000000000005em;"><span style="height:3.6875em;"></span><span><span><span>a</span><span><span><span><span style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>1</span><span>,</span><span>n</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-6.757499999999999em;"><span style="height:3.6875em;"></span><span><span><span>a</span><span><span><span><span style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>2</span><span>,</span><span>n</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-5.557499999999999em;"><span style="height:3.6875em;"></span><span><span><span>a</span><span><span><span><span style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>3</span><span>,</span><span>n</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.6974999999999993em;"><span style="height:3.6875em;"></span><span><span><span>⋮</span><span style="border-right-width:0em;border-top-width:1.5em;bottom:0em;"></span></span></span></span><span style="top:-2.497499999999999em;"><span style="height:3.6875em;"></span><span><span><span>a</span><span><span><span><span style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>i</span><span>,</span><span>n</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-0.6374999999999991em;"><span style="height:3.6875em;"></span><span><span><span>⋮</span><span style="border-right-width:0em;border-top-width:1.5em;bottom:0em;"></span></span></span></span><span style="top:0.5625000000000002em;"><span style="height:3.6875em;"></span><span><span><span>a</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>m</span><span>,</span><span>n</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:4.61em;"><span></span></span></span></span></span></span></span><span><span><span><span><span style="height:5.05007em;"><span style="top:-4.11105em;"><span style="height:8.0161em;"></span><span><span>⎦</span></span></span><span style="top:-5.25805em;"><span style="height:8.0161em;"></span><span style="height:6.0161em;width:0.667em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='6.0161em' style='width:0.667em' viewBox='0 0 667 6016' preserveAspectRatio='xMinYMin'><path d='M263 0 H347 V6016 H263z M263 0 H347 V6016 H263z'/></svg></span></span><span style="top:-11.91117em;"><span style="height:8.0161em;"></span><span><span>⎤</span></span></span></span><span>​</span></span><span><span style="height:4.55007em;"><span></span></span></span></span></span></span></span></span></span></span></span></p>
<h3 id="张量"> 张量</h3>
<p><strong>严格定义：</strong></p>
<p>是一个可用来表示在一些矢量、标量和其他张量之间的线性关系的多线性函数(线性关系的基本例子有内积、外积、线性映射以及笛卡儿积)。</p>
<p>其坐标在<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>n</span></span></span></span>维空间内，有<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.664392em;vertical-align:0em;"></span><span><span>n</span><span><span><span><span style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span></span></span></span></span></span></span></span>个分量的一种量，其中每个分量都是坐标的函数，而在坐标变换时，这些分量也依照某些规则作线性变换。<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span style="margin-right:0.02778em;">r</span></span></span></span>称为该张量的秩或阶（与矩阵的秩和阶均无关系）。</p>
<p>张量的简洁定义表述为由若干坐标系改变时满足一定坐标转化关系的有序数组成的集合。</p>
<p><strong>另一种定义方式：</strong></p>
<p>一个<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>(</span><span>p</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.03588em;">q</span><span>)</span></span></span></span>型的张量<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span style="margin-right:0.13889em;">T</span></span></span></span>被定义为一个多重线性映射</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span style="margin-right:0.13889em;">T</span><span style="margin-right:0.2777777777777778em;"></span><span>:</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:2.284465em;vertical-align:-1.5457689999999997em;"></span><span><span><span><span style="height:0.7386960000000002em;"><span style="top:-1.5903390000000002em;"><span style="height:3em;"></span><span><span><span>p</span><span><span><span> </span><span>個</span></span></span></span></span></span><span style="top:-3em;"><span style="height:3em;"></span><span><span><span><span style="height:0.738696em;"><span style="top:-2.26867em;"><span style="height:3em;"></span><span style="height:0.548em;min-width:1.6em;"><span style="height:0.548em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.548em' viewBox='0 0 400000 548' preserveAspectRatio='xMinYMin slice'><path d='M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z'/></svg></span><span style="height:0.548em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.548em' viewBox='0 0 400000 548' preserveAspectRatio='xMidYMin slice'><path d='M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z'/></svg></span><span style="height:0.548em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.548em' viewBox='0 0 400000 548' preserveAspectRatio='xMaxYMin slice'><path d='M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z'/></svg></span></span></span><span style="top:-3em;"><span style="height:3em;"></span><span><span><span style="margin-right:0.22222em;">V</span><span><span><span><span style="height:0.738696em;"><span style="top:-3.113em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>∗</span></span></span></span></span></span></span></span></span><span style="margin-right:0.2222222222222222em;"></span><span>×</span><span style="margin-right:0.2222222222222222em;"></span><span>⋯</span><span style="margin-right:0.2222222222222222em;"></span><span>×</span><span style="margin-right:0.2222222222222222em;"></span><span><span style="margin-right:0.22222em;">V</span><span><span><span><span style="height:0.738696em;"><span style="top:-3.113em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>∗</span></span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.73133em;"><span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:1.5457689999999997em;"><span></span></span></span></span></span><span style="margin-right:0.2222222222222222em;"></span><span>×</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:2.2290989999999997em;vertical-align:-1.5457689999999997em;"></span><span><span><span><span style="height:0.6833300000000002em;"><span style="top:-1.5903390000000002em;"><span style="height:3em;"></span><span><span><span style="margin-right:0.03588em;">q</span><span><span><span> </span><span>個</span></span></span></span></span></span><span style="top:-3em;"><span style="height:3em;"></span><span><span><span><span style="height:0.68333em;"><span style="top:-2.26867em;"><span style="height:3em;"></span><span style="height:0.548em;min-width:1.6em;"><span style="height:0.548em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.548em' viewBox='0 0 400000 548' preserveAspectRatio='xMinYMin slice'><path d='M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z'/></svg></span><span style="height:0.548em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.548em' viewBox='0 0 400000 548' preserveAspectRatio='xMidYMin slice'><path d='M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z'/></svg></span><span style="height:0.548em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.548em' viewBox='0 0 400000 548' preserveAspectRatio='xMaxYMin slice'><path d='M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z'/></svg></span></span></span><span style="top:-3em;"><span style="height:3em;"></span><span><span style="margin-right:0.22222em;">V</span><span style="margin-right:0.2222222222222222em;"></span><span>×</span><span style="margin-right:0.2222222222222222em;"></span><span>⋯</span><span style="margin-right:0.2222222222222222em;"></span><span>×</span><span style="margin-right:0.2222222222222222em;"></span><span style="margin-right:0.22222em;">V</span></span></span></span><span>​</span></span><span><span style="height:0.73133em;"><span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:1.5457689999999997em;"><span></span></span></span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>↦</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.88333em;vertical-align:-0.19444em;"></span><span>R</span><span>,</span></span></span></span></span></p>
<p>其中<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span style="margin-right:0.22222em;">V</span></span></span></span>是矢量空间，<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.688696em;vertical-align:0em;"></span><span><span style="margin-right:0.22222em;">V</span><span><span><span><span style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>∗</span></span></span></span></span></span></span></span></span></span></span>是其对偶空间。</p>
<p>张量不随参照系的坐标变换（其实就是基向量变化）而变化。</p>
<div><p>提示</p>
<p><strong>与标量、矩阵的关系：</strong></p>
<p>我们可以将标量视为零阶张量，矢量视为一阶张量，那么矩阵就是二阶张量。</p>
</div>
<h2 id="单位矩阵和逆矩阵"> 单位矩阵和逆矩阵</h2>
<h3 id="单位矩阵"> 单位矩阵</h3>
<p>是一个<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.66666em;vertical-align:-0.08333em;"></span><span>n</span><span style="margin-right:0.2222222222222222em;"></span><span>×</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:0.43056em;vertical-align:0em;"></span><span>n</span></span></span></span>的方形矩阵，其主对角线元素为1，其余元素为0，且该方阵的阶数为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>n</span></span></span></span>，记作<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.83333em;vertical-align:-0.15em;"></span><span><span style="margin-right:0.07847em;">I</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>n</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，有时会记作<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span><span>diag</span></span><span>(</span><span>1</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span>1</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span>…</span><span style="margin-right:0.16666666666666666em;"></span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span>1</span><span>)</span></span></span></span></p>
<h3 id="逆矩阵"> 逆矩阵</h3>
<p>设A是一个<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>n</span></span></span></span>阶矩阵<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68611em;vertical-align:0em;"></span><span>A</span></span></span></span>，若存在另一个<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>n</span></span></span></span>阶矩阵<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68611em;vertical-align:0em;"></span><span>B</span></span></span></span>，使得<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68611em;vertical-align:0em;"></span><span><span>AB</span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.68611em;vertical-align:0em;"></span><span><span>BA</span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.68611em;vertical-align:0em;"></span><span>E</span></span></span></span> ，则称方阵<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68611em;vertical-align:0em;"></span><span>A</span></span></span></span>可逆，并称方阵<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68611em;vertical-align:0em;"></span><span>B</span></span></span></span>是<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68611em;vertical-align:0em;"></span><span>A</span></span></span></span>的逆矩阵，并记作<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8141079999999999em;vertical-align:0em;"></span><span><span>A</span><span><span><span><span style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>−</span><span>1</span></span></span></span></span></span></span></span></span></span></span></span>。</p>
<h2 id="范数"> 范数</h2>
<p>详细请查看<a href="./../../Mathematics/Norm.html">此处</a></p>
<h2 id="特殊类型的矩阵和向量"> 特殊类型的矩阵和向量</h2>
<h2 id="行列式"> 行列式</h2>
<p>记作<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>det</span><span>(</span><span>A</span><span>)</span></span></span></span>，是一个将方阵<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68611em;vertical-align:0em;"></span><span>A</span></span></span></span>映射到实数的函数，等于矩阵所有特征值的乘积。</p>
<h2 id="对角元"> 对角元</h2>
<p>对于一个<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.66666em;vertical-align:-0.08333em;"></span><span>m</span><span style="margin-right:0.2222222222222222em;"></span><span>×</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:0.43056em;vertical-align:0em;"></span><span>n</span></span></span></span>的矩阵<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68611em;vertical-align:0em;"></span><span>A</span></span></span></span>，有如下定义：</p>
<p><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.972218em;vertical-align:-0.286108em;"></span><span><span>对于</span></span><span><span>A</span><span><span><span><span style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>i</span><span>,</span><span style="margin-right:0.05724em;">j</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span><span>若</span></span><span>i</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span style="margin-right:0.05724em;">j</span><span><span>则该元素为对角元。</span></span></span></span></span></p>
<p><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.972218em;vertical-align:-0.286108em;"></span><span><span>对于</span></span><span><span>A</span><span><span><span><span style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>i</span><span>,</span><span style="margin-right:0.05724em;">j</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span><span>若</span></span><span>i</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.85396em;vertical-align:-0.19444em;"></span><span style="margin-right:0.05724em;">j</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:0.68333em;vertical-align:0em;"></span><span>1</span><span><span>，则该元素为次对角元。</span></span></span></span></span></p>
<p><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.972218em;vertical-align:-0.286108em;"></span><span><span>对于</span></span><span><span>A</span><span><span><span><span style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>i</span><span>,</span><span style="margin-right:0.05724em;">j</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span><span>若</span></span><span>i</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.85396em;vertical-align:-0.19444em;"></span><span style="margin-right:0.05724em;">j</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:0.68333em;vertical-align:0em;"></span><span>1</span><span><span>，则该元素为超对角元。</span></span></span></span></span></p>
]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-16T19:47:33.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">「实例」主成分分析</title>
    <id>https://breezeshane.github.io/ArtificialIntelligence/Mathematics/LinearAlgebra/%5B%E5%AE%9E%E4%BE%8B%5D%E4%B8%BB%E6%88%90%E5%88%86%E5%88%86%E6%9E%90/</id>
    <link href="https://breezeshane.github.io/ArtificialIntelligence/Mathematics/LinearAlgebra/%5B%E5%AE%9E%E4%BE%8B%5D%E4%B8%BB%E6%88%90%E5%88%86%E5%88%86%E6%9E%90/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:11:57.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">奇异值分解</title>
    <id>https://breezeshane.github.io/ArtificialIntelligence/Mathematics/LinearAlgebra/%E5%A5%87%E5%BC%82%E5%80%BC%E5%88%86%E8%A7%A3/</id>
    <link href="https://breezeshane.github.io/ArtificialIntelligence/Mathematics/LinearAlgebra/%E5%A5%87%E5%BC%82%E5%80%BC%E5%88%86%E8%A7%A3/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:13:40.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">特征分解</title>
    <id>https://breezeshane.github.io/ArtificialIntelligence/Mathematics/LinearAlgebra/%E7%89%B9%E5%BE%81%E5%88%86%E8%A7%A3/</id>
    <link href="https://breezeshane.github.io/ArtificialIntelligence/Mathematics/LinearAlgebra/%E7%89%B9%E5%BE%81%E5%88%86%E8%A7%A3/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:13:32.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">Lipschitz Continuity</title>
    <id>https://breezeshane.github.io/ArtificialIntelligence/Mathematics/LipschitzContinuity/</id>
    <link href="https://breezeshane.github.io/ArtificialIntelligence/Mathematics/LipschitzContinuity/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<h1 id="利普希茨连续-lipschitz-continuity"> 利普希茨连续——Lipschitz Continuity</h1>
<blockquote>
<p>参考资料：<a href="https://zh.wikipedia.org/wiki/%E5%88%A9%E6%99%AE%E5%B8%8C%E8%8C%A8%E9%80%A3%E7%BA%8C" target="_blank" rel="noopener noreferrer">利普希茨连续 - 维基百科</a></p>
</blockquote>
<h2 id="定义"> 定义</h2>
<p>对于在实数集的子集的函数<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span style="margin-right:0.10764em;">f</span><span></span><span style="margin-right:0.1111111111111111em;"></span><span></span><span style="margin-right:-0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span><span>:</span></span><span style="margin-right:0.3333333333333333em;"></span><span style="margin-right:0.02778em;">D</span><span style="margin-right:0.2777777777777778em;"></span><span>⊆</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.68889em;vertical-align:0em;"></span><span>R</span><span style="margin-right:0.2777777777777778em;"></span><span>→</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.68889em;vertical-align:0em;"></span><span>R</span></span></span></span>，若存在常数<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span style="margin-right:0.07153em;">K</span></span></span></span>，使得<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>∣</span><span style="margin-right:0.10764em;">f</span><span>(</span><span>a</span><span>)</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.10764em;">f</span><span>(</span><span>b</span><span>)</span><span>∣</span><span style="margin-right:0.2777777777777778em;"></span><span>≤</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.07153em;">K</span><span>∣</span><span>a</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span>b</span><span>∣</span><span style="margin-right:1em;"></span><span>∀</span><span>a</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span>b</span><span style="margin-right:0.2777777777777778em;"></span><span>∈</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.68333em;vertical-align:0em;"></span><span style="margin-right:0.02778em;">D</span></span></span></span>，则称<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span style="margin-right:0.10764em;">f</span></span></span></span>符合利普希茨条件，对于<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span style="margin-right:0.10764em;">f</span></span></span></span>最小的常数<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span style="margin-right:0.07153em;">K</span></span></span></span>称为 <span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span style="margin-right:0.10764em;">f</span></span></span></span>的利普希茨常数。可以近似将优化复杂函数的问题，转化为二次规划问题。</p>
<p>若<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.72243em;vertical-align:-0.0391em;"></span><span style="margin-right:0.07153em;">K</span><span style="margin-right:0.2777777777777778em;"></span><span>&lt;</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.64444em;vertical-align:0em;"></span><span>1</span></span></span></span>，<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span style="margin-right:0.10764em;">f</span></span></span></span>称为收缩映射。</p>
<p>利普希茨条件也可对任意度量空间的函数定义：</p>
<p>给定两个度量空间<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>(</span><span style="margin-right:0.10903em;">M</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span><span>d</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.10903em;">M</span></span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>)</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span>(</span><span style="margin-right:0.10903em;">N</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span><span>d</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.10903em;">N</span></span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>)</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.10903em;">U</span><span style="margin-right:0.2777777777777778em;"></span><span>⊆</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.68333em;vertical-align:0em;"></span><span style="margin-right:0.10903em;">M</span></span></span></span>。若对于函数<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span style="margin-right:0.10764em;">f</span><span style="margin-right:0.2777777777777778em;"></span><span>:</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.68333em;vertical-align:0em;"></span><span style="margin-right:0.10903em;">U</span><span style="margin-right:0.2777777777777778em;"></span><span>→</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.68333em;vertical-align:0em;"></span><span style="margin-right:0.10903em;">N</span></span></span></span>，存在常数<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span style="margin-right:0.07153em;">K</span></span></span></span>使得<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span><span>d</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.10903em;">N</span></span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span style="margin-right:0.10764em;">f</span><span>(</span><span>a</span><span>)</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.10764em;">f</span><span>(</span><span>b</span><span>))</span><span style="margin-right:0.2777777777777778em;"></span><span>≤</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.07153em;">K</span><span><span>d</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.10903em;">M</span></span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span>a</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span>b</span><span>)</span><span style="margin-right:1em;"></span><span>∀</span><span>a</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span>b</span><span style="margin-right:0.2777777777777778em;"></span><span>∈</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.68333em;vertical-align:0em;"></span><span style="margin-right:0.10903em;">U</span></span></span></span>
则说它符合利普希茨条件。</p>
<p>若存在<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8193em;vertical-align:-0.13597em;"></span><span style="margin-right:0.07153em;">K</span><span style="margin-right:0.2777777777777778em;"></span><span>≥</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.64444em;vertical-align:0em;"></span><span>1</span></span></span></span>使得<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.190108em;vertical-align:-0.345em;"></span><span><span><span></span><span><span><span><span style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span style="height:3em;"></span><span><span><span style="margin-right:0.07153em;">K</span></span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span style="height:3em;"></span><span><span><span>1</span></span></span></span></span><span>​</span></span><span><span style="height:0.345em;"><span></span></span></span></span></span><span></span></span></span><span><span>d</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.10903em;">M</span></span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span>a</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span>b</span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>≤</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span><span>d</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.10903em;">N</span></span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span style="margin-right:0.10764em;">f</span><span>(</span><span>a</span><span>)</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.10764em;">f</span><span>(</span><span>b</span><span>))</span><span style="margin-right:0.2777777777777778em;"></span><span>≤</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.07153em;">K</span><span><span>d</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.10903em;">M</span></span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span>a</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span>b</span><span>)</span><span style="margin-right:1em;"></span><span>∀</span><span>a</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span>b</span><span style="margin-right:0.2777777777777778em;"></span><span>∈</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.68333em;vertical-align:0em;"></span><span style="margin-right:0.10903em;">U</span></span></span></span>
则称<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span style="margin-right:0.10764em;">f</span></span></span></span>为<strong>双李普希茨</strong>(bi-Lipschitz)。</p>
<h2 id="用处"> 用处</h2>
<p>可以近似将优化复杂函数的问题，转化为二次规划问题。</p>
<blockquote>
<p>如果有<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span>∇</span><span style="margin-right:0.10764em;">f</span></span></span></span>是Lipschitz连续的，则<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>∀</span><span>x</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.03588em;">y</span><span>,</span><span style="margin-right:1em;"></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.10764em;">f</span><span>(</span><span style="margin-right:0.03588em;">y</span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>≤</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.10764em;">f</span><span>(</span><span>x</span><span>)</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1.0913309999999998em;vertical-align:-0.25em;"></span><span>∇</span><span style="margin-right:0.10764em;">f</span><span>(</span><span>x</span><span><span>)</span><span><span><span><span style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span>(</span><span style="margin-right:0.03588em;">y</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span>x</span><span>)</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1.217331em;vertical-align:-0.345em;"></span><span><span><span></span><span><span><span><span style="height:0.872331em;"><span style="top:-2.6550000000000002em;"><span style="height:3em;"></span><span><span><span>2</span></span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span style="height:3em;"></span><span><span><span>L</span></span></span></span></span><span>​</span></span><span><span style="height:0.345em;"><span></span></span></span></span></span><span></span></span></span><span>∣∣</span><span style="margin-right:0.03588em;">y</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1.064108em;vertical-align:-0.25em;"></span><span>x</span><span>∣</span><span><span>∣</span><span><span><span><span style="height:0.8141079999999999em;"><span style="top:-2.4518920000000004em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span><span>​</span></span><span><span style="height:0.24810799999999997em;"><span></span></span></span></span></span></span></span></span></span>，其中<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span>L</span></span></span></span>为Lipschitz常数。即可以将优化复杂的函数<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.10764em;">f</span><span>(</span><span style="margin-right:0.03588em;">y</span><span>)</span></span></span></span>等价地优化它的上界。</p>
</blockquote>
<h2 id="皮卡-林德洛夫定理"> 皮卡-林德洛夫定理</h2>
<p>若已知<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.03588em;">y</span><span>(</span><span>t</span><span>)</span></span></span></span>有界，<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span style="margin-right:0.10764em;">f</span></span></span></span>符合利普希茨条件，则微分方程初值问题<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.001892em;vertical-align:-0.25em;"></span><span><span style="margin-right:0.03588em;">y</span><span><span><span><span style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>′</span></span></span></span></span></span></span></span></span><span>(</span><span>t</span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.10764em;">f</span><span>(</span><span>t</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.03588em;">y</span><span>(</span><span>t</span><span>))</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.03588em;">y</span><span>(</span><span><span>t</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>0</span></span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.625em;vertical-align:-0.19444em;"></span><span><span style="margin-right:0.03588em;">y</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>0</span></span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>刚好有一个解。</p>
<p>在应用上，<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.61508em;vertical-align:0em;"></span><span>t</span></span></span></span>通常属于一有界闭区间（ 如 <span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>[</span><span>0</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span>2</span><span style="margin-right:0.03588em;">π</span><span>]</span></span></span></span> ）。于是<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.03588em;">y</span><span>(</span><span>t</span><span>)</span></span></span></span>必有界，故<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.625em;vertical-align:-0.19444em;"></span><span style="margin-right:0.03588em;">y</span></span></span></span>有唯一解。</p>
<h2 id="性质"> 性质</h2>
<ol>
<li>符合利普希茨条件的函数连续，实际上一致连续。</li>
<li>双李普希茨(bi-Lipschitz)函数是单射。</li>
<li>Rademacher定理：若<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8193em;vertical-align:-0.13597em;"></span><span>A</span><span style="margin-right:0.2777777777777778em;"></span><span>⊆</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.68889em;vertical-align:0em;"></span><span><span><span>R</span></span><span><span><span><span style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>n</span></span></span></span></span></span></span></span></span></span></span></span>且<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span>A</span></span></span></span>为开集，<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span style="margin-right:0.10764em;">f</span><span style="margin-right:0.2777777777777778em;"></span><span>:</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.751892em;vertical-align:0em;"></span><span><span>A</span><span><span><span><span style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>′′</span></span></span></span></span></span></span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>→</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.68889em;vertical-align:0em;"></span><span><span><span>R</span></span><span><span><span><span style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>n</span></span></span></span></span></span></span></span></span></span></span></span>符利普希茨条件，则<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span style="margin-right:0.10764em;">f</span></span></span></span>几乎处处可微。</li>
<li>Kirszbraun定理：给定两个希尔伯特空间<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span><span style="margin-right:0.08125em;">H</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.08125em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>1</span></span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span><span style="margin-right:0.08125em;">H</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.08125em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>2</span></span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.72243em;vertical-align:-0.0391em;"></span><span style="margin-right:0.10903em;">U</span><span style="margin-right:0.2777777777777778em;"></span><span>∈</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.83333em;vertical-align:-0.15em;"></span><span><span style="margin-right:0.08125em;">H</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.08125em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>1</span></span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span style="margin-right:0.10764em;">f</span><span style="margin-right:0.2777777777777778em;"></span><span>:</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.68333em;vertical-align:0em;"></span><span style="margin-right:0.10903em;">U</span><span style="margin-right:0.2777777777777778em;"></span><span>→</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.83333em;vertical-align:-0.15em;"></span><span><span style="margin-right:0.08125em;">H</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.08125em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>1</span></span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>符合利普希茨条件，则存在符合利普希茨条件的<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span style="margin-right:0.13889em;">F</span><span style="margin-right:0.2777777777777778em;"></span><span>:</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.83333em;vertical-align:-0.15em;"></span><span><span style="margin-right:0.08125em;">H</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.08125em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>1</span></span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>→</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.83333em;vertical-align:-0.15em;"></span><span><span style="margin-right:0.08125em;">H</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.08125em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>2</span></span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，使得<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span style="margin-right:0.13889em;">F</span></span></span></span>的利普希茨常数和<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span style="margin-right:0.10764em;">f</span></span></span></span>的相同，且<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.13889em;">F</span><span>(</span><span>x</span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.10764em;">f</span><span>(</span><span>x</span><span>)</span><span style="margin-right:1em;"></span><span>∀</span><span>x</span><span style="margin-right:0.2777777777777778em;"></span><span>∈</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.68333em;vertical-align:0em;"></span><span style="margin-right:0.10903em;">U</span></span></span></span>。</li>
</ol>
<h2 id="几何意义"> 几何意义</h2>
<p>对于利普希茨连续函数，存在一个双圆锥(白色)其顶点可以沿着曲线平移，使得曲线总是完全在这两个圆锥外。</p>
<p><img src="/images/Lipschitz_continuity_2.png" alt="" /></p>
<h2 id="用公式的描述"> 用公式的描述</h2>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>∣∣∇</span><span style="margin-right:0.10764em;">f</span><span>(</span><span>x</span><span>)</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span>∇</span><span style="margin-right:0.10764em;">f</span><span>(</span><span style="margin-right:0.03588em;">y</span><span>)</span><span>∣∣</span><span style="margin-right:0.2777777777777778em;"></span><span>≤</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span>L</span><span>∣∣</span><span>x</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.03588em;">y</span><span>∣∣</span><span>,</span><span style="margin-right:1em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>x</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.03588em;">y</span><span style="margin-right:0.2777777777777778em;"></span><span>∈</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.7143919999999999em;vertical-align:0em;"></span><span><span style="margin-right:0.00773em;">R</span><span><span><span><span style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>n</span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>可以描述为函数<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.10764em;">f</span><span>(</span><span>x</span><span>)</span></span></span></span>二次可微，且Hessian矩阵在<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span><span style="margin-right:0.00773em;">R</span><span><span><span><span style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>n</span></span></span></span></span></span></span></span></span></span></span>上有界。</p>
<table>
    <tr>
        <td bgcolor="#FF6347">
            <center>
                <strong>
                    <i>
                        <font color="#000000" size="6">
                            未完待续，持续更新ing......<br>
                            真的挺难学的，我太菜了，在补了在补了
                        </font>
                    </i>🥲🥲🥲
                </strong>
            </center>
        </td>
    </tr>
</table>
]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2021-05-12T19:49:43.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">信息论</title>
    <id>https://breezeshane.github.io/ArtificialIntelligence/Mathematics/ProbabilityTheory/%E4%BF%A1%E6%81%AF%E8%AE%BA/</id>
    <link href="https://breezeshane.github.io/ArtificialIntelligence/Mathematics/ProbabilityTheory/%E4%BF%A1%E6%81%AF%E8%AE%BA/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:13:59.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">常见函数及其性质</title>
    <id>https://breezeshane.github.io/ArtificialIntelligence/Mathematics/ProbabilityTheory/%E5%B8%B8%E8%A7%81%E5%87%BD%E6%95%B0%E5%8F%8A%E5%85%B6%E6%80%A7%E8%B4%A8/</id>
    <link href="https://breezeshane.github.io/ArtificialIntelligence/Mathematics/ProbabilityTheory/%E5%B8%B8%E8%A7%81%E5%87%BD%E6%95%B0%E5%8F%8A%E5%85%B6%E6%80%A7%E8%B4%A8/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:14:10.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">常见概率分布</title>
    <id>https://breezeshane.github.io/ArtificialIntelligence/Mathematics/ProbabilityTheory/%E5%B8%B8%E8%A7%81%E6%A6%82%E7%8E%87%E5%88%86%E5%B8%83/</id>
    <link href="https://breezeshane.github.io/ArtificialIntelligence/Mathematics/ProbabilityTheory/%E5%B8%B8%E8%A7%81%E6%A6%82%E7%8E%87%E5%88%86%E5%B8%83/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:14:16.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">期望、方差和协方差</title>
    <id>https://breezeshane.github.io/ArtificialIntelligence/Mathematics/ProbabilityTheory/%E6%9C%9F%E6%9C%9B%E3%80%81%E6%96%B9%E5%B7%AE%E5%92%8C%E5%8D%8F%E6%96%B9%E5%B7%AE/</id>
    <link href="https://breezeshane.github.io/ArtificialIntelligence/Mathematics/ProbabilityTheory/%E6%9C%9F%E6%9C%9B%E3%80%81%E6%96%B9%E5%B7%AE%E5%92%8C%E5%8D%8F%E6%96%B9%E5%B7%AE/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:14:25.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">条件概率及其链式法则</title>
    <id>https://breezeshane.github.io/ArtificialIntelligence/Mathematics/ProbabilityTheory/%E6%9D%A1%E4%BB%B6%E6%A6%82%E7%8E%87%E5%8F%8A%E5%85%B6%E9%93%BE%E5%BC%8F%E6%B3%95%E5%88%99/</id>
    <link href="https://breezeshane.github.io/ArtificialIntelligence/Mathematics/ProbabilityTheory/%E6%9D%A1%E4%BB%B6%E6%A6%82%E7%8E%87%E5%8F%8A%E5%85%B6%E9%93%BE%E5%BC%8F%E6%B3%95%E5%88%99/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:14:55.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">概率分布</title>
    <id>https://breezeshane.github.io/ArtificialIntelligence/Mathematics/ProbabilityTheory/%E6%A6%82%E7%8E%87%E5%88%86%E5%B8%83/</id>
    <link href="https://breezeshane.github.io/ArtificialIntelligence/Mathematics/ProbabilityTheory/%E6%A6%82%E7%8E%87%E5%88%86%E5%B8%83/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:15:01.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">独立性和条件独立性</title>
    <id>https://breezeshane.github.io/ArtificialIntelligence/Mathematics/ProbabilityTheory/%E7%8B%AC%E7%AB%8B%E6%80%A7%E5%92%8C%E6%9D%A1%E4%BB%B6%E7%8B%AC%E7%AB%8B%E6%80%A7/</id>
    <link href="https://breezeshane.github.io/ArtificialIntelligence/Mathematics/ProbabilityTheory/%E7%8B%AC%E7%AB%8B%E6%80%A7%E5%92%8C%E6%9D%A1%E4%BB%B6%E7%8B%AC%E7%AB%8B%E6%80%A7/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:15:09.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">结构化概率模型</title>
    <id>https://breezeshane.github.io/ArtificialIntelligence/Mathematics/ProbabilityTheory/%E7%BB%93%E6%9E%84%E5%8C%96%E6%A6%82%E7%8E%87%E6%A8%A1%E5%9E%8B/</id>
    <link href="https://breezeshane.github.io/ArtificialIntelligence/Mathematics/ProbabilityTheory/%E7%BB%93%E6%9E%84%E5%8C%96%E6%A6%82%E7%8E%87%E6%A8%A1%E5%9E%8B/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:15:13.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">贝叶斯规则</title>
    <id>https://breezeshane.github.io/ArtificialIntelligence/Mathematics/ProbabilityTheory/%E8%B4%9D%E5%8F%B6%E6%96%AF%E8%A7%84%E5%88%99/</id>
    <link href="https://breezeshane.github.io/ArtificialIntelligence/Mathematics/ProbabilityTheory/%E8%B4%9D%E5%8F%B6%E6%96%AF%E8%A7%84%E5%88%99/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:15:19.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">边缘概率</title>
    <id>https://breezeshane.github.io/ArtificialIntelligence/Mathematics/ProbabilityTheory/%E8%BE%B9%E7%BC%98%E6%A6%82%E7%8E%87/</id>
    <link href="https://breezeshane.github.io/ArtificialIntelligence/Mathematics/ProbabilityTheory/%E8%BE%B9%E7%BC%98%E6%A6%82%E7%8E%87/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:15:24.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">连续性变量的技术细节</title>
    <id>https://breezeshane.github.io/ArtificialIntelligence/Mathematics/ProbabilityTheory/%E8%BF%9E%E7%BB%AD%E6%80%A7%E5%8F%98%E9%87%8F%E7%9A%84%E6%8A%80%E6%9C%AF%E7%BB%86%E8%8A%82/</id>
    <link href="https://breezeshane.github.io/ArtificialIntelligence/Mathematics/ProbabilityTheory/%E8%BF%9E%E7%BB%AD%E6%80%A7%E5%8F%98%E9%87%8F%E7%9A%84%E6%8A%80%E6%9C%AF%E7%BB%86%E8%8A%82/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:15:28.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">随机变量</title>
    <id>https://breezeshane.github.io/ArtificialIntelligence/Mathematics/ProbabilityTheory/%E9%9A%8F%E6%9C%BA%E5%8F%98%E9%87%8F/</id>
    <link href="https://breezeshane.github.io/ArtificialIntelligence/Mathematics/ProbabilityTheory/%E9%9A%8F%E6%9C%BA%E5%8F%98%E9%87%8F/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:15:34.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">无监督学习介绍与入门</title>
    <id>https://breezeshane.github.io/ArtificialIntelligence/UnsupervisedLearning/ElementaryCourse/</id>
    <link href="https://breezeshane.github.io/ArtificialIntelligence/UnsupervisedLearning/ElementaryCourse/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<h2 id="什么是无监督学习"> 什么是无监督学习？</h2>
<p>无监督学习是机器学习的一种训练方式「或者是学习方式」。无监督学习的概念是相对有监督学习而言的。</p>
<blockquote>
<p>有监督学习，顾名思义就是机器学习的有且必须要有人参与监督的一种学习方式。机器学习的训练离不了数据集，而它应该从数据集中学习什么是由人来决定的，人必须要给这一批量数据集完全做好标注才能交给模型用来训练。</p>
<p>从数学角度来看，有监督模型本质上是在学习与拟合从对象<sup></sup>映射到标签<sup></sup>的函数，并从中选取最优函数作为训练结果。</p>
</blockquote>
<p>从这一角度来看的话，我们就不难理解无监督学习的概念该是如何的。</p>
<p>无监督学习不需要有人给数据集做标注，模型会从各批数据中分别提取一些深度特征、潜在特征来完成任务。</p>
<p>从数学角度来看，无监督模型本质上是一种统计手段，通过描述、计算高维空间的分布来驱动完成任务。</p>
<table>
<thead>
<tr>
<th style="text-align:center">有监督学习</th>
<th style="text-align:center">无监督学习</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">目标明确</td>
<td style="text-align:center">目标不明确</td>
</tr>
<tr>
<td style="text-align:center">需要带有标签的数据集</td>
<td style="text-align:center">不需要带有标签的数据集</td>
</tr>
<tr>
<td style="text-align:center">效果容易评估</td>
<td style="text-align:center">效果很难评估</td>
</tr>
<tr>
<td style="text-align:center">需要的数据规模大</td>
<td style="text-align:center">需要的数据规模小</td>
</tr>
<tr>
<td style="text-align:center">模型规模巨大</td>
<td style="text-align:center">模型规模较小</td>
</tr>
<tr>
<td style="text-align:center">一般训练耗时长、训练周期长</td>
<td style="text-align:center">一般训练耗时较短、训练周期较短</td>
</tr>
</tbody>
</table>
<h2 id="为什么会有无监督学习这个领域"> 为什么会有无监督学习这个领域？</h2>
<p>随着深度学习的火热膨胀，机器学习的发展蒸蒸日上，模型能完成的任务也越来越多，但随着任务的复杂程度增加，数据集的规模也相应地越来越大，要求人去手动给每一个数据一一做标注不仅耗时耗力，而且出现差错带来的损失代价也难以估量。</p>
<p>于是有人提问：能不能想个办法让机器不需要我们去明确告诉它，它自己就能学习呢？</p>
<p>由此，无监督学习就应运而生了。</p>
<blockquote>
<p>题外话：无监督的诞生也带动了半监督、弱监督、迁移学习、表征学习等众多领域的启蒙与发展。</p>
</blockquote>
<h2 id="无监督学习与深度学习的关系"> 无监督学习与深度学习的关系？</h2>
<p>大众常说的深度学习通常都是指有监督学习方式的学习模型，<strong>但实际上无监督学习与深度学习也是密不可分的</strong>。深度学习中的深度，一般而言是指构建的模型中神经网络部分层数较深，通过多层处理来将浅层特征逐步转化到深层特征，并通过使用学习到的深层特征完成驱动任务。</p>
<blockquote>
<p>深度学习是一类模式分析方法的统称，可以认为，深度学习就是在进行“特征学习”或者“表示学习”。</p>
<p>过去一直都是由人来完成手动提取特征后利用特征来完成特定任务，特别的，在计算机视觉领域中这种技术被称作数字图像处理技术，而深度学习的产生，使得使用机器自动提取特征成为一种可能，并且它的产生也使得应用较过去更加广泛。</p>
</blockquote>
<p>早期深度学习领域还是只有有监督学习方式实现的模型构建，而如今亦有人在进行有监督训练前会使用无监督方法进行数据预处理、数据清洗等操作，因此请初学者在心里一定要明白:</p>
<center><strong><font color="#70f3ff" size="6">即使机器学习细分了多个方向，但其实追究根本却还是一家，殊途同归耳。</font></strong></center>
<h2 id="无监督学习有什么应用"> 无监督学习有什么应用？</h2>
<ol>
<li>分类任务：
<ol>
<li>用户细分：通过使用无监督学习模型可以给用户做分类，根据各类别用户推荐广告。</li>
<li>推荐系统：根据用户的购买行为来给用户做分类，从而使投放广告更具有针对性。</li>
</ol>
</li>
<li>数据生成：
<ol>
<li>动作迁移</li>
<li>图像修复</li>
<li>风格迁移</li>
</ol>
</li>
<li>数据去噪清洗</li>
<li>深度特征提取</li>
<li>……</li>
</ol>
<h2 id="无监督学习的未来发展如何"> 无监督学习的未来发展如何？</h2>
<p>目前无监督学习尚在科研领域内部，并未真正获得落实应用，因此现在如果选择无监督学习，基本上是可以确定未来要走科研之路的。</p>
<p>至于为什么无监督学习未获得真正的落实，是因为在同等条件下，无监督模型的表现与性能要比深度学习模型略差一些，因此企业更倾向于选择性能更优的深度学习模型。</p>
<p>虽说这样，也是同样有企业在花费巨额资金来投入科研的，对于个人发展来说，未来也是可以考虑去某科研机构发展。</p>
<h2><font color="red">高危：劝退警告！</font></h2>
<h4 id="学习无监督学习要面对的学习要求"> 学习无监督学习要面对的学习要求</h4>
<p>学习无监督学习，要掌握概率论和统计原理的基本理解，并且能够理解数学与算法的关系。除此之外，根据你具体选择的方向也会有相应的学科理论。</p>
<p>如果你选择了对抗学习这个方向，你需要面对如下理论：</p>
<ol>
<li>博弈论</li>
<li>优化理论</li>
<li>凸函数</li>
<li>复分析</li>
<li>对偶理论</li>
<li>高维空间下的概率论与线性代数</li>
<li>数字图像处理</li>
<li>数字信号处理</li>
<li>信号与系统</li>
<li>……</li>
</ol>
<h2 id="无监督学习如何入门"> 无监督学习如何入门？</h2>
<ol>
<li>
<p>在本科阶段首先应该重视数学学科，高数、概率论与数理统计等。即使是大一，自己应该根据自己的实际情况学习概率论，这样在后面学习的时候对自己的理解也颇有裨益。</p>
</li>
<li>
<p>要重视理论，尤其是当你打算走科研的时候。或许在深度学习领域这里，你可能按照自己的猜想与理解尝试一些trick的组合后能得到效果的改进，但是这在无监督学习里会很难走，因为可能你的某种改动就会破坏掉原有的一些重要性质，尤其是不巧你又选了子方向对抗学习方向的时候，甚至会破坏掉某种平衡，这些都意味着模型大幅受损，这与深度学习领域的区别比较大。</p>
</li>
<li>
<p>要注重实操，实践是检验真理的唯一标准，因此不论设计的理论有多厉害多优秀，如果最终实验没能出结果，就说明理论还是不够准确，应该耐下心来，继续修改打磨你的理论。</p>
<hr>
</li>
<li>
<p>做好以上觉悟后，就要开展无监督学习的入门了。</p>
</li>
<li>
<p>初次接触，建议先学习相关的经典算法，并尝试理解算法的背后思想，学习过程中也不要忘了关注理论设计与代码实践的具体对应关系。</p>
</li>
<li>
<p>当你接触了一段时间后，自己应该有一定程度的理解了，这时可以开始考虑自己想专精的某一方向了，我目前在做的是对抗学习这个方向。如果在为选择方向感到茫然的话，需要先看相应的综述论文，以便第一时间了解与掌握当前学术界的前沿问题，这样也会让你有一个初步的系统性知识体系。</p>
</li>
<li>
<p>**当你选定某一个方向后，这个时候的你已经不能算是入门了，可以说是这个领域的一个新星。**这个时候我要推荐你学习主流框架（如PyTorch、TensorFlow 2.x等）的使用，学习整个机器学习的基本理论，建议在本科阶段打牢完整的知识架构体系。为了构建严谨、准确且完整的知识体系，我建议你去阅读《深度学习》（俗称“花书”）和《动手写深度学习》这两本书，还可以考虑阅读《机器学习》（俗称“西瓜书”），另外，为了让你不在数学方面上会产生疑惑，建议阅读《统计机器学习方法》（李航  著）来理解理论的构建与推导。</p>
</li>
<li>
<p>准备以上的学习资料以及下好苦心修炼的决心后，就可以正式开始在你选择的方向这里开始深入学习，一般而言比较理想的学习顺序应该是从最早的第一篇论文开始学起。阅读这第一篇论文一定要静下心来耐心阅读，尽力让自己适应英文刊物的阅读，不会的生词去查就是了，特别不推荐使用自动机器翻译，从理论上认为会导致信息传递的损失。在学习中请重视这第一篇论文，因为它是开山之作，这对于你去理解抽象理论大有裨益，一定要弄到熟稔于心才可进行下一步的学习。</p>
<p>在这次学习中你要明白，<strong>他发现了什么问题？他做了什么？为什么这样做？效果又是如何的？他又产生或者导致了哪些问题？</strong></p>
</li>
<li>
<p>当你走好第一步后，后面的步伐该如何去走，你自会明白。</p>
</li>
</ol>
<p>剩下我想说的应该是：</p>
<table><tr><td bgcolor=#ff4e20><center><font size="4" color="#FFFFFF"><strong>请相信自己，努力是从来不会背叛自己的。如果你开辟了新的方向，我也希望你能坚持走下去，不仅是为了科协，更是为了自己；如果你是选择走在前人后面，我也希望你能苦心专研，帮助前人让这个领域再向前推动发展一点！</strong></font></center></td></tr></table>
<center>最后，愿君好运，希望我们能在今后的科研路上共勉，携手共进！</center>
<h2 id="无监督学习有什么经典算法-参考链接"> 无监督学习有什么经典算法？<a href="https://cloud.tencent.com/developer/article/1659559" target="_blank" rel="noopener noreferrer">参考链接</a></h2>
<ul>
<li>
<p>聚类方法（层次聚类、k均值聚类「硬聚类」、高斯混合模型「软聚类」）</p>
</li>
<li>
<p>奇异值分解（SVD）</p>
</li>
<li>
<p>主成分分析（PCA）</p>
</li>
<li>
<p>潜在语义分析（LSA）</p>
</li>
<li>
<p>概率潜在语义分析（PLSA）</p>
</li>
<li>
<p>非负矩阵分解（NMF）</p>
</li>
<li>
<p>潜在狄利克雷分配（LDA）</p>
</li>
<li>
<p>PageRank算法</p>
</li>
<li>
<p>马尔可夫链蒙特卡罗法（MCMC，包括Metropolis-Hastings算法、吉布斯抽样）</p>
</li>
<li>
<p>变分推理</p>
</li>
<li>
<p>幂法</p>
</li>
</ul>
<hr>
<section>
<ol>
<li id="footnote1"><p>对象指数据集在描述的具体物体、人和动物等等，或者是在描述某个特定的抽象概念，比如衣服、人类、猫科动物等等。 </p>
</li>
<li id="footnote2"><p>标签指人给对象做的标注信息，标注信息可以由某个特征描述，也可以是由组合的特征共同描述。比如分类任务中的各分类名称「人、马、狗、猫、猪……」，目标检测任务中每个物体在图像中的所在位置（位置由框的左上角坐标、框宽、框高描述）和物体类别组合到一起共同作为标签。 </p>
</li>
</ol>
</section>
]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2021-10-24T13:20:48.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">Enlighten GAN</title>
    <id>https://breezeshane.github.io/ArtificialIntelligence/UnsupervisedLearning/EnlightenGAN/</id>
    <link href="https://breezeshane.github.io/ArtificialIntelligence/UnsupervisedLearning/EnlightenGAN/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<h2 id="应用领域及背景"> 应用领域及背景</h2>
<p>该项目是应用在图像修复领域的低照度增强方向，是致力于将日常生活中常见的各种难以用肉眼感知特征的低照度场景增强到能够方便、舒适地观察内容的场景。</p>
<center>该项目迄今为止仍是无监督学习方法低照度增强的SOTA。</center>
<h2 id="网络结构的设计"> 网络结构的设计</h2>
<p><img src="/images/2021-09-17_14-55.png" alt="" /></p>
<p>本项目依旧是由生成器和鉴别器组成。</p>
<p><strong>生成器</strong>：</p>
<p>本网络结构是使用Encoder-Decoder的联合结构的残差网络，用以学习低照度到正常图像的深度特征差异。</p>
<p>首先由输入的图片经过灰度变换得到灰度图后归一并取反，由此来获得图像中每一处的增强比率，再将这个增强图层和输入的图片组合成四通道复合图片输入到该残差网络中，在下采样过程中每一层又经过最大池化做特征保留处理，并在每一步上采样中与各层的池化层相乘，用以恢复细节特征，最后得到一个对应的与输入图像对应的增强填补块，最后将其与整个输入的图像相加，至此就完成了增强的整个过程。</p>
<p><strong>鉴别器</strong>：</p>
<p>该网络结构使用了全局与局部联合而成的组合鉴别器。全局鉴别器和局部鉴别器都是使用相同的结构，即深度为4层的卷积网络。两者的区别就是——全局鉴别器用于评估整张图片的真实程度，而对于局部鉴别器则是从整张图片中随机截取若干个小图片并分别评估，最后取均值来作为模型输出。</p>
<blockquote>
<p>采用联合的思路是：在能够保证整张图片的真实程度较高的情况下，也要保证图像中的一些具体细节的真实程度较高。</p>
</blockquote>
<h2 id="损失函数的设计"> 损失函数的设计</h2>
<p><strong>双输入鉴别器函数定义如下：</strong></p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:3.0000000000000004em;vertical-align:-1.2500000000000002em;"></span><span><span><span><span><span><span style="height:1.7500000000000002em;"><span style="top:-3.91em;"><span style="height:3em;"></span><span><span><span style="margin-right:0.02778em;">D</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.00773em;">R</span><span>a</span></span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span><span>x</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span><span>x</span><span><span><span><span style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.10764em;">f</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>)</span></span></span><span style="top:-2.41em;"><span style="height:3em;"></span><span><span><span style="margin-right:0.02778em;">D</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.00773em;">R</span><span>a</span></span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span><span>x</span><span><span><span><span style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.10764em;">f</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span><span>x</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>)</span></span></span></span><span>​</span></span><span><span style="height:1.2500000000000002em;"><span></span></span></span></span></span><span><span><span><span style="height:1.7500000000000002em;"><span style="top:-3.91em;"><span style="height:3em;"></span><span><span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span><span style="margin-right:0.03588em;">σ</span><span>(</span><span style="margin-right:0.07153em;">C</span><span>(</span><span><span>x</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>)</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span><span><span>E</span><span><span><span><span style="height:0.33222299999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span><span>x</span><span><span><span><span style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:0em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.10764em;">f</span></span></span></span><span>​</span></span><span><span style="height:0.29011428571428566em;"><span></span></span></span></span></span></span><span>∼</span><span><span>P</span><span><span><span><span style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:0em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span><span style="margin-right:0.10764em;">f</span><span style="margin-right:0.03148em;">ak</span><span>e</span></span></span></span></span><span>​</span></span><span><span style="height:0.29011428571428566em;"><span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.35307999999999995em;"><span></span></span></span></span></span></span><span>[</span><span style="margin-right:0.07153em;">C</span><span>(</span><span><span>x</span><span><span><span><span style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.10764em;">f</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>)])</span></span></span><span style="top:-2.41em;"><span style="height:3em;"></span><span><span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span><span style="margin-right:0.03588em;">σ</span><span>(</span><span style="margin-right:0.07153em;">C</span><span>(</span><span><span>x</span><span><span><span><span style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.10764em;">f</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>)</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span><span><span>E</span><span><span><span><span style="height:0.33222299999999994em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span><span>x</span><span><span><span><span style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.143em;"><span></span></span></span></span></span></span><span>∼</span><span><span>P</span><span><span><span><span style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:0em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span><span>re</span><span>a</span><span style="margin-right:0.01968em;">l</span></span></span></span></span><span>​</span></span><span><span style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.25586em;"><span></span></span></span></span></span></span><span>[</span><span style="margin-right:0.07153em;">C</span><span>(</span><span><span>x</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>)])</span></span></span></span><span>​</span></span><span><span style="height:1.2500000000000002em;"><span></span></span></span></span></span></span></span></span></span></span></span></p>
<blockquote>
<p>注：这里的<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span style="margin-right:0.03588em;">σ</span></span></span></span>作者已经交代了，他没有使用sigmoid函数，而是使用MSE来评估两者的差异程度。</p>
<p>函数设计灵感是来自<a href="https://arxiv.org/abs/1807.00734" target="_blank" rel="noopener noreferrer">RaGAN</a></p>
</blockquote>
<p><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span><span style="margin-right:0.02778em;">D</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.00773em;">R</span><span>a</span></span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span>A</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.05017em;">B</span><span>)</span></span></span></span>函数运算的本质是计算A比B更真实的概率，并且应该认识到，该函数得到的结果应该是一个概率向量。</p>
<p><strong>损失函数定义分别如下</strong></p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:6.236432000000001em;vertical-align:-2.868216em;"></span><span><span><span><span><span><span style="height:3.3682160000000003em;"><span style="top:-5.469108em;"><span style="height:3em;"></span><span><span><span>L</span><span><span><span><span style="height:0.8991079999999998em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">D</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.01968em;">Gl</span><span>o</span><span>ba</span><span style="margin-right:0.01968em;">l</span></span></span></span></span><span>​</span></span><span><span style="height:0.247em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.91em;"><span style="height:3em;"></span><span><span><span>L</span><span><span><span><span style="height:0.8991079999999998em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>G</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.01968em;">Gl</span><span>o</span><span>ba</span><span style="margin-right:0.01968em;">l</span></span></span></span></span><span>​</span></span><span><span style="height:0.247em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.350892000000001em;"><span style="height:3em;"></span><span><span><span>L</span><span><span><span><span style="height:0.8991079999999998em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">D</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>L</span><span>oc</span><span>a</span><span style="margin-right:0.01968em;">l</span></span></span></span></span><span>​</span></span><span><span style="height:0.247em;"><span></span></span></span></span></span></span></span></span><span style="top:-0.7917840000000003em;"><span style="height:3em;"></span><span><span><span>L</span><span><span><span><span style="height:0.8991079999999998em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>G</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>L</span><span>oc</span><span>a</span><span style="margin-right:0.01968em;">l</span></span></span></span></span><span>​</span></span><span><span style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:2.868216em;"><span></span></span></span></span></span><span><span><span><span style="height:3.3682160000000003em;"><span style="top:-5.469108em;"><span style="height:3em;"></span><span><span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span><span><span>E</span><span><span><span><span style="height:0.33222299999999994em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span><span>x</span><span><span><span><span style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.143em;"><span></span></span></span></span></span></span><span>∼</span><span><span>P</span><span><span><span><span style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:0em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span><span>re</span><span>a</span><span style="margin-right:0.01968em;">l</span></span></span></span></span><span>​</span></span><span><span style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.25586em;"><span></span></span></span></span></span></span><span>[(</span><span><span style="margin-right:0.02778em;">D</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.00773em;">R</span><span>a</span></span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span><span>x</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span><span>x</span><span><span><span><span style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.10764em;">f</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>)</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span><span>1</span><span><span>)</span><span><span><span><span style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span></span></span></span></span><span>]</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span><span>E</span><span><span><span><span style="height:0.33222299999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span><span>x</span><span><span><span><span style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:0em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.10764em;">f</span></span></span></span><span>​</span></span><span><span style="height:0.29011428571428566em;"><span></span></span></span></span></span></span><span>∼</span><span><span>P</span><span><span><span><span style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:0em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span><span style="margin-right:0.10764em;">f</span><span style="margin-right:0.03148em;">ak</span><span>e</span></span></span></span></span><span>​</span></span><span><span style="height:0.29011428571428566em;"><span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.35307999999999995em;"><span></span></span></span></span></span></span><span>[</span><span><span style="margin-right:0.02778em;">D</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.00773em;">R</span><span>a</span></span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span><span>x</span><span><span><span><span style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.10764em;">f</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span><span>x</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span><span>)</span><span><span><span><span style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span></span></span></span></span><span>]</span></span></span><span style="top:-3.91em;"><span style="height:3em;"></span><span><span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span><span><span>E</span><span><span><span><span style="height:0.33222299999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span><span>x</span><span><span><span><span style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:0em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.10764em;">f</span></span></span></span><span>​</span></span><span><span style="height:0.29011428571428566em;"><span></span></span></span></span></span></span><span>∼</span><span><span>P</span><span><span><span><span style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:0em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span><span style="margin-right:0.10764em;">f</span><span style="margin-right:0.03148em;">ak</span><span>e</span></span></span></span></span><span>​</span></span><span><span style="height:0.29011428571428566em;"><span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.35307999999999995em;"><span></span></span></span></span></span></span><span>[(</span><span><span style="margin-right:0.02778em;">D</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.00773em;">R</span><span>a</span></span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span><span>x</span><span><span><span><span style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.10764em;">f</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span><span>x</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>)</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span><span>1</span><span><span>)</span><span><span><span><span style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span></span></span></span></span><span>]</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span><span>E</span><span><span><span><span style="height:0.33222299999999994em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span><span>x</span><span><span><span><span style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.143em;"><span></span></span></span></span></span></span><span>∼</span><span><span>P</span><span><span><span><span style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:0em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span><span>re</span><span>a</span><span style="margin-right:0.01968em;">l</span></span></span></span></span><span>​</span></span><span><span style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.25586em;"><span></span></span></span></span></span></span><span>[</span><span><span style="margin-right:0.02778em;">D</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.00773em;">R</span><span>a</span></span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span><span>x</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span><span>x</span><span><span><span><span style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.10764em;">f</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span><span>)</span><span><span><span><span style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span></span></span></span></span><span>]</span></span></span><span style="top:-2.350892000000001em;"><span style="height:3em;"></span><span><span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span><span><span>E</span><span><span><span><span style="height:0.33222299999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span><span>x</span><span><span><span><span style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.143em;"><span></span></span></span></span></span></span><span>∼</span><span><span>P</span><span><span><span><span style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:0em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span><span>re</span><span>a</span><span style="margin-right:0.01968em;">l</span><span>−</span><span>p</span><span>a</span><span>t</span><span>c</span><span>h</span><span>es</span></span></span></span></span><span>​</span></span><span><span style="height:0.29011428571428566em;"><span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.35307999999999995em;"><span></span></span></span></span></span></span><span>[(</span><span style="margin-right:0.02778em;">D</span><span>(</span><span><span>x</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>)</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span><span>1</span><span><span>)</span><span><span><span><span style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span></span></span></span></span><span>]</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span><span>E</span><span><span><span><span style="height:0.33222299999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span><span>x</span><span><span><span><span style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:0em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.10764em;">f</span></span></span></span><span>​</span></span><span><span style="height:0.29011428571428566em;"><span></span></span></span></span></span></span><span>∼</span><span><span>P</span><span><span><span><span style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:0em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span><span style="margin-right:0.10764em;">f</span><span style="margin-right:0.03148em;">ak</span><span>e</span><span>−</span><span>p</span><span>a</span><span>t</span><span>c</span><span>h</span><span>es</span></span></span></span></span><span>​</span></span><span><span style="height:0.29011428571428566em;"><span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.35307999999999995em;"><span></span></span></span></span></span></span><span>[(</span><span style="margin-right:0.02778em;">D</span><span>(</span><span><span>x</span><span><span><span><span style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.10764em;">f</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>)</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span><span>0</span><span><span>)</span><span><span><span><span style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span></span></span></span></span><span>]</span></span></span><span style="top:-0.7917840000000003em;"><span style="height:3em;"></span><span><span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span><span><span>E</span><span><span><span><span style="height:0.33222299999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span><span>x</span><span><span><span><span style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:0em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.10764em;">f</span></span></span></span><span>​</span></span><span><span style="height:0.29011428571428566em;"><span></span></span></span></span></span></span><span>∼</span><span><span>P</span><span><span><span><span style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:0em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span><span style="margin-right:0.10764em;">f</span><span style="margin-right:0.03148em;">ak</span><span>e</span><span>−</span><span>p</span><span>a</span><span>t</span><span>c</span><span>h</span><span>es</span></span></span></span></span><span>​</span></span><span><span style="height:0.29011428571428566em;"><span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.35307999999999995em;"><span></span></span></span></span></span></span><span>[(</span><span style="margin-right:0.02778em;">D</span><span>(</span><span><span>x</span><span><span><span><span style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.10764em;">f</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>)</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span><span>1</span><span><span>)</span><span><span><span><span style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span></span></span></span></span><span>]</span></span></span></span><span>​</span></span><span><span style="height:2.868216em;"><span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>这里则是设计了生成器和鉴别器的对抗关系，通过梯度下降法来优化各项，将各组数据的评估拉向不同方向来达成对抗训练的效果。</p>
<p><strong>自保留特征损失定义如下</strong>：</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.1413309999999999em;vertical-align:-0.25em;"></span><span><span>L</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.13889em;">SFP</span></span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span><span style="margin-right:0.07847em;">I</span><span><span><span><span style="height:0.8913309999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>L</span></span></span></span></span></span></span></span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:3.3398770000000004em;vertical-align:-1.403221em;"></span><span><span><span></span><span><span><span><span style="height:1.32144em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span><span style="margin-right:0.13889em;">W</span><span><span><span><span style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>i</span><span>,</span><span style="margin-right:0.05724em;">j</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span><span style="margin-right:0.08125em;">H</span><span><span><span><span style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.08125em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>i</span><span>,</span><span style="margin-right:0.05724em;">j</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.972108em;"><span></span></span></span></span></span><span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span><span><span style="height:1.9366560000000004em;"><span style="top:-1.882887em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span>x</span><span>=</span><span>1</span></span></span></span><span style="top:-3.050005em;"><span style="height:3.05em;"></span><span><span>∑</span></span></span><span style="top:-4.4083250000000005em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span><span style="margin-right:0.13889em;">W</span><span><span><span><span style="height:0.3280857142857143em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span><span>i</span><span>,</span><span style="margin-right:0.05724em;">j</span></span></span></span></span><span>​</span></span><span><span style="height:0.2818857142857143em;"><span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:1.267113em;"><span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span><span><span style="height:1.9366560000000002em;"><span style="top:-1.8828869999999998em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span style="margin-right:0.03588em;">y</span><span>=</span><span>1</span></span></span></span><span style="top:-3.0500049999999996em;"><span style="height:3.05em;"></span><span><span>∑</span></span></span><span style="top:-4.4083250000000005em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span><span style="margin-right:0.08125em;">H</span><span><span><span><span style="height:0.3280857142857143em;"><span style="top:-2.357em;margin-left:-0.08125em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span><span>i</span><span>,</span><span style="margin-right:0.05724em;">j</span></span></span></span></span><span>​</span></span><span><span style="height:0.2818857142857143em;"><span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:1.403221em;"><span></span></span></span></span></span><span>(</span><span><span>ϕ</span><span><span><span><span style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>i</span><span>,</span><span style="margin-right:0.05724em;">j</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>(</span><span><span style="margin-right:0.07847em;">I</span><span><span><span><span style="height:0.8913309999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>L</span></span></span></span></span></span></span></span><span>)</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1.177439em;vertical-align:-0.286108em;"></span><span><span>ϕ</span><span><span><span><span style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>i</span><span>,</span><span style="margin-right:0.05724em;">j</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>(</span><span>G</span><span>(</span><span><span style="margin-right:0.07847em;">I</span><span><span><span><span style="height:0.8913309999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>L</span></span></span></span></span></span></span></span><span>))</span><span><span>)</span><span><span><span><span style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>这里的<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span>ϕ</span></span></span></span>表示VGG网络，用于提取图像的深度特征。<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.1274389999999999em;vertical-align:-0.286108em;"></span><span><span>ϕ</span><span><span><span><span style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>i</span><span>,</span><span style="margin-right:0.05724em;">j</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>(</span><span><span style="margin-right:0.07847em;">I</span><span><span><span><span style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>L</span></span></span></span></span></span></span></span><span>)</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1.1274389999999999em;vertical-align:-0.286108em;"></span><span><span>ϕ</span><span><span><span><span style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>i</span><span>,</span><span style="margin-right:0.05724em;">j</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>(</span><span>G</span><span>(</span><span><span style="margin-right:0.07847em;">I</span><span><span><span><span style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>L</span></span></span></span></span></span></span></span><span>))</span></span></span></span>表示VGG将分别从真实图片和增强生成的图片中提取深度特征后再计算差异，因此上式表示深度特征差异的均值。</p>
<p><strong>生成器总损失定义如下</strong>：</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span>L</span><span>oss</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1.146108em;vertical-align:-0.247em;"></span><span><span>L</span><span><span><span><span style="height:0.8991079999999998em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.13889em;">SFP</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.01968em;">Gl</span><span>o</span><span>ba</span><span style="margin-right:0.01968em;">l</span></span></span></span></span><span>​</span></span><span><span style="height:0.247em;"><span></span></span></span></span></span></span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1.146108em;vertical-align:-0.247em;"></span><span><span>L</span><span><span><span><span style="height:0.8991079999999998em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.13889em;">SFP</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>L</span><span>oc</span><span>a</span><span style="margin-right:0.01968em;">l</span></span></span></span></span><span>​</span></span><span><span style="height:0.247em;"><span></span></span></span></span></span></span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1.146108em;vertical-align:-0.247em;"></span><span><span>L</span><span><span><span><span style="height:0.8991079999999998em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>G</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.01968em;">Gl</span><span>o</span><span>ba</span><span style="margin-right:0.01968em;">l</span></span></span></span></span><span>​</span></span><span><span style="height:0.247em;"><span></span></span></span></span></span></span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1.146108em;vertical-align:-0.247em;"></span><span><span>L</span><span><span><span><span style="height:0.8991079999999998em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>G</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>L</span><span>oc</span><span>a</span><span style="margin-right:0.01968em;">l</span></span></span></span></span><span>​</span></span><span><span style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span></span></p>
<p>对于生成器的损失则是以全局和局部联合作为整体来计算损失。</p>
<h2 id="问题与缺陷"> 问题与缺陷</h2>
<ol>
<li>经过训练后生成的图片存在严重的色彩损失。</li>
<li>对于细节特征丢失较严重「尤指毛发等」。</li>
<li>训练不稳定，经过实验，在Epoch 200左右出现梯度突变的情况。</li>
<li>较难找到较优的纳什均衡点。</li>
</ol>
<hr>
<h2 id="睿智作者的话-不必在意"> 睿智作者的话（不必在意）</h2>
<p>鸽了几个月了，因为这段时间一直都在做社团内的暑期考核，一直在忙碌于实验中，没挤时间更新博客，还望谅解。</p>
<p>虽然我成功通过暑期考核了，但毕竟还在上学阶段，软件工程本科生还是要好好做份内的事，因此关于机器学习的理论可能也没那么多时间去研究了。</p>
<p>我当然很想研究，但奈何知识太过匮乏，如今还落入了瓶颈期，不知该怎么办了。</p>
]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2021-09-17T14:32:24.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">Low Light Metrics</title>
    <id>https://breezeshane.github.io/ArtificialIntelligence/UnsupervisedLearning/LowLightMetrics/</id>
    <link href="https://breezeshane.github.io/ArtificialIntelligence/UnsupervisedLearning/LowLightMetrics/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<h1 id="low-light-metrics"> Low Light Metrics</h1>
<h2 id="content"> Content</h2>
<p>本文记录了LPIPS、SSIM、MAE、MSE、PSNR、NIQE和NIMA共计七个低照度指标，除了介绍相关背景、意义，也会提及算法实现的大致过程。</p>
<h2 id="lpips"> LPIPS</h2>
<p>全称：Learned Perceptual Image Patch Similarity，中文：学习感知图像块相似度，又称感知损失</p>
<p>是用于度量两张图像差别的一种指标，最开始由论文《The Unreasonable Effectiveness of Deep Features as a Perceptual Metric》提出。</p>
<center><font color="red">LPIPS值越低，表示两张图像越相似，反之则差异越大。</font></center>
<p>给定Ground Truth图像参照块<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>x</span></span></span></span>和含噪声图像失真块<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.58056em;vertical-align:-0.15em;"></span><span><span>x</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>0</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，由论文可知这两个块都是图像输入到AlexNet得到的。</p>
<p>感知相似度度量公式如下：</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>d</span><span>(</span><span>x</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span><span>x</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>0</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:2.759661em;vertical-align:-1.438221em;"></span><span><span><span><span style="height:1.0500050000000005em;"><span style="top:-1.847887em;margin-left:0em;"><span style="height:3.05em;"></span><span><span style="margin-right:0.01968em;">l</span></span></span><span style="top:-3.050005em;"><span style="height:3.05em;"></span><span><span>∑</span></span></span></span><span>​</span></span><span><span style="height:1.3021129999999999em;"><span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span></span><span><span><span><span style="height:1.32144em;"><span style="top:-2.3139999999999996em;"><span style="height:3em;"></span><span><span><span style="margin-right:0.08125em;">H</span><span><span><span><span style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.08125em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.01968em;">l</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span><span style="margin-right:0.13889em;">W</span><span><span><span><span style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.01968em;">l</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.8360000000000001em;"><span></span></span></span></span></span><span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span><span><span style="height:1.050005em;"><span style="top:-1.8478869999999998em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span>h</span><span>,</span><span style="margin-right:0.02691em;">w</span></span></span></span><span style="top:-3.0500049999999996em;"><span style="height:3.05em;"></span><span><span>∑</span></span></span></span><span>​</span></span><span><span style="height:1.438221em;"><span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span>∣∣</span><span><span style="margin-right:0.02691em;">w</span><span><span><span><span style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.01968em;">l</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.2222222222222222em;"></span><span>⊙</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1.1491079999999998em;vertical-align:-0.25em;"></span><span>(</span><span><span><span><span><span style="height:0.69444em;"><span style="top:-3em;"><span style="height:3em;"></span><span style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span style="height:3em;"></span><span style="left:-0.19444em;"><span>^</span></span></span></span><span>​</span></span><span><span style="height:0.19444em;"><span></span></span></span></span></span><span><span><span><span style="height:0.8991079999999998em;"><span style="top:-2.4530000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>h</span><span style="margin-right:0.02691em;">w</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.01968em;">l</span></span></span></span><span>​</span></span><span><span style="height:0.247em;"><span></span></span></span></span></span></span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1.1491079999999998em;vertical-align:-0.25em;"></span><span><span><span><span><span style="height:0.69444em;"><span style="top:-3em;"><span style="height:3em;"></span><span style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span style="height:3em;"></span><span style="left:-0.19444em;"><span>^</span></span></span></span><span>​</span></span><span><span style="height:0.19444em;"><span></span></span></span></span></span><span><span><span><span style="height:0.8991079999999998em;"><span style="top:-2.4530000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>0</span><span>h</span><span style="margin-right:0.02691em;">w</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.01968em;">l</span></span></span></span><span>​</span></span><span><span style="height:0.247em;"><span></span></span></span></span></span></span><span>)</span><span>∣</span><span><span>∣</span><span><span><span><span style="height:0.8641079999999999em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span><span>​</span></span><span><span style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span></span></p>
<p>其中，<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.69444em;vertical-align:0em;"></span><span>d</span></span></span></span>为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.58056em;vertical-align:-0.15em;"></span><span><span>x</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>0</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>与<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>x</span></span></span></span>之间的距离。从<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span>L</span></span></span></span>层提取特征堆(feature stack)并在通道维度中进行单位规格化(unit-normalize)。利用向量<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.58056em;vertical-align:-0.15em;"></span><span><span style="margin-right:0.02691em;">w</span><span><span><span><span style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.01968em;">l</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>来放缩激活通道数并计算<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.83333em;vertical-align:-0.15em;"></span><span><span>L</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>距离。最后在空间上平均，在通道上求和。</p>
<p>网络结构如下：</p>
<p><img src="/images/2021-08-06_00-59.png" alt="" /></p>
<p>基于学习的相似度得分损失函数公式如下：</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>L</span><span>(</span><span>x</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span><span>x</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>0</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span><span>x</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span>h</span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span>−</span><span>h</span><span style="margin-right:0.16666666666666666em;"></span><span>lo<span style="margin-right:0.01389em;">g</span></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.0593em;">G</span><span>[</span><span>d</span><span>(</span><span>x</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span><span>x</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>0</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>)</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span>d</span><span>(</span><span>x</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span><span>x</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>)]</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span>(</span><span>1</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span>h</span><span>)</span><span style="margin-right:0.16666666666666666em;"></span><span>lo<span style="margin-right:0.01389em;">g</span></span><span>{</span><span>1</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.0593em;">G</span><span>[</span><span>d</span><span>(</span><span>x</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span><span>x</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>0</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>)</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span>d</span><span>(</span><span>x</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span><span>x</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>)]}</span></span></span></span></span></p>
<p>给定Ground Truth图像参照块<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>x</span></span></span></span>和含噪声图像失真块<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.58056em;vertical-align:-0.15em;"></span><span><span>x</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>0</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>的距离<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.84444em;vertical-align:-0.15em;"></span><span><span>d</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>0</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>、Ground Truth图像参照块<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>x</span></span></span></span>和含噪声图像失真块<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.58056em;vertical-align:-0.15em;"></span><span><span>x</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>的距离<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.84444em;vertical-align:-0.15em;"></span><span><span>d</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，这两个距离均由AlexNet计算得出，在顶部训练一个网络<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.78055em;vertical-align:-0.09722em;"></span><span style="margin-right:0.0593em;">G</span></span></span></span>（包含2个32通道FC-ReLU层、1通道FC层和sigmoid层）映射到得分<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.69444em;vertical-align:0em;"></span><span>h</span></span></span></span>。这个得分也就是我们所求。</p>
<blockquote>
<p>依照个人理解这里的<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.69444em;vertical-align:0em;"></span><span>h</span></span></span></span>其实就是<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.0593em;">G</span><span>[</span><span>d</span><span>(</span><span>x</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span><span>x</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>0</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>)</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span>d</span><span>(</span><span>x</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span><span>x</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>)]</span></span></span></span>，而<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span>L</span></span></span></span>则代表信息熵「信息熵其实从某种意义上反映了<strong>信息量存储下来需要多少存储空间</strong>」，由于事件空间只有两种状态，对应的概率为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>{</span><span>p</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span>1</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span>p</span><span>}</span></span></span></span>。当该信息熵缩小时，不确定性也在逐渐减小，这意味着这两个概率的结果趋于一致，信息量存储所要的空间也趋向于最小「这也是我们所求的最优策略」。再看<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>p</span><span>(</span><span>x</span><span>)</span></span></span></span>和<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.001892em;vertical-align:-0.25em;"></span><span><span>p</span><span><span><span><span style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>′</span></span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span></span></span></span>分别表示<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.0593em;">G</span><span>[</span><span>d</span><span>(</span><span>x</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span><span>x</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>0</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>)</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span>d</span><span>(</span><span>x</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span><span>x</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>)]</span></span></span></span>和<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.72777em;vertical-align:-0.08333em;"></span><span>1</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.0593em;">G</span><span>[</span><span>d</span><span>(</span><span>x</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span><span>x</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>0</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>)</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span>d</span><span>(</span><span>x</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span><span>x</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>)]</span></span></span></span>，推敲一下不难发现他们代表的意义是<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.625em;vertical-align:-0.19444em;"></span><span><span>x</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>0</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span><span>x</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>的特征差距大小所映射的概率。</p>
</blockquote>
<h2 id="ssim"> SSIM</h2>
<p>全称：Structural Similarity Index，中文：结构相似性指数</p>
<p>**是一种用于量化两幅图像间的结构相似性的指标。**它仿照了人类视觉系统实现了结构相似性的有关理论，对局部结构变化的感知敏感。SSIM分别用均值来估计亮度，用方差来估计对比度，用协方差来估计结构相似程度。它的值域是[0,1]，而且当SSIM=1时，两张图片完全一致。</p>
<center><font color="red">SSIM越大，说明两张图片越相似。</font></center>
<p>给定两张图片A和B，两者之间的照明度(luminance)、对比度 (contrast) 和结构 (structure)分别如下公式所示：</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:7.9135339999999985em;vertical-align:-3.7067669999999993em;"></span><span><span><span><span><span style="height:4.206766999999999em;"><span style="top:-6.206766999999999em;"><span style="height:3.32144em;"></span><span><span style="margin-right:0.01968em;">l</span><span>(</span><span>x</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.03588em;">y</span><span>)</span></span></span><span style="top:-3.5162189999999995em;"><span style="height:3.32144em;"></span><span><span>c</span><span>(</span><span>x</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.03588em;">y</span><span>)</span></span></span><span style="top:-0.8867810000000007em;"><span style="height:3.32144em;"></span><span><span>s</span><span>(</span><span>x</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.03588em;">y</span><span>)</span></span></span></span><span>​</span></span><span><span style="height:3.7067669999999993em;"><span></span></span></span></span></span><span><span><span><span style="height:4.206766999999999em;"><span style="top:-6.206766999999999em;"><span style="height:3.32144em;"></span><span><span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span><span><span></span><span><span><span><span style="height:1.32144em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span><span>μ</span><span><span><span><span style="height:0.740108em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>x</span></span></span><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span><span>​</span></span><span><span style="height:0.247em;"><span></span></span></span></span></span></span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span><span>μ</span><span><span><span><span style="height:0.7401079999999999em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">y</span></span></span><span style="top:-2.989em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span><span>​</span></span><span><span style="height:0.383108em;"><span></span></span></span></span></span></span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span><span>c</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span>2</span><span><span>μ</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>x</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span><span>μ</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">y</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span><span>c</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:1.069108em;"><span></span></span></span></span></span><span></span></span></span></span><span style="top:-3.5162189999999995em;"><span style="height:3.32144em;"></span><span><span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span><span><span></span><span><span><span><span style="height:1.32144em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span><span style="margin-right:0.03588em;">σ</span><span><span><span><span style="height:0.740108em;"><span style="top:-2.4530000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>x</span></span></span><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span><span>​</span></span><span><span style="height:0.247em;"><span></span></span></span></span></span></span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span><span style="margin-right:0.03588em;">σ</span><span><span><span><span style="height:0.7401079999999999em;"><span style="top:-2.4530000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">y</span></span></span><span style="top:-2.989em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span><span>​</span></span><span><span style="height:0.383108em;"><span></span></span></span></span></span></span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span><span>c</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span>2</span><span><span style="margin-right:0.03588em;">σ</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>x</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span><span style="margin-right:0.03588em;">σ</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">y</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span><span>c</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:1.069108em;"><span></span></span></span></span></span><span></span></span></span></span><span style="top:-0.8867810000000007em;"><span style="height:3.32144em;"></span><span><span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span><span><span></span><span><span><span><span style="height:1.26033em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span><span style="margin-right:0.03588em;">σ</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>x</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span><span style="margin-right:0.03588em;">σ</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">y</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span><span>c</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>3</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span><span style="margin-right:0.03588em;">σ</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span style="margin-right:0.03588em;">y</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span><span>c</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>3</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.972108em;"><span></span></span></span></span></span><span></span></span></span></span></span><span>​</span></span><span><span style="height:3.7067669999999993em;"><span></span></span></span></span></span></span></span><span><span><span><span style="height:4.206766999999999em;"><span style="top:-6.206766999999999em;"><span style="height:3.32144em;"></span><span></span></span><span style="top:-3.5162189999999995em;"><span style="height:3.32144em;"></span><span></span></span><span style="top:-0.8867810000000007em;"><span style="height:3.32144em;"></span><span></span></span></span><span>​</span></span><span><span style="height:3.7067669999999993em;"><span></span></span></span></span></span></span></span></span></p>
<p>一般地，有：</p>
<ul>
<li><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.58056em;vertical-align:-0.15em;"></span><span><span>c</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>3</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1.056492em;vertical-align:-0.345em;"></span><span><span><span></span><span><span><span><span style="height:0.7114919999999999em;"><span style="top:-2.6550000000000002em;"><span style="height:3em;"></span><span><span><span>2</span></span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4101em;"><span style="height:3em;"></span><span><span><span><span>c</span><span><span><span><span style="height:0.31731428571428577em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span>2</span></span></span></span><span>​</span></span><span><span style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.345em;"><span></span></span></span></span></span><span></span></span></span></span></span></span></li>
<li><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.625em;vertical-align:-0.19444em;"></span><span><span>μ</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>x</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>x</span></span></span></span>的均值</li>
<li><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.716668em;vertical-align:-0.286108em;"></span><span><span>μ</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">y</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.625em;vertical-align:-0.19444em;"></span><span style="margin-right:0.03588em;">y</span></span></span></span>的均值</li>
<li><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.061108em;vertical-align:-0.247em;"></span><span><span style="margin-right:0.03588em;">σ</span><span><span><span><span style="height:0.8141079999999999em;"><span style="top:-2.4530000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>x</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span><span>​</span></span><span><span style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span>为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>x</span></span></span></span>的方差</li>
<li><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.197216em;vertical-align:-0.383108em;"></span><span><span style="margin-right:0.03588em;">σ</span><span><span><span><span style="height:0.8141079999999999em;"><span style="top:-2.4530000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">y</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span><span>​</span></span><span><span style="height:0.383108em;"><span></span></span></span></span></span></span></span></span></span>为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.625em;vertical-align:-0.19444em;"></span><span style="margin-right:0.03588em;">y</span></span></span></span>的方差</li>
<li><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.716668em;vertical-align:-0.286108em;"></span><span><span style="margin-right:0.03588em;">σ</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span style="margin-right:0.03588em;">y</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>x</span></span></span></span>与<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.625em;vertical-align:-0.19444em;"></span><span style="margin-right:0.03588em;">y</span></span></span></span>的协方差</li>
<li><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.58056em;vertical-align:-0.15em;"></span><span><span>c</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1.064108em;vertical-align:-0.25em;"></span><span>(</span><span><span style="margin-right:0.03148em;">k</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03148em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>L</span><span><span>)</span><span><span><span><span style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span></span></span></span></span></span></span></span>，<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.58056em;vertical-align:-0.15em;"></span><span><span>c</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1.064108em;vertical-align:-0.25em;"></span><span>(</span><span><span style="margin-right:0.03148em;">k</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03148em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>L</span><span><span>)</span><span><span><span><span style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span></span></span></span></span></span></span></span>为两个常数，是为了避免0作为除数的情况</li>
<li><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span>L</span></span></span></span>为像素值的范围，即<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.924661em;vertical-align:-0.08333em;"></span><span><span>2</span><span><span><span><span style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.05017em;">B</span></span></span></span></span></span></span></span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:0.64444em;vertical-align:0em;"></span><span>1</span></span></span></span></li>
<li><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.84444em;vertical-align:-0.15em;"></span><span><span style="margin-right:0.03148em;">k</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03148em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.64444em;vertical-align:0em;"></span><span>0.01</span></span></span></span>，<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.84444em;vertical-align:-0.15em;"></span><span><span style="margin-right:0.03148em;">k</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03148em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.64444em;vertical-align:0em;"></span><span>0.03</span></span></span></span>为默认值</li>
</ul>
<p>而SSIM被定义为：</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.05764em;">SS</span><span style="margin-right:0.07847em;">I</span><span style="margin-right:0.10903em;">M</span><span>(</span><span>x</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.03588em;">y</span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span>[</span><span style="margin-right:0.01968em;">l</span><span>(</span><span>x</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.03588em;">y</span><span><span>)</span><span><span><span><span style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.0037em;">α</span></span></span></span></span></span></span></span><span style="margin-right:0.2222222222222222em;"></span><span>⋅</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1.149108em;vertical-align:-0.25em;"></span><span>c</span><span>(</span><span>x</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.03588em;">y</span><span><span>)</span><span><span><span><span style="height:0.8991079999999999em;"><span style="top:-3.1130000000000004em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.05278em;">β</span></span></span></span></span></span></span></span><span style="margin-right:0.2222222222222222em;"></span><span>⋅</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span>s</span><span>(</span><span>x</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.03588em;">y</span><span><span>)</span><span><span><span><span style="height:0.714392em;"><span style="top:-3.1130000000000004em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.05556em;">γ</span></span></span></span></span></span></span></span><span>]</span></span></span></span></span></p>
<p>令<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span style="margin-right:0.0037em;">α</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span style="margin-right:0.05278em;">β</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.625em;vertical-align:-0.19444em;"></span><span style="margin-right:0.05556em;">γ</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.64444em;vertical-align:0em;"></span><span>1</span></span></span></span>，则有：</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.05764em;">SS</span><span style="margin-right:0.07847em;">I</span><span style="margin-right:0.10903em;">M</span><span>(</span><span>x</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.03588em;">y</span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:2.496108em;vertical-align:-1.069108em;"></span><span><span></span><span><span><span><span style="height:1.427em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span>(</span><span><span>μ</span><span><span><span><span style="height:0.740108em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>x</span></span></span><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span><span>​</span></span><span><span style="height:0.247em;"><span></span></span></span></span></span></span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span><span>μ</span><span><span><span><span style="height:0.7401079999999999em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">y</span></span></span><span style="top:-2.989em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span><span>​</span></span><span><span style="height:0.383108em;"><span></span></span></span></span></span></span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span><span>c</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>)</span><span>(</span><span><span style="margin-right:0.03588em;">σ</span><span><span><span><span style="height:0.740108em;"><span style="top:-2.4530000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>x</span></span></span><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span><span>​</span></span><span><span style="height:0.247em;"><span></span></span></span></span></span></span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span><span style="margin-right:0.03588em;">σ</span><span><span><span><span style="height:0.7401079999999999em;"><span style="top:-2.4530000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">y</span></span></span><span style="top:-2.989em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span><span>​</span></span><span><span style="height:0.383108em;"><span></span></span></span></span></span></span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span><span>c</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>)</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span>(</span><span>2</span><span><span>μ</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>x</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span><span>μ</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">y</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span><span>c</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>)</span><span>(</span><span>2</span><span><span style="margin-right:0.03588em;">σ</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span style="margin-right:0.03588em;">y</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span><span>c</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>)</span></span></span></span><span>​</span></span><span><span style="height:1.069108em;"><span></span></span></span></span></span><span></span></span></span></span></span></span></p>
<h2 id="mae"> MAE</h2>
<p>用于计算平均绝对误差，用来衡量两图片之间的差距，但由于绝对值符号的存在，求得的导数并不平滑，有些点导数不存在，因此不适合作为Loss，但它能很好地衡量差距。</p>
<center><font color="red">MAE越小，说明两张图片差距越小。</font></center>
<p>对于给定的两个图片<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>x</span></span></span></span>和<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.625em;vertical-align:-0.19444em;"></span><span style="margin-right:0.03588em;">y</span></span></span></span>，其计算公式如下：</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.10903em;">M</span><span>A</span><span style="margin-right:0.05764em;">E</span><span>(</span><span>x</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.03588em;">y</span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:3.2421130000000007em;vertical-align:-1.4137769999999998em;"></span><span><span><span></span><span><span><span><span style="height:1.32144em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span style="margin-right:0.13889em;">W</span><span style="margin-right:0.2222222222222222em;"></span><span>×</span><span style="margin-right:0.2222222222222222em;"></span><span style="margin-right:0.08125em;">H</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.7693300000000001em;"><span></span></span></span></span></span><span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span><span><span style="height:1.8283360000000004em;"><span style="top:-1.872331em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span>i</span><span>=</span><span>0</span></span></span></span><span style="top:-3.050005em;"><span style="height:3.05em;"></span><span><span>∑</span></span></span><span style="top:-4.300005em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span style="margin-right:0.13889em;">W</span><span>−</span><span>1</span></span></span></span></span><span>​</span></span><span><span style="height:1.277669em;"><span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span><span><span style="height:1.8283360000000006em;"><span style="top:-1.872331em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span style="margin-right:0.05724em;">j</span><span>=</span><span>0</span></span></span></span><span style="top:-3.050005em;"><span style="height:3.05em;"></span><span><span>∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span style="margin-right:0.08125em;">H</span><span>−</span><span>1</span></span></span></span></span><span>​</span></span><span><span style="height:1.4137769999999998em;"><span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span>∣</span><span>x</span><span>(</span><span>i</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.05724em;">j</span><span>)</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.03588em;">y</span><span>(</span><span>i</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.05724em;">j</span><span>)</span><span>∣</span></span></span></span></span></p>
<h2 id="mse"> MSE</h2>
<p>用于计算平均平方误差，用来衡量两图片之间的差距，平方的特性能很好地解决MAE导数不平滑问题，因此它既可以用作Loss的指导参考，又可以衡量差距。</p>
<center><font color="red">MSE越小，说明两张图片差距越小。</font></center>
<p>对于给定的两个图片<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>x</span></span></span></span>和<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.625em;vertical-align:-0.19444em;"></span><span style="margin-right:0.03588em;">y</span></span></span></span>，其计算公式如下：</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.05764em;">MSE</span><span>(</span><span>x</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.03588em;">y</span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:3.2421130000000007em;vertical-align:-1.4137769999999998em;"></span><span><span><span></span><span><span><span><span style="height:1.32144em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span style="margin-right:0.13889em;">W</span><span style="margin-right:0.2222222222222222em;"></span><span>×</span><span style="margin-right:0.2222222222222222em;"></span><span style="margin-right:0.08125em;">H</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.7693300000000001em;"><span></span></span></span></span></span><span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span><span><span style="height:1.8283360000000004em;"><span style="top:-1.872331em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span>i</span><span>=</span><span>0</span></span></span></span><span style="top:-3.050005em;"><span style="height:3.05em;"></span><span><span>∑</span></span></span><span style="top:-4.300005em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span style="margin-right:0.13889em;">W</span><span>−</span><span>1</span></span></span></span></span><span>​</span></span><span><span style="height:1.277669em;"><span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span><span><span style="height:1.8283360000000006em;"><span style="top:-1.872331em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span style="margin-right:0.05724em;">j</span><span>=</span><span>0</span></span></span></span><span style="top:-3.050005em;"><span style="height:3.05em;"></span><span><span>∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span style="margin-right:0.08125em;">H</span><span>−</span><span>1</span></span></span></span></span><span>​</span></span><span><span style="height:1.4137769999999998em;"><span></span></span></span></span></span><span>[</span><span>x</span><span>(</span><span>i</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.05724em;">j</span><span>)</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1.1141079999999999em;vertical-align:-0.25em;"></span><span style="margin-right:0.03588em;">y</span><span>(</span><span>i</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.05724em;">j</span><span>)</span><span><span>]</span><span><span><span><span style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span></span></span></span></span></span></span></span></span></p>
<h2 id="psnr"> PSNR</h2>
<p>全称：Peak Signal to Noise Ratio，中文：峰值信噪比</p>
<p>是一种评价图像质量的度量标准，但只是衡量最大值信号和背景噪音之间的图像质量参考值，具有局限性。PSNR的单位为dB，值越大对应图像的失真越少。</p>
<center><font color="red">一般来说，PSNR高于40dB说明图像质量几乎与原图一样好；在30-40dB之间通常表示图像质量的失真损失在可接受范围内；在20-30dB之间说明图像质量比较差；PSNR低于20dB说明图像失真严重。</font></center>
<p>给定一个大小为W×H的灰度图<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span style="margin-right:0.07847em;">I</span></span></span></span>和噪声图<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span style="margin-right:0.07153em;">K</span></span></span></span>来说，PSNR的定义为：</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span style="margin-right:0.00773em;">PSNR</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:2.177108em;vertical-align:-0.686em;"></span><span>10</span><span style="margin-right:0.16666666666666666em;"></span><span><span>lo<span style="margin-right:0.01389em;">g</span></span><span><span><span><span style="height:0.20696799999999996em;"><span style="top:-2.4558600000000004em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>10</span></span></span></span></span><span>​</span></span><span><span style="height:0.24414em;"><span></span></span></span></span></span></span><span>(</span><span><span></span><span><span><span><span style="height:1.491108em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span style="margin-right:0.05764em;">MSE</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span style="margin-right:0.10903em;">M</span><span>A</span><span><span style="margin-right:0.07847em;">X</span><span><span><span><span style="height:0.8141079999999999em;"><span style="top:-2.424669em;margin-left:-0.07847em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.07847em;">I</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span><span>​</span></span><span><span style="height:0.275331em;"><span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.686em;"><span></span></span></span></span></span><span></span></span><span>)</span></span></span></span></span></p>
<p>其中<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.83333em;vertical-align:-0.15em;"></span><span style="margin-right:0.10903em;">M</span><span>A</span><span><span style="margin-right:0.07847em;">X</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.07847em;">I</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>为图像中最大像素值，即B-bit的图像的<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.089439em;vertical-align:-0.275331em;"></span><span style="margin-right:0.10903em;">M</span><span>A</span><span><span style="margin-right:0.07847em;">X</span><span><span><span><span style="height:0.8141079999999999em;"><span style="top:-2.424669em;margin-left:-0.07847em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.07847em;">I</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span><span>​</span></span><span><span style="height:0.275331em;"><span></span></span></span></span></span></span></span></span></span>值为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.924661em;vertical-align:-0.08333em;"></span><span><span>2</span><span><span><span><span style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.05017em;">B</span></span></span></span></span></span></span></span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:0.64444em;vertical-align:0em;"></span><span>1</span></span></span></span>。一般地，针对 uint8 数据，最大像素值为255,；针对浮点型数据，最大像素值为1。</p>
<p>有三种方法来计算彩色RGB图像的PSNR：</p>
<ol>
<li>分别计算 RGB 三个通道的 PSNR，然后取平均值；</li>
<li>计算RGB各个通道的均方差的均值，然后统一求PSNR；</li>
<li>把RGB转化为 YCbCr，然后只计算 Y(亮度)分量的PSNR。</li>
</ol>
<h2 id="niqe"> NIQE</h2>
<p>全称：Naturalness Image Quality Evaluator，中文：自然图像质量评估</p>
<p>NIQE是ECCV 2018年PIRM比赛时的评价指标，是一种新的<strong>无参考</strong>图像质量指标。其原理与BRUSQUE一致，因为两者皆出自同一人之手。</p>
<center><font color="red">NIQE值越小越好。</font></center>
<p>前面36个特征提取方法几乎一模一样，但NIQE在提取图像统计特征时先对图像提取了感兴趣区域，这一点源自于人眼更倾向于以图像中更清晰的部分来判断图像质量。所以作者通过计算图像中不同patch的方差场来判别清晰度，选择大于一定阈值的清晰度为自然图像的patch，而失真图像采用全局计算NSS。</p>
<p>NIQE的建模过程比较复杂，分五大部分：</p>
<p>一、<strong>Spatial Domain NSS 提取图像空间域特征</strong></p>
<p>首先将图片进行归一化处理，得到MSCN系数：</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.19677em;vertical-align:-0.25em;"></span><span><span><span><span style="height:0.9467699999999999em;"><span style="top:-3em;"><span style="height:3em;"></span><span style="margin-right:0.07847em;">I</span></span><span style="top:-3.25233em;"><span style="height:3em;"></span><span style="left:-0.13889em;"><span>^</span></span></span></span></span></span></span><span>(</span><span>i</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.05724em;">j</span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:2.363em;vertical-align:-0.936em;"></span><span><span></span><span><span><span><span style="height:1.427em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span style="margin-right:0.03588em;">σ</span><span>(</span><span>i</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.05724em;">j</span><span>)</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span>1</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span style="margin-right:0.07847em;">I</span><span>(</span><span>i</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.05724em;">j</span><span>)</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span><span>μ</span><span>(</span><span>i</span><span>.</span><span style="margin-right:0.05724em;">j</span><span>)</span></span></span></span><span>​</span></span><span><span style="height:0.936em;"><span></span></span></span></span></span><span></span></span></span></span></span></span></p>
<p>该式表示高斯滤波后求局部均值和局部标准差，其中，</p>
<p>局部均值是对原始图像做高斯模糊处理，具体公式为：</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>μ</span><span>(</span><span>i</span><span>.</span><span style="margin-right:0.05724em;">j</span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:3.1887800000000004em;vertical-align:-1.360444em;"></span><span><span><span><span style="height:1.8283360000000002em;"><span style="top:-1.8478869999999998em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span style="margin-right:0.03148em;">k</span><span>=</span><span>−</span><span style="margin-right:0.07153em;">K</span></span></span></span><span style="top:-3.0500049999999996em;"><span style="height:3.05em;"></span><span><span>∑</span></span></span><span style="top:-4.300005em;margin-left:0em;"><span style="height:3.05em;"></span><span><span style="margin-right:0.07153em;">K</span></span></span></span><span>​</span></span><span><span style="height:1.360444em;"><span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span><span><span style="height:1.8283360000000002em;"><span style="top:-1.8478869999999998em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span style="margin-right:0.01968em;">l</span><span>=</span><span>−</span><span>L</span></span></span></span><span style="top:-3.0500049999999996em;"><span style="height:3.05em;"></span><span><span>∑</span></span></span><span style="top:-4.300005em;margin-left:0em;"><span style="height:3.05em;"></span><span><span>L</span></span></span></span><span>​</span></span><span><span style="height:1.360444em;"><span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span><span style="margin-right:0.02691em;">w</span><span><span><span><span style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.03148em;">k</span><span>,</span><span style="margin-right:0.01968em;">l</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span style="margin-right:0.07847em;">I</span><span>(</span><span>i</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span style="margin-right:0.03148em;">k</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.05724em;">j</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span style="margin-right:0.01968em;">l</span><span>)</span></span></span></span></span></span></p>
<p>局部标准差是对原始图像和局部均值的差的平方做高斯模糊处理，具体公式为：</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.03588em;">σ</span><span>(</span><span>i</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.05724em;">j</span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:3.4165300000000007em;vertical-align:-1.360444em;"></span><span><span><span><span style="height:2.0560860000000005em;"><span style="top:-5.376530000000001em;"><span style="height:5.376530000000001em;"></span><span style="padding-left:1.056em;"><span><span><span><span style="height:1.8283360000000002em;"><span style="top:-1.8478869999999998em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span style="margin-right:0.03148em;">k</span><span>=</span><span>−</span><span style="margin-right:0.07153em;">K</span></span></span></span><span style="top:-3.0500049999999996em;"><span style="height:3.05em;"></span><span><span>∑</span></span></span><span style="top:-4.300005em;margin-left:0em;"><span style="height:3.05em;"></span><span><span style="margin-right:0.07153em;">K</span></span></span></span><span>​</span></span><span><span style="height:1.360444em;"><span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span><span><span style="height:1.8283360000000002em;"><span style="top:-1.8478869999999998em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span style="margin-right:0.01968em;">l</span><span>=</span><span>−</span><span>L</span></span></span></span><span style="top:-3.0500049999999996em;"><span style="height:3.05em;"></span><span><span>∑</span></span></span><span style="top:-4.300005em;margin-left:0em;"><span style="height:3.05em;"></span><span><span>L</span></span></span></span><span>​</span></span><span><span style="height:1.360444em;"><span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span><span style="margin-right:0.02691em;">w</span><span><span><span><span style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.03148em;">k</span><span>,</span><span style="margin-right:0.01968em;">l</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>[</span><span style="margin-right:0.07847em;">I</span><span>(</span><span>i</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span style="margin-right:0.03148em;">k</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.05724em;">j</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span style="margin-right:0.01968em;">l</span><span>)</span></span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span><span>μ</span><span>(</span><span>i</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.05724em;">j</span><span>)</span><span><span>]</span><span><span><span><span style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span></span></span></span></span></span></span><span style="top:-4.0160860000000005em;"><span style="height:5.376530000000001em;"></span><span style="min-width:0.742em;height:3.4565300000000003em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='3.4565300000000003em' viewBox='0 0 400000 3456' preserveAspectRatio='xMinYMin slice'><path d='M702 80H40000040
H742v3322l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 80H400000v40H742z'/></svg></span></span></span><span>​</span></span><span><span style="height:1.360444em;"><span></span></span></span></span></span></span></span></span></span></p>
<p>二、<strong>Patch Selection 筛选图像块</strong></p>
<p>由于人类似乎更重视他们对清晰图像区域的图像质量判断。我们使用一个简单的设备从一组自然补丁中优先选择那些信息最丰富且不太可能受到限制失真的补丁。因此我们的筛选标准是:边缘更锐利的,包含信息内容更丰富的。</p>
<p>在归一化后,筛选前,作者将图像分成大小为PxP的若干个图像块(P=96),索引为b = 1,2,3,...,B，再对每个图像块求平均方差：</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.03785em;">δ</span><span>(</span><span>b</span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:2.5660100000000003em;vertical-align:-1.516005em;"></span><span style="position:relative;top:-0.000004999999999977245em;">∑</span><span style="margin-right:0.16666666666666666em;"></span><span><span><span><span style="height:1.050005em;"><span style="top:-1.808995em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span>(</span><span>i</span><span>,</span><span style="margin-right:0.05724em;">j</span><span>)</span><span>∈</span><span>p</span><span>a</span><span>t</span><span>hb</span></span></span></span><span style="top:-3.0500049999999996em;"><span style="height:3.05em;"></span><span><span>∑</span></span></span></span><span>​</span></span><span><span style="height:1.516005em;"><span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.03588em;">σ</span><span>(</span><span>i</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.05724em;">j</span><span>)</span></span></span></span></span></p>
<p>这里的<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.69444em;vertical-align:0em;"></span><span style="margin-right:0.03785em;">δ</span></span></span></span>代表局部图像的锐利程度。</p>
<p>在做筛选的时候，作者将所有的图像块的最大锐利程度的p倍设置为阈值，其中<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.7335400000000001em;vertical-align:-0.19444em;"></span><span>p</span><span style="margin-right:0.2777777777777778em;"></span><span>∈</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span>[</span><span>0.6</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span>0.9</span><span>]</span></span></span></span>，然后将大于阈值的图像块保留，小于阈值的图像全部丢弃。</p>
<p>三、<strong>Characterizing Image Patches 求图像块特征</strong></p>
<p>该部分用到GGD(广义高斯分布)和AGGD(非对称广义高斯分布)求图像块特征，首先利用GGD求取图像的两个特征：</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:5.433350000000001em;vertical-align:-2.4666750000000004em;"></span><span><span><span><span><span><span style="height:2.9666750000000004em;"><span style="top:-4.966675em;"><span style="height:3.427em;"></span><span><span style="margin-right:0.10764em;">f</span><span>(</span><span>x</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.0037em;">α</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.05278em;">β</span><span>)</span></span></span><span style="top:-2.1722749999999995em;"><span style="height:3.427em;"></span><span><span>Γ</span><span>(</span><span>a</span><span>)</span></span></span></span><span>​</span></span><span><span style="height:2.4666750000000004em;"><span></span></span></span></span></span><span><span><span><span style="height:2.9666750000000004em;"><span style="top:-4.966675em;"><span style="height:3.427em;"></span><span><span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span><span><span></span><span><span><span><span style="height:1.10756em;"><span style="top:-2.2648919999999997em;"><span style="height:3em;"></span><span><span>2</span><span style="margin-right:0.05278em;">β</span><span style="margin-right:0.16666666666666666em;"></span><span>Γ</span><span>(</span><span><span><span></span><span><span><span><span style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span style="height:3em;"></span><span><span><span style="margin-right:0.0037em;">α</span></span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span style="height:3em;"></span><span><span><span>1</span></span></span></span></span><span>​</span></span><span><span style="height:0.345em;"><span></span></span></span></span></span><span></span></span></span><span>)</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span style="margin-right:0.0037em;">α</span></span></span></span><span>​</span></span><span><span style="height:1.080108em;"><span></span></span></span></span></span><span></span></span><span style="margin-right:0.16666666666666666em;"></span><span>e</span><span>x</span><span>p</span><span>[</span><span>−</span><span>(</span><span><span></span><span><span><span><span style="height:1.427em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span style="margin-right:0.05278em;">β</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span>∣</span><span>x</span><span>∣</span></span></span></span><span>​</span></span><span><span style="height:0.8804400000000001em;"><span></span></span></span></span></span><span></span></span><span><span>)</span><span><span><span><span style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.0037em;">α</span></span></span></span></span></span></span></span><span>]</span></span></span><span style="top:-2.1722749999999995em;"><span style="height:3.427em;"></span><span><span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span><span><span style="margin-right:0.44445em;position:relative;top:-0.0011249999999999316em;">∫</span><span><span><span><span style="height:1.414292em;"><span style="top:-1.7880500000000001em;margin-left:-0.44445em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>0</span></span></span><span style="top:-3.8129000000000004em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>∞</span></span></span></span><span>​</span></span><span><span style="height:0.9119499999999999em;"><span></span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span>t</span><span><span><span><span style="height:0.864108em;"><span style="top:-3.113em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>a</span><span>−</span><span>1</span></span></span></span></span></span></span></span></span><span><span>e</span><span><span><span><span style="height:0.843556em;"><span style="top:-3.113em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>−</span><span>t</span></span></span></span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span>d</span><span>t</span><span style="margin-right:2em;"></span><span>a</span><span style="margin-right:0.2777777777777778em;"></span><span>&gt;</span><span style="margin-right:0.2777777777777778em;"></span><span>0</span></span></span></span><span>​</span></span><span><span style="height:2.4666750000000004em;"><span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>并且使用了快速匹配算法得到了参数ɑ和β。</p>
<p>四、<strong>Multivariate Gaussian Model 多元高斯模型</strong></p>
<p>已知有拟合高斯模型（MVG）：</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span><span style="margin-right:0.10764em;">f</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.07847em;">X</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span><span>x</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>…</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span><span>x</span><span><span><span><span style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03148em;">k</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:2.42602em;vertical-align:-1.10458em;"></span><span><span></span><span><span><span><span style="height:1.32144em;"><span style="top:-2.14543em;"><span style="height:3em;"></span><span><span>(</span><span>2</span><span style="margin-right:0.03588em;">π</span><span><span>)</span><span><span><span><span style="height:0.9645699999999999em;"><span style="top:-3.3485500000000004em;margin-right:0.05em;"><span style="height:3em;"></span><span><span><span><span></span><span><span><span><span style="height:0.8800285714285714em;"><span style="top:-2.656em;"><span style="height:3em;"></span><span><span><span>2</span></span></span></span><span style="top:-3.2255000000000003em;"><span style="height:3em;"></span><span style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span style="height:3em;"></span><span><span><span style="margin-right:0.03148em;">k</span></span></span></span></span><span>​</span></span><span><span style="height:0.344em;"><span></span></span></span></span></span><span></span></span></span></span></span></span></span></span></span></span><span>∣</span><span style="margin-right:0.16666666666666666em;"></span><span style="position:relative;top:-0.0000050000000000050004em;">∑</span><span style="margin-right:0.16666666666666666em;"></span><span><span>∣</span><span><span><span><span style="height:0.93957em;"><span style="top:-3.3485500000000004em;margin-right:0.05em;"><span style="height:3em;"></span><span><span><span><span></span><span><span><span><span style="height:0.8443142857142858em;"><span style="top:-2.656em;"><span style="height:3em;"></span><span><span><span>2</span></span></span></span><span style="top:-3.2255000000000003em;"><span style="height:3em;"></span><span style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span style="height:3em;"></span><span><span><span>1</span></span></span></span></span><span>​</span></span><span><span style="height:0.344em;"><span></span></span></span></span></span><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:1.10458em;"><span></span></span></span></span></span><span></span></span><span style="margin-right:0.2222222222222222em;"></span><span>×</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1.20001em;vertical-align:-0.35001em;"></span><span>e</span><span>x</span><span>p</span><span><span>[</span></span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:2.00744em;vertical-align:-0.686em;"></span><span><span><span></span><span><span><span><span style="height:1.32144em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span>2</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.686em;"><span></span></span></span></span></span><span></span></span></span><span>(</span><span>x</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1.1413309999999999em;vertical-align:-0.25em;"></span><span style="margin-right:0.06366em;">ν</span><span><span>)</span><span><span><span><span style="height:0.8913309999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span><span>Σ</span><span><span><span><span style="height:0.864108em;"><span style="top:-3.113em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>−</span><span>1</span></span></span></span></span></span></span></span></span><span>(</span><span>x</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1.20001em;vertical-align:-0.35001em;"></span><span style="margin-right:0.06366em;">ν</span><span>)</span><span><span>]</span></span></span></span></span></span></p>
<p>输入每张清晰图像的特征参数后得到上式，对其做最大似然估计后将得到该模型的均值向量<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span style="margin-right:0.06366em;">ν</span></span></span></span>和协方差矩阵<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span>Σ</span></span></span></span>。</p>
<p>五、<strong>NIQE Index 最终得分</strong></p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">D</span><span>(</span><span><span style="margin-right:0.06366em;">ν</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.06366em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span><span style="margin-right:0.06366em;">ν</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.06366em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span><span>Σ</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span><span>Σ</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:2.44em;vertical-align:-0.7689599999999999em;"></span><span><span><span><span style="height:1.67104em;"><span style="top:-4.4em;"><span style="height:4.4em;"></span><span style="padding-left:1em;"><span>(</span><span><span style="margin-right:0.06366em;">ν</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.06366em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span><span><span style="margin-right:0.06366em;">ν</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.06366em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span><span>)</span><span><span><span><span style="height:0.767331em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span>(</span></span><span><span></span><span><span><span><span style="height:1.36033em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span>2</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span><span>Σ</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span><span>Σ</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.686em;"><span></span></span></span></span></span><span></span></span><span><span><span>)</span></span><span><span><span><span style="height:1.054008em;"><span style="top:-3.3029em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>−</span><span>1</span></span></span></span></span></span></span></span></span><span>(</span><span><span style="margin-right:0.06366em;">ν</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.06366em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span><span><span style="margin-right:0.06366em;">ν</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.06366em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>)</span></span></span><span style="top:-3.6310400000000005em;"><span style="height:4.4em;"></span><span style="min-width:1.02em;height:2.48em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='2.48em' viewBox='0 0 400000 2592' preserveAspectRatio='xMinYMin slice'><path d='M424,2478
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l0 -0c4,-6.7,10,-10,18,-10 H400000
v40H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M1001 80
h400000v40h-400000z'/></svg></span></span></span><span>​</span></span><span><span style="height:0.7689599999999999em;"><span></span></span></span></span></span></span></span></span></span></p>
<p>由上式即可得出最终得分，<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.58056em;vertical-align:-0.15em;"></span><span><span style="margin-right:0.06366em;">ν</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.06366em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>、<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.83333em;vertical-align:-0.15em;"></span><span><span>Σ</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>是一组清晰图像得到的均值向量和协方差矩阵，而<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.58056em;vertical-align:-0.15em;"></span><span><span style="margin-right:0.06366em;">ν</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.06366em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>、<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.83333em;vertical-align:-0.15em;"></span><span><span>Σ</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>是输入的低质量图像得到的均值向量和协方差矩阵。</p>
<h2 id="nima"> NIMA</h2>
<p>全称：Neural Image Assessment，中文：图像质量评估</p>
<p>NIMA算法是对任意图像都生成评分直方图，即对图像进行1～10分的打分，并直接比较同一主题的图像, 这种设计跟人的评分系统产生的直方图在形式上吻合，且评估效果更接近人类评估的结果。而且这篇论文侧重的是从美学角度进行评分。作者是基于CNN进行训练的，就是将CNN的最后一层替换为具有10个神经元的全连接层，然后进行softmax激活。</p>
<center><font color="red">NIMA分值越高，代表图像质量越好</font></center>
<p>该指标算法流程如下：在模型训练的时候，将输入图像缩放为256×256，然后随机提取大小为224×224的裁剪块。训练的目标是预测给定图像的评级分布。这就是预测结果的直方图和真实直方图的比较。</p>
]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2021-08-06T01:10:00.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">Generative Adversarial Networks</title>
    <id>https://breezeshane.github.io/ArtificialIntelligence/UnsupervisedLearning/StandardGAN/</id>
    <link href="https://breezeshane.github.io/ArtificialIntelligence/UnsupervisedLearning/StandardGAN/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<h1 id="generative-adversarial-networks"> Generative Adversarial Networks</h1>
<blockquote>
<p><strong>经过接受GAN的洗礼，我感觉我整个人都变得“睿智”了。。。</strong></p>
</blockquote>
<h2 id="一、什么是gan"> 一、什么是GAN？</h2>
<p>GAN，Generative Adversarial Networks的简称，译名为生成对抗网络。顾名思义，该模型主要聚焦数据生成的相关问题，最早的相关资料出现在2014年的一篇论文中，相对算是较新的一种机器学习方向，近期依旧热门。而这一切正是因为GAN在一些领域上表现效果惊人而备受关注。从学习方式分类上去看，普遍认为GAN属于无监督学习（少部分人认为属于弱监督学习，另外也有些情况是有监督学习，这个仁者见仁智者见智的事不必追究）。</p>
<p>在今天这个DL火热的时期，数据集匮乏的问题日益凸显，越来越多的数据难于收集、筛选，这也会凸显监督学习的局限性，因为缺乏数据集意味着无法进行学习。生成对抗网络的诞生，为减缓数据资源匮乏、质量低下的问题提供了一种思路、一种解决方案。因此有人据此认为GAN大有前景。</p>
<h2 id="二、gan能做什么-效果如何"> 二、GAN能做什么？效果如何？</h2>
<p>当下的GAN已经可以做许多事，生成图像、提高图像清晰度、生成动画、生成视频、生成音乐、风格迁移、图像融合、图像修复等等，并且表现十分出色。</p>
<p>学习过程中的第一个GAN是2014年提出的最原始的GAN，其运行效果如下图：</p>
<p><img src="https://breezeshane.github.io/images/2021-04-26_15-58.png" alt="2021-04-26_15-58" /></p>
<p>不难发现它表（GAN）现（de）糟（piào）糕（liàng），出现了严重的欠拟合和过拟合，实在让人大跌眼镜。</p>
<p>虽然只是个简单的GAN网络模型，但局限性非常多，原始GAN最大的缺点是训练不稳定，很可能上次运行效果颇佳，下次就令人大失所望，何况这种问题并不是设置种子、调整参数就可以改善的。因此此后将进一步学习WGAN来解决这一问题。</p>
<p>经过重复实验几次，均发现该网络可以良好地收敛，不会因随机性问题导致前者不稳定问题。</p>
<h2 id="三、gan的组成是什么"> 三、GAN的组成是什么？</h2>
<p>GAN主要由两部分组成，一是生成器，二是判别器。但GAN并不仅局限于此，可以另外有其他部分，我有在考虑引入预训练的模型和深度网络模型从而完成相应的更复杂的问题。不论如何，GAN网络都会有这两部分，两者不可或缺。</p>
<h2 id="四、gan的原理是什么"> 四、GAN的原理是什么？</h2>
<p>GAN的基本思路和形式是生成器和判别器之间的博弈。为了能生成良好的数据，具有判别能力的判别器成了一种必须。因此训练顺序已经很明显了，应该优先训练判别器，而后再训练生成器「但现在来看，其实有一同训练的」。GAN的两部分被设计成天然敌对的状态，生成器要欺瞒判别器，而判别器要识破生成器，两者因这一关系的存在而水平不断提高（这和生物学上的共同进化有异曲同工之妙），最终生成器可以达到以假乱真的程度。而判别器仅仅是附属陪同训练的网络，并不是人们真正需要的。</p>
<p>根据2014年最初的GAN论文，目标函数的定义如下：</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:3.401851em;vertical-align:-1.4509255em;"></span><span><span><span><span><span><span style="height:1.9509255em;"><span style="top:-4.1109255000000005em;"><span style="height:3em;"></span><span><span><span><span><span><span style="height:0.66786em;"><span style="top:-2.355669em;margin-left:0em;"><span style="height:3em;"></span><span><span><span>G</span></span></span></span><span style="top:-3em;"><span style="height:3em;"></span><span><span><span>min</span></span></span></span></span><span>​</span></span><span><span style="height:0.744331em;"><span></span></span></span></span></span></span><span><span><span><span><span style="height:0.43055999999999983em;"><span style="top:-2.355669em;margin-left:0em;"><span style="height:3em;"></span><span><span><span style="margin-right:0.02778em;">D</span></span></span></span><span style="top:-3em;"><span style="height:3em;"></span><span><span><span>max</span></span></span></span></span><span>​</span></span><span><span style="height:0.7443310000000001em;"><span></span></span></span></span></span></span><span>L</span><span>(</span><span>G</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.02778em;">D</span><span>)</span></span></span><span style="top:-2.2265945em;"><span style="height:3em;"></span><span></span></span></span><span>​</span></span><span><span style="height:1.4509255em;"><span></span></span></span></span></span><span><span><span><span style="height:1.9509255em;"><span style="top:-4.1109255000000005em;"><span style="height:3em;"></span><span><span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span><span><span style="margin-right:0.05764em;">E</span><span><span><span><span style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:-0.05764em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.143em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span></span></span></span></span><span>​</span></span><span><span style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span>[</span><span>lo<span style="margin-right:0.01389em;">g</span></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.02778em;">D</span><span>(</span><span>x</span><span>)]</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span><span style="margin-right:0.05764em;">E</span><span><span><span><span style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:-0.05764em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.04398em;">z</span><span>∼</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.04398em;">z</span></span></span></span><span>​</span></span><span><span style="height:0.143em;"><span></span></span></span></span></span></span><span>(</span><span style="margin-right:0.04398em;">z</span><span>)</span></span></span></span></span><span>​</span></span><span><span style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span>[</span><span>lo<span style="margin-right:0.01389em;">g</span></span><span>(</span><span>1</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span><span style="margin-right:0.02778em;">D</span><span>(</span><span>G</span><span>(</span><span style="margin-right:0.04398em;">z</span><span>)))]</span></span></span><span style="top:-2.2265945em;"><span style="height:3em;"></span><span><span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span><span><span style="margin-right:0.05764em;">E</span><span><span><span><span style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:-0.05764em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.143em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span></span></span></span></span><span>​</span></span><span><span style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span>[</span><span>lo<span style="margin-right:0.01389em;">g</span></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.02778em;">D</span><span>(</span><span>x</span><span>)]</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span><span style="margin-right:0.05764em;">E</span><span><span><span><span style="height:0.34479999999999994em;"><span style="top:-2.5198em;margin-left:-0.05764em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285716em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.2818857142857143em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span></span></span></span></span><span>​</span></span><span><span style="height:0.3775199999999999em;"><span></span></span></span></span></span></span><span>[</span><span>lo<span style="margin-right:0.01389em;">g</span></span><span>(</span><span>1</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span><span style="margin-right:0.02778em;">D</span><span>(</span><span>x</span><span>))]</span></span></span></span><span>​</span></span><span><span style="height:1.4509255em;"><span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>注意：图中的<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.03853em;vertical-align:-0.3551999999999999em;"></span><span><span style="margin-right:0.05764em;">E</span><span><span><span><span style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:-0.05764em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span><span><span><span style="margin-right:0.13889em;">P</span></span><span><span><span><span style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span><span style="margin-right:0.02778em;">r</span></span></span></span></span><span>​</span></span><span><span style="height:0.143em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span></span></span></span></span><span>​</span></span><span><span style="height:0.3551999999999999em;"><span></span></span></span></span></span></span></span></span></span>是指识别真实图像符合标准的期望，而<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.0608499999999998em;vertical-align:-0.3775199999999999em;"></span><span><span style="margin-right:0.05764em;">E</span><span><span><span><span style="height:0.34479999999999994em;"><span style="top:-2.5198em;margin-left:-0.05764em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285716em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span><span style="margin-right:0.03588em;">g</span></span></span></span></span><span>​</span></span><span><span style="height:0.2818857142857143em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span></span></span></span></span><span>​</span></span><span><span style="height:0.3775199999999999em;"><span></span></span></span></span></span></span></span></span></span>是指生成图像符合标准的期望</p>
<p>并且针对期望的求法有这个公式（后面推导要用到）：</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.05764em;">E</span><span>[</span><span style="margin-right:0.10764em;">f</span><span>(</span><span>x</span><span>)]</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:2.22225em;vertical-align:-0.86225em;"></span><span style="margin-right:0.44445em;position:relative;top:-0.0011249999999999316em;">∫</span><span style="margin-right:0.16666666666666666em;"></span><span>p</span><span>(</span><span>x</span><span>)</span><span style="margin-right:0.10764em;">f</span><span>(</span><span>x</span><span>)</span><span>d</span><span>x</span></span></span></span></span></p>
<p>从这个总公式可以看出，min和max的相互矛盾已经天然地设计了敌对关系——D增大意味着判别能力增强，从而在识别真实图像符合标准的期望增大的同时导致生成图像符合标准的期望减损，这与最终需求是相矛盾的，而G减小会导致生成图像符合标准的期望又回升，因此最终可以确定这是一种损失函数。</p>
<p>确定判别器的数学表达式现在成了必须：</p>
<p>要注意，这里是针对max而求，G暂且还是固定的常量，因此问题被转换成了求最大值的问题：</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:13.506008000000001em;vertical-align:-6.503004000000001em;"></span><span><span><span><span><span><span style="height:7.003004em;"><span style="top:-9.070003999999999em;"><span style="height:3.427em;"></span><span><span style="margin-right:0.22222em;">V</span><span>(</span><span>G</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.02778em;">D</span><span>)</span></span></span><span style="top:-6.498054em;"><span style="height:3.427em;"></span><span></span></span><span style="top:-4.446104em;"><span style="height:3.427em;"></span><span></span></span><span style="top:-2.3591039999999994em;"><span style="height:3.427em;"></span><span><span><span>则</span></span><span><span style="margin-right:0.10764em;">f</span><span><span><span><span style="height:0.801892em;"><span style="top:-3.113em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>′</span></span></span></span></span></span></span></span><span>(</span><span>λ</span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span></span></span><span style="top:-0.28310399999999936em;"><span style="height:3.427em;"></span><span></span></span><span style="top:1.8038960000000006em;"><span style="height:3.427em;"></span><span></span></span></span><span>​</span></span><span><span style="height:6.503004000000001em;"><span></span></span></span></span></span><span><span><span><span style="height:7.003004em;"><span style="top:-9.070003999999999em;"><span style="height:3.427em;"></span><span><span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span><span><span style="margin-right:0.44445em;position:relative;top:-0.0011249999999999316em;">∫</span><span><span><span><span style="height:-0.6105579999999999em;"><span style="top:-1.7880500000000001em;margin-left:-0.44445em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>x</span></span></span></span><span>​</span></span><span><span style="height:0.9119499999999999em;"><span></span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span>p</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span><span style="margin-right:0.16666666666666666em;"></span><span>lo<span style="margin-right:0.01389em;">g</span></span><span>(</span><span style="margin-right:0.02778em;">D</span><span>(</span><span>x</span><span>))</span><span>d</span><span>x</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span><span style="margin-right:0.44445em;position:relative;top:-0.0011249999999999316em;">∫</span><span><span><span><span style="height:-0.6105579999999999em;"><span style="top:-1.7880500000000001em;margin-left:-0.44445em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.04398em;">z</span></span></span></span><span>​</span></span><span><span style="height:0.9119499999999999em;"><span></span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span>p</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.04398em;">z</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span style="margin-right:0.04398em;">z</span><span>)</span><span style="margin-right:0.16666666666666666em;"></span><span>lo<span style="margin-right:0.01389em;">g</span></span><span>(</span><span>1</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span><span style="margin-right:0.02778em;">D</span><span>(</span><span>G</span><span>(</span><span style="margin-right:0.04398em;">z</span><span>)))</span><span>d</span><span style="margin-right:0.04398em;">z</span></span></span><span style="top:-6.498054em;"><span style="height:3.427em;"></span><span><span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span><span><span style="margin-right:0.44445em;position:relative;top:-0.0011249999999999316em;">∫</span><span><span><span><span style="height:-0.6105579999999999em;"><span style="top:-1.7880500000000001em;margin-left:-0.44445em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>x</span></span></span></span><span>​</span></span><span><span style="height:0.9119499999999999em;"><span></span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span>p</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span><span style="margin-right:0.16666666666666666em;"></span><span>lo<span style="margin-right:0.01389em;">g</span></span><span>(</span><span style="margin-right:0.02778em;">D</span><span>(</span><span>x</span><span>))</span><span>d</span><span>x</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span><span>p</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span><span style="margin-right:0.16666666666666666em;"></span><span>lo<span style="margin-right:0.01389em;">g</span></span><span>(</span><span>1</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span><span style="margin-right:0.02778em;">D</span><span>(</span><span>x</span><span>))</span><span>d</span><span>x</span></span></span><span style="top:-4.446104em;"><span style="height:3.427em;"></span><span><span></span><span><span>设</span></span><span style="margin-right:0.10764em;">f</span><span>(</span><span>λ</span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span><span>φ</span><span style="margin-right:0.16666666666666666em;"></span><span>lo<span style="margin-right:0.01389em;">g</span></span><span style="margin-right:0.16666666666666666em;"></span><span>λ</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span style="margin-right:0.03588em;">ψ</span><span style="margin-right:0.16666666666666666em;"></span><span>lo<span style="margin-right:0.01389em;">g</span></span><span>(</span><span>1</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span><span>λ</span><span>)</span><span><span>,</span><span>其中</span></span><span>λ</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span><span style="margin-right:0.02778em;">D</span><span>(</span><span>x</span><span>)</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span>φ</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span><span><span>p</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.03588em;">ψ</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span><span><span>p</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span></span></span><span style="top:-2.3591039999999994em;"><span style="height:3.427em;"></span><span><span></span><span><span></span><span><span><span><span style="height:1.1075599999999999em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span>λ</span><span style="margin-right:0.16666666666666666em;"></span><span>ln</span><span style="margin-right:0.16666666666666666em;"></span><span>10</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span>φ</span></span></span></span><span>​</span></span><span><span style="height:0.686em;"><span></span></span></span></span></span><span></span></span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span><span><span></span><span><span><span><span style="height:1.3714399999999998em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span>(</span><span>1</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span><span>λ</span><span>)</span><span style="margin-right:0.16666666666666666em;"></span><span>ln</span><span style="margin-right:0.16666666666666666em;"></span><span>10</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span style="margin-right:0.03588em;">ψ</span></span></span></span><span>​</span></span><span><span style="height:0.936em;"><span></span></span></span></span></span><span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span><span><span></span><span><span><span><span style="height:1.32144em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span>ln</span><span style="margin-right:0.16666666666666666em;"></span><span>10</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.686em;"><span></span></span></span></span></span><span></span></span><span><span>(</span></span><span><span><span></span><span><span><span><span style="height:1.1075599999999999em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span>λ</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span>φ</span></span></span></span><span>​</span></span><span><span style="height:0.686em;"><span></span></span></span></span></span><span></span></span></span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span><span><span><span></span><span><span><span><span style="height:1.3714399999999998em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span>1</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span><span>λ</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span style="margin-right:0.03588em;">ψ</span></span></span></span><span>​</span></span><span><span style="height:0.7693300000000001em;"><span></span></span></span></span></span><span></span></span></span><span><span>)</span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span><span><span><span></span><span><span><span><span style="height:1.32144em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span>ln</span><span style="margin-right:0.16666666666666666em;"></span><span>10</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.686em;"><span></span></span></span></span></span><span></span></span></span><span style="margin-right:0.2222222222222222em;"></span><span>⋅</span><span style="margin-right:0.2222222222222222em;"></span><span><span></span><span><span><span><span style="height:1.427em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span>(</span><span>1</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span><span>λ</span><span>)</span><span style="margin-right:0.16666666666666666em;"></span><span>ln</span><span style="margin-right:0.16666666666666666em;"></span><span>10</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span>φ</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span><span>(</span><span>φ</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span style="margin-right:0.03588em;">ψ</span><span>)</span><span>λ</span></span></span></span><span>​</span></span><span><span style="height:0.936em;"><span></span></span></span></span></span><span></span></span></span></span><span style="top:-0.28310399999999936em;"><span style="height:3.427em;"></span><span><span></span><span style="margin-right:2em;"></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span><span>令</span></span><span><span style="margin-right:0.10764em;">f</span><span><span><span><span style="height:0.801892em;"><span style="top:-3.113em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>′</span></span></span></span></span></span></span></span><span>(</span><span>λ</span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span><span>0</span><span><span>,</span><span>则</span></span><span>φ</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span><span>(</span><span>φ</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span style="margin-right:0.03588em;">ψ</span><span>)</span><span>λ</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span><span>0</span></span></span><span style="top:1.8038960000000006em;"><span style="height:3.427em;"></span><span><span></span><span style="margin-right:0.2777777777777778em;"></span><span>∴</span><span style="margin-right:0.2777777777777778em;"></span><span>λ</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span><span><span></span><span><span><span><span style="height:1.1075599999999999em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span>φ</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span style="margin-right:0.03588em;">ψ</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span>φ</span></span></span></span><span>​</span></span><span><span style="height:0.8804400000000001em;"><span></span></span></span></span></span><span></span></span><span><span>即</span></span><span style="margin-right:0.02778em;">D</span><span>(</span><span>x</span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span><span><span></span><span><span><span><span style="height:1.427em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span><span>p</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span><span>p</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span><span>p</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span></span></span></span><span>​</span></span><span><span style="height:0.972108em;"><span></span></span></span></span></span><span></span></span></span></span></span><span>​</span></span><span><span style="height:6.503004000000001em;"><span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>「注」：Pr(x)和Pg(x)在每一个确定的x中都有确定的常数，因此求导时被看作常量。</p>
<p><img src="https://breezeshane.github.io/images/2021-04-24_20-10.png" alt="" /></p>
<p>判别器的推导完成，需要做的是后续的损失函数的推导，用到了JS散度和KL散度的问题，这里给出相应定义：</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span><span style="margin-right:0.02778em;">D</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.07153em;">K</span><span>L</span></span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span>p</span><span>∣∣</span><span style="margin-right:0.03588em;">q</span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:2.363em;vertical-align:-0.936em;"></span><span><span style="margin-right:0.44445em;position:relative;top:-0.0011249999999999316em;">∫</span><span><span><span><span style="height:-0.6105579999999999em;"><span style="top:-1.7880500000000001em;margin-left:-0.44445em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>x</span></span></span></span><span>​</span></span><span><span style="height:0.9119499999999999em;"><span></span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span>p</span><span>(</span><span>x</span><span>)</span><span style="margin-right:0.01968em;">l</span><span>o</span><span style="margin-right:0.03588em;">g</span><span><span></span><span><span><span><span style="height:1.427em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span style="margin-right:0.03588em;">q</span><span>(</span><span>x</span><span>)</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span>p</span><span>(</span><span>x</span><span>)</span></span></span></span><span>​</span></span><span><span style="height:0.936em;"><span></span></span></span></span></span><span></span></span><span>d</span><span>x</span></span></span></span></span></p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.83333em;vertical-align:-0.15em;"></span><span><span style="margin-right:0.02778em;">D</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.09618em;">J</span><span style="margin-right:0.05764em;">S</span></span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:2.00744em;vertical-align:-0.686em;"></span><span><span></span><span><span><span><span style="height:1.32144em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span>2</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.686em;"><span></span></span></span></span></span><span></span></span><span><span style="margin-right:0.02778em;">D</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.07153em;">K</span><span>L</span></span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span>p</span><span>∣∣</span><span><span></span><span><span><span><span style="height:1.2603300000000002em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span>2</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span>p</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span style="margin-right:0.03588em;">q</span></span></span></span><span>​</span></span><span><span style="height:0.686em;"><span></span></span></span></span></span><span></span></span><span>)</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:2.00744em;vertical-align:-0.686em;"></span><span><span></span><span><span><span><span style="height:1.32144em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span>2</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.686em;"><span></span></span></span></span></span><span></span></span><span><span style="margin-right:0.02778em;">D</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.07153em;">K</span><span>L</span></span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span style="margin-right:0.03588em;">q</span><span>∣∣</span><span><span></span><span><span><span><span style="height:1.2603300000000002em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span>2</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span>p</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span style="margin-right:0.03588em;">q</span></span></span></span><span>​</span></span><span><span style="height:0.686em;"><span></span></span></span></span></span><span></span></span><span>)</span></span></span></span></span></p>
<p>这两者的图像如下：</p>
<p><img src="https://breezeshane.github.io/images/2021-04-24_21-04.png" alt="" /></p>
<p>需要的损失函数是关于JS散度的，确定这一表达式，损失函数才能真正落实使用。</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:12.511204em;vertical-align:-6.005601999999999em;"></span><span><span><span><span><span><span style="height:6.505602em;"><span style="top:-8.544162em;"><span style="height:3.3600000000000003em;"></span><span><span><span style="margin-right:0.02778em;">D</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.09618em;">J</span><span style="margin-right:0.05764em;">S</span></span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-6.198162em;"><span style="height:3.3600000000000003em;"></span><span></span></span><span style="top:-3.5660539999999994em;"><span style="height:3.3600000000000003em;"></span><span></span></span><span style="top:-0.9339459999999999em;"><span style="height:3.3600000000000003em;"></span><span></span></span><span style="top:1.6596019999999982em;"><span style="height:3.3600000000000003em;"></span><span></span></span></span><span>​</span></span><span><span style="height:6.005601999999999em;"><span></span></span></span></span></span><span><span><span><span style="height:6.505602em;"><span style="top:-8.544162em;"><span style="height:3.3600000000000003em;"></span><span><span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span><span><span><span></span><span><span><span><span style="height:1.32144em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span>2</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.686em;"><span></span></span></span></span></span><span></span></span></span><span><span style="margin-right:0.02778em;">D</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.07153em;">K</span><span>L</span></span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span>p</span><span>∣∣</span><span><span></span><span><span><span><span style="height:1.2603300000000002em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span>2</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span>p</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span style="margin-right:0.03588em;">q</span></span></span></span><span>​</span></span><span><span style="height:0.686em;"><span></span></span></span></span></span><span></span></span><span>)</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span><span><span></span><span><span><span><span style="height:1.32144em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span>2</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.686em;"><span></span></span></span></span></span><span></span></span></span><span><span style="margin-right:0.02778em;">D</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.07153em;">K</span><span>L</span></span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span>p</span><span>∣∣</span><span><span></span><span><span><span><span style="height:1.2603300000000002em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span>2</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span>p</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span style="margin-right:0.03588em;">q</span></span></span></span><span>​</span></span><span><span style="height:0.686em;"><span></span></span></span></span></span><span></span></span><span>)</span></span></span><span style="top:-6.198162em;"><span style="height:3.3600000000000003em;"></span><span><span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span><span><span><span></span><span><span><span><span style="height:1.32144em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span>2</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.686em;"><span></span></span></span></span></span><span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.44445em;position:relative;top:-0.0011249999999999316em;">∫</span><span style="margin-right:0.16666666666666666em;"></span><span><span>p</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span><span style="margin-right:0.16666666666666666em;"></span><span>lo<span style="margin-right:0.01389em;">g</span></span><span style="margin-right:0.16666666666666666em;"></span><span><span><span></span><span><span><span><span style="height:1.32144em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span><span>p</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span><span>p</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span>2</span><span><span>p</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.972108em;"><span></span></span></span></span></span><span></span></span></span><span>d</span><span>x</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span><span><span></span><span><span><span><span style="height:1.32144em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span>2</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.686em;"><span></span></span></span></span></span><span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.44445em;position:relative;top:-0.0011249999999999316em;">∫</span><span style="margin-right:0.16666666666666666em;"></span><span><span>p</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span><span style="margin-right:0.16666666666666666em;"></span><span>lo<span style="margin-right:0.01389em;">g</span></span><span style="margin-right:0.16666666666666666em;"></span><span><span><span></span><span><span><span><span style="height:1.32144em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span><span>p</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span><span>p</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span>2</span><span><span>p</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.972108em;"><span></span></span></span></span></span><span></span></span></span><span>d</span><span>x</span></span></span><span style="top:-3.5660539999999994em;"><span style="height:3.3600000000000003em;"></span><span><span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span><span><span><span></span><span><span><span><span style="height:1.32144em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span>2</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.686em;"><span></span></span></span></span></span><span></span></span></span><span><span>(</span></span><span style="margin-right:0.16666666666666666em;"></span><span>lo<span style="margin-right:0.01389em;">g</span></span><span style="margin-right:0.16666666666666666em;"></span><span>2</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.44445em;position:relative;top:-0.0011249999999999316em;">∫</span><span style="margin-right:0.16666666666666666em;"></span><span><span>p</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span style="margin-right:0.44445em;position:relative;top:-0.0011249999999999316em;">∫</span><span style="margin-right:0.16666666666666666em;"></span><span><span>p</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span><span style="margin-right:0.16666666666666666em;"></span><span>lo<span style="margin-right:0.01389em;">g</span></span><span style="margin-right:0.16666666666666666em;"></span><span><span><span></span><span><span><span><span style="height:1.1075599999999999em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span><span>p</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span><span>p</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span><span>p</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.972108em;"><span></span></span></span></span></span><span></span></span></span><span>d</span><span>x</span><span><span>)</span></span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span><span><span></span><span><span><span><span style="height:1.32144em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span>2</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.686em;"><span></span></span></span></span></span><span></span></span></span><span><span>(</span></span><span style="margin-right:0.16666666666666666em;"></span><span>lo<span style="margin-right:0.01389em;">g</span></span><span style="margin-right:0.16666666666666666em;"></span><span>2</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.44445em;position:relative;top:-0.0011249999999999316em;">∫</span><span style="margin-right:0.16666666666666666em;"></span><span><span>p</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span style="margin-right:0.44445em;position:relative;top:-0.0011249999999999316em;">∫</span><span style="margin-right:0.16666666666666666em;"></span><span><span>p</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span><span style="margin-right:0.16666666666666666em;"></span><span>lo<span style="margin-right:0.01389em;">g</span></span><span style="margin-right:0.16666666666666666em;"></span><span><span><span></span><span><span><span><span style="height:1.1075599999999999em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span><span>p</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span><span>p</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span><span>p</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.972108em;"><span></span></span></span></span></span><span></span></span></span><span>d</span><span>x</span><span><span>)</span></span></span></span><span style="top:-0.9339459999999999em;"><span style="height:3.3600000000000003em;"></span><span><span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span><span><span><span></span><span><span><span><span style="height:1.32144em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span>2</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.686em;"><span></span></span></span></span></span><span></span></span></span><span>(</span><span>2</span><span style="margin-right:0.16666666666666666em;"></span><span>lo<span style="margin-right:0.01389em;">g</span></span><span style="margin-right:0.16666666666666666em;"></span><span>2</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span style="margin-right:0.44445em;position:relative;top:-0.0011249999999999316em;">∫</span><span style="margin-right:0.16666666666666666em;"></span><span><span>p</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span><span style="margin-right:0.16666666666666666em;"></span><span>lo<span style="margin-right:0.01389em;">g</span></span><span style="margin-right:0.16666666666666666em;"></span><span><span></span><span><span><span><span style="height:1.1075599999999999em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span><span>p</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span><span>p</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span><span>p</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.972108em;"><span></span></span></span></span></span><span></span></span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span><span>p</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span><span style="margin-right:0.16666666666666666em;"></span><span>lo<span style="margin-right:0.01389em;">g</span></span><span style="margin-right:0.16666666666666666em;"></span><span><span></span><span><span><span><span style="height:1.1075599999999999em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span><span>p</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span><span>p</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span><span>p</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.972108em;"><span></span></span></span></span></span><span></span></span><span>d</span><span>x</span><span>)</span></span></span><span style="top:1.6596019999999982em;"><span style="height:3.3600000000000003em;"></span><span><span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span><span><span><span></span><span><span><span><span style="height:1.32144em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span>2</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.686em;"><span></span></span></span></span></span><span></span></span></span><span>(</span><span>2</span><span style="margin-right:0.16666666666666666em;"></span><span>lo<span style="margin-right:0.01389em;">g</span></span><span style="margin-right:0.16666666666666666em;"></span><span>2</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span>L</span><span>(</span><span>G</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.02778em;">D</span><span>))</span></span></span></span><span>​</span></span><span><span style="height:6.005601999999999em;"><span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>因此得知损失函数和JS散度存在如下关系：</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>L</span><span>(</span><span>G</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.02778em;">D</span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1.036108em;vertical-align:-0.286108em;"></span><span>2</span><span><span style="margin-right:0.02778em;">D</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.09618em;">J</span><span style="margin-right:0.05764em;">S</span></span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>∣∣</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>)</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span>2</span><span style="margin-right:0.01968em;">l</span><span>o</span><span style="margin-right:0.03588em;">g</span><span>2</span></span></span></span></span></p>
<p>理论指导实践。严格论证才能真正保证模型的严谨性，具有准确性、可信度与说服力。</p>
<h2 id="五、gan如何实现"> 五、GAN如何实现？</h2>
<p>此部分共享了相关代码，主要用于构建原始GAN网络。<a href="https://github.com/dragen1860/Deep-Learning-with-PyTorch-Tutorials" target="_blank" rel="noopener noreferrer">参考资料</a></p>
<div><pre><code><span>import</span> torch
<span>from</span> torch <span>import</span> nn<span>,</span> optim<span>,</span> autograd
<span>import</span> numpy <span>as</span> np
<span>import</span> visdom
<span>import</span> random
<span>from</span> torch<span>.</span>nn <span>import</span> functional <span>as</span> F
<span>from</span> matplotlib <span>import</span> pyplot <span>as</span> plt
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br></div></div><p>这里交代了所有需要的支持运行库，其中visdom是torch的基于Web平台开发的一种可视化图形绘制工具，支持实时动态更新绘制。</p>
<p>另外，<code>from torch.nn import functional as F</code>这里其实是用不上的，原作者写上这个可能是出于其他考虑，至少在纯粹的GAN这里是用不了的，介意者可删除。</p>
<div><pre><code>h_dim <span>=</span> <span>400</span>
batchsz <span>=</span> <span>512</span>
viz <span>=</span> visdom<span>.</span>Visdom<span>(</span><span>)</span>


<span>class</span> <span>Generator</span><span>(</span>nn<span>.</span>Module<span>)</span><span>:</span>
    <span>def</span> <span>__init__</span><span>(</span>self<span>,</span> hide_layer<span>=</span><span>2</span><span>)</span><span>:</span>
        <span>super</span><span>(</span>Generator<span>,</span> self<span>)</span><span>.</span>__init__<span>(</span><span>)</span>

        self<span>.</span>net <span>=</span> nn<span>.</span>Sequential<span>(</span>
            nn<span>.</span>Linear<span>(</span>hide_layer<span>,</span> h_dim<span>)</span><span>,</span>
            nn<span>.</span>ReLU<span>(</span><span>True</span><span>)</span><span>,</span>
            nn<span>.</span>Linear<span>(</span>h_dim<span>,</span> h_dim<span>)</span><span>,</span>
            nn<span>.</span>ReLU<span>(</span><span>True</span><span>)</span><span>,</span>
            nn<span>.</span>Linear<span>(</span>h_dim<span>,</span> h_dim<span>)</span><span>,</span>
            nn<span>.</span>ReLU<span>(</span><span>True</span><span>)</span><span>,</span>
            nn<span>.</span>Linear<span>(</span>h_dim<span>,</span> <span>2</span><span>)</span><span>,</span>
        <span>)</span>

    <span>def</span> <span>forward</span><span>(</span>self<span>,</span> z<span>)</span><span>:</span>
        output <span>=</span> self<span>.</span>net<span>(</span>z<span>)</span>
        <span>return</span> output


<span>class</span> <span>Discriminator</span><span>(</span>nn<span>.</span>Module<span>)</span><span>:</span>

    <span>def</span> <span>__init__</span><span>(</span>self<span>,</span> hide_layer<span>=</span><span>2</span><span>)</span><span>:</span>
        <span>super</span><span>(</span>Discriminator<span>,</span> self<span>)</span><span>.</span>__init__<span>(</span><span>)</span>

        self<span>.</span>net <span>=</span> nn<span>.</span>Sequential<span>(</span>
            nn<span>.</span>Linear<span>(</span>hide_layer<span>,</span> h_dim<span>)</span><span>,</span>
            nn<span>.</span>ReLU<span>(</span><span>True</span><span>)</span><span>,</span>
            nn<span>.</span>Linear<span>(</span>h_dim<span>,</span> h_dim<span>)</span><span>,</span>
            nn<span>.</span>ReLU<span>(</span><span>True</span><span>)</span><span>,</span>
            nn<span>.</span>Linear<span>(</span>h_dim<span>,</span> h_dim<span>)</span><span>,</span>
            nn<span>.</span>ReLU<span>(</span><span>True</span><span>)</span><span>,</span>
            nn<span>.</span>Linear<span>(</span>h_dim<span>,</span> <span>1</span><span>)</span><span>,</span>
            nn<span>.</span>Sigmoid<span>(</span><span>)</span><span>,</span>
        <span>)</span>

    <span>def</span> <span>forward</span><span>(</span>self<span>,</span> x<span>)</span><span>:</span>
        output <span>=</span> self<span>.</span>net<span>(</span>x<span>)</span>
        <span>return</span> output<span>.</span>view<span>(</span><span>-</span><span>1</span><span>)</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br><span>18</span><br><span>19</span><br><span>20</span><br><span>21</span><br><span>22</span><br><span>23</span><br><span>24</span><br><span>25</span><br><span>26</span><br><span>27</span><br><span>28</span><br><span>29</span><br><span>30</span><br><span>31</span><br><span>32</span><br><span>33</span><br><span>34</span><br><span>35</span><br><span>36</span><br><span>37</span><br><span>38</span><br><span>39</span><br><span>40</span><br><span>41</span><br><span>42</span><br><span>43</span><br></div></div><p>这里开始设定判别器和生成器的规范类，原作者在设计网络结构的时候在第一层输入层是直接设定为（2, h_dim）矩阵，然而原作者提及这里的2可以改成其他数据，这只是设定了隐藏层层数（原作者的说法如此，这种说法依然尚存疑点。）</p>
<p>阿航和小蔡建议这里直接设置参数。这一建议获得采纳的原因在于它可以增强GAN的通用性，可以在一些特定场景下自由设置相应参数。参考ConSinGAN的实例可以知道，设置默认参数值的方式非常常见。</p>
<p>另外生成器的规范类定义中针对net的定义，最后一层的输出是一个(h_dim, 2)矩阵，这里的2则和前面的含义不同，它是指输出数据的维度（原作者的解释是这样）。判别器中的最后一层同理。</p>
<div><pre><code><span>def</span> <span>data_generator</span><span>(</span><span>)</span><span>:</span>
    scale <span>=</span> <span>2</span><span>.</span>
    centers <span>=</span> <span>[</span>
        <span>(</span><span>1</span><span>,</span> <span>0</span><span>)</span><span>,</span>
        <span>(</span><span>-</span><span>1</span><span>,</span> <span>0</span><span>)</span><span>,</span>
        <span>(</span><span>0</span><span>,</span> <span>1</span><span>)</span><span>,</span>
        <span>(</span><span>0</span><span>,</span> <span>-</span><span>1</span><span>)</span><span>,</span>
        <span>(</span><span>1</span><span>.</span> <span>/</span> np<span>.</span>sqrt<span>(</span><span>2</span><span>)</span><span>,</span> <span>1</span><span>.</span> <span>/</span> np<span>.</span>sqrt<span>(</span><span>2</span><span>)</span><span>)</span><span>,</span>
        <span>(</span><span>1</span><span>.</span> <span>/</span> np<span>.</span>sqrt<span>(</span><span>2</span><span>)</span><span>,</span> <span>-</span><span>1</span><span>.</span> <span>/</span> np<span>.</span>sqrt<span>(</span><span>2</span><span>)</span><span>)</span><span>,</span>
        <span>(</span><span>-</span><span>1</span><span>.</span> <span>/</span> np<span>.</span>sqrt<span>(</span><span>2</span><span>)</span><span>,</span> <span>1</span><span>.</span> <span>/</span> np<span>.</span>sqrt<span>(</span><span>2</span><span>)</span><span>)</span><span>,</span>
        <span>(</span><span>-</span><span>1</span><span>.</span> <span>/</span> np<span>.</span>sqrt<span>(</span><span>2</span><span>)</span><span>,</span> <span>-</span><span>1</span><span>.</span> <span>/</span> np<span>.</span>sqrt<span>(</span><span>2</span><span>)</span><span>)</span><span>,</span>
    <span>]</span>
    centers <span>=</span> <span>[</span><span>(</span>scale <span>*</span> x<span>,</span> scale <span>*</span> y<span>)</span> <span>for</span> x<span>,</span> y <span>in</span> centers<span>]</span>

    <span>while</span> <span>True</span><span>:</span>
        dataset <span>=</span> <span>[</span><span>]</span>

        <span>for</span> i <span>in</span> <span>range</span><span>(</span>batchsz<span>)</span><span>:</span>
            point <span>=</span> np<span>.</span>random<span>.</span>randn<span>(</span><span>2</span><span>)</span> <span>*</span> <span>0.02</span>
            center <span>=</span> random<span>.</span>choice<span>(</span>centers<span>)</span>
            point<span>[</span><span>0</span><span>]</span> <span>+=</span> center<span>[</span><span>0</span><span>]</span>
            point<span>[</span><span>1</span><span>]</span> <span>+=</span> center<span>[</span><span>1</span><span>]</span>
            dataset<span>.</span>append<span>(</span>point<span>)</span>

        dataset <span>=</span> np<span>.</span>array<span>(</span>dataset<span>)</span><span>.</span>astype<span>(</span>np<span>.</span>float32<span>)</span>
        dataset <span>/=</span> <span>1.414</span>
        <span>yield</span> dataset
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br><span>18</span><br><span>19</span><br><span>20</span><br><span>21</span><br><span>22</span><br><span>23</span><br><span>24</span><br><span>25</span><br><span>26</span><br><span>27</span><br></div></div><p>这里设定了生成数据的方法，原作者避开广泛使用的MNIST数据集，而采用了高斯模型数据集。</p>
<p>这段代码有一个地方挺有趣：<code>centers = [(scale * x, scale * y) for x, y in centers]</code></p>
<p>这种写法被一些人戏称为Python倒装句写法（尚未查证是否被广泛接受）。这行代码与下面的代码等效：</p>
<div><pre><code>centers <span>=</span> <span>[</span><span>]</span>
<span>for</span> x<span>,</span> y <span>in</span> centers<span>:</span>
    _ <span>=</span> <span>(</span>scale <span>*</span> x<span>,</span> scale <span>*</span> y<span>)</span>
    centers<span>.</span>append<span>(</span>_<span>)</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br></div></div><p>不过显然前者的写法要简洁得多了。</p>
<p>值得注意的是最后一行的yield，其作用是保存循环的状态，会保存上一次的运行状况，下一次开始循环的时候会从上一次停止的地方继续，而不是重新开始，因此原作者写死循环依然可以正常运行。</p>
<div><pre><code><span>def</span> <span>generate_image</span><span>(</span>D<span>,</span> G<span>,</span> x_r<span>,</span> epoch<span>)</span><span>:</span>
    N_POINTS <span>=</span> <span>128</span>
    RANGE <span>=</span> <span>3</span>
    plt<span>.</span>clf<span>(</span><span>)</span>
    x_r <span>=</span> x_r<span>.</span>cpu<span>(</span><span>)</span>


    points <span>=</span> np<span>.</span>zeros<span>(</span><span>(</span>N_POINTS<span>,</span> N_POINTS<span>,</span> <span>2</span><span>)</span><span>,</span> dtype<span>=</span><span>'float32'</span><span>)</span>
    points<span>[</span><span>:</span><span>,</span> <span>:</span><span>,</span> <span>0</span><span>]</span> <span>=</span> np<span>.</span>linspace<span>(</span><span>-</span>RANGE<span>,</span> RANGE<span>,</span> N_POINTS<span>)</span><span>[</span><span>:</span><span>,</span> <span>None</span><span>]</span>
    points<span>[</span><span>:</span><span>,</span> <span>:</span><span>,</span> <span>1</span><span>]</span> <span>=</span> np<span>.</span>linspace<span>(</span><span>-</span>RANGE<span>,</span> RANGE<span>,</span> N_POINTS<span>)</span><span>[</span><span>None</span><span>,</span> <span>:</span><span>]</span>
    points <span>=</span> points<span>.</span>reshape<span>(</span><span>(</span><span>-</span><span>1</span><span>,</span> <span>2</span><span>)</span><span>)</span>
    <span># (16384, 2)</span>
    <span># print('p:', points.shape)</span>

    <span># draw contour</span>
    <span>with</span> torch<span>.</span>no_grad<span>(</span><span>)</span><span>:</span>
        points <span>=</span> torch<span>.</span>Tensor<span>(</span>points<span>)</span><span>.</span>cuda<span>(</span><span>)</span> <span># [16384, 2]</span>
        disc_map <span>=</span> D<span>(</span>points<span>)</span><span>.</span>cpu<span>(</span><span>)</span><span>.</span>numpy<span>(</span><span>)</span> <span># [16384]</span>
    x <span>=</span> y <span>=</span> np<span>.</span>linspace<span>(</span><span>-</span>RANGE<span>,</span> RANGE<span>,</span> N_POINTS<span>)</span>
    cs <span>=</span> plt<span>.</span>contour<span>(</span>x<span>,</span> y<span>,</span> disc_map<span>.</span>reshape<span>(</span><span>(</span><span>len</span><span>(</span>x<span>)</span><span>,</span> <span>len</span><span>(</span>y<span>)</span><span>)</span><span>)</span><span>.</span>transpose<span>(</span><span>)</span><span>)</span>
    plt<span>.</span>clabel<span>(</span>cs<span>,</span> inline<span>=</span><span>1</span><span>,</span> fontsize<span>=</span><span>10</span><span>)</span>
    <span># plt.colorbar()</span>


    <span># draw samples</span>
    <span>with</span> torch<span>.</span>no_grad<span>(</span><span>)</span><span>:</span>
        z <span>=</span> torch<span>.</span>randn<span>(</span>batchsz<span>,</span> <span>2</span><span>)</span><span>.</span>cuda<span>(</span><span>)</span> <span># [b, 2]</span>
        samples <span>=</span> G<span>(</span>z<span>)</span><span>.</span>cpu<span>(</span><span>)</span><span>.</span>numpy<span>(</span><span>)</span> <span># [b, 2]</span>
    plt<span>.</span>scatter<span>(</span>x_r<span>[</span><span>:</span><span>,</span> <span>0</span><span>]</span><span>,</span> x_r<span>[</span><span>:</span><span>,</span> <span>1</span><span>]</span><span>,</span> c<span>=</span><span>'orange'</span><span>,</span> marker<span>=</span><span>'.'</span><span>)</span>
    plt<span>.</span>scatter<span>(</span>samples<span>[</span><span>:</span><span>,</span> <span>0</span><span>]</span><span>,</span> samples<span>[</span><span>:</span><span>,</span> <span>1</span><span>]</span><span>,</span> c<span>=</span><span>'green'</span><span>,</span> marker<span>=</span><span>'+'</span><span>)</span>

    viz<span>.</span>matplot<span>(</span>plt<span>,</span> win<span>=</span><span>'contour'</span><span>,</span> opts<span>=</span><span>dict</span><span>(</span>title<span>=</span><span>'p(x):%d'</span> <span>%</span> epoch<span>)</span><span>)</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br><span>18</span><br><span>19</span><br><span>20</span><br><span>21</span><br><span>22</span><br><span>23</span><br><span>24</span><br><span>25</span><br><span>26</span><br><span>27</span><br><span>28</span><br><span>29</span><br><span>30</span><br><span>31</span><br><span>32</span><br></div></div><p>这部分是图形化处理的部分，由于学习GAN为主要目的，更好的做法是先暂时不要理会这里的问题，将更多的问题聚焦GAN上面，而不是要在里浪费更多的精力。时间充裕的情况下再学习也不迟。</p>
<p>虽然学会可视化处理是一种硬性要求，迟早要学，至少现在它还不是重点。</p>
<p>事实上如果想学习可视化处理，在这里学习并不是什么明智的做法。</p>
<div><pre><code><span>def</span> <span>main</span><span>(</span><span>)</span><span>:</span>
    torch<span>.</span>manual_seed<span>(</span><span>23</span><span>)</span>
    np<span>.</span>random<span>.</span>seed<span>(</span><span>23</span><span>)</span>

    data_iter <span>=</span> data_generator<span>(</span><span>)</span>
    x <span>=</span> <span>next</span><span>(</span>data_iter<span>)</span>
    G <span>=</span> Generator<span>(</span><span>)</span><span>.</span>cuda<span>(</span><span>)</span>
    D <span>=</span> Discriminator<span>(</span><span>)</span><span>.</span>cuda<span>(</span><span>)</span>
    G<span>.</span><span>apply</span><span>(</span>weights_init<span>)</span>
    D<span>.</span><span>apply</span><span>(</span>weights_init<span>)</span>
    optim_G <span>=</span> optim<span>.</span>Adam<span>(</span>G<span>.</span>parameters<span>(</span><span>)</span><span>,</span> lr<span>=</span><span>5e</span><span>-</span><span>6</span><span>,</span> betas<span>=</span><span>(</span><span>0.5</span><span>,</span> <span>0.9</span><span>)</span><span>)</span>
    optim_D <span>=</span> optim<span>.</span>Adam<span>(</span>D<span>.</span>parameters<span>(</span><span>)</span><span>,</span> lr<span>=</span><span>5e</span><span>-</span><span>6</span><span>,</span> betas<span>=</span><span>(</span><span>0.5</span><span>,</span> <span>0.9</span><span>)</span><span>)</span>

    <span>print</span><span>(</span><span>'batch:'</span><span>,</span> <span>next</span><span>(</span>data_iter<span>)</span><span>.</span>shape<span>)</span>

    viz<span>.</span>line<span>(</span><span>[</span><span>[</span><span>0</span><span>,</span> <span>0</span><span>]</span><span>]</span><span>,</span> <span>[</span><span>0</span><span>]</span><span>,</span> win<span>=</span><span>'loss'</span><span>,</span> opts<span>=</span><span>dict</span><span>(</span>title<span>=</span><span>'loss'</span><span>,</span> legend<span>=</span><span>[</span><span>'D'</span><span>,</span> <span>'G'</span><span>]</span><span>)</span><span>)</span> <span># 可视化处理，可忽略。</span>

    <span>for</span> epoch <span>in</span> <span>range</span><span>(</span><span>1500</span><span>)</span><span>:</span>

        <span>for</span> _ <span>in</span> <span>range</span><span>(</span><span>5</span><span>)</span><span>:</span>
            x_r <span>=</span> <span>next</span><span>(</span>data_iter<span>)</span>
            x_r <span>=</span> torch<span>.</span>from_numpy<span>(</span>x_r<span>)</span><span>.</span>cuda<span>(</span><span>)</span>
            pred_r <span>=</span> D<span>(</span>x_r<span>)</span>  <span># to maximize</span>
            loss_r <span>=</span> <span>-</span>pred_r<span>.</span>mean<span>(</span><span>)</span>

            z <span>=</span> torch<span>.</span>randn<span>(</span>batchsz<span>,</span> <span>2</span><span>)</span><span>.</span>cuda<span>(</span><span>)</span>
            x_f <span>=</span> G<span>(</span>z<span>)</span><span>.</span>detach<span>(</span><span>)</span>
            pred_f <span>=</span> D<span>(</span>x_f<span>)</span>
            loss_f <span>=</span> pred_f<span>.</span>mean<span>(</span><span>)</span>

            loss_D <span>=</span> loss_r <span>+</span> loss_f

            optim_D<span>.</span>zero_grad<span>(</span><span>)</span>  <span># clear to zero</span>
            loss_D<span>.</span>backward<span>(</span><span>)</span>
            optim_D<span>.</span>step<span>(</span><span>)</span>

        z <span>=</span> torch<span>.</span>randn<span>(</span>batchsz<span>,</span> <span>2</span><span>)</span><span>.</span>cuda<span>(</span><span>)</span>
        x_fake <span>=</span> G<span>(</span>z<span>)</span>
        pred_fake <span>=</span> D<span>(</span>x_fake<span>)</span>
        loss_G <span>=</span> <span>-</span>pred_fake<span>.</span>mean<span>(</span><span>)</span>

        optim_G<span>.</span>zero_grad<span>(</span><span>)</span>
        loss_G<span>.</span>backward<span>(</span><span>)</span>
        optim_G<span>.</span>step<span>(</span><span>)</span>

        <span>if</span> epoch <span>%</span> <span>5</span> <span>==</span> <span>0</span><span>:</span>
            viz<span>.</span>line<span>(</span><span>[</span><span>[</span>loss_D<span>.</span>item<span>(</span><span>)</span><span>,</span> loss_G<span>.</span>item<span>(</span><span>)</span><span>]</span><span>]</span><span>,</span> <span>[</span>epoch<span>]</span><span>,</span> win<span>=</span><span>'loss'</span><span>,</span> update<span>=</span><span>'append'</span><span>)</span>
            generate_image<span>(</span>D<span>,</span> G<span>,</span> x_r<span>,</span> epoch<span>)</span>
            <span>print</span><span>(</span>loss_D<span>.</span>item<span>(</span><span>)</span><span>,</span> loss_G<span>.</span>item<span>(</span><span>)</span><span>)</span>


<span>if</span> __name__ <span>==</span> <span>'__main__'</span><span>:</span>
    main<span>(</span><span>)</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br><span>18</span><br><span>19</span><br><span>20</span><br><span>21</span><br><span>22</span><br><span>23</span><br><span>24</span><br><span>25</span><br><span>26</span><br><span>27</span><br><span>28</span><br><span>29</span><br><span>30</span><br><span>31</span><br><span>32</span><br><span>33</span><br><span>34</span><br><span>35</span><br><span>36</span><br><span>37</span><br><span>38</span><br><span>39</span><br><span>40</span><br><span>41</span><br><span>42</span><br><span>43</span><br><span>44</span><br><span>45</span><br><span>46</span><br><span>47</span><br><span>48</span><br><span>49</span><br><span>50</span><br><span>51</span><br><span>52</span><br><span>53</span><br></div></div><p>这里定义了一个主函数（其实不必叫main，这里不是C/C++）。其中设置随机种子可以大幅缩小随机性，从而降低出现训练不稳定的概率（降低，不是消除，还是会发生的），并且选择了自动梯度下降器Adam来优化目标函数。</p>
<p>在这个嵌套循环中，内层循环是针对判别器训练的，跳出内嵌循环后才执行外层循环内的其余代码，这就体现了前面提到的先训练判别器后训练生成器的思路。注意这里有一个细节，内层循环中其实也有针对生成器的处理<code>x_f = G(z).detach()</code>，detach方法是用于消除其可导性，是要求计算机将其看作一个标量来处理，不对其求梯度，这样就可以避免误训练生成器的问题。另外原作者指出，经常习惯将优化器清零是一种好习惯。</p>
<p>这段代码还有一个技巧——利用梯度下降器求极/最大值。</p>
<p><code>loss_r = -pred_r.mean()</code>、<code>loss_G = -pred_fake.mean()</code>这两行便体现了这一技巧。</p>
<p>实质上是数学思想的图形变换思想。</p>
<h2 id="六、实现gan要注意什么"> 六、实现GAN要注意什么？</h2>
<p>其实起初在照着原作者所写的写代码，结果一个比较奇怪的问题发生了：</p>
<p><img src="https://breezeshane.github.io/images/2021-04-26_02-34.png" alt="" /></p>
<div><pre><code>TypeError: can&#39;t convert cuda:0 device type tensor to numpy. Use Tensor.cpu() to copy the tensor to host memory first.
</code></pre>
<div><span>1</span><br></div></div><p>分析这个报错信息可知，问题可追溯到generate_image函数这里。根据这一情况可知这样使用cuda是不能继续运行的，按照它的提示，在generate_image函数内将x_r移植到cpu上（上部分是已经完善好的）。</p>
<p>至此程序可以正常运行。</p>
<h2 id="七、-睿智-作者有什么话说"> 七、“睿智”作者有什么话说？</h2>
<p>我已经将这段代码共享了，按自己的理解做了简单的改动，或许有一天我还会继续优化更新。。。。（嗯，我又许下了一个不可能的承诺）</p>
<p>Jupyter Notebook/Lab---&gt;<a href="https://github.com/BreezeShane/Unsupervised-Learning/blob/master/Generative%20Adversaria%20Networks.ipynb" target="_blank" rel="noopener noreferrer">·</a></p>
<p>Python---&gt;<a href="https://github.com/BreezeShane/Unsupervised-Learning/blob/master/Generative%20Adversaria%20Networks.py" target="_blank" rel="noopener noreferrer">·</a></p>
]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2021-04-24T12:37:00.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">Wasserstein Divergence for GANs</title>
    <id>https://breezeshane.github.io/ArtificialIntelligence/UnsupervisedLearning/WGAN-div/</id>
    <link href="https://breezeshane.github.io/ArtificialIntelligence/UnsupervisedLearning/WGAN-div/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<h1 id="wasserstein-divergence-for-gans"> Wasserstein Divergence for GANs</h1>
<blockquote>
<p>參考自：</p>
<p><a href="https://spaces.ac.cn/archives/6139" target="_blank" rel="noopener noreferrer">WGAN-div：一个默默无闻的WGAN填坑者</a></p>
<p><a href="https://arxiv.org/abs/1712.01026" target="_blank" rel="noopener noreferrer">Wasserstein Divergence for GANs</a></p>
</blockquote>
<h2 id="为什么还要有wgan-div"> 为什么还要有WGAN-div？</h2>
<p>尽管看起来WGAN-gp已无可挑剔，但应该看出来到底它还是有缺陷的。回看之前的WGAN-gp，你会发现它的梯度非常不稳定，总是上下大幅度波动。</p>
<p>我们来回顾一下WGAN和WGAN-GP对权重矩阵的处理：</p>
<p>WGAN采用的措施是裁剪权重，即将每一个权重都裁剪到<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>[</span><span>−</span><span>c</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span>c</span><span>]</span></span></span></span>的范围内，其中<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>c</span></span></span></span>是自由设定的常数。但这个做法是非常朴素的做法，而且经过实验发现表现的性能并不太令人满意，所以现在也基本上不用了。</p>
<p>WGAN-GP采用的措施是梯度惩罚，通过给判别器梯度增加惩罚来限制判别器的学习能力，避免判别器训练过强的情况。由于<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>∣∣</span><span style="margin-right:0.13889em;">T</span><span>∣</span><span><span>∣</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>L</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>≤</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.64444em;vertical-align:0em;"></span><span>1</span></span></span></span>可以由<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>∣∣∇</span><span style="margin-right:0.13889em;">T</span><span>∣∣</span><span style="margin-right:0.2777777777777778em;"></span><span>≤</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.64444em;vertical-align:0em;"></span><span>1</span></span></span></span>保证，因此提出了相应的损失函数：</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.036108em;vertical-align:-0.286108em;"></span><span style="margin-right:0.13889em;">W</span><span>(</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1.494331em;vertical-align:-0.7443310000000001em;"></span><span><span><span><span style="height:0.43055999999999983em;"><span style="top:-2.355669em;margin-left:0em;"><span style="height:3em;"></span><span><span><span style="margin-right:0.02778em;">D</span></span></span></span><span style="top:-3em;"><span style="height:3em;"></span><span><span>max</span></span></span></span><span>​</span></span><span><span style="height:0.7443310000000001em;"><span></span></span></span></span></span><span>{</span><span><span style="margin-right:0.05764em;">E</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.2501em;"><span></span></span></span></span></span></span><span>[</span><span style="margin-right:0.02778em;">D</span><span>(</span><span>x</span><span>)]</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1.1275199999999999em;vertical-align:-0.3775199999999999em;"></span><span><span style="margin-right:0.05764em;">E</span><span><span><span><span style="height:0.34479999999999994em;"><span style="top:-2.5198em;margin-left:-0.05764em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285716em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.2818857142857143em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span></span></span></span></span><span>​</span></span><span><span style="height:0.3775199999999999em;"><span></span></span></span></span></span></span><span>[</span><span style="margin-right:0.02778em;">D</span><span>(</span><span>x</span><span>)]</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1.1275199999999999em;vertical-align:-0.3775199999999999em;"></span><span>λ</span><span><span style="margin-right:0.05764em;">E</span><span><span><span><span style="height:0.34479999999999994em;"><span style="top:-2.5198em;margin-left:-0.05764em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.3280857142857143em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span><span>in</span><span>p</span><span>u</span><span>t</span></span></span></span></span><span>​</span></span><span><span style="height:0.2818857142857143em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span></span></span></span></span><span>​</span></span><span><span style="height:0.3775199999999999em;"><span></span></span></span></span></span></span><span>[(</span><span>∣∣</span><span><span>∇</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>x</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.02778em;">D</span><span>(</span><span>x</span><span>)</span><span>∣∣</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1.1141079999999999em;vertical-align:-0.25em;"></span><span>1</span><span><span>)</span><span><span><span><span style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span></span></span></span></span><span>]}</span></span></span></span></span></p>
<p>但我们要求<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>∣∣</span><span style="margin-right:0.13889em;">T</span><span>∣</span><span><span>∣</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>L</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>≤</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.64444em;vertical-align:0em;"></span><span>1</span></span></span></span>在每一处都成立，因此真实分布应当是全空间的均匀分布，但这很难做到。不过作者也采取了一种做法：在真假样本之间随机插值来惩罚。这样就可以保证真假样本之间的过渡区域满足Lipschitz约束。这种思路非常直接，但它是一种经验方案，并没有更完备的理论支撑。而WGAN-div论文指出这一公式不总是有梯度。「具体情况可以直接去论文内翻看，日后我理解明白了再在这里写出来。」</p>
<p>在这样的情况下，W散度就被提了出来，可以去掉Lipschitz约束条件，还保留了Wasserstein距离的良好性质。</p>
<p>另外，值得一提的是WGAN衍生版本中，WGAN-div的数学理论支撑是最完备的。论文很值得一读，如果有时间，最好推导一下作者的数学论证。</p>
<h2 id="wgan-div的理论依据是什么"> WGAN-div的理论依据是什么？</h2>
<p>作者提出了一种方案，将判别器的表达式推导出来：</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.738696em;vertical-align:0em;"></span><span><span style="margin-right:0.13889em;">T</span><span><span><span><span style="height:0.738696em;"><span style="top:-3.113em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>∗</span></span></span></span></span></span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1.688771em;vertical-align:-0.938771em;"></span><span><span><span><span><span style="height:0.43055999999999994em;"><span style="top:-2.161229em;margin-left:0em;"><span style="height:3em;"></span><span><span><span style="margin-right:0.13889em;">T</span></span></span></span><span style="top:-3em;"><span style="height:3em;"></span><span><span><span><span style="margin-right:0.01389em;">arg</span><span style="margin-right:0.16666666666666666em;"></span><span>max</span></span></span></span></span></span><span>​</span></span><span><span style="height:0.938771em;"><span></span></span></span></span></span></span><span><span>E</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.2501em;"><span></span></span></span></span></span></span><span>[</span><span style="margin-right:0.13889em;">T</span><span>(</span><span>x</span><span>)]</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1.0973199999999999em;vertical-align:-0.34731999999999996em;"></span><span><span>E</span><span><span><span><span style="height:0.32833100000000004em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285716em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.2818857142857143em;"><span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.34731999999999996em;"><span></span></span></span></span></span></span><span>[</span><span style="margin-right:0.13889em;">T</span><span>(</span><span>x</span><span>)]</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:2.00744em;vertical-align:-0.686em;"></span><span><span><span></span><span><span><span><span style="height:1.32144em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span>2</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.686em;"><span></span></span></span></span></span><span></span></span></span><span><span>E</span><span><span><span><span style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span><span style="margin-right:0.02778em;">r</span><span>(</span><span>x</span><span>)</span></span></span></span></span><span>​</span></span><span><span style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span>[</span><span>∣∣∇</span><span style="margin-right:0.13889em;">T</span><span>∣</span><span><span>∣</span><span><span><span><span style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span></span></span></span></span><span>]</span></span></span></span></span></p>
<p>接着推导了生成器的Loss表达式：</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.688771em;vertical-align:-0.938771em;"></span><span><span><span><span><span style="height:0.66786em;"><span style="top:-2.161229em;margin-left:0em;"><span style="height:3em;"></span><span><span><span>G</span></span></span></span><span style="top:-3em;"><span style="height:3em;"></span><span><span><span><span style="margin-right:0.01389em;">arg</span><span style="margin-right:0.16666666666666666em;"></span><span>min</span></span></span></span></span></span><span>​</span></span><span><span style="height:0.938771em;"><span></span></span></span></span></span></span><span><span>E</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.2501em;"><span></span></span></span></span></span></span><span>[</span><span><span style="margin-right:0.13889em;">T</span><span><span><span><span style="height:0.738696em;"><span style="top:-3.113em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>∗</span></span></span></span></span></span></span></span><span>(</span><span>x</span><span>)]</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1.0973199999999999em;vertical-align:-0.34731999999999996em;"></span><span><span>E</span><span><span><span><span style="height:0.32833100000000004em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.04398em;">z</span><span>∼</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285716em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.2818857142857143em;"><span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.34731999999999996em;"><span></span></span></span></span></span></span><span>[</span><span><span style="margin-right:0.13889em;">T</span><span><span><span><span style="height:0.738696em;"><span style="top:-3.113em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>∗</span></span></span></span></span></span></span></span><span>(</span><span>G</span><span>(</span><span style="margin-right:0.04398em;">z</span><span>))]</span></span></span></span></span></p>
<p>目标函数也随之而确定下来：</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.036108em;vertical-align:-0.286108em;"></span><span><span style="margin-right:0.13889em;">W</span><span><span><span><span style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.03148em;">k</span><span>,</span><span>p</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>[</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>]</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1.494331em;vertical-align:-0.7443310000000001em;"></span><span><span><span><span style="height:0.43055999999999983em;"><span style="top:-2.355669em;margin-left:0em;"><span style="height:3em;"></span><span><span style="margin-right:0.13889em;">T</span></span></span><span style="top:-3em;"><span style="height:3em;"></span><span><span>max</span></span></span></span><span>​</span></span><span><span style="height:0.7443310000000001em;"><span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span>E</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.2501em;"><span></span></span></span></span></span></span><span>[</span><span style="margin-right:0.13889em;">T</span><span>(</span><span>x</span><span>)]</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1.0973199999999999em;vertical-align:-0.34731999999999996em;"></span><span><span>E</span><span><span><span><span style="height:0.32833100000000004em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285716em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.2818857142857143em;"><span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.34731999999999996em;"><span></span></span></span></span></span></span><span>[</span><span style="margin-right:0.13889em;">T</span><span>(</span><span>x</span><span>)]</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1.1052em;vertical-align:-0.3551999999999999em;"></span><span style="margin-right:0.03148em;">k</span><span><span>E</span><span><span><span><span style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span><span style="margin-right:0.02778em;">r</span><span>(</span><span>x</span><span>)</span></span></span></span></span><span>​</span></span><span><span style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span>[</span><span>∣∣∇</span><span style="margin-right:0.13889em;">T</span><span>∣</span><span><span>∣</span><span><span><span><span style="height:0.714392em;"><span style="top:-3.1130000000000004em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>p</span></span></span></span></span></span></span></span><span>]</span></span></span></span></span></p>
<p>其中<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.73354em;vertical-align:-0.0391em;"></span><span style="margin-right:0.03148em;">k</span><span style="margin-right:0.2777777777777778em;"></span><span>&gt;</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span>0</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span>p</span><span style="margin-right:0.2777777777777778em;"></span><span>&gt;</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.64444em;vertical-align:0em;"></span><span>1</span></span></span></span>。</p>
<ol>
<li><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.969438em;vertical-align:-0.286108em;"></span><span><span style="margin-right:0.13889em;">W</span><span><span><span><span style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.03148em;">k</span><span>,</span><span>p</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>是个对称的散度。散度的意思是：<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">D</span><span>[</span><span style="margin-right:0.13889em;">P</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span>Q</span><span>]</span><span style="margin-right:0.2777777777777778em;"></span><span>≥</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.64444em;vertical-align:0em;"></span><span>0</span></span></span></span>且<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">D</span><span>[</span><span style="margin-right:0.13889em;">P</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span>Q</span><span>]</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.64444em;vertical-align:0em;"></span><span>0</span><span style="margin-right:0.2777777777777778em;"></span><span>⇔</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.68333em;vertical-align:0em;"></span><span style="margin-right:0.13889em;">P</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span>Q</span></span></span></span>，它跟“距离”的差别是它不一定满足三角不等式，也有叫做“半度量”、“半距离”的。<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.969438em;vertical-align:-0.286108em;"></span><span><span style="margin-right:0.13889em;">W</span><span><span><span><span style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.03148em;">k</span><span>,</span><span>p</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>是一个散度，这已经非常棒了，因为我们大多数GAN都只是在优化某个散度而已。散度意味着当我们最小化它时，我们真正是在缩小两个分布的距离。</li>
<li><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.969438em;vertical-align:-0.286108em;"></span><span><span style="margin-right:0.13889em;">W</span><span><span><span><span style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.03148em;">k</span><span>,</span><span>p</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>的最优解跟W距离有一定的联系。判别器公式<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.688696em;vertical-align:0em;"></span><span><span style="margin-right:0.13889em;">T</span><span><span><span><span style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>∗</span></span></span></span></span></span></span></span></span></span></span>就是一个特殊的<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.17035em;vertical-align:-0.48701999999999995em;"></span><span><span style="margin-right:0.13889em;">W</span><span><span><span><span style="height:0.34480000000000005em;"><span style="top:-2.7537800000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:3em;"></span><span><span><span><span><span></span><span><span><span><span style="height:0.8443142857142858em;"><span style="top:-2.656em;"><span style="height:3em;"></span><span><span><span>2</span></span></span></span><span style="top:-3.2255000000000003em;"><span style="height:3em;"></span><span style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span style="height:3em;"></span><span><span><span>1</span></span></span></span></span><span>​</span></span><span><span style="height:0.344em;"><span></span></span></span></span></span><span></span></span></span><span>,</span><span>2</span></span></span></span></span><span>​</span></span><span><span style="height:0.48701999999999995em;"><span></span></span></span></span></span></span></span></span></span>。这说明当我们最大化<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.969438em;vertical-align:-0.286108em;"></span><span><span style="margin-right:0.13889em;">W</span><span><span><span><span style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.03148em;">k</span><span>,</span><span>p</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>得到<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68889em;vertical-align:0em;"></span><span>T</span></span></span></span>之后，可以去掉梯度项，通过最小化生成器损失函数来训练生成器。这也表明以<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.969438em;vertical-align:-0.286108em;"></span><span><span style="margin-right:0.13889em;">W</span><span><span><span><span style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.03148em;">k</span><span>,</span><span>p</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>为目标，性质跟<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span style="margin-right:0.13889em;">W</span></span></span></span>距离类似，不会有梯度消失的问题。</li>
<li>作者证明了<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.494331em;vertical-align:-0.7443310000000001em;"></span><span><span><span><span><span style="height:0.43055999999999983em;"><span style="top:-2.355669em;margin-left:0em;"><span style="height:3em;"></span><span><span><span style="margin-right:0.13889em;">T</span></span></span></span><span style="top:-3em;"><span style="height:3em;"></span><span><span><span>max</span></span></span></span></span><span>​</span></span><span><span style="height:0.7443310000000001em;"><span></span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span>E</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.2501em;"><span></span></span></span></span></span></span><span>[</span><span style="margin-right:0.13889em;">T</span><span>(</span><span>x</span><span>)]</span><span>−</span><span><span>E</span><span><span><span><span style="height:0.32833100000000004em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285716em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.2818857142857143em;"><span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.34731999999999996em;"><span></span></span></span></span></span></span><span>[</span><span style="margin-right:0.13889em;">T</span><span>(</span><span>x</span><span>)]</span><span>−</span><span style="margin-right:0.03148em;">k</span><span><span>E</span><span><span><span><span style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span><span style="margin-right:0.02778em;">r</span><span>(</span><span>x</span><span>)</span></span></span></span></span><span>​</span></span><span><span style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span>[(</span><span>∣∣∇</span><span style="margin-right:0.13889em;">T</span><span>∣∣−</span><span>n</span><span><span>)</span><span><span><span><span style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>p</span></span></span></span></span></span></span></span><span>]</span></span></span></span>不总是一个散度。当<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>n</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span>1</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span>p</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.64444em;vertical-align:0em;"></span><span>2</span></span></span></span>时就是WGAN-GP的梯度惩罚，作者说它不是一个散度。不是散度意味着WGAN-GP在训练判别器的时候，并非总是会在拉大两个分布的距离（鉴别者在偷懒，没有好好提升自己的鉴别技能），从而使得训练生成器时回传的梯度不准。</li>
</ol>
<h2 id="gan-div将如何实现"> GAN-div将如何实现？</h2>
<p>我们再回顾一下判别器和生成器的损失函数：</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:4.157542000000001em;vertical-align:-1.828771000000001em;"></span><span><span><span><span><span style="height:2.328771em;"><span style="top:-4.488771em;"><span style="height:3em;"></span><span><span style="margin-right:0.13889em;">T</span></span></span><span style="top:-2.4099999999999993em;"><span style="height:3em;"></span><span><span>G</span></span></span></span><span>​</span></span><span><span style="height:1.828771000000001em;"><span></span></span></span></span></span><span><span><span><span style="height:2.328771em;"><span style="top:-4.488771em;"><span style="height:3em;"></span><span><span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span><span><span><span><span><span style="height:0.43055999999999994em;"><span style="top:-2.161229em;margin-left:0em;"><span style="height:3em;"></span><span><span><span style="margin-right:0.13889em;">T</span></span></span></span><span style="top:-3em;"><span style="height:3em;"></span><span><span><span><span style="margin-right:0.01389em;">arg</span><span style="margin-right:0.16666666666666666em;"></span><span>max</span></span></span></span></span></span><span>​</span></span><span><span style="height:0.938771em;"><span></span></span></span></span></span></span><span><span>E</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.2501em;"><span></span></span></span></span></span></span><span>[</span><span style="margin-right:0.13889em;">T</span><span>(</span><span>x</span><span>)]</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span><span><span>E</span><span><span><span><span style="height:0.32833100000000004em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285716em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.2818857142857143em;"><span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.34731999999999996em;"><span></span></span></span></span></span></span><span>[</span><span style="margin-right:0.13889em;">T</span><span>(</span><span>x</span><span>)]</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span><span style="margin-right:0.03148em;">k</span><span><span>E</span><span><span><span><span style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span><span style="margin-right:0.02778em;">r</span><span>(</span><span>x</span><span>)</span></span></span></span></span><span>​</span></span><span><span style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span>[</span><span>∣∣∇</span><span style="margin-right:0.13889em;">T</span><span>∣</span><span><span>∣</span><span><span><span><span style="height:0.714392em;"><span style="top:-3.1130000000000004em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>p</span></span></span></span></span></span></span></span><span>]</span></span></span><span style="top:-2.4099999999999993em;"><span style="height:3em;"></span><span><span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span><span><span><span><span><span style="height:0.66786em;"><span style="top:-2.161229em;margin-left:0em;"><span style="height:3em;"></span><span><span><span>G</span></span></span></span><span style="top:-3em;"><span style="height:3em;"></span><span><span><span><span style="margin-right:0.01389em;">arg</span><span style="margin-right:0.16666666666666666em;"></span><span>min</span></span></span></span></span></span><span>​</span></span><span><span style="height:0.938771em;"><span></span></span></span></span></span></span><span><span>E</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.2501em;"><span></span></span></span></span></span></span><span>[</span><span style="margin-right:0.13889em;">T</span><span>(</span><span>x</span><span>)]</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span><span><span>E</span><span><span><span><span style="height:0.32833100000000004em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.04398em;">z</span><span>∼</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285716em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.2818857142857143em;"><span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.34731999999999996em;"><span></span></span></span></span></span></span><span>[</span><span style="margin-right:0.13889em;">T</span><span>(</span><span>G</span><span>(</span><span style="margin-right:0.04398em;">z</span><span>))]</span></span></span></span><span>​</span></span><span><span style="height:1.828771000000001em;"><span></span></span></span></span></span></span></span><span><span><span><span style="height:2.328771em;"><span style="top:-4.328771em;"><span style="height:2.84em;"></span><span></span></span><span style="top:-2.249999999999999em;"><span style="height:2.84em;"></span><span></span></span></span><span>​</span></span><span><span style="height:1.828771000000001em;"><span></span></span></span></span></span></span></span></span></p>
<table><font color="#30dff3" size=4>由于目前本人的所学有限，水平不足，暂时还不会写残差和卷积网络，所以论文原本使用的残差和卷积我都直接使用了线性神经网络来代替「沿用了WGAN的网络结构」，虽然一样可以完成任务，但付出的时间代价很大。另外，我写的代码一来是在原来WGAN的基础上做的改动，二来是使用WGAN-div来模拟高斯分布。不得不说的是，本来我想~~勤奋~~偷懒去寻找现成的源代码，然而我发现，一个是使用Keras实现的，另一个虽然是Pytorch实现但是是处理图像的，差别还是蛮大的，所以我只好直接翻看论文来复现了，在这里真的要感谢大神Jiqing Wu，给出了足够详细的算法步骤！</font></table>
<p>前面的代码和Original GAN一样，几无差别，而在绘制图像这个函数的后面需要再接着写：</p>
<div><pre><code><span>def</span> <span>weights_init</span><span>(</span>m<span>)</span><span>:</span>
    <span>if</span> <span>isinstance</span><span>(</span>m<span>,</span> nn<span>.</span>Linear<span>)</span><span>:</span>
        <span># m.weight.data.normal_(0.0, 0.02)</span>
        nn<span>.</span>init<span>.</span>kaiming_normal_<span>(</span>m<span>.</span>weight<span>)</span>
        m<span>.</span>bias<span>.</span>data<span>.</span>fill_<span>(</span><span>0</span><span>)</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br></div></div><p>这个用来初始化网络结构的权重矩阵。</p>
<p>接着这里我反复琢磨、理解论文，然后写出了这个惩罚项：</p>
<div><pre><code><span>def</span> <span>gradient_penalty</span><span>(</span>D<span>,</span> x_r<span>,</span> x_f<span>,</span> p<span>)</span><span>:</span>
    t <span>=</span> torch<span>.</span>rand<span>(</span>batchsz<span>,</span> <span>1</span><span>)</span><span>.</span>cuda<span>(</span><span>)</span>
    t <span>=</span> t<span>.</span>expand_as<span>(</span>x_r<span>)</span>

    x_hat <span>=</span> <span>(</span><span>1</span> <span>-</span> t<span>)</span> <span>*</span> x_r <span>+</span> t <span>*</span> x_f
    x_hat<span>.</span>requires_grad_<span>(</span><span>True</span><span>)</span>

    pred <span>=</span> D<span>(</span>x_hat<span>)</span>
    grads <span>=</span> autograd<span>.</span>grad<span>(</span>outputs<span>=</span>pred<span>,</span>
                          inputs<span>=</span>x_hat<span>,</span>
                          grad_outputs<span>=</span>torch<span>.</span>ones_like<span>(</span>pred<span>)</span><span>,</span>
                          create_graph<span>=</span><span>True</span><span>,</span>
                          retain_graph<span>=</span><span>True</span><span>,</span>
                          only_inputs<span>=</span><span>True</span><span>)</span><span>[</span><span>0</span><span>]</span>
    gp <span>=</span> torch<span>.</span><span>pow</span><span>(</span>torch<span>.</span>square<span>(</span>grads<span>)</span><span>,</span> p<span>/</span><span>2</span><span>)</span>
    <span>return</span> gp<span>.</span>mean<span>(</span><span>)</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br></div></div><p>接着在main主函数里，我做的改动还是蛮大的，不过也是严格按照论文所说去做，实现的代码如下：</p>
<div><pre><code><span>def</span> <span>main</span><span>(</span><span>)</span><span>:</span>
    k <span>=</span> <span>2</span>
    p <span>=</span> <span>6</span>
    torch<span>.</span>manual_seed<span>(</span><span>23</span><span>)</span>
    np<span>.</span>random<span>.</span>seed<span>(</span><span>23</span><span>)</span>

    data_iter <span>=</span> data_generator<span>(</span><span>)</span>
    x <span>=</span> <span>next</span><span>(</span>data_iter<span>)</span>
    G <span>=</span> Generator<span>(</span><span>)</span><span>.</span>cuda<span>(</span><span>)</span>
    G<span>.</span><span>apply</span><span>(</span>weights_init<span>)</span>
    D <span>=</span> Discriminator<span>(</span><span>)</span><span>.</span>cuda<span>(</span><span>)</span>
    D<span>.</span><span>apply</span><span>(</span>weights_init<span>)</span>
    optim_G <span>=</span> optim<span>.</span>Adam<span>(</span>G<span>.</span>parameters<span>(</span><span>)</span><span>,</span> lr<span>=</span><span>5e</span><span>-</span><span>6</span><span>,</span> betas<span>=</span><span>(</span><span>0.5</span><span>,</span> <span>0.9</span><span>)</span><span>)</span>
    optim_D <span>=</span> optim<span>.</span>Adam<span>(</span>D<span>.</span>parameters<span>(</span><span>)</span><span>,</span> lr<span>=</span><span>5e</span><span>-</span><span>6</span><span>,</span> betas<span>=</span><span>(</span><span>0.5</span><span>,</span> <span>0.9</span><span>)</span><span>)</span>

    <span>print</span><span>(</span><span>'batch:'</span><span>,</span> <span>next</span><span>(</span>data_iter<span>)</span><span>.</span>shape<span>)</span>

    viz<span>.</span>line<span>(</span><span>[</span><span>[</span><span>0</span><span>,</span> <span>0</span><span>]</span><span>]</span><span>,</span> <span>[</span><span>0</span><span>]</span><span>,</span> win<span>=</span><span>'loss'</span><span>,</span> opts<span>=</span><span>dict</span><span>(</span>title<span>=</span><span>'loss'</span><span>,</span> legend<span>=</span><span>[</span><span>'D'</span><span>,</span> <span>'G'</span><span>]</span><span>)</span><span>)</span>

    <span>for</span> epoch <span>in</span> <span>range</span><span>(</span><span>50000</span><span>)</span><span>:</span>

        <span>for</span> _ <span>in</span> <span>range</span><span>(</span><span>15</span><span>)</span><span>:</span>
            x_r <span>=</span> <span>next</span><span>(</span>data_iter<span>)</span>
            x_r <span>=</span> torch<span>.</span>from_numpy<span>(</span>x_r<span>)</span><span>.</span>cuda<span>(</span><span>)</span>
            pred_r <span>=</span> D<span>(</span>x_r<span>)</span>
            loss_r <span>=</span> pred_r<span>.</span>mean<span>(</span><span>)</span>

            z <span>=</span> torch<span>.</span>randn<span>(</span>batchsz<span>,</span> <span>2</span><span>)</span><span>.</span>cuda<span>(</span><span>)</span>
            x_f <span>=</span> G<span>(</span>z<span>)</span><span>.</span>detach<span>(</span><span>)</span>
            pred_f <span>=</span> D<span>(</span>x_f<span>)</span>
            loss_f <span>=</span> pred_f<span>.</span>mean<span>(</span><span>)</span>

            gp <span>=</span> gradient_penalty<span>(</span>D<span>,</span> x_r<span>,</span> x_f<span>,</span> p<span>)</span>
            loss_D <span>=</span> loss_r <span>-</span> loss_f <span>+</span> k <span>*</span> gp <span># 论文给出的公式如此</span>

            optim_D<span>.</span>zero_grad<span>(</span><span>)</span>
            loss_D<span>.</span>backward<span>(</span><span>)</span>
            optim_D<span>.</span>step<span>(</span><span>)</span>

        z <span>=</span> torch<span>.</span>randn<span>(</span>batchsz<span>,</span> <span>2</span><span>)</span><span>.</span>cuda<span>(</span><span>)</span>
        x_fake <span>=</span> G<span>(</span>z<span>)</span>
        pred_fake <span>=</span> D<span>(</span>x_fake<span>)</span>
        loss_G <span>=</span> pred_fake<span>.</span>mean<span>(</span><span>)</span> <span># 论文给出的公式亦如此</span>

        optim_G<span>.</span>zero_grad<span>(</span><span>)</span>
        loss_G<span>.</span>backward<span>(</span><span>)</span>
        optim_G<span>.</span>step<span>(</span><span>)</span>

        <span>if</span> epoch <span>%</span> <span>10</span> <span>==</span> <span>0</span><span>:</span>
            viz<span>.</span>line<span>(</span><span>[</span><span>[</span>loss_D<span>.</span>item<span>(</span><span>)</span><span>,</span> loss_G<span>.</span>item<span>(</span><span>)</span><span>]</span><span>]</span><span>,</span> <span>[</span>epoch<span>]</span><span>,</span> win<span>=</span><span>'loss'</span><span>,</span> update<span>=</span><span>'append'</span><span>)</span>
            generate_image<span>(</span>D<span>,</span> G<span>,</span> x_r<span>,</span> epoch<span>)</span>
            <span>print</span><span>(</span>loss_D<span>.</span>item<span>(</span><span>)</span><span>,</span> loss_G<span>.</span>item<span>(</span><span>)</span><span>)</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br><span>18</span><br><span>19</span><br><span>20</span><br><span>21</span><br><span>22</span><br><span>23</span><br><span>24</span><br><span>25</span><br><span>26</span><br><span>27</span><br><span>28</span><br><span>29</span><br><span>30</span><br><span>31</span><br><span>32</span><br><span>33</span><br><span>34</span><br><span>35</span><br><span>36</span><br><span>37</span><br><span>38</span><br><span>39</span><br><span>40</span><br><span>41</span><br><span>42</span><br><span>43</span><br><span>44</span><br><span>45</span><br><span>46</span><br><span>47</span><br><span>48</span><br><span>49</span><br><span>50</span><br><span>51</span><br><span>52</span><br></div></div><p>最后再直接执行主函数调用一下就可以了：</p>
<div><pre><code><span>if</span> __name__ <span>==</span> <span>'__main__'</span><span>:</span>
    main<span>(</span><span>)</span>
</code></pre>
<div><span>1</span><br><span>2</span><br></div></div><p>最终的实现效果如图：</p>
<p><img src="/images/WGAN-div-1.png" alt="" /></p>
<h2 id="睿智-作者的话-不重要"> “睿智”作者的话（不重要）</h2>
<p>这花了我三四天的功夫，终于是改完了这一堆bug，都不知道经历了多少辛酸，真是一言难尽……不过这是我尝试复现并获得成功的第一篇论文，心里还是蛮自豪的，之前遭的罪吃的苦也就不算什么了！只希望往后继续学习的话会顺利一些吧！</p>
]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2021-05-18T15:41:52.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">WGAN with Gradient Penalty</title>
    <id>https://breezeshane.github.io/ArtificialIntelligence/UnsupervisedLearning/WGAN-gp/</id>
    <link href="https://breezeshane.github.io/ArtificialIntelligence/UnsupervisedLearning/WGAN-gp/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<h1 id="wgan-with-gradient-penalty"> WGAN with Gradient Penalty</h1>
<h2 id="结果"> 结果</h2>
<p>WGAN-gp运行效果比上回的WGAN和Original GAN要好多了，不是一点！</p>
<p><img src="/images/2021-04-26_01-11.png" alt="" /></p>
<p><img src="/images/2021-04-26_10-54.png" alt="" /></p>
<p>可以看得出来它表现优良，绝大部分点都聚集在各自给定的黄点周围，足见WGAN-GP表现的优异。</p>
<p><img src="/images/newplot.png" alt="" /></p>
<p>从图像中可以看出来，Loss-D损失函数值不断上升，这说明生成器已经开始成功欺骗了判别器，并且Loss-G损失函数值也在不断下降，说明生成器的仿真度越来越高，生成的数据越来越逼真，也越来越容易欺骗判别器。</p>
<p>上一篇文章比较详细系统地剖析了WGAN，这里就不多做赘述。WGAN以切片形式处理数据时出现了一些问题，比如训练不稳定、准确率不高、梯度爆炸或消失，还有切片参数设置困难等问题。「切片参数设置困难指的是切片上下限难以合适设定，过小则容易将网络转化成二值网络，过大则不起作用。」为了解决这些，有人提出了改良WGAN的一种方法——增加惩罚项。</p>
<h2 id="解决"> 解决～</h2>
<p>为了解决以上的问题，WGAN又有了新的进展，这个新版WGAN不需要权重裁切，采取了加入惩罚项的方式。新版WGAN目标函数定义如下：</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.036108em;vertical-align:-0.286108em;"></span><span style="margin-right:0.13889em;">W</span><span>(</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1.494331em;vertical-align:-0.7443310000000001em;"></span><span><span><span><span style="height:0.43055999999999983em;"><span style="top:-2.355669em;margin-left:0em;"><span style="height:3em;"></span><span><span><span style="margin-right:0.02778em;">D</span></span></span></span><span style="top:-3em;"><span style="height:3em;"></span><span><span>max</span></span></span></span><span>​</span></span><span><span style="height:0.7443310000000001em;"><span></span></span></span></span></span><span>{</span><span><span style="margin-right:0.05764em;">E</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.2501em;"><span></span></span></span></span></span></span><span>[</span><span style="margin-right:0.02778em;">D</span><span>(</span><span>x</span><span>)]</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1.1275199999999999em;vertical-align:-0.3775199999999999em;"></span><span><span style="margin-right:0.05764em;">E</span><span><span><span><span style="height:0.34479999999999994em;"><span style="top:-2.5198em;margin-left:-0.05764em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285716em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.2818857142857143em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span></span></span></span></span><span>​</span></span><span><span style="height:0.3775199999999999em;"><span></span></span></span></span></span></span><span>[</span><span style="margin-right:0.02778em;">D</span><span>(</span><span>x</span><span>)]</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:2.27195em;vertical-align:-0.9119499999999999em;"></span><span>λ</span><span style="margin-right:0.16666666666666666em;"></span><span><span style="margin-right:0.44445em;position:relative;top:-0.0011249999999999316em;">∫</span><span><span><span><span style="height:-0.6105579999999999em;"><span style="top:-1.7880500000000001em;margin-left:-0.44445em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>x</span></span></span></span><span>​</span></span><span><span style="height:0.9119499999999999em;"><span></span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span>max</span><span>(</span><span>0</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span>∣∣</span><span><span>∇</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>x</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.02778em;">D</span><span>(</span><span>x</span><span>)</span><span>∣∣</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span>1</span><span>)</span><span>d</span><span>x</span><span>}</span></span></span></span></span></p>
<p>根据<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">D</span><span>(</span><span>x</span><span>)</span></span></span></span>的定义显然有<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">D</span><span>(</span><span>x</span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>∈</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span>[</span><span>0</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span>1</span><span>]</span></span></span></span>成立，因此对于<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>∀</span><span>x</span><span>,</span><span style="margin-right:1em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>∣∣</span><span><span>∇</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>x</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.02778em;">D</span><span>(</span><span>x</span><span>)</span><span>∣∣</span><span style="margin-right:0.2777777777777778em;"></span><span>≤</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.64444em;vertical-align:0em;"></span><span>1</span></span></span></span>。求积分的形式又可以写成期望的形式，因此该公式又可以写成：</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.036108em;vertical-align:-0.286108em;"></span><span style="margin-right:0.13889em;">W</span><span>(</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1.494331em;vertical-align:-0.7443310000000001em;"></span><span><span><span><span style="height:0.43055999999999983em;"><span style="top:-2.355669em;margin-left:0em;"><span style="height:3em;"></span><span><span><span style="margin-right:0.02778em;">D</span></span></span></span><span style="top:-3em;"><span style="height:3em;"></span><span><span>max</span></span></span></span><span>​</span></span><span><span style="height:0.7443310000000001em;"><span></span></span></span></span></span><span>{</span><span><span style="margin-right:0.05764em;">E</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.2501em;"><span></span></span></span></span></span></span><span>[</span><span style="margin-right:0.02778em;">D</span><span>(</span><span>x</span><span>)]</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1.1275199999999999em;vertical-align:-0.3775199999999999em;"></span><span><span style="margin-right:0.05764em;">E</span><span><span><span><span style="height:0.34479999999999994em;"><span style="top:-2.5198em;margin-left:-0.05764em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285716em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.2818857142857143em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span></span></span></span></span><span>​</span></span><span><span style="height:0.3775199999999999em;"><span></span></span></span></span></span></span><span>[</span><span style="margin-right:0.02778em;">D</span><span>(</span><span>x</span><span>)]</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1.1275199999999999em;vertical-align:-0.3775199999999999em;"></span><span>λ</span><span><span style="margin-right:0.05764em;">E</span><span><span><span><span style="height:0.34479999999999994em;"><span style="top:-2.5198em;margin-left:-0.05764em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.3280857142857143em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span><span>in</span><span>p</span><span>u</span><span>t</span></span></span></span></span><span>​</span></span><span><span style="height:0.2818857142857143em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span></span></span></span></span><span>​</span></span><span><span style="height:0.3775199999999999em;"><span></span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span>max</span><span>(</span><span>0</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span>∣∣</span><span><span>∇</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>x</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.02778em;">D</span><span>(</span><span>x</span><span>)</span><span>∣∣</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span>1</span><span>)}</span></span></span></span></span></p>
<p>其中<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.036108em;vertical-align:-0.286108em;"></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>in</span><span>p</span><span>u</span><span>t</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span></span></span></span>是输入数据的分布。</p>
<p>而对于采样的过程，新版WGAN给出的方案是依次从两个分布中各选取一个样本，然后连接两个样本，并在该线段上任意采取一点作为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.036108em;vertical-align:-0.286108em;"></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>in</span><span>p</span><span>u</span><span>t</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span></span></span></span>。正是有<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.036108em;vertical-align:-0.286108em;"></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>in</span><span>p</span><span>u</span><span>t</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span></span></span></span>的存在，梯度变化就被约束而平缓变化了。</p>
<p>不过在实现中我们没有直接使用<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>max</span><span>(</span><span>0</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span>∣∣</span><span><span>∇</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>x</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.02778em;">D</span><span>(</span><span>x</span><span>)</span><span>∣∣</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span>1</span><span>)</span></span></span></span>的形式，因为这个无法直接计算，我们采用的是<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>(</span><span>∣∣</span><span><span>∇</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>x</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.02778em;">D</span><span>(</span><span>x</span><span>)</span><span>∣∣</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1.064108em;vertical-align:-0.25em;"></span><span>1</span><span><span>)</span><span><span><span><span style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span></span></span></span></span></span></span></span>。这意味着我们正要求<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span><span>∇</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>x</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.02778em;">D</span><span>(</span><span>x</span><span>)</span></span></span></span>尽可能接近1，到这里你可能还不明白为什么这样。</p>
<p>首先一定要清晰的是<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">D</span><span>(</span><span>x</span><span>)</span></span></span></span>的存在就是为了增大损失函数的值，那么根据上面给的表达式，不难看出，当<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.83333em;vertical-align:-0.15em;"></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>尽可能大，而<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.969438em;vertical-align:-0.286108em;"></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>尽可能小的时候损失函数的值必然会尽可能大。这时再回顾<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">D</span><span>(</span><span>x</span><span>)</span></span></span></span>的定义，我们会发现这样的变化会导致<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">D</span><span>(</span><span>x</span><span>)</span></span></span></span>尽可能接近1。到此为止，我们总算清楚为何要如此做法了。</p>
<p>于是我们最终的损失函数就出炉了：</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.036108em;vertical-align:-0.286108em;"></span><span style="margin-right:0.13889em;">W</span><span>(</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1.494331em;vertical-align:-0.7443310000000001em;"></span><span><span><span><span style="height:0.43055999999999983em;"><span style="top:-2.355669em;margin-left:0em;"><span style="height:3em;"></span><span><span><span style="margin-right:0.02778em;">D</span></span></span></span><span style="top:-3em;"><span style="height:3em;"></span><span><span>max</span></span></span></span><span>​</span></span><span><span style="height:0.7443310000000001em;"><span></span></span></span></span></span><span>{</span><span><span style="margin-right:0.05764em;">E</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.2501em;"><span></span></span></span></span></span></span><span>[</span><span style="margin-right:0.02778em;">D</span><span>(</span><span>x</span><span>)]</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1.1275199999999999em;vertical-align:-0.3775199999999999em;"></span><span><span style="margin-right:0.05764em;">E</span><span><span><span><span style="height:0.34479999999999994em;"><span style="top:-2.5198em;margin-left:-0.05764em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285716em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.2818857142857143em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span></span></span></span></span><span>​</span></span><span><span style="height:0.3775199999999999em;"><span></span></span></span></span></span></span><span>[</span><span style="margin-right:0.02778em;">D</span><span>(</span><span>x</span><span>)]</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1.1275199999999999em;vertical-align:-0.3775199999999999em;"></span><span>λ</span><span><span style="margin-right:0.05764em;">E</span><span><span><span><span style="height:0.34479999999999994em;"><span style="top:-2.5198em;margin-left:-0.05764em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.3280857142857143em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span><span>in</span><span>p</span><span>u</span><span>t</span></span></span></span></span><span>​</span></span><span><span style="height:0.2818857142857143em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span></span></span></span></span><span>​</span></span><span><span style="height:0.3775199999999999em;"><span></span></span></span></span></span></span><span>[(</span><span>∣∣</span><span><span>∇</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>x</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.02778em;">D</span><span>(</span><span>x</span><span>)</span><span>∣∣</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1.1141079999999999em;vertical-align:-0.25em;"></span><span>1</span><span><span>)</span><span><span><span><span style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span></span></span></span></span><span>]}</span></span></span></span></span></p>
<hr>
<h2 id="实现"> 实现！</h2>
<p><strong>「注」：以下一切操作均基于Original GAN而修改！</strong></p>
<div><pre><code><span>def</span> <span>weights_init</span><span>(</span>m<span>)</span><span>:</span>
    <span>if</span> <span>isinstance</span><span>(</span>m<span>,</span> nn<span>.</span>Linear<span>)</span><span>:</span>
        <span># m.weight.data.normal_(0.0, 0.02)</span>
        nn<span>.</span>init<span>.</span>kaiming_normal_<span>(</span>m<span>.</span>weight<span>)</span>
        m<span>.</span>bias<span>.</span>data<span>.</span>fill_<span>(</span><span>0</span><span>)</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br></div></div><div><pre><code><span>def</span> <span>gradient_penalty</span><span>(</span>D<span>,</span> x_r<span>,</span> x_f<span>)</span><span>:</span>
    t <span>=</span> torch<span>.</span>rand<span>(</span>batchsz<span>,</span> <span>1</span><span>)</span><span>.</span>cuda<span>(</span><span>)</span>
    t <span>=</span> t<span>.</span>expand_as<span>(</span>x_r<span>)</span>
    mid <span>=</span> t <span>*</span> x_r <span>+</span> <span>(</span><span>1</span> <span>-</span> t<span>)</span> <span>*</span> x_f
    mid<span>.</span>requires_grad_<span>(</span><span>)</span>
    
    pred <span>=</span> D<span>(</span>mid<span>)</span>
    grads <span>=</span> autograd<span>.</span>grad<span>(</span>outputs<span>=</span>pred<span>,</span> \
                          inputs<span>=</span>mid<span>,</span> \
                          grad_outputs<span>=</span>torch<span>.</span>ones_like<span>(</span>pred<span>)</span><span>,</span> \
                          create_graph<span>=</span><span>True</span><span>,</span> \
                          retain_graph<span>=</span><span>True</span><span>,</span> \
                          only_inputs<span>=</span><span>True</span><span>)</span><span>[</span><span>0</span><span>]</span>
    
    gp <span>=</span> torch<span>.</span><span>pow</span><span>(</span>grads<span>.</span>norm<span>(</span><span>2</span><span>,</span> dim<span>=</span><span>1</span><span>)</span> <span>-</span> <span>1</span><span>,</span> <span>2</span><span>)</span><span>.</span>mean<span>(</span><span>)</span>
    
    <span>return</span> gp
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br></div></div><p>定义完这两个函数之后需要在main()中<code>loss_D = loss_r + loss_f</code>改成<code>loss_D = loss_r + loss_f + 0.2 * gp</code>，其中0.2是一种超参数，可以自行调整；并且在这行代码前面加上<code>gp = gradient_penalty(D, x_r, x_f.detach())</code>，并且在定义G、D变量的后面加上<code>G.apply(weights_init</code>和<code>D.apply(weights_init)</code>这两行代码。</p>
<p>这样我们就完成了WGAN-gp的实现，完整代码请点击这里--&gt;<a href="https://github.com/BreezeShane/Unsupervised-Learning/blob/master/WGAN-gp.py" target="_blank" rel="noopener noreferrer">·</a></p>
]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2021-05-18T08:44:36.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">Wasserstein Generative Adversarial Networks</title>
    <id>https://breezeshane.github.io/ArtificialIntelligence/UnsupervisedLearning/WGAN/</id>
    <link href="https://breezeshane.github.io/ArtificialIntelligence/UnsupervisedLearning/WGAN/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<blockquote>
<p>首推这篇博客，本文内容多参考自此。<a href="https://www.cnblogs.com/Allen-rg/p/10305125.html" target="_blank" rel="noopener noreferrer">WGAN (原理解析)</a></p>
<p>本文也另外参考了这篇<a href="https://lotabout.me/2018/WGAN/" target="_blank" rel="noopener noreferrer">博客</a></p>
</blockquote>
<h2 id="结果"> 结果！</h2>
<p>尽管表现差了些，但也比之前的Qriginal GAN要强多了，这里出现了训练不稳定的情况，但还不至于直接导致梯度消失问题。</p>
<p><img src="/images/wgan-1.png" alt="" /></p>
<p><img src="/images/wgan-2.png" alt="" /></p>
<p><img src="/images/wgan-3.png" alt="" /></p>
<p>从最终结果来看，成绩还没那么糟糕，较多数的点也聚集在黄点的区域附近了。</p>
<h2 id="原因"> 原因?</h2>
<h3 id="原始gan的缺陷"> 原始GAN的缺陷</h3>
<p><em><strong>通俗的解释就是，判别器训练的太好，以至于生成器训练不动！</strong></em></p>
<p>我们先来看一下Original GAN的损失函数：</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>L</span><span>(</span><span>G</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.02778em;">D</span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1.036108em;vertical-align:-0.286108em;"></span><span>2</span><span><span style="margin-right:0.02778em;">D</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.09618em;">J</span><span style="margin-right:0.05764em;">S</span></span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>∣∣</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>)</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span>2</span><span style="margin-right:0.01968em;">l</span><span>o</span><span style="margin-right:0.03588em;">g</span><span>2</span></span></span></span></span></p>
<p>为避免你遗忘，再复习一下这两个定义：</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span><span style="margin-right:0.02778em;">D</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.07153em;">K</span><span>L</span></span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span>p</span><span>∣∣</span><span style="margin-right:0.03588em;">q</span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:2.363em;vertical-align:-0.936em;"></span><span><span style="margin-right:0.44445em;position:relative;top:-0.0011249999999999316em;">∫</span><span><span><span><span style="height:-0.6105579999999999em;"><span style="top:-1.7880500000000001em;margin-left:-0.44445em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>x</span></span></span></span><span>​</span></span><span><span style="height:0.9119499999999999em;"><span></span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span>p</span><span>(</span><span>x</span><span>)</span><span style="margin-right:0.01968em;">l</span><span>o</span><span style="margin-right:0.03588em;">g</span><span><span></span><span><span><span><span style="height:1.427em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span style="margin-right:0.03588em;">q</span><span>(</span><span>x</span><span>)</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span>p</span><span>(</span><span>x</span><span>)</span></span></span></span><span>​</span></span><span><span style="height:0.936em;"><span></span></span></span></span></span><span></span></span><span>d</span><span>x</span></span></span></span></span></p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.83333em;vertical-align:-0.15em;"></span><span><span style="margin-right:0.02778em;">D</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.09618em;">J</span><span style="margin-right:0.05764em;">S</span></span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:2.00744em;vertical-align:-0.686em;"></span><span><span></span><span><span><span><span style="height:1.32144em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span>2</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.686em;"><span></span></span></span></span></span><span></span></span><span><span style="margin-right:0.02778em;">D</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.07153em;">K</span><span>L</span></span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span>p</span><span>∣∣</span><span><span></span><span><span><span><span style="height:1.2603300000000002em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span>2</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span>p</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span style="margin-right:0.03588em;">q</span></span></span></span><span>​</span></span><span><span style="height:0.686em;"><span></span></span></span></span></span><span></span></span><span>)</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:2.00744em;vertical-align:-0.686em;"></span><span><span></span><span><span><span><span style="height:1.32144em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span>2</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.686em;"><span></span></span></span></span></span><span></span></span><span><span style="margin-right:0.02778em;">D</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.07153em;">K</span><span>L</span></span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span style="margin-right:0.03588em;">q</span><span>∣∣</span><span><span></span><span><span><span><span style="height:1.2603300000000002em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span>2</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span>p</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span style="margin-right:0.03588em;">q</span></span></span></span><span>​</span></span><span><span style="height:0.686em;"><span></span></span></span></span></span><span></span></span><span>)</span></span></span></span></span></p>
<p>根据前一篇的推导，我们可以看到，如果我们能缩小这个JS散度的话，就可以把真实分布和生成分布拉近了，而这正是我们希望看到的，生成器生成的东西会更接近真实。</p>
<p><strong>然而现实总是残酷的，问题就出现在这个JS散度上。</strong>我们对它的希望只能在两个分布有所重叠且重叠部分不可忽略的情况下才能成立。反过来说就是，如果两个分布没有重叠或者有可忽略的重叠，JS散度的结果只能是一个常数（ lg2，可自行验证），而常数意味着梯度必然为0！</p>
<p>我们试着探究一下，对于任意一个x，必然分如下四种情况：</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.64444em;vertical-align:0em;"></span><span>0</span><span style="margin-right:0.2222222222222222em;"></span><span>∧</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span>0</span><span><span>；</span></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span><span><span><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span><span><span></span></span></span><span></span></span></span></span></span></span><span><span style="height:0.36687em;vertical-align:0em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.64444em;vertical-align:0em;"></span><span>0</span><span style="margin-right:0.2222222222222222em;"></span><span>∧</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span><span><span><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span><span><span></span></span></span><span></span></span></span></span></span></span><span><span style="height:0.36687em;vertical-align:0em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.68333em;vertical-align:0em;"></span><span>0</span><span><span>；</span></span></span><span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span><span><span><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span><span><span></span></span></span><span></span></span></span></span></span></span><span><span style="height:0.36687em;vertical-align:0em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.64444em;vertical-align:0em;"></span><span>0</span><span style="margin-right:0.2222222222222222em;"></span><span>∧</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span>0</span><span><span>；</span></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.64444em;vertical-align:0em;"></span><span>0</span><span style="margin-right:0.2222222222222222em;"></span><span>∧</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span><span><span><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span><span><span></span></span></span><span></span></span></span></span></span></span><span><span style="height:0.36687em;vertical-align:0em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.68333em;vertical-align:0em;"></span><span>0</span><span><span>；</span></span></span></span></span></span></p>
<p>对于第一种情况是对JS散度无贡献的；而第二种情况又因为重叠部分可忽略以至于贡献过小，也可看作无贡献；而对于后两种情况，计算结果皆为lg2。</p>
<p>而真实分布和生成分布不重叠或者重叠部分可忽略的情况出现的可能性有多大？可以说非常大。而严格来说，则是当<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.83333em;vertical-align:-0.15em;"></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>和<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.969438em;vertical-align:-0.286108em;"></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>的支撑集<sup></sup>是高维空间中的低维流形<sup></sup>时<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.83333em;vertical-align:-0.15em;"></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>和<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.969438em;vertical-align:-0.286108em;"></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>重叠部分测度<sup></sup>为0的概率为1。</p>
<p>现在，我们再想，一般生成器都是从低维空间中随机生成某一编码向量，再通过神经网络生成高维数据，然而尽管最后数据是高维的，可实质上的维度还是和编码向量维度相同或者比编码向量维度还小（考虑到神经网络带来的映射降维）——因为向量的所有变化都只能分布在低维空间中，而所有的变化又与高维数据形成映射，也就是说，高维空间中的事件空间仅含有低维空间内的所有变化，而不包含高维空间的其余部分。「这就是这位博主说的“撑不满”整个高维空间的意思。」</p>
<p>正是有上面的“撑不满”的问题，真实分布和生成分布就很难有重叠部分，首先要明白，我们寻找的重叠部分实际上是和真实分布、生成分布同维的，那么在整个高维空间中，两个分布即使能相交，得到的重叠部分只能是低维流形，这对于我们要找到的重叠部分而言差的很远，测度显然为0（可能没有测度，也可能测度过小而可忽略）。</p>
<p>综上所述，在（近似）最优判别器中，最小化生成器<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>L</span><span>(</span><span>G</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.02778em;">D</span><span>)</span></span></span></span>等价于最小化<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.83333em;vertical-align:-0.15em;"></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>和<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.969438em;vertical-align:-0.286108em;"></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>的JS散度，然而当<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.83333em;vertical-align:-0.15em;"></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>和<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.969438em;vertical-align:-0.286108em;"></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>不重叠或者重叠部分测度为0时，无论两个分布相距多远，JS散度始终是lg2，导致梯度几乎为0，梯度消失，生成器就无法训练。</p>
<p>而我们再宏观把握这个问题：</p>
<p>1.由于<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.83333em;vertical-align:-0.15em;"></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>和<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.969438em;vertical-align:-0.286108em;"></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>几乎不能有不可忽略的重叠，不论两者实际的距离有多小，必然存在一个最优分割曲面能恰好将两者隔开，而且仅仅是那些测度为0的重叠部分不能被隔开。</p>
<p>2.以神经网络为主体的判别器可无限拟合上面提到的曲面，从而能够出现这样一个最优判别器，对几乎整个真实分布给出概率为1，而对几乎整个生成分布给出概率为0，而只有那些可忽略的测度为0的部分，最优判别器才不能很好地分类。</p>
<p>3.判别器对真实分布和生成分布的概率是常数，这造成生成器损失函数的梯度变成0。</p>
<p>这下就清楚原始GAN的问题所在了：如果判别器训练得太好，生成器的梯度就消失，Loss函数无法下降；如果判别器训练得不好，生成器梯度不准，会生成许多无用的样本。只有将判别器训练得恰到好处才能表现良好，然而这一点非常难做到，像博主所说，“在同一轮训练的前后不同阶段这个火候都可能不一样”，因此原始GAN非常难训练。</p>
<p>后来Ian Goodfellow提出了一种改进方式，将生成器的Loss改成<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span><span>E</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span></span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>[</span><span>−</span><span style="margin-right:0.16666666666666666em;"></span><span>lo<span style="margin-right:0.01389em;">g</span></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.02778em;">D</span><span>(</span><span>x</span><span>)]</span></span></span></span>，然后将KL散度变换成含判别器D的形式：</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:12.820108000000001em;vertical-align:-6.160054000000001em;"></span><span><span><span><span><span><span style="height:6.660054000000001em;"><span style="top:-10.022162000000002em;"><span style="height:4.952108em;"></span><span><span style="margin-right:0.07153em;">K</span><span>L</span><span>(</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>∣∣</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>)</span></span></span><span style="top:-5.834054em;"><span style="height:4.952108em;"></span><span></span></span><span style="top:-1.5280539999999996em;"><span style="height:4.952108em;"></span><span></span></span><span style="top:0.5479460000000005em;"><span style="height:4.952108em;"></span><span></span></span></span><span>​</span></span><span><span style="height:6.160054000000001em;"><span></span></span></span></span></span><span><span><span><span style="height:6.660054000000001em;"><span style="top:-10.022162000000002em;"><span style="height:4.952108em;"></span><span><span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span><span><span>E</span><span><span><span><span style="height:0.32833100000000004em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285716em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.2818857142857143em;"><span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.34731999999999996em;"><span></span></span></span></span></span></span><span>[</span><span>lo<span style="margin-right:0.01389em;">g</span></span><span style="margin-right:0.16666666666666666em;"></span><span><span></span><span><span><span><span style="height:1.5899999999999999em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.74em;"><span style="height:3em;"></span><span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span></span></span></span><span>​</span></span><span><span style="height:0.936em;"><span></span></span></span></span></span><span></span></span><span>]</span></span></span><span style="top:-5.834054em;"><span style="height:4.952108em;"></span><span><span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span><span><span>E</span><span><span><span><span style="height:0.32833100000000004em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285716em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.2818857142857143em;"><span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.34731999999999996em;"><span></span></span></span></span></span></span><span>[</span><span>lo<span style="margin-right:0.01389em;">g</span></span><span style="margin-right:0.16666666666666666em;"></span><span><span></span><span><span><span><span style="height:2.952108em;"><span style="top:-2.11em;"><span style="height:3.59em;"></span><span><span><span></span><span><span><span><span style="height:1.5899999999999999em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span>(</span><span>x</span><span>)</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.74em;"><span style="height:3em;"></span><span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span></span></span></span><span>​</span></span><span><span style="height:0.936em;"><span></span></span></span></span></span><span></span></span></span></span><span style="top:-3.82em;"><span style="height:3.59em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-4.952108em;"><span style="height:3.59em;"></span><span><span><span></span><span><span><span><span style="height:1.5899999999999999em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.74em;"><span style="height:3em;"></span><span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span></span></span></span><span>​</span></span><span><span style="height:0.972108em;"><span></span></span></span></span></span><span></span></span></span></span></span><span>​</span></span><span><span style="height:2.416em;"><span></span></span></span></span></span><span></span></span><span>]</span></span></span><span style="top:-1.5280539999999996em;"><span style="height:4.952108em;"></span><span><span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span><span><span>E</span><span><span><span><span style="height:0.32833100000000004em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285716em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.2818857142857143em;"><span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.34731999999999996em;"><span></span></span></span></span></span></span><span>[</span><span>lo<span style="margin-right:0.01389em;">g</span></span><span style="margin-right:0.16666666666666666em;"></span><span><span></span><span><span><span><span style="height:1.5899999999999999em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span style="margin-right:0.02778em;">D</span><span>(</span><span>x</span><span>)</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.74em;"><span style="height:3em;"></span><span><span>1</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span><span style="margin-right:0.02778em;">D</span><span>(</span><span>x</span><span>)</span></span></span></span><span>​</span></span><span><span style="height:0.936em;"><span></span></span></span></span></span><span></span></span><span>]</span></span></span><span style="top:0.5479460000000005em;"><span style="height:4.952108em;"></span><span><span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span><span><span>E</span><span><span><span><span style="height:0.32833100000000004em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285716em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.2818857142857143em;"><span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.34731999999999996em;"><span></span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span>lo<span style="margin-right:0.01389em;">g</span></span><span>[</span><span>1</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span><span style="margin-right:0.02778em;">D</span><span>(</span><span>x</span><span>)]</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span><span><span>E</span><span><span><span><span style="height:0.32833100000000004em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285716em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.2818857142857143em;"><span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.34731999999999996em;"><span></span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span>lo<span style="margin-right:0.01389em;">g</span></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.02778em;">D</span><span>(</span><span>x</span><span>)</span></span></span></span><span>​</span></span><span><span style="height:6.160054000000001em;"><span></span></span></span></span></span></span></span></span></span></span></span></p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:3.0000000000000004em;vertical-align:-1.2500000000000002em;"></span><span><span><span><span><span><span style="height:1.7500000000000002em;"><span style="top:-3.91em;"><span style="height:3em;"></span><span><span><span>E</span><span><span><span><span style="height:0.32833100000000004em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285716em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.2818857142857143em;"><span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.34731999999999996em;"><span></span></span></span></span></span></span><span>[</span><span>−</span><span style="margin-right:0.16666666666666666em;"></span><span>lo<span style="margin-right:0.01389em;">g</span></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.02778em;">D</span><span>(</span><span>x</span><span>)]</span></span></span><span style="top:-2.41em;"><span style="height:3em;"></span><span></span></span></span><span>​</span></span><span><span style="height:1.2500000000000002em;"><span></span></span></span></span></span><span><span><span><span style="height:1.7500000000000002em;"><span style="top:-3.91em;"><span style="height:3em;"></span><span><span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span><span style="margin-right:0.07153em;">K</span><span>L</span><span>(</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>∣∣</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>)</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span><span><span>E</span><span><span><span><span style="height:0.32833100000000004em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285716em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.2818857142857143em;"><span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.34731999999999996em;"><span></span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span>lo<span style="margin-right:0.01389em;">g</span></span><span>[</span><span>1</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span><span style="margin-right:0.02778em;">D</span><span>(</span><span>x</span><span>)]</span></span></span><span style="top:-2.41em;"><span style="height:3em;"></span><span><span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span><span style="margin-right:0.07153em;">K</span><span>L</span><span>(</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>∣∣</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>)</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span><span>2</span><span style="margin-right:0.09618em;">J</span><span style="margin-right:0.05764em;">S</span><span>(</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>∣∣</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>)</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span>2</span><span style="margin-right:0.16666666666666666em;"></span><span>lo<span style="margin-right:0.01389em;">g</span></span><span style="margin-right:0.16666666666666666em;"></span><span>2</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span><span>E</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.2501em;"><span></span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span>lo<span style="margin-right:0.01389em;">g</span></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.02778em;">D</span><span>(</span><span>x</span><span>)</span></span></span></span><span>​</span></span><span><span style="height:1.2500000000000002em;"><span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>很容易看出来最后两项不依赖生成器，因而最小化该公式就等价于最小化<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.036108em;vertical-align:-0.286108em;"></span><span style="margin-right:0.07153em;">K</span><span>L</span><span>(</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>∣∣</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>)</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1.036108em;vertical-align:-0.286108em;"></span><span>2</span><span style="margin-right:0.09618em;">J</span><span style="margin-right:0.05764em;">S</span><span>(</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>∣∣</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>)</span></span></span></span>，但很明显，这是在同时做两件相互矛盾的事——既要最小化KL散度，又要最大化JS散度（回顾之前我写的Original GAN可知，JS本身就是在以KL散度来定义）。尽管看起来可能像构成博弈，但最后造成了梯度不稳定。</p>
<p>另外，前面的KL散度项也存在问题，因为KL散度本身不是对称的衡量，<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.036108em;vertical-align:-0.286108em;"></span><span style="margin-right:0.07153em;">K</span><span>L</span><span>(</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>∣∣</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>)</span></span></span></span>和<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.036108em;vertical-align:-0.286108em;"></span><span style="margin-right:0.07153em;">K</span><span>L</span><span>(</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>∣∣</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>)</span></span></span></span>是有区别的，为什么要提及不对称的问题？我们看一下关于<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.036108em;vertical-align:-0.286108em;"></span><span style="margin-right:0.07153em;">K</span><span>L</span><span>(</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>∣∣</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>)</span></span></span></span>的两种情况：</p>
<p>当<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.036108em;vertical-align:-0.286108em;"></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>→</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span>0</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>→</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.64444em;vertical-align:0em;"></span><span>1</span></span></span></span>时，<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.55232em;vertical-align:-0.52em;"></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span><span style="margin-right:0.16666666666666666em;"></span><span>lo<span style="margin-right:0.01389em;">g</span></span><span style="margin-right:0.16666666666666666em;"></span><span><span></span><span><span><span><span style="height:1.03232em;"><span style="top:-2.655em;"><span style="height:3em;"></span><span><span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.143em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span></span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.50732em;"><span style="height:3em;"></span><span><span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285716em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.2818857142857143em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span></span></span></span></span><span>​</span></span><span><span style="height:0.52em;"><span></span></span></span></span></span><span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>→</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.64444em;vertical-align:0em;"></span><span>0</span></span></span></span>，对<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.036108em;vertical-align:-0.286108em;"></span><span style="margin-right:0.07153em;">K</span><span>L</span><span>(</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>∣∣</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>)</span></span></span></span>的贡献趋近于0；</p>
<p>当<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.036108em;vertical-align:-0.286108em;"></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>→</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span>1</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>→</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.64444em;vertical-align:0em;"></span><span>0</span></span></span></span>时，<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.55232em;vertical-align:-0.52em;"></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span><span style="margin-right:0.16666666666666666em;"></span><span>lo<span style="margin-right:0.01389em;">g</span></span><span style="margin-right:0.16666666666666666em;"></span><span><span></span><span><span><span><span style="height:1.03232em;"><span style="top:-2.655em;"><span style="height:3em;"></span><span><span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.143em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span></span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.50732em;"><span style="height:3em;"></span><span><span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285716em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.2818857142857143em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span></span></span></span></span><span>​</span></span><span><span style="height:0.52em;"><span></span></span></span></span></span><span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>→</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.66666em;vertical-align:-0.08333em;"></span><span>+</span><span>∞</span></span></span></span>，对<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.036108em;vertical-align:-0.286108em;"></span><span style="margin-right:0.07153em;">K</span><span>L</span><span>(</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>∣∣</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>)</span></span></span></span>的贡献趋近于正无穷。</p>
<p>这代表什么意思？一言以蔽之，惩罚失衡。对于第一种情况，生成器没能生成真实的样本，惩罚却微小，而对于第二种情况，生成器生成了不真实的样本，惩罚却巨大。这样会导致生成器宁可生成重复但不会错的样本，也不会去生成多样的样本。其实这就是常见的<font color="red"><strong>Collapse Mode。</strong></font></p>
<h3 id="wgan前作的改进"> WGAN前作的改进</h3>
<p>WGAN前作针对生成器随机初始化后的生成分布很难与真实分布有不可忽略的重叠的问题提出了一种解决方案：向生成样本和真实样本添加噪声。这样就让原本的两个低维流形强行弥散到整个高维空间，从而使两者产生不可忽略的重叠。</p>
<p>显然一旦存在重叠，JS散度就可以发挥作用，当两个分布靠近的时候，JS散度也会减小，而不再是恒为常数了，这样就可以解决生成器梯度消失问题了。训练过程中还可以对添加的噪声进行退火，缓慢减小其方差，直到最后两个低维流体已经有不可忽略的重叠的时候把噪声完全拿掉，JS也能正常发挥作用，继续拉近两个低维流形，直到他们接近完全重合为止。</p>
<p>采取这样的方案后，对原来的损失函数</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.1052em;vertical-align:-0.3551999999999999em;"></span><span><span>E</span><span><span><span><span style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.143em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span></span></span></span></span><span>​</span></span><span><span style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span>[</span><span>lo<span style="margin-right:0.01389em;">g</span></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.02778em;">D</span><span>(</span><span>x</span><span>)]</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1.1275199999999999em;vertical-align:-0.3775199999999999em;"></span><span><span>E</span><span><span><span><span style="height:0.34479999999999994em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285716em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.2818857142857143em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span></span></span></span></span><span>​</span></span><span><span style="height:0.3775199999999999em;"><span></span></span></span></span></span></span><span>[</span><span>lo<span style="margin-right:0.01389em;">g</span></span><span>(</span><span>1</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">D</span><span>(</span><span>x</span><span>))]</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1.036108em;vertical-align:-0.286108em;"></span><span>2</span><span style="margin-right:0.09618em;">J</span><span style="margin-right:0.05764em;">S</span><span>(</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>∣∣</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>)</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span>2</span><span style="margin-right:0.16666666666666666em;"></span><span>lo<span style="margin-right:0.01389em;">g</span></span><span style="margin-right:0.16666666666666666em;"></span><span>2</span></span></span></span></span></p>
<p>取反可得判别器最小loss为</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.036108em;vertical-align:-0.286108em;"></span><span>min</span><span style="margin-right:0.16666666666666666em;"></span><span><span>L</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">D</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.25833100000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.02778em;">r</span><span>+</span><span>ϵ</span></span></span></span></span><span>​</span></span><span><span style="height:0.208331em;"><span></span></span></span></span></span></span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.25833100000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.03588em;">g</span><span>+</span><span>ϵ</span></span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1.041765em;vertical-align:-0.291765em;"></span><span>−</span><span><span>E</span><span><span><span><span style="height:0.328331em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.2736642857142857em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span><span style="margin-right:0.02778em;">r</span><span>+</span><span>ϵ</span></span></span></span></span><span>​</span></span><span><span style="height:0.20252142857142857em;"><span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.291765em;"><span></span></span></span></span></span></span><span>[</span><span>lo<span style="margin-right:0.01389em;">g</span></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.02778em;">D</span><span>(</span><span>x</span><span>)]</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1.0973199999999999em;vertical-align:-0.34731999999999996em;"></span><span><span>E</span><span><span><span><span style="height:0.32833100000000004em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.2736642857142857em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span><span style="margin-right:0.03588em;">g</span><span>+</span><span>ϵ</span></span></span></span></span><span>​</span></span><span><span style="height:0.2818857142857143em;"><span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.34731999999999996em;"><span></span></span></span></span></span></span><span>[</span><span>lo<span style="margin-right:0.01389em;">g</span></span><span>(</span><span>1</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">D</span><span>(</span><span>x</span><span>))]</span></span></span></span></span></p>
<h3 id="wgan-出现的全过程"> WGAN 出现的全过程</h3>
<p>在这里就要引入一个新的概念：Wasserstein距离（又称Earth-Mover距离、EM距离），定义如下：</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.036108em;vertical-align:-0.286108em;"></span><span style="margin-right:0.13889em;">W</span><span>(</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1.9327599999999998em;vertical-align:-1.1827599999999998em;"></span><span><span><span><span><span style="height:0.6944400000000001em;"><span style="top:-2.1145600000000004em;margin-left:0em;"><span style="height:3em;"></span><span><span><span style="margin-right:0.05556em;">γ</span><span>∼</span><span>Π</span><span>(</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.143em;"><span></span></span></span></span></span></span><span>,</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285716em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.2818857142857143em;"><span></span></span></span></span></span></span><span>)</span></span></span></span><span style="top:-3.0000000000000004em;"><span style="height:3em;"></span><span><span><span>in</span><span style="margin-right:0.10764em;">f</span></span></span></span></span><span>​</span></span><span><span style="height:1.1827599999999998em;"><span></span></span></span></span></span></span><span><span>E</span><span><span><span><span style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>(</span><span>x</span><span>,</span><span style="margin-right:0.03588em;">y</span><span>)</span><span>∼</span><span style="margin-right:0.05556em;">γ</span></span></span></span></span><span>​</span></span><span><span style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span>[</span><span>∣∣</span><span>x</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.03588em;">y</span><span>∣∣</span><span>]</span></span></span></span></span></p>
<p>其中<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>Π</span><span>(</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span>)</span></span></span></span>是<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.83333em;vertical-align:-0.15em;"></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>和<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.969438em;vertical-align:-0.286108em;"></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>组合起来的所有可能的联合分布集合，显然，其边缘分布为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.83333em;vertical-align:-0.15em;"></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>和<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.969438em;vertical-align:-0.286108em;"></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>。又由于对每一个可能的联合分布<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.625em;vertical-align:-0.19444em;"></span><span style="margin-right:0.05556em;">γ</span></span></span></span>而言，总可以从<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>Π</span><span>(</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span>)</span></span></span></span>中采样<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>(</span><span>x</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.03588em;">y</span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>∼</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.625em;vertical-align:-0.19444em;"></span><span style="margin-right:0.05556em;">γ</span></span></span></span>得到一个真实样本<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>x</span></span></span></span>和生成样本<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.625em;vertical-align:-0.19444em;"></span><span style="margin-right:0.03588em;">y</span></span></span></span>，并算出这两个样本的距离<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>∣∣</span><span>x</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.03588em;">y</span><span>∣∣</span></span></span></span>，就可以借此算出该联合分布<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.625em;vertical-align:-0.19444em;"></span><span style="margin-right:0.05556em;">γ</span></span></span></span>下样本对距离的期望值<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.1052em;vertical-align:-0.3551999999999999em;"></span><span><span style="margin-right:0.05764em;">E</span><span><span><span><span style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:-0.05764em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>(</span><span>x</span><span>,</span><span style="margin-right:0.03588em;">y</span><span>)</span><span>∼</span><span style="margin-right:0.05556em;">γ</span></span></span></span></span><span>​</span></span><span><span style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span>[</span><span>∣∣</span><span>x</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.03588em;">y</span><span>∣∣</span><span>]</span></span></span></span>，在所有可能的联合分布中取到这些期望值的下界<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.9327599999999998em;vertical-align:-1.1827599999999998em;"></span><span><span><span><span><span style="height:0.6944400000000001em;"><span style="top:-2.1145600000000004em;margin-left:0em;"><span style="height:3em;"></span><span><span><span style="margin-right:0.05556em;">γ</span><span>∼</span><span>Π</span><span>(</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.143em;"><span></span></span></span></span></span></span><span>,</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285716em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.2818857142857143em;"><span></span></span></span></span></span></span><span>)</span></span></span></span><span style="top:-3.0000000000000004em;"><span style="height:3em;"></span><span><span><span>in</span><span style="margin-right:0.10764em;">f</span></span></span></span></span><span>​</span></span><span><span style="height:1.1827599999999998em;"><span></span></span></span></span></span></span><span><span>E</span><span><span><span><span style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>(</span><span>x</span><span>,</span><span style="margin-right:0.03588em;">y</span><span>)</span><span>∼</span><span style="margin-right:0.05556em;">γ</span></span></span></span></span><span>​</span></span><span><span style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span>[</span><span>∣∣</span><span>x</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.03588em;">y</span><span>∣∣</span><span>]</span></span></span></span>，这个下界就被定义为Wasserstein距离。</p>
<p>这里直接引用博主的解释，博主的讲解还是比较准确的：<br>
直观上可以把<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.1052em;vertical-align:-0.3551999999999999em;"></span><span><span>E</span><span><span><span><span style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>(</span><span>x</span><span>,</span><span style="margin-right:0.03588em;">y</span><span>)</span><span>∼</span><span style="margin-right:0.05556em;">γ</span></span></span></span></span><span>​</span></span><span><span style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span>[</span><span>∣∣</span><span>x</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.03588em;">y</span><span>∣∣</span><span>]</span></span></span></span>理解为在<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.625em;vertical-align:-0.19444em;"></span><span style="margin-right:0.05556em;">γ</span></span></span></span>这个“路径规划”下把<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.83333em;vertical-align:-0.15em;"></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>这堆“沙土”挪到<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.969438em;vertical-align:-0.286108em;"></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>“位置”所需的“消耗”，而<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.036108em;vertical-align:-0.286108em;"></span><span style="margin-right:0.13889em;">W</span><span>(</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>)</span></span></span></span>就是“最优路径规划”下的“最小消耗”，所以才叫Earth-Mover（推土机）距离。</p>
<p>Wasserstein距离相比KL散度和JS散度的优势在于，即使真实分布和生成分布没有任何重叠，Wasserstein距离仍然能够反映它们的远近程度。下面我们来做一个平行比较：</p>
<p><img src="/images/2021-05-11_20-00.png" alt="" /></p>
<p>其中<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.83333em;vertical-align:-0.15em;"></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>表示在线段AB上的分布，<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.83333em;vertical-align:-0.15em;"></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>表示在线段CD上的分布</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.07153em;">K</span><span>L</span><span>(</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>∣∣</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:3.0000299999999998em;vertical-align:-1.25003em;"></span><span><span style="top:0em;"><span>{</span></span><span><span><span><span><span><span style="height:1.69em;"><span style="top:-3.69em;"><span style="height:3.008em;"></span><span><span>+</span><span>∞</span><span style="margin-right:2em;"></span><span>i</span><span style="margin-right:0.10764em;">f</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>ϑ</span><span style="margin-right:0.2777777777777778em;"></span><span><span><span><span><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span><span><span></span></span></span><span></span></span></span></span></span><span>=</span></span><span style="margin-right:0.2777777777777778em;"></span><span>0</span></span></span><span style="top:-2.25em;"><span style="height:3.008em;"></span><span><span>0</span><span style="margin-right:2em;"></span><span style="margin-right:1em;"></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>i</span><span style="margin-right:0.10764em;">f</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>ϑ</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span><span>0</span></span></span></span><span>​</span></span><span><span style="height:1.19em;"><span></span></span></span></span></span></span></span><span></span></span></span></span></span></span></p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.09618em;">J</span><span style="margin-right:0.05764em;">S</span><span>(</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>∣∣</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:3.0000299999999998em;vertical-align:-1.25003em;"></span><span><span style="top:0em;"><span>{</span></span><span><span><span><span><span><span style="height:1.69em;"><span style="top:-3.69em;"><span style="height:3.008em;"></span><span><span>+</span><span>∞</span><span style="margin-right:2em;"></span><span>i</span><span style="margin-right:0.10764em;">f</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>ϑ</span><span style="margin-right:0.2777777777777778em;"></span><span><span><span><span><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span><span><span></span></span></span><span></span></span></span></span></span><span>=</span></span><span style="margin-right:0.2777777777777778em;"></span><span>0</span></span></span><span style="top:-2.25em;"><span style="height:3.008em;"></span><span><span>0</span><span style="margin-right:2em;"></span><span style="margin-right:1em;"></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>i</span><span style="margin-right:0.10764em;">f</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span>ϑ</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span><span>0</span></span></span></span><span>​</span></span><span><span style="height:1.19em;"><span></span></span></span></span></span></span></span><span></span></span></span></span></span></span></p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.13889em;">W</span><span>(</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span>∣</span><span>ϑ</span><span>∣</span></span></span></span></span></p>
<p>从中我们不难发现，KL散度、JS散度在<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.69444em;vertical-align:0em;"></span><span>ϑ</span></span></span></span>=0附近发生突变，这意味着在𝜗=0处不可导，因而不可能存在梯度，更谈何下降？</p>
<p>那么我们理解Wasserstein距离之后，该如何构建GAN网络模型呢？将它定义为生成器的Loss函数，产生有意义的梯度，从而将生成分布拉向真实分布吗？然而我们回看这个定义，会发现如果要求解<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.85488em;vertical-align:-1.16044em;"></span><span><span><span><span><span style="height:0.6944400000000001em;"><span style="top:-2.11456em;margin-left:0em;"><span style="height:3em;"></span><span><span><span style="margin-right:0.05556em;">γ</span><span>∼</span><span>Π</span><span>(</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.143em;"><span></span></span></span></span></span></span><span>,</span><span>)</span></span></span></span><span style="top:-3.0000000000000004em;"><span style="height:3em;"></span><span><span><span>in</span><span style="margin-right:0.10764em;">f</span></span></span></span></span><span>​</span></span><span><span style="height:1.16044em;"><span></span></span></span></span></span></span></span></span></span>的话，按照定义我们应该把每一个期望值都算出来，然后去寻找下界。很明显这效率不高，也几乎无法实现。不过作者用了一系列定理得出一套能使用的公式：</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.13889em;">W</span><span>(</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:2.48188em;vertical-align:-1.16044em;"></span><span><span></span><span><span><span><span style="height:1.32144em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span style="margin-right:0.07153em;">K</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.686em;"><span></span></span></span></span></span><span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span><span><span style="height:0.43056000000000016em;"><span style="top:-2.11456em;margin-left:0em;"><span style="height:3em;"></span><span><span><span>∣∣</span><span style="margin-right:0.10764em;">f</span><span>∣</span><span><span>∣</span><span><span><span><span style="height:0.3448em;"><span style="top:-2.3567071428571427em;margin-left:0em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span>L</span></span></span></span><span>​</span></span><span><span style="height:0.14329285714285717em;"><span></span></span></span></span></span></span><span>≤</span><span style="margin-right:0.07153em;">K</span></span></span></span><span style="top:-3.0000000000000004em;"><span style="height:3em;"></span><span><span>sup</span></span></span></span><span>​</span></span><span><span style="height:1.16044em;"><span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span>E</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.2501em;"><span></span></span></span></span></span></span><span>[</span><span style="margin-right:0.10764em;">f</span><span>(</span><span>x</span><span>)]</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1.0973199999999999em;vertical-align:-0.34731999999999996em;"></span><span><span>E</span><span><span><span><span style="height:0.32833100000000004em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285716em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.2818857142857143em;"><span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.34731999999999996em;"><span></span></span></span></span></span></span><span>[</span><span style="margin-right:0.10764em;">f</span><span>(</span><span>x</span><span>)]</span></span></span></span></span></p>
<p>具体过程请去查阅<a href="https://arxiv.org/abs/1701.07875" target="_blank" rel="noopener noreferrer">相关论文</a>的附录C。</p>
<p>在进一步解释这个公式之前，我们需要知道利普希茨连续（Lipschitz Continuity）的概念：</p>
<blockquote>
<p>对于在实数集的子集的函数<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span><span style="margin-right:0.10764em;">f</span><span></span><span style="margin-right:0.1111111111111111em;"></span><span></span><span style="margin-right:-0.16666666666666666em;"></span><span style="margin-right:0.16666666666666666em;"></span><span><span>:</span></span><span style="margin-right:0.3333333333333333em;"></span><span style="margin-right:0.02778em;">D</span><span style="margin-right:0.2777777777777778em;"></span><span>⊆</span><span style="margin-right:0.2777777777777778em;"></span><span>R</span><span style="margin-right:0.2777777777777778em;"></span><span>→</span><span style="margin-right:0.2777777777777778em;"></span><span>R</span></span></span></span></span>，若存在常数<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span><span style="margin-right:0.07153em;">K</span></span></span></span></span>，使得<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>∣</span><span style="margin-right:0.10764em;">f</span><span>(</span><span>a</span><span>)</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.10764em;">f</span><span>(</span><span>b</span><span>)</span><span>∣</span><span style="margin-right:0.2777777777777778em;"></span><span>≤</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.07153em;">K</span><span>∣</span><span>a</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span>b</span><span>∣</span><span style="margin-right:1em;"></span><span>∀</span><span>a</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span>b</span><span style="margin-right:0.2777777777777778em;"></span><span>∈</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.68333em;vertical-align:0em;"></span><span style="margin-right:0.02778em;">D</span></span></span></span>，则称<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span><span style="margin-right:0.10764em;">f</span></span></span></span></span>符合利普希茨条件，对于<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span style="margin-right:0.10764em;">f</span></span></span></span>最小的常数<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span><span style="margin-right:0.07153em;">K</span></span></span></span></span>称为 <span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span><span style="margin-right:0.10764em;">f</span></span></span></span></span>的利普希茨常数。</p>
<p>若<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.72243em;vertical-align:-0.0391em;"></span><span style="margin-right:0.07153em;">K</span><span style="margin-right:0.2777777777777778em;"></span><span>&lt;</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.64444em;vertical-align:0em;"></span><span>1</span></span></span></span>，<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span style="margin-right:0.10764em;">f</span></span></span></span>称为收缩映射。</p>
<p>利普希茨条件也可对任意度量空间的函数定义：</p>
<p>给定两个度量空间<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>(</span><span style="margin-right:0.10903em;">M</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span><span>d</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.10903em;">M</span></span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>)</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span>(</span><span style="margin-right:0.10903em;">N</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span><span>d</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.10903em;">N</span></span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>)</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.10903em;">U</span><span style="margin-right:0.2777777777777778em;"></span><span>⊆</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.68333em;vertical-align:0em;"></span><span style="margin-right:0.10903em;">M</span></span></span></span>。若对于函数<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span style="margin-right:0.10764em;">f</span><span style="margin-right:0.2777777777777778em;"></span><span>:</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.68333em;vertical-align:0em;"></span><span style="margin-right:0.10903em;">U</span><span style="margin-right:0.2777777777777778em;"></span><span>→</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.68333em;vertical-align:0em;"></span><span style="margin-right:0.10903em;">N</span></span></span></span>，存在常数<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span style="margin-right:0.07153em;">K</span></span></span></span>使得<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span><span>d</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.10903em;">N</span></span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span style="margin-right:0.10764em;">f</span><span>(</span><span>a</span><span>)</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.10764em;">f</span><span>(</span><span>b</span><span>))</span><span style="margin-right:0.2777777777777778em;"></span><span>≤</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.07153em;">K</span><span><span>d</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.10903em;">M</span></span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span>a</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span>b</span><span>)</span><span style="margin-right:1em;"></span><span>∀</span><span>a</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span>b</span><span style="margin-right:0.2777777777777778em;"></span><span>∈</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.68333em;vertical-align:0em;"></span><span style="margin-right:0.10903em;">U</span></span></span></span>
则说它符合利普希茨条件。</p>
<p>若存在<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8193em;vertical-align:-0.13597em;"></span><span style="margin-right:0.07153em;">K</span><span style="margin-right:0.2777777777777778em;"></span><span>≥</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.64444em;vertical-align:0em;"></span><span>1</span></span></span></span>使得<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.190108em;vertical-align:-0.345em;"></span><span><span><span></span><span><span><span><span style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span style="height:3em;"></span><span><span><span style="margin-right:0.07153em;">K</span></span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span style="height:3em;"></span><span><span><span>1</span></span></span></span></span><span>​</span></span><span><span style="height:0.345em;"><span></span></span></span></span></span><span></span></span></span><span><span>d</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.10903em;">M</span></span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span>a</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span>b</span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>≤</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span><span>d</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.10903em;">N</span></span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span style="margin-right:0.10764em;">f</span><span>(</span><span>a</span><span>)</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.10764em;">f</span><span>(</span><span>b</span><span>))</span><span style="margin-right:0.2777777777777778em;"></span><span>≤</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.07153em;">K</span><span><span>d</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.10903em;">M</span></span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span>a</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span>b</span><span>)</span><span style="margin-right:1em;"></span><span>∀</span><span>a</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span>b</span><span style="margin-right:0.2777777777777778em;"></span><span>∈</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.68333em;vertical-align:0em;"></span><span style="margin-right:0.10903em;">U</span></span></span></span>
则称<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span style="margin-right:0.10764em;">f</span></span></span></span>为<strong>双李普希茨</strong>(bi-Lipschitz)。</p>
<p align="right">——摘自<a href="https://zh.wikipedia.org/wiki/%E5%88%A9%E6%99%AE%E5%B8%8C%E8%8C%A8%E9%80%A3%E7%BA%8C" title="利普希茨连续">维基百科</a></p>
</blockquote>
<p>这里要特别指出，博主在这里给出的解释是不准确的，利普希茨连续函数<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.10764em;">f</span><span>(</span><span>x</span><span>)</span></span></span></span>不一定处处可微。</p>
<blockquote>
<p>它其实就是在一个连续函数<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span style="margin-right:0.10764em;">f</span></span></span></span>上面额外施加了一个限制，要求存在一个常数<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8193em;vertical-align:-0.13597em;"></span><span style="margin-right:0.07153em;">K</span><span style="margin-right:0.2777777777777778em;"></span><span>≥</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.64444em;vertical-align:0em;"></span><span>0</span></span></span></span>使得定义域内的任意两个元素<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.58056em;vertical-align:-0.15em;"></span><span><span>x</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>和<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.58056em;vertical-align:-0.15em;"></span><span><span>x</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>都满足<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>∣</span><span style="margin-right:0.10764em;">f</span><span>(</span><span><span>x</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>)</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.10764em;">f</span><span>(</span><span><span>x</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>)</span><span>∣</span><span style="margin-right:0.2777777777777778em;"></span><span>≤</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.07153em;">K</span><span>∣</span><span><span>x</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span><span>x</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>∣</span></span></span></span>，此时称函数f的Lipschitz常数为K。</p>
</blockquote>
<p>如果用数学方式说明，则已知<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.10764em;">f</span><span>(</span><span>x</span><span>)</span></span></span></span>是利普希茨连续函数，</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.69224em;vertical-align:0em;"></span><span>∵</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span>a</span><span style="margin-right:0.2777777777777778em;"></span><span><span><span><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span><span><span></span></span></span><span></span></span></span></span></span></span><span><span style="height:0.36687em;vertical-align:0em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.69444em;vertical-align:0em;"></span><span>b</span></span><span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span><span>由定义知当</span></span><span>∣</span><span>a</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span>b</span><span>∣</span><span style="margin-right:0.2777777777777778em;"></span><span>→</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:2.363em;vertical-align:-0.936em;"></span><span>0</span><span><span>时，</span></span><span>∃</span><span style="margin-right:0.07153em;">K</span><span><span>使得</span></span><span><span></span><span><span><span><span style="height:1.427em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span>∣</span><span>a</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span><span>b</span><span>∣</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span>∣</span><span style="margin-right:0.10764em;">f</span><span>(</span><span>a</span><span>)</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span><span style="margin-right:0.10764em;">f</span><span>(</span><span>b</span><span>)</span><span>∣</span></span></span></span><span>​</span></span><span><span style="height:0.936em;"><span></span></span></span></span></span><span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>≤</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.68333em;vertical-align:0em;"></span><span style="margin-right:0.07153em;">K</span><span>。</span></span><span></span><span><span style="height:5.40004em;vertical-align:-2.45002em;"></span><span><span>而</span></span><span style="margin-right:0.16666666666666666em;"></span><span><span></span><span><span><span><span><span><span style="height:2.943em;"><span style="top:-4.943em;"><span style="height:3.427em;"></span><span><span><span><span><span style="height:0.69444em;"><span style="top:-2.3089999999999997em;margin-left:0em;"><span style="height:3em;"></span><span><span><span>∣</span><span>a</span><span>−</span><span>b</span><span>∣</span><span>→</span><span><span>0</span><span><span><span><span style="height:0.7026642857142857em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span>+</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3em;"><span style="height:3em;"></span><span><span>lim</span></span></span></span><span>​</span></span><span><span style="height:0.966em;"><span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span></span><span><span><span><span style="height:1.427em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span>∣</span><span>a</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span><span>b</span><span>∣</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span>∣</span><span style="margin-right:0.10764em;">f</span><span>(</span><span>a</span><span>)</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span><span style="margin-right:0.10764em;">f</span><span>(</span><span>b</span><span>)</span><span>∣</span></span></span></span><span>​</span></span><span><span style="height:0.936em;"><span></span></span></span></span></span><span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>≤</span><span style="margin-right:0.2777777777777778em;"></span><span style="margin-right:0.07153em;">K</span></span></span><span style="top:-2.25em;"><span style="height:3.427em;"></span><span><span><span><span><span style="height:0.69444em;"><span style="top:-2.3089999999999997em;margin-left:0em;"><span style="height:3em;"></span><span><span><span>∣</span><span>a</span><span>−</span><span>b</span><span>∣</span><span>→</span><span><span>0</span><span><span><span><span style="height:0.7026642857142857em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span>−</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3em;"><span style="height:3em;"></span><span><span>lim</span></span></span></span><span>​</span></span><span><span style="height:0.966em;"><span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span></span><span><span><span><span style="height:1.427em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span>∣</span><span>a</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span><span>b</span><span>∣</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span>∣</span><span style="margin-right:0.10764em;">f</span><span>(</span><span>a</span><span>)</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span><span style="margin-right:0.10764em;">f</span><span>(</span><span>b</span><span>)</span><span>∣</span></span></span></span><span>​</span></span><span><span style="height:0.936em;"><span></span></span></span></span></span><span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>≤</span><span style="margin-right:0.2777777777777778em;"></span><span style="margin-right:0.07153em;">K</span></span></span></span><span>​</span></span><span><span style="height:2.443em;"><span></span></span></span></span></span></span></span><span><span><span><span><span style="height:2.95002em;"><span style="top:-1.59999em;"><span style="height:3.15em;"></span><span><span>⎭</span></span></span><span style="top:-1.59199em;"><span style="height:3.15em;"></span><span style="height:0.9159999999999999em;width:0.889em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.889em' height='0.9159999999999999em' style='width:0.889em' viewBox='0 0 889 916' preserveAspectRatio='xMinYMin'><path d='M384 0 H504 V916 H384z M384 0 H504 V916 H384z'/></svg></span></span><span style="top:-3.15001em;"><span style="height:3.15em;"></span><span><span>⎬</span></span></span><span style="top:-4.292009999999999em;"><span style="height:3.15em;"></span><span style="height:0.9159999999999999em;width:0.889em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.889em' height='0.9159999999999999em' style='width:0.889em' viewBox='0 0 889 916' preserveAspectRatio='xMinYMin'><path d='M384 0 H504 V916 H384z M384 0 H504 V916 H384z'/></svg></span></span><span style="top:-5.200019999999999em;"><span style="height:3.15em;"></span><span><span>⎫</span></span></span></span><span>​</span></span><span><span style="height:2.45002em;"><span></span></span></span></span></span></span></span><span style="margin-right:0.2777777777777778em;"></span><span><span><span><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span><span><span></span></span></span><span></span></span></span></span></span></span><span><span style="height:0.36687em;vertical-align:0em;"></span><span>⇒</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:2.393em;vertical-align:-0.966em;"></span><span><span><span><span style="height:0.69444em;"><span style="top:-2.3089999999999997em;margin-left:0em;"><span style="height:3em;"></span><span><span><span>∣</span><span>a</span><span>−</span><span>b</span><span>∣</span><span>→</span><span><span>0</span><span><span><span><span style="height:0.7026642857142857em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span>+</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3em;"><span style="height:3em;"></span><span><span>lim</span></span></span></span><span>​</span></span><span><span style="height:0.966em;"><span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span></span><span><span><span><span style="height:1.427em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span>∣</span><span>a</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span><span>b</span><span>∣</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span>∣</span><span style="margin-right:0.10764em;">f</span><span>(</span><span>a</span><span>)</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span><span style="margin-right:0.10764em;">f</span><span>(</span><span>b</span><span>)</span><span>∣</span></span></span></span><span>​</span></span><span><span style="height:0.936em;"><span></span></span></span></span></span><span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:2.393em;vertical-align:-0.966em;"></span><span><span><span><span style="height:0.69444em;"><span style="top:-2.3089999999999997em;margin-left:0em;"><span style="height:3em;"></span><span><span><span>∣</span><span>a</span><span>−</span><span>b</span><span>∣</span><span>→</span><span><span>0</span><span><span><span><span style="height:0.7026642857142857em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span>−</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3em;"><span style="height:3em;"></span><span><span>lim</span></span></span></span><span>​</span></span><span><span style="height:0.966em;"><span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span></span><span><span><span><span style="height:1.427em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span>∣</span><span>a</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span><span>b</span><span>∣</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span>∣</span><span style="margin-right:0.10764em;">f</span><span>(</span><span>a</span><span>)</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span><span style="margin-right:0.10764em;">f</span><span>(</span><span>b</span><span>)</span><span>∣</span></span></span></span><span>​</span></span><span><span style="height:0.936em;"><span></span></span></span></span></span><span></span></span></span></span></span></span></p>
<p>另外再提起一个函数<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.10764em;">f</span><span>(</span><span>x</span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span>∣</span><span>x</span><span>∣</span></span></span></span>，<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.001892em;vertical-align:-0.25em;"></span><span><span style="margin-right:0.10764em;">f</span><span><span><span><span style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>′</span></span></span></span></span></span></span></span><span>(</span><span>x</span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:3.0000299999999998em;vertical-align:-1.25003em;"></span><span><span style="top:0em;"><span>{</span></span><span><span><span><span><span><span style="height:1.69em;"><span style="top:-3.69em;"><span style="height:3.008em;"></span><span><span>1</span></span></span><span style="top:-2.25em;"><span style="height:3.008em;"></span><span><span>−</span><span>1</span></span></span></span><span>​</span></span><span><span style="height:1.19em;"><span></span></span></span></span></span><span style="width:1em;"></span><span><span><span><span style="height:1.69em;"><span style="top:-3.69em;"><span style="height:3.008em;"></span><span><span>x</span><span style="margin-right:0.2777777777777778em;"></span><span>≥</span><span style="margin-right:0.2777777777777778em;"></span><span>0</span></span></span><span style="top:-2.25em;"><span style="height:3.008em;"></span><span><span>x</span><span style="margin-right:0.2777777777777778em;"></span><span>&lt;</span><span style="margin-right:0.2777777777777778em;"></span><span>0</span></span></span></span><span>​</span></span><span><span style="height:1.19em;"><span></span></span></span></span></span></span></span><span></span></span></span></span></span>，显然可以发现它是利普希茨连续函数，因为它符合利普希茨连续条件的定义。而对于<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>x</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.64444em;vertical-align:0em;"></span><span>0</span></span></span></span>处却不可微「左导数和右导数不等而导致导数不存在」。</p>
<p>因此个人认为应该这样理解：利普希茨连续函数是广义的有限制的连续函数，广义指的是不需要处处可微，有限制指的是导函数有界。显然利普希茨连续条件限制了函数的最大局部变化幅度。</p>
<p>下面的这个公式</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.036108em;vertical-align:-0.286108em;"></span><span style="margin-right:0.13889em;">W</span><span>(</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:2.48188em;vertical-align:-1.16044em;"></span><span><span></span><span><span><span><span style="height:1.32144em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span style="margin-right:0.07153em;">K</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.686em;"><span></span></span></span></span></span><span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span><span><span style="height:0.43056000000000016em;"><span style="top:-2.11456em;margin-left:0em;"><span style="height:3em;"></span><span><span><span>∣∣</span><span style="margin-right:0.10764em;">f</span><span>∣</span><span><span>∣</span><span><span><span><span style="height:0.3448em;"><span style="top:-2.3567071428571427em;margin-left:0em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span>L</span></span></span></span><span>​</span></span><span><span style="height:0.14329285714285717em;"><span></span></span></span></span></span></span><span>≤</span><span style="margin-right:0.07153em;">K</span></span></span></span><span style="top:-3.0000000000000004em;"><span style="height:3em;"></span><span><span>sup</span></span></span></span><span>​</span></span><span><span style="height:1.16044em;"><span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span>E</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.2501em;"><span></span></span></span></span></span></span><span>[</span><span style="margin-right:0.10764em;">f</span><span>(</span><span>x</span><span>)]</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1.0973199999999999em;vertical-align:-0.34731999999999996em;"></span><span><span>E</span><span><span><span><span style="height:0.32833100000000004em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285716em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.2818857142857143em;"><span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.34731999999999996em;"><span></span></span></span></span></span></span><span>[</span><span style="margin-right:0.10764em;">f</span><span>(</span><span>x</span><span>)]</span><span style="margin-right:1em;"></span><span style="margin-right:1em;"></span><span>(</span><span>A</span><span>)</span></span></span></span></span></p>
<p>在要求<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>∣∣</span><span style="margin-right:0.10764em;">f</span><span>∣</span><span><span>∣</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>L</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>≤</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.68333em;vertical-align:0em;"></span><span style="margin-right:0.07153em;">K</span></span></span></span>的条件下对所有可能满足条件的<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span style="margin-right:0.10764em;">f</span></span></span></span>取到<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.0001em;vertical-align:-0.2501em;"></span><span><span>E</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.2501em;"><span></span></span></span></span></span></span><span>[</span><span style="margin-right:0.10764em;">f</span><span>(</span><span>x</span><span>)]</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1.0973199999999999em;vertical-align:-0.34731999999999996em;"></span><span><span>E</span><span><span><span><span style="height:0.32833100000000004em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285716em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.2818857142857143em;"><span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.34731999999999996em;"><span></span></span></span></span></span></span><span>[</span><span style="margin-right:0.10764em;">f</span><span>(</span><span>x</span><span>)]</span></span></span></span>的上界，再缩小K倍。</p>
<p>如果存在某函数<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span><span style="margin-right:0.10764em;">f</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">ω</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，这函数由<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span style="margin-right:0.03588em;">ω</span></span></span></span>个参数确定，则(A)式可以写成：</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.036108em;vertical-align:-0.286108em;"></span><span style="margin-right:0.13889em;">W</span><span>(</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.286108em;"><span></span></span></span></span></span></span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>≈</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:2.28744em;vertical-align:-0.966em;"></span><span><span></span><span><span><span><span style="height:1.32144em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span style="margin-right:0.07153em;">K</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.686em;"><span></span></span></span></span></span><span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span><span><span style="height:0.43055999999999994em;"><span style="top:-2.3089999999999997em;margin-left:0em;"><span style="height:3em;"></span><span><span><span style="margin-right:0.03588em;">ω</span><span>∣</span><span><span style="margin-right:0.10764em;">f</span><span><span><span><span style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.10764em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.03588em;">ω</span></span></span></span><span>​</span></span><span><span style="height:0.143em;"><span></span></span></span></span></span></span><span><span>∣</span><span><span><span><span style="height:0.3448em;"><span style="top:-2.3567071428571427em;margin-left:0em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span>L</span></span></span></span><span>​</span></span><span><span style="height:0.14329285714285717em;"><span></span></span></span></span></span></span><span>≤</span><span style="margin-right:0.07153em;">K</span></span></span></span><span style="top:-3em;"><span style="height:3em;"></span><span><span>max</span></span></span></span><span>​</span></span><span><span style="height:0.966em;"><span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span>E</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.2501em;"><span></span></span></span></span></span></span><span>[</span><span><span style="margin-right:0.10764em;">f</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">ω</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)]</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1.0973199999999999em;vertical-align:-0.34731999999999996em;"></span><span><span>E</span><span><span><span><span style="height:0.32833100000000004em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285716em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.2818857142857143em;"><span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.34731999999999996em;"><span></span></span></span></span></span></span><span>[</span><span><span style="margin-right:0.10764em;">f</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">ω</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)]</span><span style="margin-right:1em;"></span><span style="margin-right:1em;"></span><span>(</span><span style="margin-right:0.05017em;">B</span><span>)</span></span></span></span></span></p>
<p>这样定义出来的函数虽然不能囊括所有可能，至少可以足够接近我们希望求得的原式。那么如何得到上面提到的函数？「由<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span style="margin-right:0.03588em;">ω</span></span></span></span>个参数确定」不觉得熟悉吗？这个其实就可以用神经网络模型来拟合。那么就可以在(B)式的基础上定义Loss函数了，只要能寻找出上界就可以，由于我们只有梯度下降求解器，我们需要适当使用图形变换技巧转化一下(B)式，比如取其相反数。</p>
<p>最后还不能忘记公式的前提条件<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>∣∣</span><span style="margin-right:0.10764em;">f</span><span>∣</span><span><span>∣</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>L</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>≤</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.68333em;vertical-align:0em;"></span><span style="margin-right:0.07153em;">K</span></span></span></span>，当然，<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span style="margin-right:0.07153em;">K</span></span></span></span>究竟有多大这无关紧要「不是无穷大就行」，因为我们只是需要梯度的方向。那么如何满足这个条件？作者采取的做法是始终将神经网络内的参数<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.58056em;vertical-align:-0.15em;"></span><span><span style="margin-right:0.03588em;">ω</span><span><span><span><span style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>i</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>限制在闭区间<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>[</span><span>−</span><span>c</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span>c</span><span>]</span></span></span></span>，这样关于输入样本<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>x</span></span></span></span>的导数就会被限制在确定的范围，至于到底是什么范围，就不是我们关心的了，有界就行。</p>
<p>现在我们构造一下判别器的损失函数。含参数<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span style="margin-right:0.03588em;">ω</span></span></span></span>、最后一层不是非线性激活层的判别器网络<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span><span style="margin-right:0.10764em;">f</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">ω</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>在限制<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span style="margin-right:0.03588em;">ω</span></span></span></span>不超过某个范围的条件下，使</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span>L</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1.0001em;vertical-align:-0.2501em;"></span><span><span>E</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.2501em;"><span></span></span></span></span></span></span><span>[</span><span><span style="margin-right:0.10764em;">f</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02691em;">w</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)]</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1.0973199999999999em;vertical-align:-0.34731999999999996em;"></span><span><span>E</span><span><span><span><span style="height:0.32833100000000004em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285716em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.2818857142857143em;"><span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.34731999999999996em;"><span></span></span></span></span></span></span><span>[</span><span><span style="margin-right:0.10764em;">f</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02691em;">w</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)]</span></span></span></span></span></p>
<p>取到最大，此时<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span>L</span></span></span></span>就会接近真实分布与生成分布之间的Wasserstein距离「忽略系数<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span style="margin-right:0.07153em;">K</span></span></span></span>」。</p>
<table><tr><td bgcolor=#FF6347><strong>这里要特别注意一下的是：<br>Original GAN的判别器要做的是真假二分类任务，因此最后一层才会采用sigmoid函数处理，而现在WGAN的判别器做的是近似拟合Wasserstein距离，是回归问题，因此最后一层不使用非线性结构，要把sigmoid函数去掉。</strong></td></tr></table>
<p>接着要与判别器博弈的生成器需要近似最小化Wasserstein距离，也就是最小化<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span>L</span></span></span></span>，前面足够充分讲解了Wasserstein距离的优良性质，我们不用再担心会有梯度消失的问题。另外<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span>L</span></span></span></span>的第一项只与判别器有关而与生成器无关，因此生成器的损失函数不含$ \mathbb{E}_{x \sim P_r} [f_w(x)] $这一项「因为这一项会是常数」。</p>
<p>最终整个WGAN就有两个Loss函数。</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:3.0000000000000004em;vertical-align:-1.2500000000000002em;"></span><span><span><span><span><span style="height:1.7500000000000002em;"><span style="top:-3.75em;"><span style="height:2.84em;"></span><span></span></span><span style="top:-2.25em;"><span style="height:2.84em;"></span><span></span></span></span><span>​</span></span><span><span style="height:1.2500000000000002em;"><span></span></span></span></span></span><span><span><span><span style="height:1.7500000000000002em;"><span style="top:-3.91em;"><span style="height:3em;"></span><span><span></span><span style="margin-right:1em;"></span><span style="margin-right:1em;"></span><span><span>L</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>G</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span><span>−</span><span><span>E</span><span><span><span><span style="height:0.32833100000000004em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285716em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.2818857142857143em;"><span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.34731999999999996em;"><span></span></span></span></span></span></span><span>[</span><span><span style="margin-right:0.10764em;">f</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02691em;">w</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)]</span></span></span><span style="top:-2.41em;"><span style="height:3em;"></span><span><span></span><span style="margin-right:1em;"></span><span style="margin-right:1em;"></span><span><span>L</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">D</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span><span><span>E</span><span><span><span><span style="height:0.32833100000000004em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285716em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.2818857142857143em;"><span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.34731999999999996em;"><span></span></span></span></span></span></span><span>[</span><span><span style="margin-right:0.10764em;">f</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02691em;">w</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)]</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span><span><span>E</span><span><span><span><span style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>∼</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.2501em;"><span></span></span></span></span></span></span><span>[</span><span><span style="margin-right:0.10764em;">f</span><span><span><span><span style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02691em;">w</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span>(</span><span>x</span><span>)]</span></span></span></span><span>​</span></span><span><span style="height:1.2500000000000002em;"><span></span></span></span></span></span></span></span><span><span><span><span style="height:1.7500000000000002em;"><span style="top:-3.75em;"><span style="height:2.84em;"></span><span></span></span><span style="top:-2.25em;"><span style="height:2.84em;"></span><span></span></span></span><span>​</span></span><span><span style="height:1.2500000000000002em;"><span></span></span></span></span></span></span></span></span></p>
<hr>
<center><strong><i><font color="#ADFF2F">~~~现在万事具备，只欠东风，我们立即开始实现~~~</font></i></strong></center>
<h2 id="实现"> 实现！</h2>
<p>只消在Original GAN代码的基础上再加上：</p>
<div><pre><code><span>def</span> <span>weights_init</span><span>(</span>m<span>)</span><span>:</span>
    <span>if</span> <span>isinstance</span><span>(</span>m<span>,</span> nn<span>.</span>Linear<span>)</span><span>:</span>
        <span># m.weight.data.normal_(0.0, 0.02)</span>
        nn<span>.</span>init<span>.</span>kaiming_normal_<span>(</span>m<span>.</span>weight<span>)</span>
        m<span>.</span>bias<span>.</span>data<span>.</span>fill_<span>(</span><span>0</span><span>)</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br></div></div><p>然后在main函数中初始化变量_clip为0.025「你也可以自己设定」，然后在声明的G和D后面插入两行代码：</p>
<div><pre><code>G<span>.</span><span>apply</span><span>(</span>weights_init<span>)</span>
D<span>.</span><span>apply</span><span>(</span>weights_init<span>)</span>
</code></pre>
<div><span>1</span><br><span>2</span><br></div></div><p>并在判别器训练的代码块后生成器训练的代码块之前添加如下代码：</p>
<div><pre><code><span>for</span> w <span>in</span> D<span>.</span>parameters<span>(</span><span>)</span><span>:</span>
	w<span>.</span>data<span>.</span>clamp_<span>(</span><span>-</span>_clip<span>,</span> _clip<span>)</span>
</code></pre>
<div><span>1</span><br><span>2</span><br></div></div><p>为了出现上面贴的图，我将后面的<code>if epoch %</code>后的数改成10，<code>for epoch in range</code>后括号内的数改成1000。</p>
<p>到此为止代码也就改完了，我们的WGAN也实现了！</p>
<p>完整代码请点这里查看--&gt;<a href="https://github.com/BreezeShane/Unsupervised-Learning/blob/master/Wasserstein%20Generative%20Adversaria%20Networks.py" target="_blank" rel="noopener noreferrer">·</a></p>
<hr>
<h2 id="睿智-作者的话-不重要"> <strong>“睿智”作者的话（不重要）</strong></h2>
<p>光是学WGAN到写这长篇报（fèi）告（huà）就花了快半个月了，也是多艰多难啊！不过最终总算是完成了，完结撒花🌸撒花！🌸～～～</p>
<p>如果想学无监督学习，数学真的是硬核，对线性代数、概率论要求比较高，涉及的数学领域也很广，就目前来看，我见过的有涉及实分析、线性代数、概率论、数学分析、凸分析、复分析等的知识，虽然学到了些许特别零碎的可能没什么用的小知识点。</p>
<p>不过不得不感叹的是我非常敬佩Martin Arjovsky等人，只是做了简单的四处改动，却能获得如此惊人的成效，从根本上解决Original GAN难训练、不稳定的问题，不错的<s>战斗</s>成果，即使是我也会感到心潮澎湃！🤣🤣🤣</p>
<hr>
<section>
<ol>
<li id="footnote1"><p>支撑集 指的是函数的非零部分子集。一个概率分布的支撑集就是所有概率密度非零部分的集合。「个人认为可以和函数的定义域或者命题的论域等做类比理解。」 </p>
</li>
<li id="footnote2"><p>流形 是高维空间中曲线、曲面概念的拓广，比如在三维空间中任一曲面都是二维流形，任一曲线是一维流形。 </p>
</li>
<li id="footnote3"><p>测度 是高维空间中长度、面积、体积概念的推广，在这里可以大致理解为超体积。 </p>
</li>
</ol>
</section>
]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2021-04-29T15:37:32.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">多灾多难的博客搭建过程</title>
    <id>https://breezeshane.github.io/BlogBuildingAndUsing/BlogBuilding/</id>
    <link href="https://breezeshane.github.io/BlogBuildingAndUsing/BlogBuilding/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<h1 id="blog-building"> Blog Building</h1>
<blockquote>
<p>参考：<a href="https://wxwoo.top/2019/05/15/hexo-mathjax-renderer-optimization/" target="_blank" rel="noopener noreferrer">hexo中的mathjax数学公式渲染优化</a></p>
</blockquote>
<h2 id="搭建博客的原因¿"> 搭建博客的原因¿</h2>
<p>自从换了方向之后，发现我需要写的公式数量急剧增长，很多时候我都发现使用特殊符号是远不能满足这一需求的，比如如果我想打$$\int_a<sup>b$$、$$\frac{1}{N}\sum_{i=0}</sup>{n}{N_i}$$等等就非常难顶。。。</p>
<h2 id="怎么搭建的博客¿"> 怎么搭建的博客¿</h2>
<h3 id="初始安装"> 初始安装</h3>
<p>首先需要安装好hexo以及其所需要的环境Node.js和包管理器npm，我选择的主题是fluid,简单轻便雅观，最重要的是原生支持LaTeX渲染！</p>
<div><pre><code><span>sudo</span> pacman -S nodejs <span>npm</span>
<span>cd</span> ~/your_blog
<span>sudo</span> <span>npm</span> <span>install</span> -g hexo-cli --save
<span>cd</span> <span>..</span>
hexo init your_blog
<span>cd</span> ~/your_blog/themes
<span>mkdir</span> fluid <span>&amp;&amp;</span> <span>cd</span> fluid
<span>git</span> clone https://github.com/fluid-dev/hexo-theme-fluid.git
<span>cd</span> <span>..</span> <span>&amp;&amp;</span> <span>cd</span> <span>..</span>
<span>npm</span> <span>install</span>
hexo cl <span>&amp;&amp;</span> hexo g <span>&amp;&amp;</span> hexo s
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br></div></div><p>这时候你进入<a href="localhost:4000">你的博客</a>就可以看到你的网站啦！</p>
<h3 id="ssh链接配置"> SSH链接配置</h3>
<p>接下来我们要创建SSH链接。***「注意：此处的前提条件是你已经拥有GitHub账户且已经建好&lt;用户名&gt;.github.io仓库。」***</p>
<p>在控制台这里输入<code>ssh-keygen -t rsa -C &quot;Your@email.com&quot;</code>，其中<code>Your@email.com</code>是你的邮箱，可以拿注册GitHub的邮箱。然后执行<code>cat ~/.ssh/id_rsa.pub</code>来查看SSH key。别忘了复制好ssh-rsa 后面的那一串字符串。</p>
<p>接下来进入你的GitHub，点击你的右上角的用户头像并点击Settings，再选择SSH and GPG keys，点击New SSH key创建一个新的SSH链接，然后在Key这一文本框里粘贴你刚才复制的东西，最后点击Add SSH key。</p>
<p>输入<code>ssh -T git@github.com</code>即可测试是否链接成功。</p>
<p>如果看到它在向你打招呼，那就是连接成功了。</p>
<h2 id="遇到了什么问题-怎么解决‽"> 遇到了什么问题？怎么解决‽</h2>
<h3 id="md渲染问题"> Md渲染问题</h3>
<p>我在执行<code>hexo g</code>时遇到了如下报错：</p>
<div><pre><code>INFO  Validating config
INFO  Start processing
INFO  [Fluid] 读取 _config.yml 中 theme_config 配置项覆盖配置
FATAL {
  err: Template render error: (unknown path)
    Error: expected end of comment, got end of file
      at Object._prettifyError (/home/breeze_shane/Mydata/GitHub_Blog/node_modules/nunjucks/src/lib.js:36:11)
      at Template.render (/home/breeze_shane/Mydata/GitHub_Blog/node_modules/nunjucks/src/environment.js:538:21)
      at Environment.renderString (/home/breeze_shane/Mydata/GitHub_Blog/node_modules/nunjucks/src/environment.js:380:17)
      at /home/breeze_shane/Mydata/GitHub_Blog/node_modules/hexo/lib/extend/tag.js:236:16
      at tryCatcher (/home/breeze_shane/Mydata/GitHub_Blog/node_modules/bluebird/js/release/util.js:16:23)
      at Function.Promise.fromNode.Promise.fromCallback (/home/breeze_shane/Mydata/GitHub_Blog/node_modules/bluebird/js/release/promise.js:209:30)
      at Tag.render (/home/breeze_shane/Mydata/GitHub_Blog/node_modules/hexo/lib/extend/tag.js:235:20)
      at Object.onRenderEnd (/home/breeze_shane/Mydata/GitHub_Blog/node_modules/hexo/lib/hexo/post.js:297:22)
      at /home/breeze_shane/Mydata/GitHub_Blog/node_modules/hexo/lib/hexo/render.js:79:21
      at tryCatcher (/home/breeze_shane/Mydata/GitHub_Blog/node_modules/bluebird/js/release/util.js:16:23)
      at Promise._settlePromiseFromHandler (/home/breeze_shane/Mydata/GitHub_Blog/node_modules/bluebird/js/release/promise.js:547:31)
      at Promise._settlePromise (/home/breeze_shane/Mydata/GitHub_Blog/node_modules/bluebird/js/release/promise.js:604:18)
      at Promise._settlePromise0 (/home/breeze_shane/Mydata/GitHub_Blog/node_modules/bluebird/js/release/promise.js:649:10)
      at Promise._settlePromises (/home/breeze_shane/Mydata/GitHub_Blog/node_modules/bluebird/js/release/promise.js:729:18)
      at _drainQueueStep (/home/breeze_shane/Mydata/GitHub_Blog/node_modules/bluebird/js/release/async.js:93:12)
      at _drainQueue (/home/breeze_shane/Mydata/GitHub_Blog/node_modules/bluebird/js/release/async.js:86:9)
      at Async._drainQueues (/home/breeze_shane/Mydata/GitHub_Blog/node_modules/bluebird/js/release/async.js:102:5)
      at Immediate.Async.drainQueues (/home/breeze_shane/Mydata/GitHub_Blog/node_modules/bluebird/js/release/async.js:15:14)
      at processImmediate (node:internal/timers:464:21) {
    cause: Template render error: (unknown path)
      Error: expected end of comment, got end of file
        at Object._prettifyError (/home/breeze_shane/Mydata/GitHub_Blog/node_modules/nunjucks/src/lib.js:36:11)
        at Template.render (/home/breeze_shane/Mydata/GitHub_Blog/node_modules/nunjucks/src/environment.js:538:21)
        at Environment.renderString (/home/breeze_shane/Mydata/GitHub_Blog/node_modules/nunjucks/src/environment.js:380:17)
        at /home/breeze_shane/Mydata/GitHub_Blog/node_modules/hexo/lib/extend/tag.js:236:16
        at tryCatcher (/home/breeze_shane/Mydata/GitHub_Blog/node_modules/bluebird/js/release/util.js:16:23)
        at Function.Promise.fromNode.Promise.fromCallback (/home/breeze_shane/Mydata/GitHub_Blog/node_modules/bluebird/js/release/promise.js:209:30)
        at Tag.render (/home/breeze_shane/Mydata/GitHub_Blog/node_modules/hexo/lib/extend/tag.js:235:20)
        at Object.onRenderEnd (/home/breeze_shane/Mydata/GitHub_Blog/node_modules/hexo/lib/hexo/post.js:297:22)
        at /home/breeze_shane/Mydata/GitHub_Blog/node_modules/hexo/lib/hexo/render.js:79:21
        at tryCatcher (/home/breeze_shane/Mydata/GitHub_Blog/node_modules/bluebird/js/release/util.js:16:23)
        at Promise._settlePromiseFromHandler (/home/breeze_shane/Mydata/GitHub_Blog/node_modules/bluebird/js/release/promise.js:547:31)
        at Promise._settlePromise (/home/breeze_shane/Mydata/GitHub_Blog/node_modules/bluebird/js/release/promise.js:604:18)
        at Promise._settlePromise0 (/home/breeze_shane/Mydata/GitHub_Blog/node_modules/bluebird/js/release/promise.js:649:10)
        at Promise._settlePromises (/home/breeze_shane/Mydata/GitHub_Blog/node_modules/bluebird/js/release/promise.js:729:18)
        at _drainQueueStep (/home/breeze_shane/Mydata/GitHub_Blog/node_modules/bluebird/js/release/async.js:93:12)
        at _drainQueue (/home/breeze_shane/Mydata/GitHub_Blog/node_modules/bluebird/js/release/async.js:86:9)
        at Async._drainQueues (/home/breeze_shane/Mydata/GitHub_Blog/node_modules/bluebird/js/release/async.js:102:5)
        at Immediate.Async.drainQueues (/home/breeze_shane/Mydata/GitHub_Blog/node_modules/bluebird/js/release/async.js:15:14)
        at processImmediate (node:internal/timers:464:21),
    isOperational: true
  }
} Something&#39;s wrong. Maybe you can find the solution here: %s https://hexo.io/docs/troubleshooting.html
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br><span>18</span><br><span>19</span><br><span>20</span><br><span>21</span><br><span>22</span><br><span>23</span><br><span>24</span><br><span>25</span><br><span>26</span><br><span>27</span><br><span>28</span><br><span>29</span><br><span>30</span><br><span>31</span><br><span>32</span><br><span>33</span><br><span>34</span><br><span>35</span><br><span>36</span><br><span>37</span><br><span>38</span><br><span>39</span><br><span>40</span><br><span>41</span><br><span>42</span><br><span>43</span><br><span>44</span><br><span>45</span><br><span>46</span><br><span>47</span><br><span>48</span><br><span>49</span><br></div></div><p>经过查询资料，了解到这其实是渲染md文件的问题，需要修改一下渲染器的代码来解决渲染失败的问题。</p>
<p>首先需要打开博客根目录下的node_modules/nunjucks/src/lexer.js，打开时会看到如下代码，我们需要修改一下这个红框中的内容：</p>
<p><img src="/images/2021-05-07_14-28.png" alt="" /></p>
<p>改成如下形式即可：</p>
<div><pre><code><span>var</span> <span>VARIABLE_START</span> <span>=</span> <span>'{$'</span><span>;</span>
<span>var</span> <span>VARIABLE_END</span> <span>=</span> <span>'$}'</span><span>;</span>
<span>var</span> <span>COMMENT_START</span> <span>=</span> <span>'{##'</span><span>;</span>
<span>var</span> <span>COMMENT_END</span> <span>=</span> <span>'##}'</span><span>;</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br></div></div><p>不过缺点就是每次更新numjucks的话这个文件会被还原，需要再次修改。</p>
<h3 id="如何将pdf挂在文章上"> 如何将pdf挂在文章上？</h3>
<p>一种做法是安装hexo-pdf插件「执行<code>npm i --save hexo-pdf</code>」，然后在文章内要插入的位置中写<code>{% pdf YOURPDFURL %}</code>即可。</p>
<p>另一种做法是使用HTML语法，不过未经过本人亲自测试。</p>
<ol>
<li>
<p>将_config.yml中的post_asset_folder选项置为true。</p>
</li>
<li>
<p>在文章中要插入的位置中写<code>&lt;object data=&quot;YOURPDFURL&quot; type=&quot;application/pdf&quot; width=&quot;100%&quot; height=&quot;100%&quot;&gt;</code></p>
<blockquote>
<p>这里不一定非用object标签，embed、iframe标签也一样；另外如果不能接受pdf的显示方式的话，可以自己手动调整height的参数值。</p>
</blockquote>
</li>
</ol>
<p>「注」：以上两种做法的YOURPDFURL就要替换成你要放的pdf文件的位置，可以是链接到其他网站的超链接，也可以是本地的相对路径。</p>
<h3 id="如何绘制思维导图"> 如何绘制思维导图？</h3>
<h2 id="¿要注意哪些问题"> ¿要注意哪些问题？</h2>
<ul>
<li>public文件夹是执行<code>hexo g</code>后生成的，这是为了后面执行<code>hexo d</code>时做的准备，你在_config.yml文件中写到的所有/img/最后都会链接到这个文件夹。如果你希望显示自己的图片的话一种做法是将这些图片复制到/img/文件夹下。</li>
<li>执行<code>hexo clean</code>的时候会删除博客根目录下的public整个文件夹，这包括一切你存放在img文件夹下的所有图片，因此如果你经常执行这个语句的花需要提前做好相关备份。</li>
<li>如果不希望总是做这些重复性工作，做法之一是写脚本，另一种做法便是在source文件夹下创建任意名称的文件夹，然后在这个新建的文件夹里存放图片，执行<code>hexo g</code>后会自动在public文件夹下生成相同文件夹（盲猜是直接复制过去），接下来你就可以在文档这里直接链接到这个文件夹的图片了。</li>
</ul>
]]></content>
    <author>
      <name>BreezeShane</name>
    </author>
    <contributor>
      <name>BreezeShane</name>
    </contributor>
    <published>2021-05-07T14:00:56.000Z</published>
    <rights>Copyright by BreezeShane</rights>
  </entry>
  <entry>
    <title type="html">Changing Blog Theme</title>
    <id>https://breezeshane.github.io/BlogBuildingAndUsing/ChangeBlogTheme/</id>
    <link href="https://breezeshane.github.io/BlogBuildingAndUsing/ChangeBlogTheme/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<h1 id="to-change-my-blog-theme"> To Change My Blog Theme</h1>
<blockquote>
<p>参考文档：</p>
<p>强烈建议先看看<a href="https://www.izhaoo.com/2020/05/05/hexo-theme-zhaoo-doc/" target="_blank" rel="noopener noreferrer">配置文档</a>！！！看完配置文档再食用本篇效果最佳！</p>
<p><a href="https://yk1062008412.github.io/2017/02/20/hexo%E5%AF%BC%E5%85%A5%E8%87%AA%E5%AE%9A%E4%B9%89css%E6%96%87%E4%BB%B6/" target="_blank" rel="noopener noreferrer">hexo引入自定义css文件</a></p>
<p><a href="https://blog.csdn.net/qq_41426117/article/details/105416911" target="_blank" rel="noopener noreferrer">如何在hexo主题里用echarts写思维导图</a></p>
<p><a href="http://zhoulvjun.github.io/2016/02/07/hexo-tag-echarts/" target="_blank" rel="noopener noreferrer">hexo-tag-echarts插件</a></p>
<p><a href="https://echarts.apache.org/zh/tutorial.html#5%20%E5%88%86%E9%92%9F%E4%B8%8A%E6%89%8B%20ECharts" target="_blank" rel="noopener noreferrer">5 分钟上手 ECharts</a></p>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Document/getElementById" target="_blank" rel="noopener noreferrer">document.getElementById</a></p>
<p><a href="https://echarts.apache.org/zh/option.html#title" target="_blank" rel="noopener noreferrer">echarts dataset</a></p>
</blockquote>
<h2 id="声明"> 声明</h2>
<center><font color="#00FFFF" size=6><strong>首先要强调的是本人在前端这<br>只是有能看懂HTML和JavaScript的一点点代码的程度，<br>其它一概不知！</strong></font></center>
<center>本篇文章所描述的根目录都是指博客文件夹下的目录，一概标记为`/`。</center>
<h2 id="原因"> 原因？</h2>
<p>原来一直在使用Fluid主题，虽然使用过程没出什么问题，但是主页没有侧边栏就真的一直很介意，查过不知多少文档依旧无从下手解决添加侧边栏问题。又由于某种契机，我看到GitHub上的<a href="https://github.com/zhaoo/hexo-theme-zhaoo" target="_blank" rel="noopener noreferrer">Hexo-theme-zhaoo</a>，便心动不已，二话不说就git clone过来了，然后在“有空”的时候修改一下主题。。。</p>
<h2 id="过程"> 过程！</h2>
<p>首先是直接把我原来的博客文件夹另外复制了一份，这样就可以直接跳过配好SSH的过程以及一些初始化操作。然后我就开始折腾起来了：</p>
<hr>
<p>首先打开终端进入根目录下，输入<code>git clone https://github.com/zhaoo/hexo-theme-zhaoo theme/zhaoo</code>来下载主题。</p>
<p>然后在_config.yml文件中修改theme一项，改为zhaoo。</p>
<hr>
<p>在根目录下创建_config.zhaoo.yml配置文件。</p>
<p>执行<code>npm i</code>来安装一下依赖。「当时我发现好些东西被删掉了，但不用担心，需要的话确实还会再装回来。」</p>
<p>另外，由于原来的Fluid主题是内嵌LaTeX渲染器的，而新主题没有，因此我就又要去折腾渲染器的事。</p>
<p>不过还好，执行下两个指令就可以解决：</p>
<div><pre><code>npm uninstall hexo-renderer-marked
npm install hexo-renderer-kramed --save
</code></pre>
<div><span>1</span><br><span>2</span><br></div></div><p>然后在_config.zhaoo.yml配置文件中添加：</p>
<div><pre><code><span>kramed</span><span>:</span>
  <span>enable</span><span>:</span> <span>true</span>
  <span>gfm</span><span>:</span> <span>true</span>
  <span>pedantic</span><span>:</span> <span>false</span>
  <span>sanitize</span><span>:</span> <span>false</span>
  <span>tables</span><span>:</span> <span>true</span>
  <span>breaks</span><span>:</span> <span>true</span>
  <span>smartLists</span><span>:</span> <span>true</span>
  <span>smartypants</span><span>:</span> <span>true</span>

<span>mathjax</span><span>:</span> <span>true</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br></div></div><hr>
<p>接着需要重建SSH链接，需要安装hexo-deployer-git，执行<code>npm i hexo-deployer-git --save</code>，成功后执行<code>ssh -T git@github.com</code>来重建链接。</p>
<hr>
<p>_config.zhaoo.yml配置文件中的copyright一项可以修改，使用HTML标记语言，最终效果是页面底部显示内容。另外，gray一项的功能挺有心意，是哀悼模式。pjax一项可以选择true。而主题中的gallery模块照配置文档来做即可，本篇不必赘述。另外切换主题的话，文章的Front-matter也相应发生了变化，具体看配置文档即可。不过提一句：这个主题也一样支持excerpt，可以在文章头添加<code>excerpt:</code>。</p>
<hr>
<p>如果你的某些文章需要嵌入pdf文件，需要安装一下hexo-pdf，执行：</p>
<p><code>npm i --save hexo-pdf</code></p>
<hr>
<p>注意，如果你有绘制思维导图甚至是动态图表需求的话，且听我接下来的讲述：</p>
<blockquote>
<p>以下一大部分总结就一句话：在Hexo中JsMind就别想用了！不想了解详细情况的话可直接跳过这一部分，看我最终成功的取代方案。</p>
<p>另外，此时我的source文件夹下已经有：</p>
<ul>
<li>css</li>
<li>js</li>
</ul>
<p>其中css文件夹下有jsmind.css文件，js文件夹下有jquery.js、jsmind.js和jsmind.min.js文件。</p>
</blockquote>
<p>起初尝试使用原来在用的hexo-markmap和hexo-simple-mindmap，但是发现这两个东西根本用不了「后来再回顾过来，如果当时再加入jQuery是不是就能正常了？」，渲染不出来我预期的效果，要不就是干脆直接空白，再加之早在先前就觉得很简陋，不太喜欢，于是我果断执行了：</p>
<div><pre><code>npm un hexo-markmap
npm un hexo-simple-mindmap
</code></pre>
<div><span>1</span><br><span>2</span><br></div></div><p>然后我转去搜索取代的方案，终于我找到JsMind的方案，看了JsMind文档，正觉得这个还不错，渲染挺好看的，就想着拿来用，我重点参考了<a href="https://github.com/hizzgdev/jsmind/blob/master/docs/zh/index.md" target="_blank" rel="noopener noreferrer">JsMind文档</a>，然后照做一番，结果发现渲染失败。。。而且typora对代码处理的真不怎么好，要注意一下的是不要空四个格，因为这样会被解析为代码块，不能执行的那种。。。</p>
<p>使用JsMind，就要下载好对应的JS文件和CSS文件，</p>
<p>查过<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>∞</span></span></span></span>个文档之后我总结一下有这四种方案，先说明白了，都不行！</p>
<p><strong>方案一</strong>：直接写入JavaScript代码</p>
<p>最简单粗暴的方法，直接在md文件中加入如下代码「为了避开自己写可能出现错误，我下方特意使用官方文档的示例代码来写」：</p>
<div><pre><code><span>&lt;</span>link type<span>=</span><span>"text/css"</span> rel<span>=</span><span>"stylesheet"</span> href<span>=</span><span>"/css/jsmind.css"</span> <span>/</span><span>></span>
<span>&lt;</span>script type<span>=</span><span>"text/javascript"</span> src<span>=</span><span>"/js/jsmind.js"</span><span>></span><span>&lt;</span><span>/</span>script<span>></span>
<span>&lt;</span>script type<span>=</span><span>"text/javascript"</span> src<span>=</span><span>"/js/jsmind.draggable.js"</span><span>></span><span>&lt;</span><span>/</span>script<span>></span>
<span>&lt;</span>div id<span>=</span><span>"jsmind_container"</span><span>></span><span>&lt;</span><span>/</span>div<span>></span>
<span>&lt;</span>script type<span>=</span><span>"text/javascript"</span><span>></span>
    <span>var</span> mind <span>=</span> <span>{</span>
    <span>"meta"</span><span>:</span><span>{</span>
        <span>"name"</span><span>:</span><span>"jsMind-demo-tree"</span><span>,</span>
        <span>"author"</span><span>:</span><span>"hizzgdev@163.com"</span><span>,</span>
        <span>"version"</span><span>:</span><span>"0.2"</span>
    <span>}</span><span>,</span>
    <span>"format"</span><span>:</span><span>"node_tree"</span><span>,</span>
    <span>"data"</span><span>:</span><span>{</span><span>"id"</span><span>:</span><span>"root"</span><span>,</span><span>"topic"</span><span>:</span><span>"jsMind"</span><span>,</span><span>"children"</span><span>:</span><span>[</span>
        <span>{</span><span>"id"</span><span>:</span><span>"easy"</span><span>,</span><span>"topic"</span><span>:</span><span>"Easy"</span><span>,</span><span>"direction"</span><span>:</span><span>"left"</span><span>,</span><span>"expanded"</span><span>:</span><span>false</span><span>,</span><span>"children"</span><span>:</span><span>[</span>
            <span>{</span><span>"id"</span><span>:</span><span>"easy1"</span><span>,</span><span>"topic"</span><span>:</span><span>"Easy to show"</span><span>}</span><span>,</span>
            <span>{</span><span>"id"</span><span>:</span><span>"easy2"</span><span>,</span><span>"topic"</span><span>:</span><span>"Easy to edit"</span><span>}</span><span>,</span>
            <span>{</span><span>"id"</span><span>:</span><span>"easy3"</span><span>,</span><span>"topic"</span><span>:</span><span>"Easy to store"</span><span>}</span><span>,</span>
            <span>{</span><span>"id"</span><span>:</span><span>"easy4"</span><span>,</span><span>"topic"</span><span>:</span><span>"Easy to embed"</span><span>}</span>
        <span>]</span><span>}</span><span>,</span>
        <span>{</span><span>"id"</span><span>:</span><span>"open"</span><span>,</span><span>"topic"</span><span>:</span><span>"Open Source"</span><span>,</span><span>"direction"</span><span>:</span><span>"right"</span><span>,</span><span>"expanded"</span><span>:</span><span>true</span><span>,</span><span>"children"</span><span>:</span><span>[</span>
            <span>{</span><span>"id"</span><span>:</span><span>"open1"</span><span>,</span><span>"topic"</span><span>:</span><span>"on GitHub"</span><span>}</span><span>,</span>
            <span>{</span><span>"id"</span><span>:</span><span>"open2"</span><span>,</span><span>"topic"</span><span>:</span><span>"BSD License"</span><span>}</span>
        <span>]</span><span>}</span><span>,</span>
        <span>{</span><span>"id"</span><span>:</span><span>"powerful"</span><span>,</span><span>"topic"</span><span>:</span><span>"Powerful"</span><span>,</span><span>"direction"</span><span>:</span><span>"right"</span><span>,</span><span>"children"</span><span>:</span><span>[</span>
            <span>{</span><span>"id"</span><span>:</span><span>"powerful1"</span><span>,</span><span>"topic"</span><span>:</span><span>"Base on Javascript"</span><span>}</span><span>,</span>
            <span>{</span><span>"id"</span><span>:</span><span>"powerful2"</span><span>,</span><span>"topic"</span><span>:</span><span>"Base on HTML5"</span><span>}</span><span>,</span>
            <span>{</span><span>"id"</span><span>:</span><span>"powerful3"</span><span>,</span><span>"topic"</span><span>:</span><span>"Depends on you"</span><span>}</span>
        <span>]</span><span>}</span><span>,</span>
        <span>{</span><span>"id"</span><span>:</span><span>"other"</span><span>,</span><span>"topic"</span><span>:</span><span>"test node"</span><span>,</span><span>"direction"</span><span>:</span><span>"left"</span><span>,</span><span>"children"</span><span>:</span><span>[</span>
            <span>{</span><span>"id"</span><span>:</span><span>"other1"</span><span>,</span><span>"topic"</span><span>:</span><span>"I'm from local variable"</span><span>}</span><span>,</span>
            <span>{</span><span>"id"</span><span>:</span><span>"other2"</span><span>,</span><span>"topic"</span><span>:</span><span>"I can do everything"</span><span>}</span>
        <span>]</span><span>}</span>
    <span>]</span><span>}</span>
<span>}</span><span>;</span>
    <span>var</span> options <span>=</span> <span>{</span>
        container<span>:</span><span>'jsmind_container'</span><span>,</span>
        editable<span>:</span><span>true</span><span>,</span>
        theme<span>:</span><span>'orange'</span>
    <span>}</span><span>;</span>
    <span>var</span> jm <span>=</span> <span>new</span> <span>jsMind</span><span>(</span>options<span>)</span><span>;</span>
    jm<span>.</span><span>show</span><span>(</span><span>)</span><span>;</span>
<span>&lt;</span><span>/</span>script<span>></span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br><span>18</span><br><span>19</span><br><span>20</span><br><span>21</span><br><span>22</span><br><span>23</span><br><span>24</span><br><span>25</span><br><span>26</span><br><span>27</span><br><span>28</span><br><span>29</span><br><span>30</span><br><span>31</span><br><span>32</span><br><span>33</span><br><span>34</span><br><span>35</span><br><span>36</span><br><span>37</span><br><span>38</span><br><span>39</span><br><span>40</span><br><span>41</span><br><span>42</span><br></div></div><p>测试后，发现不行，什么也没显示。</p>
<p><strong>方案二</strong>：Hexo脚本注入机制引入CSS</p>
<p>「这个其实不是自己查的，是在先前已经了解过Hexo5的新特性，就知道如何操作注入JS脚本」</p>
<p>在根目录下创建scripts文件夹，并在该文件夹下新建injector.js文件，写入如下代码：</p>
<div><pre><code>hexo<span>.</span>extend<span>.</span>injector<span>.</span><span>register</span><span>(</span><span>'head_begin'</span><span>,</span> <span><span>`</span><span>&lt;link type="text/css" rel="stylesheet" href="/css/jsmind.css" /></span><span>`</span></span><span>,</span> <span>'default'</span><span>)</span><span>;</span>
<span>// 括号中第一个参数可选head_begin、head_end、body_begin、body_end这四个选项。</span>
<span>// 括号中第二个参数要用``来括上，不要用错了！这里就是为了注入link标签</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br></div></div><p>代码部分和方案一一致，但经过测试，还是什么也没显示。</p>
<p><strong>方案三</strong>：HTML文件嵌入</p>
<p>新建一个HTML文本文件，将方案一中的JS代码写入这个文件「要符合HTML语法要求」，然后在md文件中写入：</p>
<div><pre><code><span><span><span>&lt;</span>iframe</span> <span>src</span><span><span>=</span><span>"</span>PATH_TO_YOUR_HTML<span>"</span></span><span>></span></span><span><span><span>&lt;/</span>iframe</span><span>></span></span>
</code></pre>
<div><span>1</span><br></div></div><p>但除了套娃的效果，其余什么也没看到。。。</p>
<p><strong>方案四</strong>：使用JavaScript动态引入CSS</p>
<p>在根目录下，进入js文件夹，新建include_css.js文件，写入如下代码：</p>
<div><pre><code><span>$</span><span>(</span>document<span>)</span><span>.</span><span>ready</span><span>(</span><span>function</span><span>(</span><span>)</span> <span>{</span>
	<span>var</span> url <span>=</span> <span>'/css/my/test.css'</span><span>;</span>
	<span>var</span> doc <span>=</span> document<span>;</span>
	<span>var</span> link <span>=</span> doc<span>.</span><span>createElement</span><span>(</span><span>"link"</span><span>)</span><span>;</span>
	link<span>.</span><span>setAttribute</span><span>(</span><span>"rel"</span><span>,</span><span>"stylesheet"</span><span>)</span><span>;</span>
	link<span>.</span><span>setAttribute</span><span>(</span><span>"type"</span><span>,</span><span>"text/css"</span><span>)</span><span>;</span>
	link<span>.</span><span>setAttribute</span><span>(</span><span>"href"</span><span>,</span>url<span>)</span><span>;</span>
	<span>var</span> heads <span>=</span> doc<span>.</span><span>getElementsByTagName</span><span>(</span><span>"head"</span><span>)</span><span>;</span>
	<span>if</span> <span>(</span>heads<span>.</span>length<span>)</span> <span>{</span>
		heads<span>[</span><span>0</span><span>]</span><span>.</span><span>appendChild</span><span>(</span>link<span>)</span><span>;</span>
	<span>}</span><span>else</span><span>{</span>
		doc<span>.</span>documentElement<span>.</span><span>appendChild</span><span>(</span>link<span>)</span><span>;</span>
	<span>}</span>
<span>}</span><span>)</span><span>;</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br></div></div><p>然后在md文件中添加</p>
<div><pre><code><span>&lt;</span>script type<span>=</span><span>"text/javascript"</span> src<span>=</span><span>"/js/jquery-3.6.0.min.js"</span><span>></span><span>&lt;</span><span>/</span>script<span>></span>
<span>&lt;</span>script type<span>=</span><span>"text/javascript"</span> src<span>=</span><span>"/js/include_css.js"</span><span>></span><span>&lt;</span><span>/</span>script<span>></span>
</code></pre>
<div><span>1</span><br><span>2</span><br></div></div><p>然后剩余部分和方案一的代码相同。</p>
<p>这一方法其实相当于Hexo注入，但依旧无效。</p>
<p>经过无数次尝试，我也在实践中发现，问题的根源在于这个CSS文件上，当我只引入js脚本时，页面倒也能渲染，但是所有的方框不能被渲染，就只剩下一群虫子般扭曲的线条了。。。而当我成功引入CSS文件时，该渲染区域就直接消失，什么也见不到。综上所述，最大的问题来自于CSS文件，而这直接在HTML文件中渲染一切正常，但我是使用了Hexo编译，由于其中的一些机制，本地代码和网页中的代码不一样，才会出现异常，但到底哪里有问题，我就不知道了。。。</p>
<center><strong><font color="#00FFFF" size=6>那么问题来了，就没有可行方案了吗？</font></strong></center>
<p>终于就在今天「2021-5-29」，我找到了<a href="https://echarts.apache.org/examples/zh/index.html#chart-type-line" target="_blank" rel="noopener noreferrer">echarts</a>，看到这个就仿佛看到了胜利的曙光。</p>
<p>这个echarts给我带来了惊喜，非常意外！于是我立马研究如何使用了。</p>
<p>首先要说的是，如果你只是希望画简单的一些图，安装插件hexo-tag-echarts3就可以正常使用了，在md文件中用<code>{% echarts 400 '81%' %}</code>和<code>{% endecharts %}</code>括上你的代码就可以了。</p>
<p>然而我需要绘制一些比较复杂的，或者比较美观一些的，就不能用这个东西了。</p>
<p>我们不需要像<a href="https://blog.csdn.net/qq_41426117/article/details/105416911" target="_blank" rel="noopener noreferrer">如何在hexo主题里用echarts写思维导图</a>这位博主说的那样下载什么echarts.min.js和jquery.js「当然你也可以直接下载」，我们用CDN来处理就好了。</p>
<p>我们只需要在根目录下的source文件夹中新建一个json文件夹，这就用来存放dataset文件「json文件」。</p>
<p>然后在md文件中写如下代码：</p>
<div><pre><code><span>&lt;</span>div id<span>=</span><span>"chart-print"</span> style<span>=</span><span>"width:100%;height:800px;"</span><span>></span><span>&lt;</span><span>/</span>div<span>></span>
<span>&lt;</span>script src<span>=</span><span>"https://cdn.jsdelivr.net/npm/echarts@4.8.0/dist/echarts.min.js"</span><span>></span><span>&lt;</span><span>/</span>script<span>></span>
<span>&lt;</span>script src<span>=</span><span>"https://cdn.jsdelivr.net/npm/echarts-gl@1.1.1/dist/echarts-gl.min.js"</span><span>></span><span>&lt;</span><span>/</span>script<span>></span>
<span>&lt;</span>script src<span>=</span><span>"https://code.jquery.com/jquery-3.6.0.min.js"</span> integrity<span>=</span><span>"sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="</span> crossorigin<span>=</span><span>"anonymous"</span><span>></span><span>&lt;</span><span>/</span>script<span>></span>
<span>&lt;</span>script type<span>=</span><span>"text/javascript"</span><span>></span>
<span>var</span> chartDom <span>=</span> document<span>.</span><span>getElementById</span><span>(</span><span>'chart-print'</span><span>)</span><span>;</span>
<span>var</span> myChart <span>=</span> echarts<span>.</span><span>init</span><span>(</span>chartDom<span>)</span><span>;</span>
<span>var</span> option<span>;</span>
myChart<span>.</span><span>showLoading</span><span>(</span><span>)</span><span>;</span>
$<span>.</span><span>get</span><span>(</span><span>'/json/'</span> <span>+</span> <span>'data.json'</span><span>,</span> <span>function</span> <span>(</span><span>data</span><span>)</span> <span>{</span>
    myChart<span>.</span><span>hideLoading</span><span>(</span><span>)</span><span>;</span>
    myChart<span>.</span><span>setOption</span><span>(</span>option <span>=</span> <span>{</span>
        tooltip<span>:</span> <span>{</span>
            trigger<span>:</span> <span>'item'</span><span>,</span>
            triggerOn<span>:</span> <span>'mousemove'</span>
        <span>}</span><span>,</span>
        series<span>:</span> <span>[</span>
            <span>{</span>
                type<span>:</span> <span>'tree'</span><span>,</span>
                data<span>:</span> <span>[</span>data<span>]</span><span>,</span>
                top<span>:</span> <span>'18%'</span><span>,</span>
                bottom<span>:</span> <span>'14%'</span><span>,</span>
                layout<span>:</span> <span>'radial'</span><span>,</span>
                symbol<span>:</span> <span>'emptyCircle'</span><span>,</span>
                symbolSize<span>:</span> <span>7</span><span>,</span>
                initialTreeDepth<span>:</span> <span>3</span><span>,</span>
                animationDurationUpdate<span>:</span> <span>750</span><span>,</span>
                emphasis<span>:</span> <span>{</span>
                    focus<span>:</span> <span>'descendant'</span>
                <span>}</span>
            <span>}</span>
        <span>]</span>
    <span>}</span><span>)</span><span>;</span>
<span>}</span><span>)</span><span>;</span>
<span>&lt;</span><span>/</span>script<span>></span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br><span>18</span><br><span>19</span><br><span>20</span><br><span>21</span><br><span>22</span><br><span>23</span><br><span>24</span><br><span>25</span><br><span>26</span><br><span>27</span><br><span>28</span><br><span>29</span><br><span>30</span><br><span>31</span><br><span>32</span><br><span>33</span><br><span>34</span><br><span>35</span><br></div></div><p>其实这段已经改好的代码中间还遇到了小挫折，就是在调试的时候发现页面消失，我就觉得很奇怪，将这段代码移植到HTML文件中再看一切正常，这就更奇怪了，又考虑到在这篇博客中有很多地方可能名称就是main，于是我把第6行代码随便改了个名称，就发现页面正常了，但是图形没渲染出来，我去排查一下发现，是charDom变量为空，然后我就去查看代码，并不能解决什么问题，又查了这个文档——<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Document/getElementById" target="_blank" rel="noopener noreferrer">document.getElementById</a>就了解到，原来document.getElementById()这个方法是用来查找特定元素的ID的，于是我再去查看代码，发现那个ID就是<code>&lt;div id=&quot;chart-print&quot; style=&quot;width:100%;height:800px;&quot;&gt;&lt;/div&gt;</code>中的id，再把名称改一下，页面渲染成功，一切大功告成！</p>
<p>后来上传到GitHub Page时发现有个地方不稳定，有时候页面会显示不出来图表，调试一下发现是路径这里加载异常，本地代码写的都是对的，但加载异常。后来发现代码第10行的路径需要修改成<code>‘路径’+‘文件名’</code>的形式才能稳定。</p>
<h2 id="插曲"> 插曲</h2>
<p>随着使用时间的加长，我发现这个主题……什么？没有友链‽我直接……(?。?)？</p>
<p><img src="/images/2021-06-03_09-27.png" alt="" /></p>
<p><img src="/images/2021-06-03_09-15.png" alt="" /></p>
<p>这个Issue都开了5天多了，还是没人回，我现在甚至都认为这没人维护了，于是我便开始自己动手添加吧……没想到啊，最后求人还是不如求己……于是根据我丰富的踩坑经验，我开始着手造轮子……</p>
<ul>
<li>
<p>首先在终端输入<code>hexo new page links</code>来创建友链页，进入<strong><font color="#70f3ff">博客目录文件夹</font></strong>下的source文件夹，你会发现多了一个links的文件夹，进入之后会发现只有一个index.md，这就是我们要改的东西了。</p>
</li>
<li>
<p>编辑index.md的Front-matter，修改为如下形式并保存：</p>
<div><pre><code>---
title: 友链
type: &quot;links&quot;
layout: &quot;links&quot;
---
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br></div></div></li>
<li>
<p>然后你需要在_config.zhaoo.yml文件中的menu下添加：<code>link: /links/ || 友链</code>，接着就需要修改主题模板了。是的，这就涉及到主题文件的直接修改了。因为你通过观察<strong><font color="#ff3300">主题目录文件夹</font></strong>下的layouts文件夹就可以发现，每一个ejs文件「嵌入式JavaScript模板引擎文件」的文件名其实都是有同名文件夹与之对应着的。</p>
</li>
<li>
<p>我们在<strong><font color="#ff3300">主题目录文件夹</font></strong>下layouts文件夹中新建一个文件，名为<code>links.ejs</code>，由于我们预期的界面应该是与文章视图相同的，所以我为了省力，继续在这个目录下寻找有关post、article的模板文件了，最后东拼西凑，总算可以凑出来了。</p>
<div><pre><code><span><span><span>&lt;</span>html</span><span>></span></span>

<span><span><span>&lt;</span>body</span> <span>class</span><span><span>=</span><span>"</span>linkpage<span>"</span></span><span>></span></span>
    <span><span>&lt;%</span><span>
page<span>.</span>layout <span>=</span> <span>"links"</span>
page<span>.</span>title <span>=</span> theme<span>.</span>links<span>.</span>title <span>||</span> <span>__</span><span>(</span><span>'links.title'</span><span>)</span>
page<span>.</span>subtitle <span>=</span> theme<span>.</span>links<span>.</span>subtitle <span>||</span> <span>__</span><span>(</span><span>'links.subtitle'</span><span>)</span>
page<span>.</span>image <span>=</span> theme<span>.</span>links<span>.</span>image <span>||</span> <span>__</span><span>(</span><span>'/images/theme/post-image.jpg'</span><span>)</span>
</span><span>%></span></span>
        <span><span><span>&lt;</span>main</span> <span>id</span><span><span>=</span><span>"</span>linkpagemain<span>"</span></span><span>></span></span>
            <span><span><span>&lt;</span>div</span> <span>class</span><span><span>=</span><span>"</span>article-wrap<span>"</span></span><span>></span></span>
                <span><span><span>&lt;</span>div</span> <span>class</span><span><span>=</span><span>"</span>row container<span>"</span></span><span>></span></span>
                    <span><span><span>&lt;</span>div</span> <span>class</span><span><span>=</span><span>"</span>col-xl-3<span>"</span></span><span>></span></span><span><span><span>&lt;/</span>div</span><span>></span></span>
                    <span><span><span>&lt;</span>div</span> <span>class</span><span><span>=</span><span>"</span>col-xl-6<span>"</span></span><span>></span></span>
                        <span><span><span>&lt;</span>article</span> <span>class</span><span><span>=</span><span>"</span>article<span>"</span></span><span>></span></span>
                            <span><span><span>&lt;</span>div</span> <span>class</span><span><span>=</span><span>"</span>wrap<span>"</span></span><span>></span></span>
                                <span><span>&lt;%-</span><span> <span>partial</span><span>(</span><span>'_partial/post/head'</span><span>)</span> </span><span>%></span></span>
                                    <span><span><span>&lt;</span>section</span> <span>class</span><span><span>=</span><span>"</span>main<span>"</span></span><span>></span></span>
                                        <span><span><span>&lt;</span>section</span> <span>class</span><span><span>=</span><span>"</span>extra<span>"</span></span><span>></span></span>
                                            <span><span><span>&lt;</span>div</span> <span>class</span><span><span>=</span><span>"</span>row links<span>"</span></span><span>></span></span>
                                                <span><span>&lt;%</span><span> <span>for</span><span>(</span><span>const</span> each <span>of</span> theme<span>.</span>links<span>.</span>items <span>||</span> <span>[</span><span>]</span><span>)</span> <span>{</span> </span><span>%></span></span>
                                                    <span><span>&lt;%</span><span> <span>if</span> <span>(</span><span>!</span>each<span>.</span>title <span>||</span> <span>!</span>each<span>.</span>link<span>)</span> <span>continue</span> </span><span>%></span></span>
                                                        <span><span><span>&lt;</span>div</span> <span>class</span><span><span>=</span><span>"</span>card col-lg-4 col-md-6 col-sm-12<span>"</span></span><span>></span></span>
                                                            <span><span><span>&lt;</span>a</span> <span>href</span><span><span>=</span><span>"</span><span><span>&lt;%=</span><span> <span>url_for</span><span>(</span>each<span>.</span>link<span>)</span> </span><span>%></span></span><span>"</span></span> <span>class</span><span><span>=</span><span>"</span>card-body hover-with-bg<span>"</span></span> <span>target</span><span><span>=</span><span>"</span>_blank<span>"</span></span> <span>rel</span><span><span>=</span><span>"</span>noopener<span>"</span></span><span>></span></span>
                                                                <span><span><span>&lt;</span>div</span> <span>class</span><span><span>=</span><span>"</span>card-content<span>"</span></span><span>></span></span>
                                                                    <span><span>&lt;%</span><span> <span>if</span> <span>(</span>each<span>.</span>avatar <span>||</span> each<span>.</span>image<span>)</span> <span>{</span> </span><span>%></span></span>
                                                                        <span><span><span>&lt;</span>div</span> <span>class</span><span><span>=</span><span>"</span>link-avatar my-auto<span>"</span></span><span>></span></span>
                                                                            <span><span><span>&lt;</span>img</span> <span>src</span><span><span>=</span><span>"</span><span><span>&lt;%=</span><span> each<span>.</span>avatar <span>||</span> each<span>.</span>image </span><span>%></span></span><span>"</span></span> <span>alt</span><span><span>=</span><span>"</span><span><span>&lt;%=</span><span> each<span>.</span>title </span><span>%></span></span><span>"</span></span> <span><span>onerror</span><span><span>=</span><span>"</span><span><span>this</span><span>.</span>onerror<span>=</span><span>null</span><span>;</span> <span>this</span><span>.</span>src<span>=</span><span>this</span><span>.</span>srcset<span>=</span><span>'<span><span>&lt;%=</span><span> theme<span>.</span>links<span>.</span>onerror_avatar </span><span>%></span></span>'</span></span><span>"</span></span></span> <span>/></span></span>
                                                                        <span><span><span>&lt;/</span>div</span><span>></span></span>
                                                                        <span><span>&lt;%</span><span> <span>}</span> </span><span>%></span></span>
                                                                            <span><span><span>&lt;</span>div</span> <span>class</span><span><span>=</span><span>"</span>link-text<span>"</span></span><span>></span></span>
                                                                                <span><span><span>&lt;</span>div</span> <span>class</span><span><span>=</span><span>"</span>link-title<span>"</span></span><span>></span></span>
                                                                                    <span><span>&lt;%-</span><span> each<span>.</span>title </span><span>%></span></span>
                                                                                <span><span><span>&lt;/</span>div</span><span>></span></span>
                                                                                <span><span><span>&lt;</span>div</span> <span>class</span><span><span>=</span><span>"</span>link-intro<span>"</span></span><span>></span></span>
                                                                                    <span><span>&lt;%-</span><span> each<span>.</span>intro <span>||</span> <span>''</span> </span><span>%></span></span>
                                                                                <span><span><span>&lt;/</span>div</span><span>></span></span>
                                                                            <span><span><span>&lt;/</span>div</span><span>></span></span>
                                                                <span><span><span>&lt;/</span>div</span><span>></span></span>
                                                            <span><span><span>&lt;/</span>a</span><span>></span></span>
                                                        <span><span><span>&lt;/</span>div</span><span>></span></span>
                                                        <span><span>&lt;%</span><span> <span>}</span> </span><span>%></span></span>
                                            <span><span><span>&lt;/</span>div</span><span>></span></span>
                                            <span><span>&lt;%</span><span> <span>if</span><span>(</span>theme<span>.</span>links<span>.</span>custom<span>.</span>enable <span>&amp;&amp;</span> theme<span>.</span>links<span>.</span>custom<span>.</span>content<span>)</span> <span>{</span> </span><span>%></span></span>
                                                <span>&lt;!-- Custom --></span>
                                                <span><span><span>&lt;</span>div</span> <span>class</span><span><span>=</span><span>"</span>custom mx-auto<span>"</span></span><span>></span></span>
                                                    <span><span>&lt;%-</span><span> theme<span>.</span>links<span>.</span>custom<span>.</span>content </span><span>%></span></span>
                                                <span><span><span>&lt;/</span>div</span><span>></span></span>
                                                <span><span>&lt;%</span><span> <span>}</span> </span><span>%></span></span>
                                                    <span><span>&lt;%</span><span> <span>if</span> <span>(</span>theme<span>.</span>donate<span>.</span>enable <span>&amp;&amp;</span> page<span>.</span>donate <span>!==</span> <span>false</span><span>)</span> <span>{</span> </span><span>%></span></span>
                                                        <span><span>&lt;%-</span><span> <span>partial</span><span>(</span><span>'_partial/post/donate'</span><span>)</span> </span><span>%></span></span>
                                                            <span><span>&lt;%</span><span> <span>}</span> </span><span>%></span></span>
                                                                <span><span>&lt;%-</span><span> <span>partial</span><span>(</span><span>'_partial/post/tag'</span><span>)</span> </span><span>%></span></span>
                                                                    <span><span>&lt;%-</span><span> <span>partial</span><span>(</span><span>'_partial/post/nav'</span><span>)</span> </span><span>%></span></span>
                                        <span><span><span>&lt;/</span>section</span><span>></span></span>
                                    <span><span><span>&lt;/</span>section</span><span>></span></span>
                            <span><span><span>&lt;/</span>div</span><span>></span></span>
                        <span><span><span>&lt;/</span>article</span><span>></span></span>
                        <span><span>&lt;%</span><span> <span>if</span> <span>(</span>theme<span>.</span>comments<span>.</span>enable<span>)</span> <span>{</span> </span><span>%></span></span>
                            <span><span>&lt;%-</span><span> <span>partial</span><span>(</span><span>'_partial/post/comments'</span><span>)</span> </span><span>%></span></span>
                                <span><span>&lt;%</span><span> <span>}</span> </span><span>%></span></span>
                    <span><span><span>&lt;/</span>div</span><span>></span></span>
                <span><span><span>&lt;/</span>div</span><span>></span></span>
            <span><span><span>&lt;/</span>div</span><span>></span></span>
            <span><span><span>&lt;/</span>div</span><span>></span></span>
        <span><span><span>&lt;/</span>main</span><span>></span></span>
<span><span><span>&lt;/</span>body</span><span>></span></span>

<span><span><span>&lt;/</span>html</span><span>></span></span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br><span>18</span><br><span>19</span><br><span>20</span><br><span>21</span><br><span>22</span><br><span>23</span><br><span>24</span><br><span>25</span><br><span>26</span><br><span>27</span><br><span>28</span><br><span>29</span><br><span>30</span><br><span>31</span><br><span>32</span><br><span>33</span><br><span>34</span><br><span>35</span><br><span>36</span><br><span>37</span><br><span>38</span><br><span>39</span><br><span>40</span><br><span>41</span><br><span>42</span><br><span>43</span><br><span>44</span><br><span>45</span><br><span>46</span><br><span>47</span><br><span>48</span><br><span>49</span><br><span>50</span><br><span>51</span><br><span>52</span><br><span>53</span><br><span>54</span><br><span>55</span><br><span>56</span><br><span>57</span><br><span>58</span><br><span>59</span><br><span>60</span><br><span>61</span><br><span>62</span><br><span>63</span><br><span>64</span><br><span>65</span><br><span>66</span><br><span>67</span><br><span>68</span><br><span>69</span><br></div></div><p>其实这里是有参考之前我在用的fluid主题下的模板的，我拿过来做好移植的处理了。</p>
</li>
<li>
<p>最后就可以回到刚才的<code>_config.zhaoo.yml</code>文件中添加如下的配置信息了：</p>
<div><pre><code><span>links</span><span>:</span>
  <span>enable</span><span>:</span> <span>true</span>
  <span>image</span><span>:</span> 
  <span>title</span><span>:</span> 友情链接
  <span>subtitle</span><span>:</span> 
  <span># 友链的成员项</span>
  <span># Member item of page</span>
  <span>items</span><span>:</span>
    <span>-</span> <span>{</span>
      <span>title</span><span>:</span> 
      <span>intro</span><span>:</span> 
      <span>link</span><span>:</span> 
      <span>avatar</span><span>:</span> 
    <span>}</span>
  <span># 当成员头像加载失败时，替换为指定图片</span>
  <span># When the member avatar fails to load, replace the specified image</span>
  <span>onerror_avatar</span><span>:</span> /images/avatar.png

  <span># 友链下方自定义区域，支持 HTML，可插入例如申请友链的文字</span>
  <span># Custom content at the bottom of the links</span>
  <span>custom</span><span>:</span>
    <span>enable</span><span>:</span> <span>true</span>
    <span>content</span><span>:</span> <span>'&lt;hr>&lt;p>通过联系我申请加入我的友链，按如下格式提供信息：&lt;/p>&lt;ul>&lt;li>博客名：&lt;/li>&lt;li>简介：&lt;/li>&lt;li>链接：&lt;/li>&lt;li>图片：&lt;/li>&lt;/ul>'</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br><span>18</span><br><span>19</span><br><span>20</span><br><span>21</span><br><span>22</span><br><span>23</span><br></div></div><p><strong>添加友链的操作到此结束，请放心食用。</strong></p>
</li>
</ul>
<hr>
<p>然后接下来，我就发现一个问题，当我配置好亮色模式下的主题时，一旦我点了切换亮暗模式的按钮，就会发现，亮色模式下的图片没发生变动，于是在整个暗色主题当中，亮色图片显得分外扎眼……我真挺想吐槽这一点的，既然您开发出这个主题，开设这个功能的时候，能想到要换页面的配色方案，那您为啥没想到要换背景的事呢？？？于是我开始着手处理这件非常棘手的事「开头已经声明，我没有任何前端基础。」。</p>
<p>我花了大量精力以及大量时间去研究、学习与理解，最终发现，这个主题的外观配置居然直接拿CSS定义就载入的，这意味着什么？你在页面下是无法通过代码直接访问到这个属性的，页面下一切有关定义都是undefined，但现在我希望它能改动，那我就有两种方式，一是使用JS直接动态修改CSS，但这方法迄今为止我依旧没能找到。另一个方案是使用JS动态载入CSS文件，用新的CSS文件写覆盖原来的样式，我自然是采取后者的做法。</p>
<p>首先要在<strong><font color="#70f3ff">博客目录文件夹</font></strong>下的source文件夹中创建css文件夹「为了以后方便快速管理css文件」，并在里面新建<code>lightbg.css</code>和<code>darkbg.css</code>两个文件，并都使用如下的代码模板：</p>
<div><pre><code><span><span>@charset</span> <span>"utf-8"</span><span>;</span></span>
<span>body</span> <span>{</span>
    <span>background-image</span><span>:</span> <span><span>url</span><span>(</span><span>".../×××.jpg"</span><span>)</span></span><span>;</span> //这要指定你的图片路径，包括但不限于jpg图片格式。
<span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br></div></div><p>然后重点来了，我们要开始修改<code>color-mode.js</code>文件了，因为我们希望在点击切换按钮的时候能触发切换壁纸的事件。打开在<strong><font color="#ff3300">主题目录文件夹</font></strong>下的source文件夹中的js文件夹，找到并编辑<code>color-mode.js</code>，在定义变量的区域后插入如下代码：</p>
<div><pre><code>    window<span>.</span><span>onload</span> <span>=</span> <span>function</span><span>(</span><span>)</span> <span>{</span>
        <span>var</span> head <span>=</span> document<span>.</span><span>getElementsByTagName</span><span>(</span><span>'head'</span><span>)</span><span>[</span><span>0</span><span>]</span><span>;</span>
        <span>var</span> link <span>=</span> document<span>.</span><span>createElement</span><span>(</span><span>'link'</span><span>)</span><span>;</span>
        link<span>.</span>id <span>=</span> <span>"bgimg"</span><span>;</span>
        link<span>.</span>type <span>=</span> <span>"text/css"</span><span>;</span>
        link<span>.</span>rel <span>=</span> <span>"stylesheet"</span><span>;</span>
        link<span>.</span>href <span>=</span> document<span>.</span><span>getElementById</span><span>(</span><span>'color-toggle'</span><span>)</span><span>.</span><span>getAttribute</span><span>(</span><span>'color-toggle'</span><span>)</span> <span>===</span> <span>"light"</span> <span>?</span> <span>"/css/lightbg.css"</span> <span>:</span> <span>"/css/darkbg.css"</span><span>;</span>
        head<span>.</span><span>appendChild</span><span>(</span>link<span>)</span><span>;</span>
    <span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br></div></div><p>然后找到switchColorMode这个函数变量，在其中添加代码，最后这里的样子应该如此：</p>
<div><pre><code>    <span>var</span> <span>switchColorMode</span> <span>=</span> <span>function</span><span>(</span><span>)</span> <span>{</span>
        <span>if</span> <span>(</span><span>!</span>toggleElement<span>)</span> <span>return</span><span>;</span>
        toggleElement<span>.</span><span>addEventListener</span><span>(</span><span>'click'</span><span>,</span> <span>function</span><span>(</span><span>)</span> <span>{</span>
            <span>var</span> mode <span>=</span> <span>this</span><span>.</span><span>getAttribute</span><span>(</span>toggleAttribute<span>)</span> <span>===</span> <span>'light'</span> <span>?</span> <span>'dark'</span> <span>:</span> <span>'light'</span><span>;</span>
            <span>setColorMode</span><span>(</span>mode<span>)</span><span>;</span>
            <span>setIcon</span><span>(</span>mode<span>)</span><span>;</span>
            <span>setHighlightStyle</span><span>(</span>mode<span>)</span><span>;</span>
            <span>//以下是新加的代码：</span>
            document<span>.</span><span>getElementById</span><span>(</span><span>'bgimg'</span><span>)</span><span>.</span><span>setAttribute</span><span>(</span><span>'href'</span><span>,</span> mode <span>===</span> <span>'light'</span> <span>?</span> <span>"/css/lightbg.css"</span> <span>:</span> <span>"/css/darkbg.css"</span><span>)</span><span>;</span>
        <span>}</span><span>)</span><span>;</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br></div></div><p>使用window.onload方法的原因在于：如果不使用这个方法，而是直接写的话，当你进入其中某一文章后又退回主页时，你会发现这背景竟然变回去了，检查一下，你会发现连自己创建出来的标签都消失了，但经过我长时间的排查考证，其实这个脚本就是只加载一次，在最开始加载页面的时候加载的，进入其他界面时这个脚本一直都在，因此退回主页之后脚本并不会直接重新执行那一段代码，根据以往我的C#经验，我给出的解决方案就是将这段代码定义为页面加载时触发的事件即可解决。</p>
<hr>
<p>由于本人喜欢水墨风，亮色主题下设置出水墨风的搭配后，发现进入文章就会感觉文章版块所在位置遮挡了较大一部分，有些影响美观，由发现我手里还有一个水墨图片适合这个界面，但放在主页面就感觉不太好看，于是我决定想个办法让它在两个视图中加载不同的背景。然而折腾到最后，还是做做写覆盖的操作了。</p>
<p>在<strong><font color="#70f3ff">博客目录文件夹</font></strong>下的source文件夹中创建js文件夹「同样也是便于日后直接快速管理我的js文件」，并在其中新建<code>post_bg_img.js</code>，写入如下代码：</p>
<div><pre><code><span>if</span> <span>(</span>window<span>.</span>onload <span>!=</span> <span>null</span><span>)</span> <span>{</span> <span>var</span> f1 <span>=</span> window<span>.</span>onload<span>;</span> <span>}</span>
window<span>.</span><span>onload</span> <span>=</span> <span>function</span><span>(</span><span>)</span> <span>{</span>
    <span>if</span> <span>(</span>document<span>.</span><span>getElementsByTagName</span><span>(</span><span>'article'</span><span>)</span><span>[</span><span>0</span><span>]</span><span>)</span> <span>{</span>
        <span>var</span> head <span>=</span> document<span>.</span><span>getElementsByTagName</span><span>(</span><span>'head'</span><span>)</span><span>[</span><span>0</span><span>]</span><span>;</span>
        <span>var</span> style <span>=</span> document<span>.</span><span>createElement</span><span>(</span><span>'style'</span><span>)</span><span>;</span> 
        style<span>.</span>id <span>=</span> <span>"postbgimg"</span><span>;</span>
        style<span>.</span>type <span>=</span> <span>"text/css"</span>
        style<span>.</span>rel <span>=</span> <span>"stylesheet"</span><span>;</span>
        <span>var</span> code <span>=</span> document<span>.</span><span>getElementById</span><span>(</span><span>'color-toggle'</span><span>)</span><span>.</span><span>getAttribute</span><span>(</span><span>'color-toggle'</span><span>)</span> <span>===</span> <span>"light"</span> <span>?</span> <span>"@charset \"utf-8\";body { background-image: url(\"/images/Wallpapers/shanshui_guohua-004.jpg\") !important; }"</span> <span>:</span> <span>"@charset \"utf-8\";body { background-image: url(\"/images/Wallpapers/galaxy_apple_technology_hd_macbook.jpg\") !important; }"</span><span>;</span> 
        style<span>.</span>innerHTML <span>=</span> code<span>;</span>
        head<span>.</span><span>appendChild</span><span>(</span>style<span>)</span><span>;</span>
    <span>}</span>
    <span>if</span> <span>(</span>f1 <span>!=</span> <span>null</span><span>)</span> <span>{</span> <span>f1</span><span>(</span><span>)</span><span>;</span> <span>}</span>
<span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br></div></div><p>而刚才编辑过的<code>color-mode.js</code>也需要修改一下，将上面的代码改成如下形式：</p>
<div><pre><code><span>if</span> <span>(</span>window<span>.</span>onload <span>!=</span> <span>null</span><span>)</span> <span>{</span> <span>var</span> f2 <span>=</span> window<span>.</span>onload<span>;</span> <span>}</span>
    window<span>.</span><span>onload</span> <span>=</span> <span>function</span><span>(</span><span>)</span> <span>{</span>
        <span>var</span> head <span>=</span> document<span>.</span><span>getElementsByTagName</span><span>(</span><span>'head'</span><span>)</span><span>[</span><span>0</span><span>]</span><span>;</span>
        <span>var</span> link <span>=</span> document<span>.</span><span>createElement</span><span>(</span><span>'link'</span><span>)</span><span>;</span>
        link<span>.</span>id <span>=</span> <span>"bgimg"</span><span>;</span>
        link<span>.</span>type <span>=</span> <span>"text/css"</span><span>;</span>
        link<span>.</span>rel <span>=</span> <span>"stylesheet"</span><span>;</span>
        link<span>.</span>href <span>=</span> document<span>.</span><span>getElementById</span><span>(</span><span>'color-toggle'</span><span>)</span><span>.</span><span>getAttribute</span><span>(</span><span>'color-toggle'</span><span>)</span> <span>===</span> <span>"light"</span> <span>?</span> <span>"/css/lightbg.css"</span> <span>:</span> <span>"/css/darkbg.css"</span><span>;</span>
        head<span>.</span><span>appendChild</span><span>(</span>link<span>)</span><span>;</span>
        <span>if</span> <span>(</span>f2 <span>!=</span> <span>null</span><span>)</span> <span>{</span> <span>f2</span><span>(</span><span>)</span><span>;</span> <span>}</span>
    <span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br></div></div><p>后面的switchColorMode函数变量也要再添加新的东西：</p>
<div><pre><code>    <span>var</span> <span>switchColorMode</span> <span>=</span> <span>function</span><span>(</span><span>)</span> <span>{</span>
        <span>if</span> <span>(</span><span>!</span>toggleElement<span>)</span> <span>return</span><span>;</span>
        toggleElement<span>.</span><span>addEventListener</span><span>(</span><span>'click'</span><span>,</span> <span>function</span><span>(</span><span>)</span> <span>{</span>
            <span>var</span> mode <span>=</span> <span>this</span><span>.</span><span>getAttribute</span><span>(</span>toggleAttribute<span>)</span> <span>===</span> <span>'light'</span> <span>?</span> <span>'dark'</span> <span>:</span> <span>'light'</span><span>;</span>
            <span>setColorMode</span><span>(</span>mode<span>)</span><span>;</span>
            <span>setIcon</span><span>(</span>mode<span>)</span><span>;</span>
            <span>setHighlightStyle</span><span>(</span>mode<span>)</span><span>;</span>
            <span>//以下是相对最开始时所添加的代码：</span>
            document<span>.</span><span>getElementById</span><span>(</span><span>'bgimg'</span><span>)</span><span>.</span><span>setAttribute</span><span>(</span><span>'href'</span><span>,</span> mode <span>===</span> <span>'light'</span> <span>?</span> <span>"/css/lightbg.css"</span> <span>:</span> <span>"/css/darkbg.css"</span><span>)</span><span>;</span>
            <span>var</span> stylelabel <span>=</span> document<span>.</span><span>getElementById</span><span>(</span><span>"postbgimg"</span><span>)</span><span>;</span>
            <span>var</span> code <span>=</span> document<span>.</span><span>getElementById</span><span>(</span><span>'color-toggle'</span><span>)</span><span>.</span><span>getAttribute</span><span>(</span><span>'color-toggle'</span><span>)</span> <span>===</span> <span>"light"</span> <span>?</span> <span>"@charset \"utf-8\";body { background-image: url(\"/images/Wallpapers/shanshui_guohua-004.jpg\") !important; }"</span> <span>:</span> <span>"@charset \"utf-8\";body { background-image: url(\"/images/Wallpapers/galaxy_apple_technology_hd_macbook.jpg\") !important; }"</span><span>;</span>
            stylelabel<span>.</span>innerHTML <span>=</span> code<span>;</span>
        <span>}</span><span>)</span><span>;</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br></div></div><p>可能你在奇怪为啥会出现这个形式：</p>
<div><pre><code><span>if</span> <span>(</span>window<span>.</span>onload <span>!=</span> <span>null</span><span>)</span> <span>{</span> <span>var</span> f1 <span>=</span> window<span>.</span>onload<span>;</span> <span>}</span>
window<span>.</span><span>onload</span> <span>=</span> <span>function</span><span>(</span><span>)</span> <span>{</span>
    <span>...</span><span>...</span>
    <span>if</span> <span>(</span>f1 <span>!=</span> <span>null</span><span>)</span> <span>{</span> <span>f1</span><span>(</span><span>)</span><span>;</span> <span>}</span>
<span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br></div></div><p>这是因为，在多个文件中定义window.onload方法后，而在执行时实际上只会执行最后加入的一种定义，前面添加的一概作废，因此为了能让这些定义都同时采用，就写成了以上的形式。</p>
<p>最终，我是终于完成了博客的小改动，现在感觉更加舒服了……</p>
<h2 id="结果"> 结果～</h2>
<p>来看看我的博客？--&gt;<a href="https://breezeshane.github.io/" target="_blank" rel="noopener noreferrer">·</a></p>
<p>🥺🥺🥺如果可以的话，能给个star吗？🥺🥺🥺</p>
<h2 id="睿智-作者的话「不重要」"> “睿智”作者的话「不重要」</h2>
<p>搭建博客这一过程非常艰辛，尤其对于我这种没学习过前端的人来说更是如此，虽然我用Hexo搭的博客，感觉上好像可能会是有手就行，别人都给你写好了，但至少我遇到的这位主虽然写了很不错、有意思的主题，但对于我来说缺了一些东西。通过这次改动，我也学到了不少前端知识，收获还真的不小！</p>
]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2021-05-29T14:18:03.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">用Shell脚本创建新文章</title>
    <id>https://breezeshane.github.io/BlogBuildingAndUsing/CreateNewFilebyShell/</id>
    <link href="https://breezeshane.github.io/BlogBuildingAndUsing/CreateNewFilebyShell/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<h2 id="前言"> 前言</h2>
<p>自从我使用博客以后，写markdown就多了一件事——配置Front-matter。每次写文章我都要写这些几乎重复的东西，心情倍感烦躁，于是我决定用Shell脚本来实现这个功能。</p>
<h2 id="实现"> 实现？</h2>
<p>最终，我完成了这个小程序，完整的实现代码如下：</p>
<div><pre><code><span>while</span> <span>getopts</span> <span>":n:t:D:a:i:u:c:b:T:m:d:C:k:l:h"</span> optname
<span>do</span>
    <span>case</span> <span>"<span>$optname</span>"</span> <span>in</span>
    <span>"n"</span><span>)</span>
        <span>name</span><span>=</span><span>$OPTARG</span>
        <span>;</span><span>;</span>
    <span>"t"</span><span>)</span>
       <span>title</span><span>=</span><span>$OPTARG</span>
       <span>;</span><span>;</span>
    <span>"D"</span><span>)</span>
        <span>time</span><span>=</span><span>$OPTARG</span>
        <span>;</span><span>;</span>
    <span>"a"</span><span>)</span>
        <span>author</span><span>=</span><span>$OPTARG</span>
        <span>;</span><span>;</span>
    <span>"i"</span><span>)</span>
        <span>img</span><span>=</span><span>$OPTARG</span>
        <span>;</span><span>;</span>
    <span>"u"</span><span>)</span>
        <span>top</span><span>=</span><span>$OPTARG</span>
        <span>;</span><span>;</span>
    <span>"c"</span><span>)</span>
        <span>index_img</span><span>=</span><span>$OPTARG</span>
        <span>;</span><span>;</span>
    <span>"b"</span><span>)</span>
        <span>banner_img</span><span>=</span><span>$OPTARG</span>
        <span>;</span><span>;</span>
    <span>"T"</span><span>)</span>
        <span>toc</span><span>=</span><span>$OPTARG</span>
        <span>;</span><span>;</span>
    <span>"m"</span><span>)</span>
        <span>mathjax</span><span>=</span><span>$OPTARG</span>
        <span>;</span><span>;</span>
    <span>"d"</span><span>)</span>
        <span>summary</span><span>=</span><span>$OPTARG</span>
        <span>;</span><span>;</span>
    <span>"C"</span><span>)</span>
        <span>categories</span><span>=</span><span>$OPTARG</span>
        <span>;</span><span>;</span>
    <span>"k"</span><span>)</span>
        <span>keywords</span><span>=</span><span>$OPTARG</span>
        <span>;</span><span>;</span>
    <span>"l"</span><span>)</span>
        <span>tags</span><span>=</span><span>$OPTARG</span>
        <span>;</span><span>;</span>
    <span>"h"</span><span>)</span>
        <span>echo</span> -e <span>"Opt<span title="\t">\t</span>Name<span title="\t">\t</span>Description<span title="\n">\n</span>-t<span title="\t">\t</span>title<span title="\t">\t</span>To determine what the article's title is.<span title="\n">\n</span>-D<span title="\t">\t</span>date<span title="\t">\t</span>To write down when you create the article.<span title="\n">\n</span>-a<span title="\t">\t</span>author<span title="\t">\t</span>To record who creates this article.<span title="\n">\n</span>-i<span title="\t">\t</span>image<span title="\t">\t</span>To describe where the image is.<span title="\n">\n</span>-u<span title="\t">\t</span>upest<span title="\t">\t</span>To set whether the article is top or not.<span title="\n">\n</span>-c<span title="\t">\t</span>cover <span title="\t">\t</span>To determine the path of pictures as the cover.<span title="\n">\n</span>-T<span title="\t">\t</span>toc  <span title="\t">\t</span>To set whether the article contains its content.<span title="\n">\n</span>-m<span title="\t">\t</span>mathjax  <span title="\t">\t</span>To determine to use mathjax or not.<span title="\n">\n</span>-d<span title="\t">\t</span>describe<span title="\t">\t</span>To set the abstract of article.<span title="\n">\n</span>-C<span title="\t">\t</span>categories<span title="\t">\t</span>To set  what kind of the article is.<span title="\n">\n</span>-k<span title="\t">\t</span>keywords<span title="\t">\t</span>To set the article's keywords.<span title="\n">\n</span>-l <span title="\t">\t</span>labels  <span title="\t">\t</span>To set the tags of article.<span title="\n">\n</span>-b<span title="\t">\t</span>banner image path<span title="\t">\t</span>To set which picture would be the article background.<span title="\n">\n</span>"</span>
        <span>exit</span>
        <span>;</span><span>;</span>
      *<span>)</span>
         <span>echo</span> <span>"Unknown optimate, please input 'bash new.sh -h' to learn the usage."</span>
         <span>exit</span>
         <span>;</span><span>;</span>
    <span>esac</span>
<span>done</span>

<span>echo</span> -e <span>"---<span title="\n">\n</span>title: ${title:-"</span>"<span>}</span><span>\</span>ndate: <span>${time-$(date "+<span>%</span>Y-<span>%</span>m-<span>%</span>d <span>%</span>H<span>:</span><span>%</span>M<span>:</span><span>%</span>S")}</span><span>\</span>nauthor: <span>${author<span>:-</span>"Breeze Shane"}</span><span>\</span>nimg: /source/images/<span>${img<span>:-</span>""}</span><span>\</span>ntop: <span>${top<span>:-</span>"false"}</span><span>\</span>nindex_img: /images/<span>${index_img<span>:-</span>""}</span><span>\</span>nbanner_img: /images/<span>${banner_img<span>:-</span>""}</span><span>\</span>ntoc: <span>${toc<span>:-</span>"true"}</span><span>\</span>nmathjax: <span>${mathjax<span>:-</span>"true"}</span><span>\</span>nsummary: <span>${summary<span>:-</span>""}</span><span>\</span>ncategories: <span>${categories<span>:-</span>""}</span><span>\</span>nkeywords: <span>${keywords<span>:-</span>""}</span><span>\</span>ntags: <span>${tags<span>:-</span>""}</span><span>\</span>n---<span>\</span>n<span>" >> "</span><span>${name<span>:-</span>"new"}</span>".md

</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br><span>18</span><br><span>19</span><br><span>20</span><br><span>21</span><br><span>22</span><br><span>23</span><br><span>24</span><br><span>25</span><br><span>26</span><br><span>27</span><br><span>28</span><br><span>29</span><br><span>30</span><br><span>31</span><br><span>32</span><br><span>33</span><br><span>34</span><br><span>35</span><br><span>36</span><br><span>37</span><br><span>38</span><br><span>39</span><br><span>40</span><br><span>41</span><br><span>42</span><br><span>43</span><br><span>44</span><br><span>45</span><br><span>46</span><br><span>47</span><br><span>48</span><br><span>49</span><br><span>50</span><br><span>51</span><br><span>52</span><br><span>53</span><br><span>54</span><br><span>55</span><br><span>56</span><br><span>57</span><br><span>58</span><br></div></div><h1 id="¿读解"> ¿读解</h1>
<p>整个程序的大致框架如下：</p>
<div><pre><code><span>while</span> <span>getopts</span> <span>":n:t:D:a:i:u:c:b:T:m:d:C:k:l:h"</span> optname
<span>do</span>
    <span>case</span> <span>"<span>$optname</span>"</span> <span>in</span>
    <span>"n"</span><span>)</span>
        <span>name</span><span>=</span><span>$OPTARG</span>
        <span>;</span><span>;</span>
    <span>"t"</span><span>)</span>
       <span>title</span><span>=</span><span>$OPTARG</span>
       <span>;</span><span>;</span>
    <span>"D"</span><span>)</span>
        <span>time</span><span>=</span><span>$OPTARG</span>
        <span>;</span><span>;</span>
    <span>"a"</span><span>)</span>
        <span>author</span><span>=</span><span>$OPTARG</span>
        <span>;</span><span>;</span>
    <span>"i"</span><span>)</span>
        <span>img</span><span>=</span><span>$OPTARG</span>
        <span>;</span><span>;</span>
    <span>"u"</span><span>)</span>
        <span>top</span><span>=</span><span>$OPTARG</span>
        <span>;</span><span>;</span>
    <span>"c"</span><span>)</span>
        <span>index_img</span><span>=</span><span>$OPTARG</span>
        <span>;</span><span>;</span>
    <span>"b"</span><span>)</span>
        <span>banner_img</span><span>=</span><span>$OPTARG</span>
        <span>;</span><span>;</span>
    <span>"T"</span><span>)</span>
        <span>toc</span><span>=</span><span>$OPTARG</span>
        <span>;</span><span>;</span>
    <span>"m"</span><span>)</span>
        <span>mathjax</span><span>=</span><span>$OPTARG</span>
        <span>;</span><span>;</span>
    <span>"d"</span><span>)</span>
        <span>summary</span><span>=</span><span>$OPTARG</span>
        <span>;</span><span>;</span>
    <span>"C"</span><span>)</span>
        <span>categories</span><span>=</span><span>$OPTARG</span>
        <span>;</span><span>;</span>
    <span>"k"</span><span>)</span>
        <span>keywords</span><span>=</span><span>$OPTARG</span>
        <span>;</span><span>;</span>
    <span>"l"</span><span>)</span>
        <span>tags</span><span>=</span><span>$OPTARG</span>
        <span>;</span><span>;</span>
    <span>"h"</span><span>)</span>
        <span>echo</span> -e <span>"......"</span>
        <span>exit</span>
        <span>;</span><span>;</span>
      *<span>)</span>
         <span>echo</span> <span>"...Error..."</span>
         <span>exit</span>
         <span>;</span><span>;</span>
    <span>esac</span>
<span>done</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br><span>18</span><br><span>19</span><br><span>20</span><br><span>21</span><br><span>22</span><br><span>23</span><br><span>24</span><br><span>25</span><br><span>26</span><br><span>27</span><br><span>28</span><br><span>29</span><br><span>30</span><br><span>31</span><br><span>32</span><br><span>33</span><br><span>34</span><br><span>35</span><br><span>36</span><br><span>37</span><br><span>38</span><br><span>39</span><br><span>40</span><br><span>41</span><br><span>42</span><br><span>43</span><br><span>44</span><br><span>45</span><br><span>46</span><br><span>47</span><br><span>48</span><br><span>49</span><br><span>50</span><br><span>51</span><br><span>52</span><br><span>53</span><br><span>54</span><br><span>55</span><br></div></div><p>使用while循环来遍历输入的每一个参数并接受，在case中设定各种参数的动作。遇到其他未知字符或者参数h则输出错误信息或帮助信息并终止，并专门为-h参数设定了帮助信息，echo开启转义模式需要加上-e参数才行。</p>
<p>getopts后面的字符串中，第一个:表示遇到错误信息也不输出，保持沉默，后面的各个字母表示各参数的名称，有无:决定了参数是否必须接受输入。比如n:就表示参数n必须接受后面的输入，不输入则报错；而h表示不接受输入（接受也是沉默）。</p>
<p>注意：</p>
<ul>
<li>
<p>诸如<code>${title:-&quot;&quot;}</code>的写法表示设定参数取变量title的值，如果title变量未被定义，则该参数取默认设定值<code>&quot;&quot;</code>（这对引号表示空）。「其实个人认为理解成Python语句<code>def function(opt1=9,opt2=7)</code>中的opt1和opt2会更快一些，因为从结果上来看其实效果都是一样：设定一个参数，并为之设定默认值。」</p>
</li>
<li>
<p>:-句法——在这个命令中，若前者变量已被定义但是为空值，echo语句将使用后者变量的值。</p>
<p>:=句法——只有当前者变量已被定义，而且有一个实际的非空值时，整体表达式的值才不会被设置为后者变量的值而继续保持为前者变量的值。「<strong>原博客这里的讲解有小瑕疵，特此更正一下。</strong>」</p>
<p>:?句法——使用:?句法时，如果前者变量已被定义为非空值，在echo命令中就会使用前者变量的值。如果前者变量已被定义但却没有一个真正的值（也就是说非空）或者完全未被定义，那么在echo命令中就会使用后者变量的值，并且脚本退出执行。</p>
</li>
<li>
<p>这里的变量不需要声明，这是shell脚本的特点。</p>
</li>
<li>
<p>诸如&quot;h&quot;)的写法表示当变量optname为h时。</p>
</li>
<li>
<p>esac表示case语句块的结束。</p>
</li>
<li>
<p>;;表示break。</p>
</li>
<li>
<p>done表示do语句块的结束</p>
</li>
<li>
<p>参数名只能是一个字符，因为诸如<code>-aiuc</code>的长名称参数实际上会被理解为<code>-a -i -u -c</code>，所以请务必保证长度只有一个字符。</p>
</li>
</ul>
<p>最后的输出要像这样实现：</p>
<div><pre><code><span>echo</span> -e <span>"---<span title="\n">\n</span>title: ${title:-"</span>"<span>}</span><span>\</span>ndate: <span>${time-$(date "+<span>%</span>Y-<span>%</span>m-<span>%</span>d <span>%</span>H<span>:</span><span>%</span>M<span>:</span><span>%</span>S")}</span><span>\</span>nauthor: <span>${author<span>:-</span>"Breeze Shane"}</span><span>\</span>nimg: /source/images/<span>${img<span>:-</span>""}</span><span>\</span>ntop: <span>${top<span>:-</span>"false"}</span><span>\</span>nindex_img: /images/<span>${index_img<span>:-</span>""}</span><span>\</span>nbanner_img: /images/<span>${banner_img<span>:-</span>""}</span><span>\</span>ntoc: <span>${toc<span>:-</span>"true"}</span><span>\</span>nmathjax: <span>${mathjax<span>:-</span>"true"}</span><span>\</span>nsummary: <span>${summary<span>:-</span>""}</span><span>\</span>ncategories: <span>${categories<span>:-</span>""}</span><span>\</span>nkeywords: <span>${keywords<span>:-</span>""}</span><span>\</span>ntags: <span>${tags<span>:-</span>""}</span><span>\</span>n---<span>\</span>n<span>" >> "</span><span>${name<span>:-</span>"new"}</span>".md
</code></pre>
<div><span>1</span><br></div></div><p>注意一定要这样写：<code>&quot;${name:-&quot;new&quot;}&quot;.md</code>，而不是写成<code>${name:-&quot;new&quot;}.md</code>或者<code>${name:?&quot;new&quot;}.md</code>等其他各种写法，否则当你输入含有空格的新文章的文件名时会遇到报错信息：模糊的重定向。</p>
<blockquote>
<p>在变量周围添加引号似乎是处理“歧义重定向”消息的一种好方法：输入错误时，以及*错误是由于文件名中的空格引起的时，您往往会得到更好的消息，使用引号即可解决。</p>
</blockquote>
<p>因此才写作<code>&quot;${name:-&quot;new&quot;}&quot;.md</code>，这样就可以接受含有空格的文件名，不过当你想这样输入的时候需要加引号：</p>
<div><pre><code><span>bash</span> new.sh -n <span>'New File'</span>
<span># 或者像下面这样写：</span>
<span>bash</span> new.sh -n <span>"new file"</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br></div></div><h2 id="扩展"> 扩展！</h2>
<p>在此基础上，你可以添加自己喜欢的功能，比如希望在某一目录下创建新文章，只需要在原来基础上将新文件移动到指定目录即可。</p>
<div><pre><code><span>mv</span> <span>"${name:-"</span>new<span>"}"</span>.md ./source/_posts/
</code></pre>
<div><span>1</span><br></div></div><p>如果你用typora编辑markdown文件，而且你希望创建新文章后立即编辑，可以再加上这一句：</p>
<div><pre><code>typora ./source/_posts/<span>"${name:-"</span>new<span>"}"</span>.md
</code></pre>
<div><span>1</span><br></div></div><p>如果觉得总是要输入路径、脚本名才能执行太过麻烦，还可以创建软链接到系统环境变量来简单执行！</p>
<div><pre><code><span>sudo</span> <span>ln</span> -s <span>[</span>绝对路径<span>]</span>/<span>[</span>name<span>]</span>  /usr/local/bin/<span>[</span>newName<span>]</span>
</code></pre>
<div><span>1</span><br></div></div><p>这样输入newName就可以直接执行自己的脚本文件咯～</p>
<hr>
<blockquote>
<p>本文参考的博客如下：</p>
<ul>
<li><a href="https://www.cnblogs.com/fhefh/archive/2011/04/22/2024750.html" target="_blank" rel="noopener noreferrer">linux bash shell之变量替换</a></li>
<li><a href="https://www.runoob.com/linux/linux-shell-echo.html" target="_blank" rel="noopener noreferrer">Shell echo命令</a></li>
<li><a href="https://blog.csdn.net/sinat_29100331/article/details/79091323" target="_blank" rel="noopener noreferrer">shell获取系统当前时间并格式化</a></li>
<li><a href="https://cloud.tencent.com/developer/article/1629932" target="_blank" rel="noopener noreferrer">这样处理shell脚本参数，爽多了！</a></li>
</ul>
</blockquote>
<hr>
<center>🤣🤣🤣***地球人已经阻拦不了我偷懒了！***🤣🤣🤣</center>
]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2021-05-09T19:59:21.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">LaTeX公式</title>
    <id>https://breezeshane.github.io/BlogBuildingAndUsing/LaTeX/</id>
    <link href="https://breezeshane.github.io/BlogBuildingAndUsing/LaTeX/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<blockquote>
<p>参考内容：</p>
<p><a href="https://math.meta.stackexchange.com/questions/5020/mathjax-basic-tutorial-and-quick-reference" target="_blank" rel="noopener noreferrer">MathJax basic tutorial and quick reference</a></p>
<p><a href="https://www.zybuluo.com/codeep/note/163962#mjx-eqn-eqsample" target="_blank" rel="noopener noreferrer">Cmd Markdown 公式指导手册</a></p>
<p><a href="https://www.mathelounge.de/509545/mathjax-latex-basic-tutorial-und-referenz-deutsch" target="_blank" rel="noopener noreferrer">MathJax: LaTeX Basic Tutorial und Referenz (Deutsch)</a></p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/MathML/Element/menclose" target="_blank" rel="noopener noreferrer"><menclose></a></p>
</blockquote>
<h2 id="插入公式"> 插入公式</h2>
<ul>
<li>
<p>行中公式可以用如下方法表示：</p>
<p><code>$ 数学公式 $</code></p>
</li>
<li>
<p>独立公式可以用如下方法表示：</p>
<p><code>$$ 数学公式 $$</code></p>
</li>
<li>
<p>自动编号的公式可以用如下方法表示：</p>
<p>若需要手动编号，参见“<a href="https://www.zybuluo.com/codeep/note/163962#14%E5%A4%A7%E6%8B%AC%E5%8F%B7%E5%92%8C%E8%A1%8C%E6%A0%87%E7%9A%84%E4%BD%BF%E7%94%A8" target="_blank" rel="noopener noreferrer">大括号和行标的使用</a>”。</p>
<p><code>\begin{equation}</code></p>
<p><code>数学公式</code></p>
<p><code>\label{eq:当前公式名}</code></p>
<p><code>\end{equation}</code></p>
</li>
</ul>
<p><strong>自动编号后的公式可在全文任意处使用 <code>\eqref{eq:公式名}</code> 语句引用。</strong></p>
<h2 id="输入上下标"> 输入上下标</h2>
<p><code>^</code> 表示上标, <code>_</code> 表示下标。如果上下标的内容多于一个字符，需要用 <code>{}</code> 将这些内容括成一个整体。上下标可以嵌套，也可以同时使用。</p>
<p>另外，如果要在左右两边都有上下标，可以使用 <code>\quad</code> 命令；也可以简单地在符号前面多打一个上下标，此时会以行内公式渲染。</p>
<div><pre><code><span>$$
	<span>\quad</span>_3^4X_5^6
$$</span>
<span>$$
	<span>\sideset</span>_<span>\alpha</span>^<span>\betaS</span>_0^1
$$</span>

</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br></div></div><p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.1111079999999998em;vertical-align:-0.247em;"></span><span><span style="margin-right:1em;"></span><span><span><span><span style="height:0.8641079999999999em;"><span style="top:-2.4530000000000003em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>3</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>4</span></span></span></span><span>​</span></span><span><span style="height:0.247em;"><span></span></span></span></span></span></span><span><span style="margin-right:0.07847em;">X</span><span><span><span><span style="height:0.8641079999999999em;"><span style="top:-2.4530000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>5</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>6</span></span></span></span><span>​</span></span><span><span style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span></span></p>
<h2 id="输入括号和分隔符"> 输入括号和分隔符</h2>
<p><code>()</code>、<code>[]</code> 和 <code>|</code> 表示符号本身，使用 <code>\{\}</code> 来表示 <code>{}</code> 。当要显示大号的括号或分隔符时，要用 <code>\left</code> 和 <code>\right</code> 命令。</p>
<p>一些特殊的括号：</p>
<table>
<thead>
<tr>
<th style="text-align:center">左</th>
<th style="text-align:center">输出</th>
<th style="text-align:center">右</th>
<th style="text-align:center">输出</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">\langle</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>⟨</span></span></span></span></td>
<td style="text-align:center">\rangle</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>⟩</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">\lceil</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>⌈</span></span></span></span></td>
<td style="text-align:center">\rceil</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>⌉</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">\lfloor</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>⌊</span></span></span></span></td>
<td style="text-align:center">\rfloor</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>⌋</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">\lbrace</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>{</span></span></span></span></td>
<td style="text-align:center">\rbrace</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>}</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">\lvert</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>∣</span></span></span></span></td>
<td style="text-align:center">\rvert</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>∣</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">\lVert</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>∥</span></span></span></span></td>
<td style="text-align:center">\rVert</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>∥</span></span></span></span></td>
</tr>
</tbody>
</table>
<p>有时要用 <code>\left.</code> 或 <code>\right.</code> 进行匹配而不显示本身。</p>
<h2 id="输入分数"> 输入分数</h2>
<p>通常使用 <code>\frac {分子} {分母}</code> 来生成一个分数，分数可多层嵌套。如果分式较为复杂，亦可使用 <code>分子 \over 分母</code> 此时分数仅有一层。</p>
<div><pre><code><span>$$
<span>\frac</span> {<span>\frac</span>{3^<span>\alpha</span>}{Tim}}{<span>\frac</span>{P_g}{Math}}+{3<span>\gamma</span> <span>\over</span> 7<span>\epsilon</span>}
$$</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br></div></div><p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:2.8666310000000004em;vertical-align:-1.2206510000000002em;"></span><span><span></span><span><span><span><span style="height:1.6459800000000002em;"><span style="top:-2.1243489999999996em;"><span style="height:3em;"></span><span><span><span></span><span><span><span><span style="height:0.985651em;"><span style="top:-2.6550000000000002em;"><span style="height:3em;"></span><span><span><span style="margin-right:0.10903em;">M</span><span>a</span><span>t</span><span>h</span></span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.50732em;"><span style="height:3em;"></span><span><span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.16454285714285716em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.03588em;">g</span></span></span></span><span>​</span></span><span><span style="height:0.2818857142857143em;"><span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.345em;"><span></span></span></span></span></span><span></span></span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.7350000000000003em;"><span style="height:3em;"></span><span><span><span></span><span><span><span><span style="height:0.91098em;"><span style="top:-2.6550000000000002em;"><span style="height:3em;"></span><span><span><span style="margin-right:0.13889em;">T</span><span>im</span></span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span style="height:3em;"></span><span><span><span><span>3</span><span><span><span><span style="height:0.7385428571428572em;"><span style="top:-2.931em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span style="margin-right:0.0037em;">α</span></span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.345em;"><span></span></span></span></span></span><span></span></span></span></span></span><span>​</span></span><span><span style="height:1.2206510000000002em;"><span></span></span></span></span></span><span></span></span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:2.00744em;vertical-align:-0.686em;"></span><span><span><span></span><span><span><span><span style="height:1.32144em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span>7</span><span>ϵ</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span>3</span><span style="margin-right:0.05556em;">γ</span></span></span></span><span>​</span></span><span><span style="height:0.686em;"><span></span></span></span></span></span><span></span></span></span></span></span></span></span></p>
<h2 id="输入开方"> 输入开方</h2>
<p>使用 <code>\sqrt [根指数，省略时为2] {被开方数}</code> 命令输入开方。</p>
<div><pre><code>$$
	||\alpha||_3 = \sqrt [3] {x^3+y^3}
$$
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br></div></div><p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>∣∣</span><span style="margin-right:0.0037em;">α</span><span>∣</span><span><span>∣</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>3</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1.24em;vertical-align:-0.23329099999999992em;"></span><span><span><span><span><span style="height:0.7862708em;"><span style="top:-2.9640508em;"><span style="height:2.5em;"></span><span><span><span>3</span></span></span></span></span></span></span></span><span><span><span style="height:1.006709em;"><span style="top:-3.2em;"><span style="height:3.2em;"></span><span style="padding-left:1em;"><span><span>x</span><span><span><span><span style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>3</span></span></span></span></span></span></span></span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span><span style="margin-right:0.03588em;">y</span><span><span><span><span style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>3</span></span></span></span></span></span></span></span></span></span><span style="top:-2.9667090000000003em;"><span style="height:3.2em;"></span><span style="min-width:1.02em;height:1.28em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='1.28em' viewBox='0 0 400000 1296' preserveAspectRatio='xMinYMin slice'><path d='M263,681c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l0 -0
c4.7,-7.3,11,-11,19,-11
H40000v40H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M1001 80h400000v40h-400000z'/></svg></span></span></span><span>​</span></span><span><span style="height:0.23329099999999992em;"><span></span></span></span></span></span></span></span></span></span></p>
<h2 id="输入省略号"> 输入省略号</h2>
<p>数学公式中常见的省略号有两种，<code>\ldots</code> 表示与 <strong>文本底线</strong> 对齐的省略号	<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.12em;vertical-align:0em;"></span><span>…</span></span></span></span>		，<code>\cdots</code> 表示与 <strong>文本中线</strong> 对齐的省略号	<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.31em;vertical-align:0em;"></span><span>⋯</span></span></span></span>	。</p>
<h2 id="输入向量"> 输入向量</h2>
<p>使用 <code>\vec{向量}</code> 来自动产生一个向量。也可以使用<code>\overrightarrow``\overleftarrow``\overleftrightarrow</code> 等命令自定义字母上方的符号。</p>
<p><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.714em;vertical-align:0em;"></span><span><span><span><span style="height:0.714em;"><span style="top:-3em;"><span style="height:3em;"></span><span>a</span></span><span style="top:-3em;"><span style="height:3em;"></span><span style="left:-0.2355em;"><span style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span></span></span></span>	<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.21644em;vertical-align:0em;"></span><span><span><span><span style="height:1.21644em;"><span style="top:-3em;"><span style="height:3em;"></span><span>b</span></span><span style="top:-3.69444em;"><span style="height:3em;"></span><span style="height:0.522em;min-width:0.888em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMaxYMin slice'><path d='M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z'/></svg></span></span></span></span></span></span></span></span></span>	<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.9525600000000001em;vertical-align:0em;"></span><span><span><span><span style="height:0.9525600000000001em;"><span style="top:-3em;"><span style="height:3em;"></span><span>c</span></span><span style="top:-3.43056em;"><span style="height:3em;"></span><span style="height:0.522em;min-width:0.888em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMinYMin slice'><path d='M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z'/></svg></span></span></span></span></span></span></span></span></span>	<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.21644em;vertical-align:0em;"></span><span><span><span><span style="height:1.21644em;"><span style="top:-3em;"><span style="height:3em;"></span><span>d</span></span><span style="top:-3.69444em;"><span style="height:3em;"></span><span style="height:0.522em;min-width:0.888em;"><span style="height:0.522em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMinYMin slice'><path d='M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z'/></svg></span><span style="height:0.522em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMaxYMin slice'><path d='M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z'/></svg></span></span></span></span></span></span></span></span></span></span></p>
<h2 id="输入积分"> 输入积分</h2>
<p>使用 <code>\int_积分下限^积分上限 {被积表达式}</code> 来输入一个积分。<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.399828em;vertical-align:-0.35582em;"></span><span><span style="margin-right:0.19445em;position:relative;top:-0.0005599999999999772em;">∫</span><span><span><span><span style="height:1.044008em;"><span style="top:-2.34418em;margin-left:-0.19445em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>a</span></span></span><span style="top:-3.2579000000000002em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>b</span></span></span></span><span>​</span></span><span><span style="height:0.35582em;"><span></span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span>x</span><span>d</span><span>x</span></span></span></span></p>
<h2 id="输入极限符号"> 输入极限符号</h2>
<p>使用 <code>\lim_{变量 \to 表达式} 表达式</code> 来输入一个极限。如有需求，可以更改 <code>\to</code> 符号至任意符号。</p>
<p><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.200664em;vertical-align:-0.345em;"></span><span><span>lim</span><span><span><span><span style="height:0.341865em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>→</span><span><span>0</span><span><span><span><span style="height:0.7026642857142857em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span>+</span></span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span><span></span><span><span><span><span style="height:0.855664em;"><span style="top:-2.6550000000000002em;"><span style="height:3em;"></span><span><span><span>x</span></span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span style="height:3em;"></span><span><span><span>s</span><span>in</span><span>x</span></span></span></span></span><span>​</span></span><span><span style="height:0.345em;"><span></span></span></span></span></span><span></span></span></span></span></span></span></p>
<h2 id="输入求和符号、求积符号"> 输入求和符号、求积符号</h2>
<p>使用 <code>\sum_{下标表达式}^{上标表达式} {累加表达式}</code> 来输入一个累加。与之类似，使用 <code>\prod</code> <code>\bigcup</code> <code>\bigcap</code> 来分别输入累乘、并集和交集。此类符号在行内显示时上下标表达式将会移至右上角和右下角。</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:2.929066em;vertical-align:-1.277669em;"></span><span><span><span><span style="height:1.6513970000000002em;"><span style="top:-1.872331em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span>i</span><span>=</span><span>0</span></span></span></span><span style="top:-3.050005em;"><span style="height:3.05em;"></span><span><span>∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span>n</span></span></span></span></span><span>​</span></span><span><span style="height:1.277669em;"><span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span><span>x</span><span><span><span><span style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>i</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span><span style="margin-right:1em;"></span><span style="margin-right:0.16666666666666666em;"></span><span><span><span><span style="height:1.6513970000000002em;"><span style="top:-1.872331em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span>i</span><span>=</span><span>0</span></span></span></span><span style="top:-3.050005em;"><span style="height:3.05em;"></span><span><span>∏</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span>n</span></span></span></span></span><span>​</span></span><span><span style="height:1.277669em;"><span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span><span>x</span><span><span><span><span style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>i</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span><span style="margin-right:1em;"></span><span style="margin-right:0.16666666666666666em;"></span><span><span><span><span style="height:1.6513970000000002em;"><span style="top:-1.872331em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span>i</span><span>=</span><span>0</span></span></span></span><span style="top:-3.050005em;"><span style="height:3.05em;"></span><span><span>⋃</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span>n</span></span></span></span></span><span>​</span></span><span><span style="height:1.277669em;"><span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span><span>x</span><span><span><span><span style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>i</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span><span style="margin-right:1em;"></span><span style="margin-right:0.16666666666666666em;"></span><span><span><span><span style="height:1.6513970000000002em;"><span style="top:-1.872331em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span>i</span><span>=</span><span>0</span></span></span></span><span style="top:-3.050005em;"><span style="height:3.05em;"></span><span><span>⋂</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span>n</span></span></span></span></span><span>​</span></span><span><span style="height:1.277669em;"><span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span><span>x</span><span><span><span><span style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>i</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></span></p>
<h2 id="输入希腊字母"> 输入希腊字母</h2>
<p>输入 <code>\小写希腊字母英文全称</code> 和 <code>\首字母大写希腊字母英文全称</code> 来分别输入小写和大写希腊字母。
<strong>对于大写希腊字母与现有字母相同的，直接输入大写字母即可。</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">输入</th>
<th style="text-align:center">输出</th>
<th style="text-align:center">输入</th>
<th style="text-align:center">输出</th>
<th style="text-align:center">输入</th>
<th style="text-align:center">输出</th>
<th style="text-align:center">输入</th>
<th style="text-align:center">输出</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">\alpha</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span style="margin-right:0.0037em;">α</span></span></span></span></td>
<td style="text-align:center">A</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span>A</span></span></span></span></td>
<td style="text-align:center">\beta</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span style="margin-right:0.05278em;">β</span></span></span></span></td>
<td style="text-align:center">B</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span style="margin-right:0.05017em;">B</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">\gamma</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.625em;vertical-align:-0.19444em;"></span><span style="margin-right:0.05556em;">γ</span></span></span></span></td>
<td style="text-align:center">\Gamma</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span>Γ</span></span></span></span></td>
<td style="text-align:center">\delta</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.69444em;vertical-align:0em;"></span><span style="margin-right:0.03785em;">δ</span></span></span></span></td>
<td style="text-align:center">\Delta</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span>Δ</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">\epsilon</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>ϵ</span></span></span></span></td>
<td style="text-align:center">E</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span style="margin-right:0.05764em;">E</span></span></span></span></td>
<td style="text-align:center">\zeta</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span style="margin-right:0.07378em;">ζ</span></span></span></span></td>
<td style="text-align:center">Z</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span style="margin-right:0.07153em;">Z</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">\eta</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.625em;vertical-align:-0.19444em;"></span><span style="margin-right:0.03588em;">η</span></span></span></span></td>
<td style="text-align:center">H</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span style="margin-right:0.08125em;">H</span></span></span></span></td>
<td style="text-align:center">\theta</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.69444em;vertical-align:0em;"></span><span style="margin-right:0.02778em;">θ</span></span></span></span></td>
<td style="text-align:center">\Theta</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span>Θ</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">\iota</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>ι</span></span></span></span></td>
<td style="text-align:center">I</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span style="margin-right:0.07847em;">I</span></span></span></span></td>
<td style="text-align:center">\kappa</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>κ</span></span></span></span></td>
<td style="text-align:center">K</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span style="margin-right:0.07153em;">K</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">\lambda</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.69444em;vertical-align:0em;"></span><span>λ</span></span></span></span></td>
<td style="text-align:center">\Lambda</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span>Λ</span></span></span></span></td>
<td style="text-align:center">\mu</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.625em;vertical-align:-0.19444em;"></span><span>μ</span></span></span></span></td>
<td style="text-align:center">M</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span style="margin-right:0.10903em;">M</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">\nu</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span style="margin-right:0.06366em;">ν</span></span></span></span></td>
<td style="text-align:center">N</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span style="margin-right:0.10903em;">N</span></span></span></span></td>
<td style="text-align:center">\xi</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span style="margin-right:0.04601em;">ξ</span></span></span></span></td>
<td style="text-align:center">\Xi</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span>Ξ</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">o</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>o</span></span></span></span></td>
<td style="text-align:center">O</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span style="margin-right:0.02778em;">O</span></span></span></span></td>
<td style="text-align:center">\pi</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span style="margin-right:0.03588em;">π</span></span></span></span></td>
<td style="text-align:center">\Pi</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span>Π</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">\rho</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.625em;vertical-align:-0.19444em;"></span><span>ρ</span></span></span></span></td>
<td style="text-align:center">P</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span style="margin-right:0.13889em;">P</span></span></span></span></td>
<td style="text-align:center">\sigma</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span style="margin-right:0.03588em;">σ</span></span></span></span></td>
<td style="text-align:center">\Sigma</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span>Σ</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">\tau</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span style="margin-right:0.1132em;">τ</span></span></span></span></td>
<td style="text-align:center">T</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span style="margin-right:0.13889em;">T</span></span></span></span></td>
<td style="text-align:center">\upsilon</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span style="margin-right:0.03588em;">υ</span></span></span></span></td>
<td style="text-align:center">\Upsilon</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span>Υ</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">\phi</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span>ϕ</span></span></span></span></td>
<td style="text-align:center">\Phi</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span>Φ</span></span></span></span></td>
<td style="text-align:center">\chi</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.625em;vertical-align:-0.19444em;"></span><span>χ</span></span></span></span></td>
<td style="text-align:center">X</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span style="margin-right:0.07847em;">X</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">\psi</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span style="margin-right:0.03588em;">ψ</span></span></span></span></td>
<td style="text-align:center">\Psi</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span>Ψ</span></span></span></span></td>
<td style="text-align:center">\omega</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span style="margin-right:0.03588em;">ω</span></span></span></span></td>
<td style="text-align:center">\Omega</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span>Ω</span></span></span></span></td>
</tr>
</tbody>
</table>
<p><strong>部分字母有变量专用形式，以 <code>\var-</code> 开头。</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">小写形式</th>
<th style="text-align:center">输出</th>
<th style="text-align:center">大写形式</th>
<th style="text-align:center">输出</th>
<th style="text-align:center">变量形式</th>
<th style="text-align:center">输出</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">\epsilon</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>ϵ</span></span></span></span></td>
<td style="text-align:center">E</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span style="margin-right:0.05764em;">E</span></span></span></span></td>
<td style="text-align:center">\varepsilon</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>ε</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">\theta</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.69444em;vertical-align:0em;"></span><span style="margin-right:0.02778em;">θ</span></span></span></span></td>
<td style="text-align:center">\Theta</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span>Θ</span></span></span></span></td>
<td style="text-align:center">\vartheta</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.69444em;vertical-align:0em;"></span><span>ϑ</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">\rho</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.625em;vertical-align:-0.19444em;"></span><span>ρ</span></span></span></span></td>
<td style="text-align:center">P</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span style="margin-right:0.13889em;">P</span></span></span></span></td>
<td style="text-align:center">\varrho</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.625em;vertical-align:-0.19444em;"></span><span>ϱ</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">\sigma</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span style="margin-right:0.03588em;">σ</span></span></span></span></td>
<td style="text-align:center">\Sigma</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span>Σ</span></span></span></span></td>
<td style="text-align:center">\varsigma</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.52778em;vertical-align:-0.09722em;"></span><span style="margin-right:0.07986em;">ς</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">\phi</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span>ϕ</span></span></span></span></td>
<td style="text-align:center">\Phi</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span>Φ</span></span></span></span></td>
<td style="text-align:center">\varphi</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.625em;vertical-align:-0.19444em;"></span><span>φ</span></span></span></span></td>
</tr>
</tbody>
</table>
<h2 id="输入特殊字符"> 输入特殊字符</h2>
<h3 id="_1-关系运算符"> (1)．关系运算符</h3>
<table>
<thead>
<tr>
<th style="text-align:center">输入</th>
<th style="text-align:center">显示</th>
<th style="text-align:center">输入</th>
<th style="text-align:center">显示</th>
<th style="text-align:center">输入</th>
<th style="text-align:center">显示</th>
<th style="text-align:center">输入</th>
<th style="text-align:center">显示</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">\pm</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.66666em;vertical-align:-0.08333em;"></span><span>±</span></span></span></span></td>
<td style="text-align:center">\times</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.66666em;vertical-align:-0.08333em;"></span><span>×</span></span></span></span></td>
<td style="text-align:center">\div</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.66666em;vertical-align:-0.08333em;"></span><span>÷</span></span></span></span></td>
<td style="text-align:center">\mid</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>∣</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">\nmid</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.99253em;vertical-align:-0.25142em;"></span><span>∤</span></span></span></span></td>
<td style="text-align:center">\cdot</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.44445em;vertical-align:0em;"></span><span>⋅</span></span></span></span></td>
<td style="text-align:center">\circ</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.44445em;vertical-align:0em;"></span><span>∘</span></span></span></span></td>
<td style="text-align:center">\ast</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.46528em;vertical-align:0em;"></span><span>∗</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">\bigodot</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.00001em;vertical-align:-0.25001em;"></span><span style="position:relative;top:-0.0000050000000000050004em;">⨀</span></span></span></span></td>
<td style="text-align:center">\bigotimes</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.00001em;vertical-align:-0.25001em;"></span><span style="position:relative;top:-0.0000050000000000050004em;">⨂</span></span></span></span></td>
<td style="text-align:center">\bigoplus</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.00001em;vertical-align:-0.25001em;"></span><span style="position:relative;top:-0.0000050000000000050004em;">⨁</span></span></span></span></td>
<td style="text-align:center">\leq</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span>≤</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">\geq</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span>≥</span></span></span></span></td>
<td style="text-align:center">\neq</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span><span><span><span><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span><span><span></span></span></span><span></span></span></span></span></span><span>=</span></span></span></span></span></td>
<td style="text-align:center">\approx</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.48312em;vertical-align:0em;"></span><span>≈</span></span></span></span></td>
<td style="text-align:center">\equiv</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.46375em;vertical-align:0em;"></span><span>≡</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">\sum</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.00001em;vertical-align:-0.25001em;"></span><span style="position:relative;top:-0.0000050000000000050004em;">∑</span></span></span></span></td>
<td style="text-align:center">\prod</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.00001em;vertical-align:-0.25001em;"></span><span style="position:relative;top:-0.0000050000000000050004em;">∏</span></span></span></span></td>
<td style="text-align:center">\coprod</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.00001em;vertical-align:-0.25001em;"></span><span style="position:relative;top:-0.0000050000000000050004em;">∐</span></span></span></span></td>
<td style="text-align:center">\backslash</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>\</span></span></span></span></td>
</tr>
</tbody>
</table>
<blockquote>
<p>其中\pm表示plus minus，如果写成minus plus，即\mp的话会显示<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.66666em;vertical-align:-0.08333em;"></span><span>∓</span></span></span></span></p>
</blockquote>
<h3 id="_2-集合运算符"> (2)．集合运算符</h3>
<table>
<thead>
<tr>
<th style="text-align:center">输入</th>
<th style="text-align:center">显示</th>
<th style="text-align:center">输入</th>
<th style="text-align:center">显示</th>
<th style="text-align:center">输入</th>
<th style="text-align:center">显示</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">\emptyset</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.80556em;vertical-align:-0.05556em;"></span><span>∅</span></span></span></span></td>
<td style="text-align:center">\in</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.5782em;vertical-align:-0.0391em;"></span><span>∈</span></span></span></span></td>
<td style="text-align:center">\notin</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span><span><span>∈</span></span><span><span><span><span style="height:1em;vertical-align:-0.25em;"></span><span><span><span>/</span><span style="margin-right:0.05555555555555555em;"></span></span></span><span></span></span></span></span></span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">\subset</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.5782em;vertical-align:-0.0391em;"></span><span>⊂</span></span></span></span></td>
<td style="text-align:center">\supset</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.5782em;vertical-align:-0.0391em;"></span><span>⊃</span></span></span></span></td>
<td style="text-align:center">\subseteq</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span>⊆</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">\supseteq</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span>⊇</span></span></span></span></td>
<td style="text-align:center">\cap</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.55556em;vertical-align:0em;"></span><span>∩</span></span></span></span></td>
<td style="text-align:center">\cup</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.55556em;vertical-align:0em;"></span><span>∪</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">\vee</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.55556em;vertical-align:0em;"></span><span>∨</span></span></span></span></td>
<td style="text-align:center">\wedge</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.55556em;vertical-align:0em;"></span><span>∧</span></span></span></span></td>
<td style="text-align:center">\uplus</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.55556em;vertical-align:0em;"></span><span>⊎</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">\top</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.69444em;vertical-align:0em;"></span><span>⊤</span></span></span></span></td>
<td style="text-align:center">\bot</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.69444em;vertical-align:0em;"></span><span>⊥</span></span></span></span></td>
<td style="text-align:center">\complement</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.825em;vertical-align:0em;"></span><span>∁</span></span></span></span></td>
</tr>
</tbody>
</table>
<h3 id="_3-对数运算符"> (3)．对数运算符</h3>
<table>
<thead>
<tr>
<th style="text-align:center">输入</th>
<th style="text-align:center">显示</th>
<th style="text-align:center">输入</th>
<th style="text-align:center">显示</th>
<th style="text-align:center">输入</th>
<th style="text-align:center">显示</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">\log</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span>lo<span style="margin-right:0.01389em;">g</span></span></span></span></span></td>
<td style="text-align:center">\lg</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span>l<span style="margin-right:0.01389em;">g</span></span></span></span></span></td>
<td style="text-align:center">\ln</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.69444em;vertical-align:0em;"></span><span>ln</span></span></span></span></td>
</tr>
</tbody>
</table>
<h3 id="_4-三角运算符"> (4)．三角运算符</h3>
<table>
<thead>
<tr>
<th style="text-align:center">输入</th>
<th style="text-align:center">显示</th>
<th style="text-align:center">输入</th>
<th style="text-align:center">显示</th>
<th style="text-align:center">输入</th>
<th style="text-align:center">显示</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">\backsim</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.37788em;vertical-align:0em;"></span><span>∽</span></span></span></span></td>
<td style="text-align:center">\cong</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.589em;vertical-align:0em;"></span><span>≅</span></span></span></span></td>
<td style="text-align:center">\angle A</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.69224em;vertical-align:0em;"></span><span>∠</span><span>A</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">\sin</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.66786em;vertical-align:0em;"></span><span>sin</span></span></span></span></td>
<td style="text-align:center">\cos</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>cos</span></span></span></span></td>
<td style="text-align:center">\tan</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.61508em;vertical-align:0em;"></span><span>tan</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">\csc</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>csc</span></span></span></span></td>
<td style="text-align:center">\sec</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>sec</span></span></span></span></td>
<td style="text-align:center">\cot</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.61508em;vertical-align:0em;"></span><span>cot</span></span></span></span></td>
</tr>
</tbody>
</table>
<h3 id="_5-微积分运算符"> (5)．微积分运算符</h3>
<table>
<thead>
<tr>
<th style="text-align:center">输入</th>
<th style="text-align:center">显示</th>
<th style="text-align:center">输入</th>
<th style="text-align:center">显示</th>
<th style="text-align:center">输入</th>
<th style="text-align:center">显示</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">\int</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.11112em;vertical-align:-0.30612em;"></span><span style="margin-right:0.19445em;position:relative;top:-0.0005599999999999772em;">∫</span></span></span></span></td>
<td style="text-align:center">\iint</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.111em;vertical-align:-0.306em;"></span><span style="margin-right:0.19445em;position:relative;top:-0.0004999999999999727em;">∬</span></span></span></span></td>
<td style="text-align:center">\iiint</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.111em;vertical-align:-0.306em;"></span><span style="margin-right:0.19445em;position:relative;top:-0.0004999999999999727em;">∭</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">\partial、\part</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.69444em;vertical-align:0em;"></span><span style="margin-right:0.05556em;">∂</span></span></span></span></td>
<td style="text-align:center">\oint</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.11112em;vertical-align:-0.30612em;"></span><span style="margin-right:0.19445em;position:relative;top:-0.0005599999999999772em;">∮</span></span></span></span></td>
<td style="text-align:center">\prime</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.55556em;vertical-align:0em;"></span><span>′</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">\lim</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.69444em;vertical-align:0em;"></span><span>lim</span></span></span></span></td>
<td style="text-align:center">\infty</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>∞</span></span></span></span></td>
<td style="text-align:center">\nabla</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.68333em;vertical-align:0em;"></span><span>∇</span></span></span></span></td>
</tr>
</tbody>
</table>
<h3 id="_6-逻辑运算符"> (6)．逻辑运算符</h3>
<table>
<thead>
<tr>
<th style="text-align:center">输入</th>
<th style="text-align:center">显示</th>
<th style="text-align:center">输入</th>
<th style="text-align:center">显示</th>
<th style="text-align:center">输入</th>
<th style="text-align:center">显示</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">\because</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.69224em;vertical-align:0em;"></span><span>∵</span></span></span></span></td>
<td style="text-align:center">\therefore</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.69224em;vertical-align:0em;"></span><span>∴</span></span></span></span></td>
<td style="text-align:center">\neg</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>¬</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">\forall</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.69444em;vertical-align:0em;"></span><span>∀</span></span></span></span></td>
<td style="text-align:center">\exists、\exist</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.69444em;vertical-align:0em;"></span><span>∃</span></span></span></span></td>
<td style="text-align:center">\not\subset</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span><span><span><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span><span><span></span></span></span><span></span></span></span></span></span></span><span><span style="height:0.5782em;vertical-align:-0.0391em;"></span><span>⊂</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">\not&lt;</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span><span><span><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span><span><span></span></span></span><span></span></span></span></span></span></span><span><span style="height:0.5782em;vertical-align:-0.0391em;"></span><span>&lt;</span></span></span></span></td>
<td style="text-align:center">\not&gt;</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span><span><span><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span><span><span></span></span></span><span></span></span></span></span></span></span><span><span style="height:0.5782em;vertical-align:-0.0391em;"></span><span>&gt;</span></span></span></span></td>
<td style="text-align:center">\not=</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span><span><span><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span><span><span></span></span></span><span></span></span></span></span></span></span><span><span style="height:0.36687em;vertical-align:0em;"></span><span>=</span></span></span></span></td>
</tr>
</tbody>
</table>
<h3 id="_7-戴帽符号"> (7)．戴帽符号</h3>
<table>
<thead>
<tr>
<th style="text-align:center">输入</th>
<th style="text-align:center">显示</th>
<th style="text-align:center">输入</th>
<th style="text-align:center">显示</th>
<th style="text-align:center">输入</th>
<th style="text-align:center">显示</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">\hat{xy}</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span><span><span><span style="height:0.69444em;"><span style="top:-3em;"><span style="height:3em;"></span><span><span>x</span><span style="margin-right:0.03588em;">y</span></span></span><span style="top:-3em;"><span style="height:3em;"></span><span style="left:-0.25em;"><span>^</span></span></span></span><span>​</span></span><span><span style="height:0.19444em;"><span></span></span></span></span></span></span></span></span></td>
<td style="text-align:center">\widehat{xyz}</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.925em;vertical-align:-0.19444em;"></span><span><span><span><span style="height:0.73056em;"><span style="top:-3em;"><span style="height:3em;"></span><span><span>x</span><span style="margin-right:0.04398em;">yz</span></span></span><span style="top:-3.43056em;"><span style="height:3em;"></span><span style="height:0.3em;"><svg xmlns="http://www.w3.org/2000/svg" width='100%' height='0.3em' viewBox='0 0 2364 300' preserveAspectRatio='none'><path d='M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z'/></svg></span></span></span><span>​</span></span><span><span style="height:0.19444em;"><span></span></span></span></span></span></span></span></span></td>
<td style="text-align:center">\bar{y}</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.7622199999999999em;vertical-align:-0.19444em;"></span><span><span><span><span style="height:0.56778em;"><span style="top:-3em;"><span style="height:3em;"></span><span style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span style="height:3em;"></span><span style="left:-0.19444em;"><span>ˉ</span></span></span></span><span>​</span></span><span><span style="height:0.19444em;"><span></span></span></span></span></span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">\tilde{xy}</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8622999999999998em;vertical-align:-0.19444em;"></span><span><span><span><span style="height:0.6678599999999999em;"><span style="top:-3em;"><span style="height:3em;"></span><span><span>x</span><span style="margin-right:0.03588em;">y</span></span></span><span style="top:-3.35em;"><span style="height:3em;"></span><span style="left:-0.25em;"><span>~</span></span></span></span><span>​</span></span><span><span style="height:0.19444em;"><span></span></span></span></span></span></span></span></span></td>
<td style="text-align:center">\widetilde{xyz}</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.911em;vertical-align:-0.19444em;"></span><span><span><span><span style="height:0.71656em;"><span style="top:-3em;"><span style="height:3em;"></span><span><span>x</span><span style="margin-right:0.04398em;">yz</span></span></span><span style="top:-3.43056em;"><span style="height:3em;"></span><span style="height:0.286em;"><svg xmlns="http://www.w3.org/2000/svg" width='100%' height='0.286em' viewBox='0 0 1033 286' preserveAspectRatio='none'><path d='M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z'/></svg></span></span></span><span>​</span></span><span><span style="height:0.19444em;"><span></span></span></span></span></span></span></span></span></td>
<td style="text-align:center">\acute{y}</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span><span><span><span style="height:0.69444em;"><span style="top:-3em;"><span style="height:3em;"></span><span style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span style="height:3em;"></span><span style="left:-0.19444em;"><span>ˊ</span></span></span></span><span>​</span></span><span><span style="height:0.19444em;"><span></span></span></span></span></span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">\breve{y}</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span><span><span><span style="height:0.69444em;"><span style="top:-3em;"><span style="height:3em;"></span><span style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span style="height:3em;"></span><span style="left:-0.19444em;"><span>˘</span></span></span></span><span>​</span></span><span><span style="height:0.19444em;"><span></span></span></span></span></span></span></span></span></td>
<td style="text-align:center">\check{y}</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.82291em;vertical-align:-0.19444em;"></span><span><span><span><span style="height:0.62847em;"><span style="top:-3em;"><span style="height:3em;"></span><span style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span style="height:3em;"></span><span style="left:-0.19444em;"><span>ˇ</span></span></span></span><span>​</span></span><span><span style="height:0.19444em;"><span></span></span></span></span></span></span></span></span></td>
<td style="text-align:center">\grave{y}</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span><span><span><span style="height:0.69444em;"><span style="top:-3em;"><span style="height:3em;"></span><span style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span style="height:3em;"></span><span style="left:-0.19444em;"><span>ˋ</span></span></span></span><span>​</span></span><span><span style="height:0.19444em;"><span></span></span></span></span></span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">\dot{x}</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.66786em;vertical-align:0em;"></span><span><span><span><span style="height:0.66786em;"><span style="top:-3em;"><span style="height:3em;"></span><span>x</span></span><span style="top:-3em;"><span style="height:3em;"></span><span style="left:-0.11111000000000001em;"><span>˙</span></span></span></span></span></span></span></span></span></span></td>
<td style="text-align:center">\ddot{x}</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.66786em;vertical-align:0em;"></span><span><span><span><span style="height:0.66786em;"><span style="top:-3em;"><span style="height:3em;"></span><span>x</span></span><span style="top:-3em;"><span style="height:3em;"></span><span style="left:-0.22222em;"><span>¨</span></span></span></span></span></span></span></span></span></span></td>
<td style="text-align:center">\dddot{x}</td>
<td style="text-align:center"><span class='katex-error' title='ParseError: KaTeX parse error: Undefined control sequence: \dddot at position 1: \̲d̲d̲d̲o̲t̲{x}'>\dddot{x}</span></td>
</tr>
</tbody>
</table>
<p>若需要在特定文字顶部\底部放置内容，可使用 <code>\overset{顶部内容}{正常内容}</code> 和 <code>\underset{底部内容}{正常内容}</code> 命令。<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.469438em;vertical-align:0em;"></span><span><span><span><span><span style="height:1.469438em;"><span style="top:-3em;"><span style="height:3em;"></span><span><span style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.88333em;margin-left:0em;"><span style="height:3em;"></span><span><span><span>n</span><span style="margin-right:0.02778em;">or</span><span>ma</span><span style="margin-right:0.01968em;">l</span></span></span></span></span></span></span></span></span></span></span></span>	<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.435438em;vertical-align:-0.7521079999999999em;"></span><span><span><span><span><span style="height:0.68333em;"><span style="top:-2.347892em;margin-left:0em;"><span style="height:3em;"></span><span><span><span>ab</span><span>s</span></span></span></span><span style="top:-3em;"><span style="height:3em;"></span><span><span style="margin-right:0.22222em;">Y</span></span></span></span><span>​</span></span><span><span style="height:0.7521079999999999em;"><span></span></span></span></span></span></span></span></span></span></p>
<h3 id="_8-连线符号"> (8)．连线符号</h3>
<p>其它可用的文字修饰符可参见官方文档 <a href="https://math.meta.stackexchange.com/questions/5020/mathjax-basic-tutorial-and-quick-reference#answer-13081" target="_blank" rel="noopener noreferrer">&quot;Additional decorations&quot;</a>。</p>
<table>
<thead>
<tr>
<th style="text-align:center">输入</th>
<th style="text-align:center">显示</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">\fbox{a+b+c+d} <strong>高级框选需<a href="https://www.zybuluo.com/codeep/note/163962#5%E6%B7%BB%E5%8A%A0%E5%88%A0%E9%99%A4%E7%BA%BF" target="_blank" rel="noopener noreferrer">声明 <code>enclose</code> 标签</a></strong></td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.45777em;vertical-align:-0.42333em;"></span><span><span><span><span style="height:1.03444em;"><span style="top:-3.45777em;"><span style="height:3.45777em;"></span><span><span><span>a+b+c+d</span></span></span></span><span style="top:-3.03444em;"><span style="height:3.45777em;"></span><span style="height:1.45777em;border-style:solid;border-width:0.04em;"></span></span></span><span>​</span></span><span><span style="height:0.42333em;"><span></span></span></span></span></span></span></span></span></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:center">输入</th>
<th style="text-align:center">输出</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">\overleftarrow{a+b+c+d}</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.2997699999999999em;vertical-align:-0.08333em;"></span><span><span><span><span style="height:1.21644em;"><span style="top:-3em;"><span style="height:3em;"></span><span><span>a</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span>b</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span>c</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span>d</span></span></span><span style="top:-3.69444em;"><span style="height:3em;"></span><span style="height:0.522em;min-width:0.888em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMinYMin slice'><path d='M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z'/></svg></span></span></span><span>​</span></span><span><span style="height:0.08333em;"><span></span></span></span></span></span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">\overrightarrow{a+b+c+d}</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.2997699999999999em;vertical-align:-0.08333em;"></span><span><span><span><span style="height:1.21644em;"><span style="top:-3em;"><span style="height:3em;"></span><span><span>a</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span>b</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span>c</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span>d</span></span></span><span style="top:-3.69444em;"><span style="height:3em;"></span><span style="height:0.522em;min-width:0.888em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMaxYMin slice'><path d='M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z'/></svg></span></span></span><span>​</span></span><span><span style="height:0.08333em;"><span></span></span></span></span></span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">\overleftrightarrow{a+b+c+d}</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.2997699999999999em;vertical-align:-0.08333em;"></span><span><span><span><span style="height:1.21644em;"><span style="top:-3em;"><span style="height:3em;"></span><span><span>a</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span>b</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span>c</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span>d</span></span></span><span style="top:-3.69444em;"><span style="height:3em;"></span><span style="height:0.522em;min-width:0.888em;"><span style="height:0.522em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMinYMin slice'><path d='M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z'/></svg></span><span style="height:0.522em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMaxYMin slice'><path d='M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z'/></svg></span></span></span></span><span>​</span></span><span><span style="height:0.08333em;"><span></span></span></span></span></span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">\underleftarrow{a+b+c+d}</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.29977em;vertical-align:-0.60533em;"></span><span><span><span><span style="height:0.69444em;"><span style="top:-2.39467em;"><span style="height:3em;"></span><span style="height:0.522em;min-width:0.888em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMinYMin slice'><path d='M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z'/></svg></span></span><span style="top:-3em;"><span style="height:3em;"></span><span><span>a</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span>b</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span>c</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span>d</span></span></span></span><span>​</span></span><span><span style="height:0.60533em;"><span></span></span></span></span></span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">\underrightarrow{a+b+c+d}</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.29977em;vertical-align:-0.60533em;"></span><span><span><span><span style="height:0.69444em;"><span style="top:-2.39467em;"><span style="height:3em;"></span><span style="height:0.522em;min-width:0.888em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMaxYMin slice'><path d='M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z'/></svg></span></span><span style="top:-3em;"><span style="height:3em;"></span><span><span>a</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span>b</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span>c</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span>d</span></span></span></span><span>​</span></span><span><span style="height:0.60533em;"><span></span></span></span></span></span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">\underleftrightarrow{a+b+c+d}</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.29977em;vertical-align:-0.60533em;"></span><span><span><span><span style="height:0.69444em;"><span style="top:-2.39467em;"><span style="height:3em;"></span><span style="height:0.522em;min-width:0.888em;"><span style="height:0.522em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMinYMin slice'><path d='M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z'/></svg></span><span style="height:0.522em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMaxYMin slice'><path d='M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z'/></svg></span></span></span><span style="top:-3em;"><span style="height:3em;"></span><span><span>a</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span>b</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span>c</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span>d</span></span></span></span><span>​</span></span><span><span style="height:0.60533em;"><span></span></span></span></span></span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">\overline{a+b+c+d}</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.97777em;vertical-align:-0.08333em;"></span><span><span><span><span style="height:0.89444em;"><span style="top:-3em;"><span style="height:3em;"></span><span><span>a</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span>b</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span>c</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span>d</span></span></span><span style="top:-3.81444em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span></span><span>​</span></span><span><span style="height:0.08333em;"><span></span></span></span></span></span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">\underline{a+b+c+d}</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.97777em;vertical-align:-0.2833300000000001em;"></span><span><span><span><span style="height:0.69444em;"><span style="top:-2.7566699999999997em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span style="height:3em;"></span><span><span>a</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span>b</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span>c</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span>d</span></span></span></span><span>​</span></span><span><span style="height:0.2833300000000001em;"><span></span></span></span></span></span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">\overbrace{a+b+c+d}^{Sample}</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:2.247986em;vertical-align:-0.08333em;"></span><span><span><span><span style="height:2.164656em;"><span style="top:-3.34244em;"><span style="height:3.34244em;"></span><span><span><span><span style="height:1.3424399999999999em;"><span style="top:-3em;"><span style="height:3em;"></span><span><span>a</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span>b</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span>c</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span>d</span></span></span><span style="top:-3.79444em;"><span style="height:3em;"></span><span style="height:0.548em;min-width:1.6em;"><span style="height:0.548em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.548em' viewBox='0 0 400000 548' preserveAspectRatio='xMinYMin slice'><path d='M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z'/></svg></span><span style="height:0.548em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.548em' viewBox='0 0 400000 548' preserveAspectRatio='xMidYMin slice'><path d='M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z'/></svg></span><span style="height:0.548em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.548em' viewBox='0 0 400000 548' preserveAspectRatio='xMaxYMin slice'><path d='M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z'/></svg></span></span></span></span><span>​</span></span><span><span style="height:0.08333em;"><span></span></span></span></span></span></span><span style="top:-5.020988em;"><span style="height:3.34244em;"></span><span><span><span style="margin-right:0.05764em;">S</span><span>am</span><span style="margin-right:0.01968em;">pl</span><span>e</span></span></span></span></span><span>​</span></span><span><span style="height:0.08333em;"><span></span></span></span></span></span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">\underbrace{a+b+c+d}_{Sample}</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:2.247986em;vertical-align:-1.5535459999999999em;"></span><span><span><span><span style="height:0.69444em;"><span style="top:-1.582562em;"><span style="height:3em;"></span><span><span><span style="margin-right:0.05764em;">S</span><span>am</span><span style="margin-right:0.01968em;">pl</span><span>e</span></span></span></span><span style="top:-3em;"><span style="height:3em;"></span><span><span><span><span style="height:0.69444em;"><span style="top:-2.26867em;"><span style="height:3em;"></span><span style="height:0.548em;min-width:1.6em;"><span style="height:0.548em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.548em' viewBox='0 0 400000 548' preserveAspectRatio='xMinYMin slice'><path d='M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z'/></svg></span><span style="height:0.548em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.548em' viewBox='0 0 400000 548' preserveAspectRatio='xMidYMin slice'><path d='M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z'/></svg></span><span style="height:0.548em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.548em' viewBox='0 0 400000 548' preserveAspectRatio='xMaxYMin slice'><path d='M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z'/></svg></span></span></span><span style="top:-3em;"><span style="height:3em;"></span><span><span>a</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span>b</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span>c</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span>d</span></span></span></span><span>​</span></span><span><span style="height:0.73133em;"><span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:1.5535459999999999em;"><span></span></span></span></span></span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">\overbrace{a+\underbrace{b+c}_{1.0}+d}^{2.0}</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:3.3759859999999997em;vertical-align:-1.382438em;"></span><span><span><span><span style="height:1.9935479999999997em;"><span style="top:-3.34244em;"><span style="height:3.34244em;"></span><span><span><span><span style="height:1.3424399999999999em;"><span style="top:-3em;"><span style="height:3em;"></span><span><span>a</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span><span><span><span style="height:0.69444em;"><span style="top:-1.617562em;"><span style="height:3em;"></span><span><span><span>1.0</span></span></span></span><span style="top:-3em;"><span style="height:3em;"></span><span><span><span><span style="height:0.69444em;"><span style="top:-2.26867em;"><span style="height:3em;"></span><span style="height:0.548em;min-width:1.6em;"><span style="height:0.548em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.548em' viewBox='0 0 400000 548' preserveAspectRatio='xMinYMin slice'><path d='M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z'/></svg></span><span style="height:0.548em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.548em' viewBox='0 0 400000 548' preserveAspectRatio='xMidYMin slice'><path d='M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z'/></svg></span><span style="height:0.548em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.548em' viewBox='0 0 400000 548' preserveAspectRatio='xMaxYMin slice'><path d='M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z'/></svg></span></span></span><span style="top:-3em;"><span style="height:3em;"></span><span><span>b</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span>c</span></span></span></span><span>​</span></span><span><span style="height:0.73133em;"><span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:1.382438em;"><span></span></span></span></span></span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span>d</span></span></span><span style="top:-3.79444em;"><span style="height:3em;"></span><span style="height:0.548em;min-width:1.6em;"><span style="height:0.548em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.548em' viewBox='0 0 400000 548' preserveAspectRatio='xMinYMin slice'><path d='M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z'/></svg></span><span style="height:0.548em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.548em' viewBox='0 0 400000 548' preserveAspectRatio='xMidYMin slice'><path d='M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z'/></svg></span><span style="height:0.548em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.548em' viewBox='0 0 400000 548' preserveAspectRatio='xMaxYMin slice'><path d='M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z'/></svg></span></span></span></span><span>​</span></span><span><span style="height:1.382438em;"><span></span></span></span></span></span></span><span style="top:-4.88488em;"><span style="height:3.34244em;"></span><span><span><span>2.0</span></span></span></span></span><span>​</span></span><span><span style="height:1.382438em;"><span></span></span></span></span></span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">\underbrace{a\cdot a\cdots a}_{b\text{ times}}</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.7785579999999999em;vertical-align:-1.334108em;"></span><span><span><span><span style="height:0.4444499999999998em;"><span style="top:-1.665892em;"><span style="height:3em;"></span><span><span><span>b</span><span><span> times</span></span></span></span></span><span style="top:-3em;"><span style="height:3em;"></span><span><span><span><span style="height:0.44445em;"><span style="top:-2.352em;"><span style="height:3em;"></span><span style="height:0.548em;min-width:1.6em;"><span style="height:0.548em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.548em' viewBox='0 0 400000 548' preserveAspectRatio='xMinYMin slice'><path d='M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z'/></svg></span><span style="height:0.548em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.548em' viewBox='0 0 400000 548' preserveAspectRatio='xMidYMin slice'><path d='M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z'/></svg></span><span style="height:0.548em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.548em' viewBox='0 0 400000 548' preserveAspectRatio='xMaxYMin slice'><path d='M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z'/></svg></span></span></span><span style="top:-3em;"><span style="height:3em;"></span><span><span>a</span><span style="margin-right:0.2222222222222222em;"></span><span>⋅</span><span style="margin-right:0.2222222222222222em;"></span><span>a</span><span style="margin-right:0.16666666666666666em;"></span><span>⋯</span><span style="margin-right:0.16666666666666666em;"></span><span>a</span></span></span></span><span>​</span></span><span><span style="height:0.648em;"><span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:1.334108em;"><span></span></span></span></span></span></span></span></span></td>
</tr>
</tbody>
</table>
<h3 id="_9-箭头符号"> (9)．箭头符号</h3>
<ul>
<li>推荐使用符号：</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">输入</th>
<th style="text-align:center">显示</th>
<th style="text-align:center">输入</th>
<th style="text-align:center">显示</th>
<th style="text-align:center">输入</th>
<th style="text-align:center">显示</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">\to</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.36687em;vertical-align:0em;"></span><span>→</span></span></span></span></td>
<td style="text-align:center">\mapsto</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.522em;vertical-align:-0.011em;"></span><span>↦</span></span></span></span></td>
<td style="text-align:center">\underrightarrow{1℃/min}</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.522em;vertical-align:-0.772em;"></span><span><span><span><span style="height:0.75em;"><span style="top:-2.2279999999999998em;"><span style="height:3em;"></span><span style="height:0.522em;min-width:0.888em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMaxYMin slice'><path d='M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z'/></svg></span></span><span style="top:-3em;"><span style="height:3em;"></span><span><span>1℃/</span><span>min</span></span></span></span><span>​</span></span><span><span style="height:0.772em;"><span></span></span></span></span></span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">\implies</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.549em;vertical-align:-0.024em;"></span><span style="margin-right:0.2777777777777778em;"></span><span>⟹</span><span style="margin-right:0.2777777777777778em;"></span></span></span></span></td>
<td style="text-align:center">\iff</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.549em;vertical-align:-0.024em;"></span><span style="margin-right:0.2777777777777778em;"></span><span>⟺</span><span style="margin-right:0.2777777777777778em;"></span></span></span></span></td>
<td style="text-align:center">\impliedby</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.549em;vertical-align:-0.024em;"></span><span style="margin-right:0.2777777777777778em;"></span><span>⟸</span><span style="margin-right:0.2777777777777778em;"></span></span></span></span></td>
</tr>
</tbody>
</table>
<ul>
<li>其它可用符号：</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">输入</th>
<th style="text-align:center">显示</th>
<th style="text-align:center">输入</th>
<th style="text-align:center">显示</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">\uparrow</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span>↑</span></span></span></span></td>
<td style="text-align:center">\Uparrow</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span>⇑</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">\downarrow</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span>↓</span></span></span></span></td>
<td style="text-align:center">\Downarrow</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span>⇓</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">\leftarrow</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.36687em;vertical-align:0em;"></span><span>←</span></span></span></span></td>
<td style="text-align:center">\Leftarrow</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.36687em;vertical-align:0em;"></span><span>⇐</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">\rightarrow</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.36687em;vertical-align:0em;"></span><span>→</span></span></span></span></td>
<td style="text-align:center">\Rightarrow</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.36687em;vertical-align:0em;"></span><span>⇒</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">\leftrightarrow</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.36687em;vertical-align:0em;"></span><span>↔</span></span></span></span></td>
<td style="text-align:center">\Leftrightarrow</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.36687em;vertical-align:0em;"></span><span>⇔</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">\longleftarrow</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.522em;vertical-align:-0.011em;"></span><span>⟵</span></span></span></span></td>
<td style="text-align:center">\Longleftarrow</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.549em;vertical-align:-0.024em;"></span><span>⟸</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">\longrightarrow</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.522em;vertical-align:-0.011em;"></span><span>⟶</span></span></span></span></td>
<td style="text-align:center">\Longrightarrow</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.549em;vertical-align:-0.024em;"></span><span>⟹</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">\longleftrightarrow</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.522em;vertical-align:-0.011em;"></span><span>⟷</span></span></span></span></td>
<td style="text-align:center">\Longleftrightarrow</td>
<td style="text-align:center"><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.549em;vertical-align:-0.024em;"></span><span>⟺</span></span></span></span></td>
</tr>
</tbody>
</table>
<h2 id="字体转换"> 字体转换</h2>
<p>若要对公式的某一部分字符进行字体转换，可以用 <code>{\字体 {需转换的部分字符}}</code> 命令，其中 <code>\字体</code> 部分可以参照下表选择合适的字体。一般情况下，公式默认为斜体字  。</p>
<p>示例中 <strong>全部大写</strong> 的字体仅大写可用。</p>
<table>
<thead>
<tr>
<th style="text-align:center">输入</th>
<th style="text-align:center">全字母可用</th>
<th style="text-align:center">输入</th>
<th style="text-align:center">仅大写可用</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">\rm</td>
<td style="text-align:center">罗马体</td>
<td style="text-align:center">\mathcal</td>
<td style="text-align:center">花体（数学符号等）</td>
</tr>
<tr>
<td style="text-align:center">\it</td>
<td style="text-align:center">斜体</td>
<td style="text-align:center">\mathbb</td>
<td style="text-align:center">黑板粗体（定义域等）</td>
</tr>
<tr>
<td style="text-align:center">\bf</td>
<td style="text-align:center">粗体</td>
<td style="text-align:center">\mit</td>
<td style="text-align:center">数学斜体</td>
</tr>
<tr>
<td style="text-align:center">\sf</td>
<td style="text-align:center">等线体</td>
<td style="text-align:center">\scr</td>
<td style="text-align:center">手写体</td>
</tr>
<tr>
<td style="text-align:center">\tt</td>
<td style="text-align:center">打字机体</td>
<td style="text-align:center">\cal</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">\frak</td>
<td style="text-align:center">旧德式字体</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>
<p><code>\boldsymbol{\alpha}</code> 用来表示向量或者矩阵的加粗斜体	<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.44444em;vertical-align:0em;"></span><span><span><span>α</span></span></span></span></span></span></p>
<h2 id="设置高亮"> 设置高亮</h2>
<p>使用 <code>\bbox[底色, (可选)边距, (可选)边框 border: 框宽度 框类型 框颜色]</code> 命令来高亮一行公式。
底色和框颜色支持详见“<a href="https://www.zybuluo.com/codeep/note/163962#4%E6%9B%B4%E6%94%B9%E6%96%87%E5%AD%97%E9%A2%9C%E8%89%B2-color" target="_blank" rel="noopener noreferrer">更改文字颜色</a>”，边距及框宽度支持 <code>绝对像素 px</code> 或 <code>相对大小 em</code>，框类型支持 <code>实线 solid</code> 或 <code>虚线 dashed</code>。</p>
<h2 id="大括号和行标的使用"> 大括号和行标的使用</h2>
<p>在 <code>\left</code> 和 <code>\right</code> 之后加上要使用的括号来创建自动匹配高度的圆括号 <code>(</code> <code>)</code>，方括号 <code>[</code> <code>]</code> 和花括号 <code>\{</code> <code>\}</code>。
在每个公式末尾前使用 <code>\tag {行标}</code> 来实现行标。</p>
<p>如果你需要在不同的行显示对应括号，可以在每一行对应处使用 <code>\left.</code> 或 <code>\right.</code> 来放一个“不存在的括号”。</p>
<p>如果你需要将大括号里面显示的分隔符也变大，可以使用 <code>\middle</code> 命令，此处分别使用单竖线 <code>|</code> 和双竖线 <code>\|</code> 。</p>
<h2 id="定义新运算符"> 定义新运算符</h2>
<p>当需要使用的运算符不在 MathJax 的内置库中时，程序可能会报错或产生错误的渲染结果。此时可以使用 <code>\operatorname</code> 命令定义一个新的运算符号。</p>
<p>使用 <code>\operatorname{运算符}{式子}</code> 来生成一个普通运算，或使用 <code>\operatorname*{运算符}_{下标}^{上标}{式子}</code> 来生成一个含上下标的自定义运算。</p>
<h2 id="添加注释文字"> 添加注释文字</h2>
<p>在 <code>\text {文字}</code> 中仍可以使用 <code>$公式$</code> 插入其它公式。</p>
<h2 id="在字符间加入空格"> 在字符间加入空格</h2>
<p>有四种宽度的空格可以使用： <code>\,</code>、<code>\;</code>、<code>\quad</code> 和 <code>\qquad</code>，灵活使用 <code>\text{n个空格}</code> 也可以在任意位置实现空格。
同时存在一种负空格 <code>\!</code> 用来减小字符间距，一般在物理单位中使用。
<strong>反复使用 <code>\!</code> 命令能够实现不同元素的叠加渲染。</strong></p>
<h2 id="更改文字颜色"> 更改文字颜色</h2>
<p>使用 <code>\color{颜色}{文字}</code> 来更改特定的文字颜色。</p>
<p>更改文字颜色需要浏览器支持 ，如果浏览器不知道你所需的颜色，那么文字将被渲染为黑色。对于较旧的浏览器（HTML4 &amp; CSS2），以下颜色是被支持的：</p>
<table>
<thead>
<tr>
<th style="text-align:center">black</th>
<th style="text-align:center">grey</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">silver</td>
<td style="text-align:center">white</td>
</tr>
<tr>
<td style="text-align:center">maroon</td>
<td style="text-align:center">red</td>
</tr>
<tr>
<td style="text-align:center">yellow</td>
<td style="text-align:center">lime</td>
</tr>
<tr>
<td style="text-align:center">olive</td>
<td style="text-align:center">green</td>
</tr>
<tr>
<td style="text-align:center">teal</td>
<td style="text-align:center">auqa</td>
</tr>
<tr>
<td style="text-align:center">blue</td>
<td style="text-align:center">navy</td>
</tr>
<tr>
<td style="text-align:center">purple</td>
<td style="text-align:center">fuchsia</td>
</tr>
</tbody>
</table>
<p>对于较新的浏览器（HTML5 &amp; CSS3），HEX 颜色将被支持：</p>
<p>输入 <code>\color {#rgb} {text}</code> 来自定义更多的颜色，其中 <code>#rgb</code> 或 <code>#rrggbb</code> 的 <code>r</code> <code>g</code> <code>b</code> 可输入 <code>0-9</code> 和 <code>a-f</code> 来表示红色、绿色和蓝色的纯度（饱和度）。</p>
<h2 id="添加删除线"> 添加删除线</h2>
<p>使用删除线功能必须声明 <code>$$</code> 符号。</p>
<p>在公式内使用 <code>\require{cancel}</code> 来允许<strong>片段删除线</strong>的显示。
声明片段删除线后，使用 <code>\cancel{字符}</code>、<code>\bcancel{字符}</code>、<code>\xcancel{字符}</code> 和 <code>\cancelto{字符}</code> 来实现各种片段删除线效果。</p>
<p>使用 <code>\require{enclose}</code> 来允许<strong>整段删除线</strong>的显示。
声明整段删除线后，使用 <code>\enclose{删除线效果}{字符}</code> 来实现各种整段删除线效果。
其中，删除线效果有 <code>horizontalstrike</code>、<code>verticalstrike</code>、<code>updiagonalstrike</code> 和 <code>downdiagonalstrike</code>，可叠加使用。</p>
<p>此外， <code>\enclose</code> 命令还可以产生包围的边框和圆等，参见 <a href="https://developer.mozilla.org/en-US/docs/Web/MathML/Element/menclose" target="_blank" rel="noopener noreferrer">MathML Menclose Documentation</a> 以查看更多效果。</p>
<h2 id="输入矩阵"> 输入矩阵</h2>
<h3 id="无框矩阵"> 无框矩阵</h3>
<p>在开头使用 <code>\begin{matrix}</code>，在结尾使用 <code>\end{matrix}</code>，在中间插入矩阵元素，每个元素之间插入 <code>&amp;</code> ，并在每行结尾处使用 <code>\\</code> 。
使用矩阵时必须声明 <code>$</code> 或 <code>$$</code> 符号。</p>
<h3 id="边框矩阵"> 边框矩阵</h3>
<p>在开头将 <code>matrix</code> 替换为 <code>pmatrix</code> <code>bmatrix</code> <code>Bmatrix</code> <code>vmatrix</code> <code>Vmatrix</code> 。</p>
<h3 id="带省略符号的矩阵"> 带省略符号的矩阵</h3>
<p>使用 <code>\cdots</code>  , <code>\ddots</code>  , <code>\vdots</code>  来输入省略符号。</p>
<h3 id="带分割符号的矩阵"> 带分割符号的矩阵</h3>
<p>通常，一个格式化后的表格比单纯的文字或排版后的文字更具有可读性。
数组和表格均以 <code>\begin{array}</code> 开头，并在其后定义列数及每一列的文本对齐属性<code>{c|lcr}</code>，<code>c</code> <code>l</code> <code>r</code> 分别代表居中、左对齐及右对齐。若需要插入垂直分割线，在定义式中插入 <code>|</code> ，若要插入水平分割线，在下一行输入前插入 <code>\hline</code> 。
与矩阵相似，每行元素间均须要插入 <code>&amp;</code> ，每行元素以 <code>\\</code> 结尾，最后以 <code>\ end{array}</code> 结束数组。
使用单个数组或表格时无需声明 <code>$</code> 或 <code>$$</code> 符号。</p>
<h3 id="行中矩阵"> 行中矩阵</h3>
<p>若想在一行内显示矩阵， 使用<code>\bigl(\begin{smallmatrix} ... \end{smallmatrix}\bigr)</code>。</p>
<p>「注」：多个数组\表格可 <strong>互相嵌套</strong> 并组成一组数组或表格。使用嵌套前必须声明 <code>$$</code> 符号。</p>
<h2 id="输入方程组"> 输入方程组</h2>
<p>可以使用 <code>\begin{array} … \end{array}</code> 和 <code>\left\{ … \right.</code> 来创建一个方程组，或使用条件表达式组 <code>\begin{cases} … \end{cases}</code> 来实现相同效果。</p>
<h2 id="输入方程式序列"> 输入方程式序列</h2>
<p>人们经常想要一列整齐且居中的方程式序列。使用 <code>\begin{align}…\end{align}</code> 来创造一列方程式，其中在每行结尾处使用 <code>\\</code> 。使用方程式序列无需声明公式符号 <code>$</code> 或 <code>$$</code> 。</p>
<p>若要注明原因，在 <code>{align}</code> 中后添加 <code>&amp;</code> 符号来自动对齐后面的内容，可灵活组合 <code>\text</code> 和 <code>\tag</code> 语句。<code>\tag</code> 语句编号优先级高于自动编号。</p>
<p><strong>请注意 <code>{align}</code> 语句是自动编号的，使用 <code>{align*}</code> 声明不自动编号。</strong></p>
<h2 id="输入繁分数"> 输入繁分数</h2>
<p>就像输入分式时使用 <code>\frac</code> 一样，使用 <code>\cfrac</code> 来创建一个连分数。不要使用普通的 <code>\frac</code> 或 <code>\over</code> 来生成连分数，这样会看起来<strong>很恶心</strong>。当然，你可以使用 <code>\frac</code> 来表达连分数的<strong>紧缩记法</strong>。</p>
<h2 id="输入交换图表"> 输入交换图表</h2>
<p>使用一行 <code>\require{AMScd}</code> 语句来允许交换图表的显示。
声明交换图表后，语法与矩阵相似，在开头使用 <code>\begin{CD}</code>，在结尾使用 <code>\ end{CD}</code>，在中间插入图表元素，每个元素之间插入 <code>&amp;</code> ，并在每行结尾处使用 <code>\\</code>。</p>
<h2 id="输入条件表达式"> 输入条件表达式</h2>
<p>使用 <code>\begin{cases}…\end{cases}</code> 来创造一组条件表达式，在每一行条件中插入 <code>&amp;</code> 来指定需要对齐的内容，并在每一行结尾处使用 <code>\\</code>。</p>
<div><pre><code>f(x,y)=
<span>\begin</span><span>{</span><span>cases</span><span>}</span>
x+y <span>&amp;</span> if <span>\quad</span> x|y <span>\\</span>
x-y <span>&amp;</span> if <span>\quad</span>  xy=0<span>\\</span>
xy <span>&amp;</span> if <span>\quad</span> x^y=e^<span>{</span>x+y<span>}</span>
<span>\end</span><span>{</span><span>cases</span><span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br></div></div><p>显示如下：</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.10764em;">f</span><span>(</span><span>x</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.03588em;">y</span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:4.32em;vertical-align:-1.9099999999999997em;"></span><span><span><span><span><span><span style="height:2.3500199999999998em;"><span style="top:-2.19999em;"><span style="height:3.15em;"></span><span><span>⎩</span></span></span><span style="top:-2.19199em;"><span style="height:3.15em;"></span><span style="height:0.31599999999999984em;width:0.889em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.889em' height='0.31599999999999984em' style='width:0.889em' viewBox='0 0 889 316' preserveAspectRatio='xMinYMin'><path d='M384 0 H504 V316 H384z M384 0 H504 V316 H384z'/></svg></span></span><span style="top:-3.15001em;"><span style="height:3.15em;"></span><span><span>⎨</span></span></span><span style="top:-4.292009999999999em;"><span style="height:3.15em;"></span><span style="height:0.31599999999999984em;width:0.889em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.889em' height='0.31599999999999984em' style='width:0.889em' viewBox='0 0 889 316' preserveAspectRatio='xMinYMin'><path d='M384 0 H504 V316 H384z M384 0 H504 V316 H384z'/></svg></span></span><span style="top:-4.600019999999999em;"><span style="height:3.15em;"></span><span><span>⎧</span></span></span></span><span>​</span></span><span><span style="height:1.8500199999999998em;"><span></span></span></span></span></span></span><span><span><span><span><span><span style="height:2.41em;"><span style="top:-4.41em;"><span style="height:3.008em;"></span><span><span>x</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span style="margin-right:0.03588em;">y</span></span></span><span style="top:-2.97em;"><span style="height:3.008em;"></span><span><span>x</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span><span style="margin-right:0.03588em;">y</span></span></span><span style="top:-1.5300000000000002em;"><span style="height:3.008em;"></span><span><span>x</span><span style="margin-right:0.03588em;">y</span></span></span></span><span>​</span></span><span><span style="height:1.9099999999999997em;"><span></span></span></span></span></span><span style="width:1em;"></span><span><span><span><span style="height:2.41em;"><span style="top:-4.41em;"><span style="height:3.008em;"></span><span><span>i</span><span style="margin-right:0.10764em;">f</span><span style="margin-right:1em;"></span><span>x</span><span>∣</span><span style="margin-right:0.03588em;">y</span></span></span><span style="top:-2.97em;"><span style="height:3.008em;"></span><span><span>i</span><span style="margin-right:0.10764em;">f</span><span style="margin-right:1em;"></span><span>x</span><span style="margin-right:0.03588em;">y</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span><span>0</span></span></span><span style="top:-1.5300000000000002em;"><span style="height:3.008em;"></span><span><span>i</span><span style="margin-right:0.10764em;">f</span><span style="margin-right:1em;"></span><span><span>x</span><span><span><span><span style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.03588em;">y</span></span></span></span></span></span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span><span><span>e</span><span><span><span><span style="height:0.771331em;"><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>x</span><span>+</span><span style="margin-right:0.03588em;">y</span></span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:1.9099999999999997em;"><span></span></span></span></span></span></span></span><span></span></span></span></span></span></span></p>
<p>适配行高需要使用 <code>\\[2ex]</code> 语句代替该行末尾的 <code>\\</code> 来让编辑器适配。</p>
<p>如果希望打出仅含右大括号的条件表达式的话，要用</p>
<div><pre><code><span>\left</span>.
<span>\begin</span><span>{</span><span>aligned</span><span>}</span>
<span>\lim</span>_<span>{</span>|a-b|<span>\to</span>0^+<span>}</span><span>\frac</span><span>{</span>|f(a)-f(b)|<span>}</span><span>{</span>|a-b|<span>}</span><span>\leq</span> K <span>\\</span>
<span>\quad</span> <span>\lim</span>_<span>{</span>|a-b|<span>\to</span>0^-<span>}</span><span>\frac</span><span>{</span>|f(a)-f(b)|<span>}</span><span>{</span>|a-b|<span>}</span><span>\leq</span> K
<span>\end</span><span>{</span><span>aligned</span><span>}</span>
<span>\right</span><span>\}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br></div></div><p>显示如下：</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:5.40004em;vertical-align:-2.45002em;"></span><span><span></span><span><span><span><span><span><span style="height:2.943em;"><span style="top:-4.943em;"><span style="height:3.427em;"></span><span><span><span><span><span style="height:0.69444em;"><span style="top:-2.3089999999999997em;margin-left:0em;"><span style="height:3em;"></span><span><span><span>∣</span><span>a</span><span>−</span><span>b</span><span>∣</span><span>→</span><span><span>0</span><span><span><span><span style="height:0.7026642857142857em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span>+</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3em;"><span style="height:3em;"></span><span><span>lim</span></span></span></span><span>​</span></span><span><span style="height:0.966em;"><span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span></span><span><span><span><span style="height:1.427em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span>∣</span><span>a</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span><span>b</span><span>∣</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span>∣</span><span style="margin-right:0.10764em;">f</span><span>(</span><span>a</span><span>)</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span><span style="margin-right:0.10764em;">f</span><span>(</span><span>b</span><span>)</span><span>∣</span></span></span></span><span>​</span></span><span><span style="height:0.936em;"><span></span></span></span></span></span><span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>≤</span><span style="margin-right:0.2777777777777778em;"></span><span style="margin-right:0.07153em;">K</span></span></span><span style="top:-2.25em;"><span style="height:3.427em;"></span><span><span style="margin-right:1em;"></span><span><span><span><span style="height:0.69444em;"><span style="top:-2.3089999999999997em;margin-left:0em;"><span style="height:3em;"></span><span><span><span>∣</span><span>a</span><span>−</span><span>b</span><span>∣</span><span>→</span><span><span>0</span><span><span><span><span style="height:0.7026642857142857em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span style="height:2.5em;"></span><span><span>−</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3em;"><span style="height:3em;"></span><span><span>lim</span></span></span></span><span>​</span></span><span><span style="height:0.966em;"><span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span></span><span><span><span><span style="height:1.427em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span>∣</span><span>a</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span><span>b</span><span>∣</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span>∣</span><span style="margin-right:0.10764em;">f</span><span>(</span><span>a</span><span>)</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span><span style="margin-right:0.10764em;">f</span><span>(</span><span>b</span><span>)</span><span>∣</span></span></span></span><span>​</span></span><span><span style="height:0.936em;"><span></span></span></span></span></span><span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>≤</span><span style="margin-right:0.2777777777777778em;"></span><span style="margin-right:0.07153em;">K</span></span></span></span><span>​</span></span><span><span style="height:2.443em;"><span></span></span></span></span></span></span></span><span><span><span><span><span style="height:2.95002em;"><span style="top:-1.59999em;"><span style="height:3.15em;"></span><span><span>⎭</span></span></span><span style="top:-1.59199em;"><span style="height:3.15em;"></span><span style="height:0.9159999999999999em;width:0.889em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.889em' height='0.9159999999999999em' style='width:0.889em' viewBox='0 0 889 916' preserveAspectRatio='xMinYMin'><path d='M384 0 H504 V916 H384z M384 0 H504 V916 H384z'/></svg></span></span><span style="top:-3.15001em;"><span style="height:3.15em;"></span><span><span>⎬</span></span></span><span style="top:-4.292009999999999em;"><span style="height:3.15em;"></span><span style="height:0.9159999999999999em;width:0.889em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.889em' height='0.9159999999999999em' style='width:0.889em' viewBox='0 0 889 916' preserveAspectRatio='xMinYMin'><path d='M384 0 H504 V916 H384z M384 0 H504 V916 H384z'/></svg></span></span><span style="top:-5.200019999999999em;"><span style="height:3.15em;"></span><span><span>⎫</span></span></span></span><span>​</span></span><span><span style="height:2.45002em;"><span></span></span></span></span></span></span></span></span></span></span></span></p>
]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2021-04-19T18:42:33.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">Markdown语法杂记</title>
    <id>https://breezeshane.github.io/BlogBuildingAndUsing/Markdown%E8%AF%AD%E6%B3%95%E6%9D%82%E8%AE%B0/</id>
    <link href="https://breezeshane.github.io/BlogBuildingAndUsing/Markdown%E8%AF%AD%E6%B3%95%E6%9D%82%E8%AE%B0/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<h1 id="markdown语法杂记"> Markdown语法杂记</h1>
<hr>
<blockquote>
<p>参考的博客有：
<a href="https://www.jianshu.com/p/ebe52d2d468f" target="_blank" rel="noopener noreferrer">Markdown语法大全(超级版)</a>
<a href="https://zhuanlan.zhihu.com/p/75286458" target="_blank" rel="noopener noreferrer">Markdown教程语法汇总大全</a>
<a href="https://www.markdown.xyz/extended-syntax/" target="_blank" rel="noopener noreferrer">Markdown 扩展语法</a>
<a href="https://gist.github.com/rxaviers/7360908" target="_blank" rel="noopener noreferrer">表情符号简码列表</a>
<a href="https://www.cnblogs.com/miki-peng/articles/12502985.html" target="_blank" rel="noopener noreferrer">markdown语法大全</a></p>
</blockquote>
<hr>
<h2 id="标题"> 标题</h2>
<div><pre><code><span><span>#</span> 一级标题</span>
<span><span>##</span> 二级标题</span>
<span><span>###</span> 三级标题</span>
<span><span>####</span> ... n级标题</span>
也可以写成如下形式：
<span><span><span>&lt;</span>h1</span><span>></span></span>这是一级标题<span><span><span>&lt;/</span>h1</span><span>></span></span>
<span><span><span>&lt;</span>h2</span><span>></span></span>这是二级标题<span><span><span>&lt;/</span>h2</span><span>></span></span>
<span><span><span>&lt;</span>h3</span><span>></span></span>这是三级标题<span><span><span>&lt;/</span>h3</span><span>></span></span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br></div></div><h3 id="标题效果"> 标题效果</h3>
<h1 id="一级标题"> 一级标题</h1>
<h2 id="二级标题"> 二级标题</h2>
<h3 id="三级标题"> 三级标题</h3>
<hr>
<h2 id="显示目录结构"> 显示目录结构</h2>
<div><pre><code>[TOC]
</code></pre>
<div><span>1</span><br></div></div><h3 id="显示目录结构效果-部分环境下不可用"> 显示目录结构效果(部分环境下不可用)</h3>
<p>[TOC]</p>
<hr>
<h2 id="超链接"> 超链接</h2>
<div><pre><code><span>[<span>超链接显示名</span>](<span>超链接地址</span> <span>"超链接title"</span>)</span>
其中"超链接title"可有可无。
另外也可写成下列形式：
<span><span><span>&lt;</span>a</span> <span>href</span><span><span>=</span><span>"</span>超链接地址<span>"</span></span> <span>title</span><span><span>=</span><span>"</span>超链接title<span>"</span></span><span>></span></span>超链接显示名<span><span><span>&lt;/</span>a</span><span>></span></span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br></div></div><h3 id="超链接效果"> 超链接效果</h3>
<p><a href="%E8%B6%85%E9%93%BE%E6%8E%A5%E5%9C%B0%E5%9D%80" title="超链接title">超链接显示名</a></p>
<hr>
<h2 id="超链接的简洁用法"> 超链接的简洁用法</h2>
<div><pre><code><span>[<span>GitHub</span>][<span>1</span>]</span>
<span>[<span>Google</span>][<span>2</span>]</span>
<span>[<span>StackOverflow</span>][<span>3</span>]</span>

<span><span>[</span><span>1</span><span>]</span><span>:</span> https://github.com/</span>
<span><span>[</span><span>2</span><span>]</span><span>:</span> https://www.google.com/</span>
<span><span>[</span><span>3</span><span>]</span><span>:</span> https://stackoverflow.com/</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br></div></div><h3 id="超链接简洁用法效果"> 超链接简洁用法效果</h3>
<p><a href="https://github.com/" target="_blank" rel="noopener noreferrer">GitHub</a>
<a href="https://www.google.com/" target="_blank" rel="noopener noreferrer">Google</a>
<a href="https://stackoverflow.com/" target="_blank" rel="noopener noreferrer">StackOverflow</a></p>
<p>「注」：下列写法等效：</p>
<ul>
<li><code>[1]: https://en.wikipedia.org/wiki/Hobbit#Lifestyle</code></li>
<li><code>[1]: https://en.wikipedia.org/wiki/Hobbit#Lifestyle &quot;Hobbit lifestyles&quot;</code></li>
<li><code>[1]: https://en.wikipedia.org/wiki/Hobbit#Lifestyle 'Hobbit lifestyles'</code></li>
<li><code>[1]: https://en.wikipedia.org/wiki/Hobbit#Lifestyle (Hobbit lifestyles)</code></li>
<li><code>[1]: &lt;https://en.wikipedia.org/wiki/Hobbit#Lifestyle&gt; &quot;Hobbit lifestyles&quot;</code></li>
<li><code>[1]: &lt;https://en.wikipedia.org/wiki/Hobbit#Lifestyle&gt; 'Hobbit lifestyles'</code></li>
<li><code>[1]: &lt;https://en.wikipedia.org/wiki/Hobbit#Lifestyle&gt; (Hobbit lifestyles)</code></li>
</ul>
<hr>
<h2 id="图片"> 图片</h2>
<div><pre><code><span><span>!</span>[<span>图片alt</span>](<span>图片链接</span> <span>"图片title"</span>)</span>
也可写成如下形式：
<span><span><span>&lt;</span>img</span> <span>src</span><span><span>=</span><span>"</span>图片链接<span>"</span></span> <span>alt</span><span><span>=</span><span>"</span>图片alt<span>"</span></span> <span>title</span><span><span>=</span><span>"</span>图片title<span>"</span></span><span>></span></span>
如果希望能自定义图片的大小，则使用普通的标签来写：
<span><span><span>&lt;</span>img</span> <span>src</span><span><span>=</span><span>"</span>http://static.runoob.com/images/runoob-logo.png<span>"</span></span> <span>width</span><span><span>=</span><span>"</span>50%<span>"</span></span><span>></span></span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br></div></div><h3 id="图片效果"> 图片效果</h3>
<p><img src="http://zh.mweb.im/asset/img/set-up-git.gif" alt="GitHub set up" /></p>
<img src="http://static.runoob.com/images/runoob-logo.png" width="50%">
<h2 id="字体"> 字体</h2>
<h3 id="粗体、斜体、删除线、下划线"> 粗体、斜体、删除线、下划线</h3>
<div><pre><code><span><span>**</span><span>这是加粗的文字</span><span>**</span></span>			也可以写成<span><span><span>&lt;</span>strong</span><span>></span></span>   <span><span><span>&lt;/</span>strong</span><span>></span></span>
<span><span>*</span><span>这是倾斜的文字</span><span>*</span></span>			也可以写成<span><span><span>&lt;</span>em</span><span>></span></span>   <span><span><span>&lt;/</span>em</span><span>></span></span>
<span><span>**</span><span><span><span>*</span><span>这是斜体加粗的文字</span><span>*</span></span></span><span>**</span></span>
++这是带下划线的文字++
==我亮了！==
<span><span>~~</span><span>这是加删除线的文字</span><span>~~</span></span>
<span><span>__</span><span><span><span>_</span><span>还有这个也是斜体加粗！</span><span>_</span></span></span><span>__</span></span> 也可以写成
然而最后一种方式并不推荐，因为存在不兼容的问题。
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br></div></div><h4 id="字体效果"> 字体效果</h4>
<p><strong>这是加粗的文字</strong>
<em>这是倾斜的文字</em>
<em><strong>这是斜体加粗的文字</strong></em>
<u>这是带下划线的文字</u>
==我亮了！==
<s>这是加删除线的文字</s>
<em><strong>还有这个也是斜体加粗！</strong></em></p>
<h3 id="字体颜色修改"> 字体颜色修改</h3>
<div><pre><code>&lt;font color=&quot;#dd0000&quot;&gt;文字颜色预览&lt;/font&gt;
</code></pre>
<div><span>1</span><br></div></div><h4 id="字体颜色修改效果"> 字体颜色修改效果</h4>
<p><font color="#dd0000">文字颜色预览</font></p>
<table>
<thead>
<tr>
<th style="text-align:center">颜色名</th>
<th style="text-align:center">十六进制颜色值</th>
<th style="text-align:center">颜色</th>
<th style="text-align:center">预览</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">AliceBlue</td>
<td style="text-align:center">#F0F8FF</td>
<td style="text-align:center">rgb(240, 248, 255)</td>
<td style="text-align:center"><table><tr><td bgcolor=#F0F8FF></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">AntiqueWhite</td>
<td style="text-align:center">#FAEBD7</td>
<td style="text-align:center">rgb(250, 235, 215)</td>
<td style="text-align:center"><table><tr><td bgcolor=#FAEBD7></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">Aqua</td>
<td style="text-align:center">#00FFFF</td>
<td style="text-align:center">rgb(0, 255, 255)</td>
<td style="text-align:center"><table><tr><td bgcolor=#00FFFF></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">Aquamarine</td>
<td style="text-align:center">#7FFFD4</td>
<td style="text-align:center">rgb(127, 255, 212)</td>
<td style="text-align:center"><table><tr><td bgcolor=#7FFFD4></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">Azure</td>
<td style="text-align:center">#F0FFFF</td>
<td style="text-align:center">rgb(240, 255, 255)</td>
<td style="text-align:center"><table><tr><td bgcolor=#F0FFFF></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">Beige</td>
<td style="text-align:center">#F5F5DC</td>
<td style="text-align:center">rgb(245, 245, 220)</td>
<td style="text-align:center"><table><tr><td bgcolor=#F5F5DC></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">Bisque</td>
<td style="text-align:center">#FFE4C4</td>
<td style="text-align:center">rgb(255, 228, 196)</td>
<td style="text-align:center"><table><tr><td bgcolor=#FFE4C4></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">Black</td>
<td style="text-align:center">#000000</td>
<td style="text-align:center">rgb(0, 0, 0)</td>
<td style="text-align:center"><table><tr><td bgcolor=#000000></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">BlanchedAlmond</td>
<td style="text-align:center">#FFEBCD</td>
<td style="text-align:center">rgb(255, 235, 205)</td>
<td style="text-align:center"><table><tr><td bgcolor=#FFEBCD></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">Blue</td>
<td style="text-align:center">#0000FF</td>
<td style="text-align:center">rgb(0, 0, 255)</td>
<td style="text-align:center"><table><tr><td bgcolor=#0000FF></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">BlueViolet</td>
<td style="text-align:center">#8A2BE2</td>
<td style="text-align:center">rgb(138, 43, 226)</td>
<td style="text-align:center"><table><tr><td bgcolor=#8A2BE2></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">Brown</td>
<td style="text-align:center">#A52A2A</td>
<td style="text-align:center">rgb(165, 42, 42)</td>
<td style="text-align:center"><table><tr><td bgcolor=#A52A2A></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">BurlyWood</td>
<td style="text-align:center">#DEB887</td>
<td style="text-align:center">rgb(222, 184, 135)</td>
<td style="text-align:center"><table><tr><td bgcolor=#DEB887></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">CadetBlue</td>
<td style="text-align:center">#5F9EA0</td>
<td style="text-align:center">rgb(95, 158, 160)</td>
<td style="text-align:center"><table><tr><td bgcolor=#5F9EA0></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">Chartreuse</td>
<td style="text-align:center">#7FFF00</td>
<td style="text-align:center">rgb(127, 255, 0)</td>
<td style="text-align:center"><table><tr><td bgcolor=#7FFF00></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">Chocolate</td>
<td style="text-align:center">#D2691E</td>
<td style="text-align:center">rgb(210, 105, 30)</td>
<td style="text-align:center"><table><tr><td bgcolor=#D2691E></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">Coral</td>
<td style="text-align:center">#FF7F50</td>
<td style="text-align:center">rgb(255, 127, 80)</td>
<td style="text-align:center"><table><tr><td bgcolor=#FF7F50></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">CornflowerBlue</td>
<td style="text-align:center">#6495ED</td>
<td style="text-align:center">rgb(100, 149, 237)</td>
<td style="text-align:center"><table><tr><td bgcolor=#6495ED></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">Cornsilk</td>
<td style="text-align:center">#FFF8DC</td>
<td style="text-align:center">rgb(255, 248, 220)</td>
<td style="text-align:center"><table><tr><td bgcolor=#FFF8DC></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">Crimson</td>
<td style="text-align:center">#DC143C</td>
<td style="text-align:center">rgb(220, 20, 60)</td>
<td style="text-align:center"><table><tr><td bgcolor=#DC143C></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">Cyan</td>
<td style="text-align:center">#00FFFF</td>
<td style="text-align:center">rgb(0, 255, 255)</td>
<td style="text-align:center"><table><tr><td bgcolor=#00FFFF></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">DarkBlue</td>
<td style="text-align:center">#00008B</td>
<td style="text-align:center">rgb(0, 0, 139)</td>
<td style="text-align:center"><table><tr><td bgcolor=#00008B></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">DarkCyan</td>
<td style="text-align:center">#008B8B</td>
<td style="text-align:center">rgb(0, 139, 139)</td>
<td style="text-align:center"><table><tr><td bgcolor=#008B8B></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">DarkGoldenRod</td>
<td style="text-align:center">#B8860B</td>
<td style="text-align:center">rgb(184, 134, 11)</td>
<td style="text-align:center"><table><tr><td bgcolor=#B8860B></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">DarkGray</td>
<td style="text-align:center">#A9A9A9</td>
<td style="text-align:center">rgb(169, 169, 169)</td>
<td style="text-align:center"><table><tr><td bgcolor=#A9A9A9></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">DarkGreen</td>
<td style="text-align:center">#006400</td>
<td style="text-align:center">rgb(0, 100, 0)</td>
<td style="text-align:center"><table><tr><td bgcolor=#006400></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">DarkKhaki</td>
<td style="text-align:center">#BDB76B</td>
<td style="text-align:center">rgb(189, 183, 107)</td>
<td style="text-align:center"><table><tr><td bgcolor=#BDB76B></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">DarkMagenta</td>
<td style="text-align:center">#8B008B</td>
<td style="text-align:center">rgb(139, 0, 139)</td>
<td style="text-align:center"><table><tr><td bgcolor=#8B008B></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">DarkOliveGreen</td>
<td style="text-align:center">#556B2F</td>
<td style="text-align:center">rgb(85, 107, 47)</td>
<td style="text-align:center"><table><tr><td bgcolor=#556B2F></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">Darkorange</td>
<td style="text-align:center">#FF8C00</td>
<td style="text-align:center">rgb(255, 140, 0)</td>
<td style="text-align:center"><table><tr><td bgcolor=#FF8C00></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">DarkOrchid</td>
<td style="text-align:center">#9932CC</td>
<td style="text-align:center">rgb(153, 50, 204)</td>
<td style="text-align:center"><table><tr><td bgcolor=#9932CC></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">DarkRed</td>
<td style="text-align:center">#8B0000</td>
<td style="text-align:center">rgb(139, 0, 0)</td>
<td style="text-align:center"><table><tr><td bgcolor=#8B0000></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">DarkSalmon</td>
<td style="text-align:center">#E9967A</td>
<td style="text-align:center">rgb(233, 150, 122)</td>
<td style="text-align:center"><table><tr><td bgcolor=#E9967A></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">DarkSeaGreen</td>
<td style="text-align:center">#8FBC8F</td>
<td style="text-align:center">rgb(143, 188, 143)</td>
<td style="text-align:center"><table><tr><td bgcolor=#8FBC8F></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">DarkSlateBlue</td>
<td style="text-align:center">#483D8B</td>
<td style="text-align:center">rgb(72, 61, 139)</td>
<td style="text-align:center"><table><tr><td bgcolor=#483D8B></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">DarkSlateGray</td>
<td style="text-align:center">#2F4F4F</td>
<td style="text-align:center">rgb(47, 79, 79)</td>
<td style="text-align:center"><table><tr><td bgcolor=#2F4F4F></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">DarkTurquoise</td>
<td style="text-align:center">#00CED1</td>
<td style="text-align:center">rgb(0, 206, 209)</td>
<td style="text-align:center"><table><tr><td bgcolor=#00CED1></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">DarkViolet</td>
<td style="text-align:center">#9400D3</td>
<td style="text-align:center">rgb(148, 0, 211)</td>
<td style="text-align:center"><table><tr><td bgcolor=#9400D3></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">DeepPink</td>
<td style="text-align:center">#FF1493</td>
<td style="text-align:center">rgb(255, 20, 147)</td>
<td style="text-align:center"><table><tr><td bgcolor=#FF1493></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">DeepSkyBlue</td>
<td style="text-align:center">#00BFFF</td>
<td style="text-align:center">rgb(0, 191, 255)</td>
<td style="text-align:center"><table><tr><td bgcolor=#00BFFF></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">DimGray</td>
<td style="text-align:center">#696969</td>
<td style="text-align:center">rgb(105, 105, 105)</td>
<td style="text-align:center"><table><tr><td bgcolor=#696969></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">DodgerBlue</td>
<td style="text-align:center">#1E90FF</td>
<td style="text-align:center">rgb(30, 144, 255)</td>
<td style="text-align:center"><table><tr><td bgcolor=#1E90FF></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">Feldspar</td>
<td style="text-align:center">#D19275</td>
<td style="text-align:center">rgb(209, 146, 117)</td>
<td style="text-align:center"><table><tr><td bgcolor=#D19275></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">FireBrick</td>
<td style="text-align:center">#B22222</td>
<td style="text-align:center">rgb(178, 34, 34)</td>
<td style="text-align:center"><table><tr><td bgcolor=#B22222></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">FloralWhite</td>
<td style="text-align:center">#FFFAF0</td>
<td style="text-align:center">rgb(255, 250, 240)</td>
<td style="text-align:center"><table><tr><td bgcolor=#FFFAF0></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">ForestGreen</td>
<td style="text-align:center">#228B22</td>
<td style="text-align:center">rgb(34, 139, 34)</td>
<td style="text-align:center"><table><tr><td bgcolor=#228B22></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">Fuchsia</td>
<td style="text-align:center">#FF00FF</td>
<td style="text-align:center">rgb(255, 0, 255)</td>
<td style="text-align:center"><table><tr><td bgcolor=#FF00FF></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">Gainsboro</td>
<td style="text-align:center">#DCDCDC</td>
<td style="text-align:center">rgb(220, 220, 220)</td>
<td style="text-align:center"><table><tr><td bgcolor=#DCDCDC></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">GhostWhite</td>
<td style="text-align:center">#F8F8FF</td>
<td style="text-align:center">rgb(248, 248, 255)</td>
<td style="text-align:center"><table><tr><td bgcolor=#F8F8FF></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">Gold</td>
<td style="text-align:center">#FFD700</td>
<td style="text-align:center">rgb(255, 215, 0)</td>
<td style="text-align:center"><table><tr><td bgcolor=#FFD700></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">GoldenRod</td>
<td style="text-align:center">#DAA520</td>
<td style="text-align:center">rgb(218, 165, 32)</td>
<td style="text-align:center"><table><tr><td bgcolor=#DAA520></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">Gray</td>
<td style="text-align:center">#808080</td>
<td style="text-align:center">rgb(128, 128, 128)</td>
<td style="text-align:center"><table><tr><td bgcolor=#808080></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">Green</td>
<td style="text-align:center">#008000</td>
<td style="text-align:center">rgb(0, 128, 0)</td>
<td style="text-align:center"><table><tr><td bgcolor=#008000></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">GreenYellow</td>
<td style="text-align:center">#ADFF2F</td>
<td style="text-align:center">rgb(173, 255, 47)</td>
<td style="text-align:center"><table><tr><td bgcolor=#ADFF2F></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">HoneyDew</td>
<td style="text-align:center">#F0FFF0</td>
<td style="text-align:center">rgb(240, 255, 240)</td>
<td style="text-align:center"><table><tr><td bgcolor=#F0FFF0></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">HotPink</td>
<td style="text-align:center">#FF69B4</td>
<td style="text-align:center">rgb(255, 105, 180)</td>
<td style="text-align:center"><table><tr><td bgcolor=#FF69B4></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">IndianRed</td>
<td style="text-align:center">#CD5C5C</td>
<td style="text-align:center">rgb(205, 92, 92)</td>
<td style="text-align:center"><table><tr><td bgcolor=#CD5C5C></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">Indigo</td>
<td style="text-align:center">#4B0082</td>
<td style="text-align:center">rgb(75, 0, 130)</td>
<td style="text-align:center"><table><tr><td bgcolor=#4B0082></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">Ivory</td>
<td style="text-align:center">#FFFFF0</td>
<td style="text-align:center">rgb(255, 255, 240)</td>
<td style="text-align:center"><table><tr><td bgcolor=#FFFFF0></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">Khaki</td>
<td style="text-align:center">#F0E68C</td>
<td style="text-align:center">rgb(240, 230, 140)</td>
<td style="text-align:center"><table><tr><td bgcolor=#F0E68C></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">Lavender</td>
<td style="text-align:center">#E6E6FA</td>
<td style="text-align:center">rgb(230, 230, 250)</td>
<td style="text-align:center"><table><tr><td bgcolor=#E6E6FA></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">LavenderBlush</td>
<td style="text-align:center">#FFF0F5</td>
<td style="text-align:center">rgb(255, 240, 245)</td>
<td style="text-align:center"><table><tr><td bgcolor=#FFF0F5></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">LawnGreen</td>
<td style="text-align:center">#7CFC00</td>
<td style="text-align:center">rgb(124, 252, 0)</td>
<td style="text-align:center"><table><tr><td bgcolor=#7CFC00></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">LemonChiffon</td>
<td style="text-align:center">#FFFACD</td>
<td style="text-align:center">rgb(255, 250, 205)</td>
<td style="text-align:center"><table><tr><td bgcolor=#FFFACD></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">LightBlue</td>
<td style="text-align:center">#ADD8E6</td>
<td style="text-align:center">rgb(173, 216, 230)</td>
<td style="text-align:center"><table><tr><td bgcolor=#ADD8E6></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">LightCoral</td>
<td style="text-align:center">#F08080</td>
<td style="text-align:center">rgb(240, 128, 128)</td>
<td style="text-align:center"><table><tr><td bgcolor=#F08080></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">LightCyan</td>
<td style="text-align:center">#E0FFFF</td>
<td style="text-align:center">rgb(224, 255, 255)</td>
<td style="text-align:center"><table><tr><td bgcolor=#E0FFFF></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">LightGoldenRodYellow</td>
<td style="text-align:center">#FAFAD2</td>
<td style="text-align:center">rgb(250, 250, 210)</td>
<td style="text-align:center"><table><tr><td bgcolor=#FAFAD2></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">LightGrey</td>
<td style="text-align:center">#D3D3D3</td>
<td style="text-align:center">rgb(211, 211, 211)</td>
<td style="text-align:center"><table><tr><td bgcolor=#D3D3D3></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">LightGreen</td>
<td style="text-align:center">#90EE90</td>
<td style="text-align:center">rgb(144, 238, 144)</td>
<td style="text-align:center"><table><tr><td bgcolor=#90EE90></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">LightPink</td>
<td style="text-align:center">#FFB6C1</td>
<td style="text-align:center">rgb(255, 182, 193)</td>
<td style="text-align:center"><table><tr><td bgcolor=#FFB6C1></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">LightSalmon</td>
<td style="text-align:center">#FFA07A</td>
<td style="text-align:center">rgb(255, 160, 122)</td>
<td style="text-align:center"><table><tr><td bgcolor=#FFA07A></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">LightSeaGreen</td>
<td style="text-align:center">#20B2AA</td>
<td style="text-align:center">rgb(32, 178, 170)</td>
<td style="text-align:center"><table><tr><td bgcolor=#20B2AA></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">LightSkyBlue</td>
<td style="text-align:center">#87CEFA</td>
<td style="text-align:center">rgb(135, 206, 250)</td>
<td style="text-align:center"><table><tr><td bgcolor=#87CEFA></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">LightSlateBlue</td>
<td style="text-align:center">#8470FF</td>
<td style="text-align:center">rgb(132, 112, 255)</td>
<td style="text-align:center"><table><tr><td bgcolor=#8470FF></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">LightSlateGray</td>
<td style="text-align:center">#778899</td>
<td style="text-align:center">rgb(119, 136, 153)</td>
<td style="text-align:center"><table><tr><td bgcolor=#778899></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">LightSteelBlue</td>
<td style="text-align:center">#B0C4DE</td>
<td style="text-align:center">rgb(176, 196, 222)</td>
<td style="text-align:center"><table><tr><td bgcolor=#B0C4DE></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">LightYellow</td>
<td style="text-align:center">#FFFFE0</td>
<td style="text-align:center">rgb(255, 255, 224)</td>
<td style="text-align:center"><table><tr><td bgcolor=#FFFFE0></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">Lime</td>
<td style="text-align:center">#00FF00</td>
<td style="text-align:center">rgb(0, 255, 0)</td>
<td style="text-align:center"><table><tr><td bgcolor=#00FF00></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">LimeGreen</td>
<td style="text-align:center">#32CD32</td>
<td style="text-align:center">rgb(50, 205, 50)</td>
<td style="text-align:center"><table><tr><td bgcolor=#32CD32></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">Linen</td>
<td style="text-align:center">#FAF0E6</td>
<td style="text-align:center">rgb(250, 240, 230)</td>
<td style="text-align:center"><table><tr><td bgcolor=#FAF0E6></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">Magenta</td>
<td style="text-align:center">#FF00FF</td>
<td style="text-align:center">rgb(255, 0, 255)</td>
<td style="text-align:center"><table><tr><td bgcolor=#FF00FF></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">Maroon</td>
<td style="text-align:center">#800000</td>
<td style="text-align:center">rgb(128, 0, 0)</td>
<td style="text-align:center"><table><tr><td bgcolor=#800000></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">MediumAquaMarine</td>
<td style="text-align:center">#66CDAA</td>
<td style="text-align:center">rgb(102, 205, 170)</td>
<td style="text-align:center"><table><tr><td bgcolor=#66CDAA></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">MediumBlue</td>
<td style="text-align:center">#0000CD</td>
<td style="text-align:center">rgb(0, 0, 205)</td>
<td style="text-align:center"><table><tr><td bgcolor=#0000CD></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">MediumOrchid</td>
<td style="text-align:center">#BA55D3</td>
<td style="text-align:center">rgb(186, 85, 211)</td>
<td style="text-align:center"><table><tr><td bgcolor=#BA55D3></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">MediumPurple</td>
<td style="text-align:center">#9370D8</td>
<td style="text-align:center">rgb(147, 112, 216)</td>
<td style="text-align:center"><table><tr><td bgcolor=#9370D8></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">MediumSeaGreen</td>
<td style="text-align:center">#3CB371</td>
<td style="text-align:center">rgb(60, 179, 113)</td>
<td style="text-align:center"><table><tr><td bgcolor=#3CB371></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">MediumSlateBlue</td>
<td style="text-align:center">#7B68EE</td>
<td style="text-align:center">rgb(123, 104, 238)</td>
<td style="text-align:center"><table><tr><td bgcolor=#7B68EE></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">MediumSpringGreen</td>
<td style="text-align:center">#00FA9A</td>
<td style="text-align:center">rgb(0, 250, 154)</td>
<td style="text-align:center"><table><tr><td bgcolor=#00FA9A></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">MediumTurquoise</td>
<td style="text-align:center">#48D1CC</td>
<td style="text-align:center">rgb(72, 209, 204)</td>
<td style="text-align:center"><table><tr><td bgcolor=#48D1CC></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">MediumVioletRed</td>
<td style="text-align:center">#C71585</td>
<td style="text-align:center">rgb(199, 21, 133)</td>
<td style="text-align:center"><table><tr><td bgcolor=#C71585></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">MidnightBlue</td>
<td style="text-align:center">#191970</td>
<td style="text-align:center">rgb(25, 25, 112)</td>
<td style="text-align:center"><table><tr><td bgcolor=#191970></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">MintCream</td>
<td style="text-align:center">#F5FFFA</td>
<td style="text-align:center">rgb(245, 255, 250)</td>
<td style="text-align:center"><table><tr><td bgcolor=#F5FFFA></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">MistyRose</td>
<td style="text-align:center">#FFE4E1</td>
<td style="text-align:center">rgb(255, 228, 225)</td>
<td style="text-align:center"><table><tr><td bgcolor=#FFE4E1></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">Moccasin</td>
<td style="text-align:center">#FFE4B5</td>
<td style="text-align:center">rgb(255, 228, 181)</td>
<td style="text-align:center"><table><tr><td bgcolor=#FFE4B5></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">NavajoWhite</td>
<td style="text-align:center">#FFDEAD</td>
<td style="text-align:center">rgb(255, 222, 173)</td>
<td style="text-align:center"><table><tr><td bgcolor=#FFDEAD></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">Navy</td>
<td style="text-align:center">#000080</td>
<td style="text-align:center">rgb(0, 0, 128)</td>
<td style="text-align:center"><table><tr><td bgcolor=#000080></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">OldLace</td>
<td style="text-align:center">#FDF5E6</td>
<td style="text-align:center">rgb(253, 245, 230)</td>
<td style="text-align:center"><table><tr><td bgcolor=#FDF5E6></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">Olive</td>
<td style="text-align:center">#808000</td>
<td style="text-align:center">rgb(128, 128, 0)</td>
<td style="text-align:center"><table><tr><td bgcolor=#808000></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">OliveDrab</td>
<td style="text-align:center">#6B8E23</td>
<td style="text-align:center">rgb(107, 142, 35)</td>
<td style="text-align:center"><table><tr><td bgcolor=#6B8E23></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">Orange</td>
<td style="text-align:center">#FFA500</td>
<td style="text-align:center">rgb(255, 165, 0)</td>
<td style="text-align:center"><table><tr><td bgcolor=#FFA500></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">OrangeRed</td>
<td style="text-align:center">#FF4500</td>
<td style="text-align:center">rgb(255, 69, 0)</td>
<td style="text-align:center"><table><tr><td bgcolor=#FF4500></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">Orchid</td>
<td style="text-align:center">#DA70D6</td>
<td style="text-align:center">rgb(218, 112, 214)</td>
<td style="text-align:center"><table><tr><td bgcolor=#DA70D6></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">PaleGoldenRod</td>
<td style="text-align:center">#EEE8AA</td>
<td style="text-align:center">rgb(238, 232, 170)</td>
<td style="text-align:center"><table><tr><td bgcolor=#EEE8AA></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">PaleGreen</td>
<td style="text-align:center">#98FB98</td>
<td style="text-align:center">rgb(152, 251, 152)</td>
<td style="text-align:center"><table><tr><td bgcolor=#98FB98></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">PaleTurquoise</td>
<td style="text-align:center">#AFEEEE</td>
<td style="text-align:center">rgb(175, 238, 238)</td>
<td style="text-align:center"><table><tr><td bgcolor=#AFEEEE></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">PaleVioletRed</td>
<td style="text-align:center">#D87093</td>
<td style="text-align:center">rgb(216, 112, 147)</td>
<td style="text-align:center"><table><tr><td bgcolor=#D87093></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">PapayaWhip</td>
<td style="text-align:center">#FFEFD5</td>
<td style="text-align:center">rgb(255, 239, 213)</td>
<td style="text-align:center"><table><tr><td bgcolor=#FFEFD5></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">PeachPuff</td>
<td style="text-align:center">#FFDAB9</td>
<td style="text-align:center">rgb(255, 218, 185)</td>
<td style="text-align:center"><table><tr><td bgcolor=#FFDAB9></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">Peru</td>
<td style="text-align:center">#CD853F</td>
<td style="text-align:center">rgb(205, 133, 63)</td>
<td style="text-align:center"><table><tr><td bgcolor=#CD853F></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">Pink</td>
<td style="text-align:center">#FFC0CB</td>
<td style="text-align:center">rgb(255, 192, 203)</td>
<td style="text-align:center"><table><tr><td bgcolor=#FFC0CB></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">Plum</td>
<td style="text-align:center">#DDA0DD</td>
<td style="text-align:center">rgb(221, 160, 221)</td>
<td style="text-align:center"><table><tr><td bgcolor=#DDA0DD></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">PowderBlue</td>
<td style="text-align:center">#B0E0E6</td>
<td style="text-align:center">rgb(176, 224, 230)</td>
<td style="text-align:center"><table><tr><td bgcolor=#B0E0E6></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">Purple</td>
<td style="text-align:center">#800080</td>
<td style="text-align:center">rgb(128, 0, 128)</td>
<td style="text-align:center"><table><tr><td bgcolor=#800080></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">Red</td>
<td style="text-align:center">#FF0000</td>
<td style="text-align:center">rgb(255, 0, 0)</td>
<td style="text-align:center"><table><tr><td bgcolor=#FF0000></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">RosyBrown</td>
<td style="text-align:center">#BC8F8F</td>
<td style="text-align:center">rgb(188, 143, 143)</td>
<td style="text-align:center"><table><tr><td bgcolor=#BC8F8F></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">RoyalBlue</td>
<td style="text-align:center">#4169E1</td>
<td style="text-align:center">rgb(65, 105, 225)</td>
<td style="text-align:center"><table><tr><td bgcolor=#4169E1></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">SaddleBrown</td>
<td style="text-align:center">#8B4513</td>
<td style="text-align:center">rgb(139, 69, 19)</td>
<td style="text-align:center"><table><tr><td bgcolor=#8B4513></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">Salmon</td>
<td style="text-align:center">#FA8072</td>
<td style="text-align:center">rgb(250, 128, 114)</td>
<td style="text-align:center"><table><tr><td bgcolor=#FA8072></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">SandyBrown</td>
<td style="text-align:center">#F4A460</td>
<td style="text-align:center">rgb(244, 164, 96)</td>
<td style="text-align:center"><table><tr><td bgcolor=#F4A460></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">SeaGreen</td>
<td style="text-align:center">#2E8B57</td>
<td style="text-align:center">rgb(46, 139, 87)</td>
<td style="text-align:center"><table><tr><td bgcolor=#2E8B57></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">SeaShell</td>
<td style="text-align:center">#FFF5EE</td>
<td style="text-align:center">rgb(255, 245, 238)</td>
<td style="text-align:center"><table><tr><td bgcolor=#FFF5EE></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">Sienna</td>
<td style="text-align:center">#A0522D</td>
<td style="text-align:center">rgb(160, 82, 45)</td>
<td style="text-align:center"><table><tr><td bgcolor=#A0522D></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">Silver</td>
<td style="text-align:center">#C0C0C0</td>
<td style="text-align:center">rgb(192, 192, 192)</td>
<td style="text-align:center"><table><tr><td bgcolor=#C0C0C0></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">SkyBlue</td>
<td style="text-align:center">#87CEEB</td>
<td style="text-align:center">rgb(135, 206, 235)</td>
<td style="text-align:center"><table><tr><td bgcolor=#87CEEB></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">SlateBlue</td>
<td style="text-align:center">#6A5ACD</td>
<td style="text-align:center">rgb(106, 90, 205)</td>
<td style="text-align:center"><table><tr><td bgcolor=#6A5ACD></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">SlateGray</td>
<td style="text-align:center">#708090</td>
<td style="text-align:center">rgb(112, 128, 144)</td>
<td style="text-align:center"><table><tr><td bgcolor=#708090></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">Snow</td>
<td style="text-align:center">#FFFAFA</td>
<td style="text-align:center">rgb(255, 250, 250)</td>
<td style="text-align:center"><table><tr><td bgcolor=#FFFAFA></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">SpringGreen</td>
<td style="text-align:center">#00FF7F</td>
<td style="text-align:center">rgb(0, 255, 127)</td>
<td style="text-align:center"><table><tr><td bgcolor=#00FF7F></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">SteelBlue</td>
<td style="text-align:center">#4682B4</td>
<td style="text-align:center">rgb(70, 130, 180)</td>
<td style="text-align:center"><table><tr><td bgcolor=#4682B4></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">Tan</td>
<td style="text-align:center">#D2B48C</td>
<td style="text-align:center">rgb(210, 180, 140)</td>
<td style="text-align:center"><table><tr><td bgcolor=#D2B48C></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">Teal</td>
<td style="text-align:center">#008080</td>
<td style="text-align:center">rgb(0, 128, 128)</td>
<td style="text-align:center"><table><tr><td bgcolor=#008080></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">Thistle</td>
<td style="text-align:center">#D8BFD8</td>
<td style="text-align:center">rgb(216, 191, 216)</td>
<td style="text-align:center"><table><tr><td bgcolor=#D8BFD8></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">Tomato</td>
<td style="text-align:center">#FF6347</td>
<td style="text-align:center">rgb(255, 99, 71)</td>
<td style="text-align:center"><table><tr><td bgcolor=#FF6347></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">Turquoise</td>
<td style="text-align:center">#40E0D0</td>
<td style="text-align:center">rgb(64, 224, 208)</td>
<td style="text-align:center"><table><tr><td bgcolor=#40E0D0></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">Violet</td>
<td style="text-align:center">#EE82EE</td>
<td style="text-align:center">rgb(238, 130, 238)</td>
<td style="text-align:center"><table><tr><td bgcolor=#EE82EE></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">VioletRed</td>
<td style="text-align:center">#D02090</td>
<td style="text-align:center">rgb(208, 32, 144)</td>
<td style="text-align:center"><table><tr><td bgcolor=#D02090></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">Wheat</td>
<td style="text-align:center">#F5DEB3</td>
<td style="text-align:center">rgb(245, 222, 179)</td>
<td style="text-align:center"><table><tr><td bgcolor=#F5DEB3></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">White</td>
<td style="text-align:center">#FFFFFF</td>
<td style="text-align:center">rgb(255, 255, 255)</td>
<td style="text-align:center"><table><tr><td bgcolor=#FFFFFF></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">WhiteSmoke</td>
<td style="text-align:center">#F5F5F5</td>
<td style="text-align:center">rgb(245, 245, 245)</td>
<td style="text-align:center"><table><tr><td bgcolor=#F5F5F5></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">Yellow</td>
<td style="text-align:center">#FFFF00</td>
<td style="text-align:center">rgb(255, 255, 0)</td>
<td style="text-align:center"><table><tr><td bgcolor=#FFFF00></td></tr></table></td>
</tr>
<tr>
<td style="text-align:center">YellowGreen</td>
<td style="text-align:center">#9ACD32</td>
<td style="text-align:center">rgb(154, 205, 50)</td>
<td style="text-align:center"><table><tr><td bgcolor=#9ACD32></td></tr></table></td>
</tr>
</tbody>
</table>
<h3 id="字体大小修改"> 字体大小修改</h3>
<div><pre><code>size为1：<span><span><span>&lt;</span>font</span> <span>size</span><span><span>=</span><span>"</span>1<span>"</span></span><span>></span></span>size为1<span><span><span>&lt;/</span>font</span><span>></span></span>
size为2：<span><span><span>&lt;</span>font</span> <span>size</span><span><span>=</span><span>"</span>2<span>"</span></span><span>></span></span>size为2<span><span><span>&lt;/</span>font</span><span>></span></span>
size为3：<span><span><span>&lt;</span>font</span> <span>size</span><span><span>=</span><span>"</span>3<span>"</span></span><span>></span></span>size为3<span><span><span>&lt;/</span>font</span><span>></span></span>
size为4：<span><span><span>&lt;</span>font</span> <span>size</span><span><span>=</span><span>"</span>4<span>"</span></span><span>></span></span>size为4<span><span><span>&lt;/</span>font</span><span>></span></span>
size为5：<span><span><span>&lt;</span>font</span> <span>size</span><span><span>=</span><span>"</span>5<span>"</span></span><span>></span></span>size为5<span><span><span>&lt;/</span>font</span><span>></span></span>
size为6：<span><span><span>&lt;</span>font</span> <span>size</span><span><span>=</span><span>"</span>6<span>"</span></span><span>></span></span>size为6<span><span><span>&lt;/</span>font</span><span>></span></span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br></div></div><h4 id="字体大小修改效果"> 字体大小修改效果</h4>
<p>size为1：<font size="1">size为1</font>
size为2：<font size="2">size为2</font>
size为3：<font size="3">size为3</font>
size为4：<font size="4">size为4</font>
size为5：<font size="5">size为5</font>
size为6：<font size="6">size为6</font></p>
<h3 id="字体类型"> 字体类型</h3>
<div><pre><code><span><span><span>&lt;</span>font</span> <span>face</span><span><span>=</span><span>"</span>黑体<span>"</span></span><span>></span></span>我是黑体字<span><span><span>&lt;/</span>font</span><span>></span></span> 
<span><span><span>&lt;</span>font</span> <span>face</span><span><span>=</span><span>"</span>宋体<span>"</span></span><span>></span></span>我是宋体字<span><span><span>&lt;/</span>font</span><span>></span></span> 
<span><span><span>&lt;</span>font</span> <span>face</span><span><span>=</span><span>"</span>楷体<span>"</span></span><span>></span></span>我是楷体字<span><span><span>&lt;/</span>font</span><span>></span></span> 
<span><span><span>&lt;</span>font</span> <span>face</span><span><span>=</span><span>"</span>微软雅黑<span>"</span></span><span>></span></span>我是微软雅黑字<span><span><span>&lt;/</span>font</span><span>></span></span> 
<span><span><span>&lt;</span>font</span> <span>face</span><span><span>=</span><span>"</span>fantasy<span>"</span></span><span>></span></span>我是fantasy字<span><span><span>&lt;/</span>font</span><span>></span></span>
<span><span><span>&lt;</span>font</span> <span>face</span><span><span>=</span><span>"</span>Helvetica<span>"</span></span><span>></span></span>我是Helvetica字<span><span><span>&lt;/</span>font</span><span>></span></span> 
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br></div></div><h4 id="字体类型效果"> 字体类型效果</h4>
<p><font face="黑体">我是黑体字</font>
<font face="宋体">我是宋体字</font>
<font face="楷体">我是楷体字</font>
<font face="微软雅黑">我是微软雅黑字</font>
<font face="fantasy">我是fantasy字</font>
<font face="Helvetica">我是Helvetica字</font></p>
<h3 id="背景色修改"> 背景色修改</h3>
<div><pre><code><span><span><span>&lt;</span>table</span><span>></span></span><span><span><span>&lt;</span>tr</span><span>></span></span><span><span><span>&lt;</span>td</span> <span>bgcolor</span><span><span>=</span>#F4A460</span><span>></span></span>#F4A460<span><span><span>&lt;/</span>td</span><span>></span></span><span><span><span>&lt;/</span>tr</span><span>></span></span><span><span><span>&lt;/</span>table</span><span>></span></span>
<span><span><span>&lt;</span>table</span><span>></span></span><span><span><span>&lt;</span>tr</span><span>></span></span><span><span><span>&lt;</span>td</span> <span>bgcolor</span><span><span>=</span>#FF6347</span><span>></span></span>#FF6347<span><span><span>&lt;/</span>td</span><span>></span></span><span><span><span>&lt;/</span>tr</span><span>></span></span><span><span><span>&lt;/</span>table</span><span>></span></span>  
<span><span><span>&lt;</span>table</span><span>></span></span><span><span><span>&lt;</span>tr</span><span>></span></span><span><span><span>&lt;</span>td</span> <span>bgcolor</span><span><span>=</span>#D8BFD8</span><span>></span></span>#D8BFD8<span><span><span>&lt;/</span>td</span><span>></span></span><span><span><span>&lt;/</span>tr</span><span>></span></span><span><span><span>&lt;/</span>table</span><span>></span></span>  
<span><span><span>&lt;</span>table</span><span>></span></span><span><span><span>&lt;</span>tr</span><span>></span></span><span><span><span>&lt;</span>td</span> <span>bgcolor</span><span><span>=</span>#008080</span><span>></span></span>#008080<span><span><span>&lt;/</span>td</span><span>></span></span><span><span><span>&lt;/</span>tr</span><span>></span></span><span><span><span>&lt;/</span>table</span><span>></span></span>  
<span><span><span>&lt;</span>table</span><span>></span></span><span><span><span>&lt;</span>tr</span><span>></span></span><span><span><span>&lt;</span>td</span> <span>bgcolor</span><span><span>=</span>#FFD700</span><span>></span></span>#FFD700<span><span><span>&lt;/</span>td</span><span>></span></span><span><span><span>&lt;/</span>tr</span><span>></span></span><span><span><span>&lt;/</span>table</span><span>></span></span>  
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br></div></div><h4 id="背景色修改效果"> 背景色修改效果</h4>
<table><tr><td bgcolor=#F4A460>#F4A460</td></tr></table>
<table><tr><td bgcolor=#FF6347>#FF6347</td></tr></table> 
<table><tr><td bgcolor=#D8BFD8>#D8BFD8</td></tr></table> 
<table><tr><td bgcolor=#008080>#008080</td></tr></table> 
<table><tr><td bgcolor=#FFD700>#FFD700</td></tr></table> 
<hr>
<h2 id="引用"> 引用</h2>
<div><pre><code><span>></span> What？
<span>>></span> 这是啥？
<span>>>></span> 引用啥？
也可以写成如下形式：
<span><span><span>&lt;</span>blockquote</span><span>></span></span>引用的内容<span><span><span>&lt;/</span>blockquote</span><span>></span></span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br></div></div><h3 id="引用效果"> 引用效果</h3>
<blockquote>
<p>What？</p>
<blockquote>
<p>这是啥？</p>
<blockquote>
<p>引用啥？</p>
</blockquote>
</blockquote>
</blockquote>
<hr>
<h2 id="分割线"> 分割线</h2>
<div><pre><code><span>---</span>
<span>***</span>
___
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br></div></div><h3 id="分割线效果"> 分割线效果</h3>
<hr>
<hr>
<hr>
<hr>
<h2 id="列表-支持嵌套"> 列表（支持嵌套）</h2>
<h3 id="无序列表"> 无序列表</h3>
<div><pre><code><span>-</span> 列表内容
<span>+</span> 列表内容
<span>*</span> 列表内容
也可写成：
<span><span><span>&lt;</span>ul</span><span>></span></span>
<span><span><span>&lt;</span>li</span><span>></span></span>   <span><span><span>&lt;/</span>li</span><span>></span></span>
<span><span><span>&lt;</span>li</span><span>></span></span>   <span><span><span>&lt;/</span>li</span><span>></span></span>
<span><span><span>&lt;</span>li</span><span>></span></span>   <span><span><span>&lt;/</span>li</span><span>></span></span>
<span><span><span>&lt;</span>li</span><span>></span></span>   <span><span><span>&lt;/</span>li</span><span>></span></span>
<span><span><span>&lt;/</span>ul</span><span>></span></span> 
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br></div></div><blockquote>
<p>注意：-、+、*与列表内容之间要有一个空格</p>
</blockquote>
<h4 id="无序列表效果"> 无序列表效果</h4>
<ul>
<li>列表内容</li>
</ul>
<ul>
<li>列表内容</li>
</ul>
<ul>
<li>列表内容</li>
</ul>
<h3 id="有序列表"> 有序列表</h3>
<div><pre><code><span>1.</span> 列表内容
<span>2.</span> 列表内容
<span>3.</span> 列表内容
也可写成：
<span><span><span>&lt;</span>ol</span><span>></span></span>
<span><span><span>&lt;</span>li</span><span>></span></span>   <span><span><span>&lt;/</span>li</span><span>></span></span>
<span><span><span>&lt;</span>li</span><span>></span></span>   <span><span><span>&lt;/</span>li</span><span>></span></span>
<span><span><span>&lt;</span>li</span><span>></span></span>   <span><span><span>&lt;/</span>li</span><span>></span></span>
<span><span><span>&lt;</span>li</span><span>></span></span>   <span><span><span>&lt;/</span>li</span><span>></span></span>
<span><span><span>&lt;/</span>ol</span><span>></span></span> 
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br></div></div><h4 id="有序列表效果"> 有序列表效果</h4>
<ol>
<li>列表内容</li>
<li>列表内容</li>
<li>列表内容</li>
</ol>
<h3 id="任务列表"> 任务列表</h3>
<div><pre><code> <span>-</span> [x] Have breakfast!
 <span>-</span> [ ] Have lunch!
 <span>-</span> [ ] Have dinner!
 「注」：先打空格再打-，接着打空格，最后再打[ ]，另外[ ]中间是有括号的。
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br></div></div><h4 id="任务列表效果"> 任务列表效果</h4>
<ul>
<li>
<p>[x] Have breakfast!</p>
</li>
<li>
<p>[ ] Have lunch!</p>
</li>
<li>
<p>[ ] Have dinner!</p>
</li>
</ul>
<hr>
<h2 id="表格"> 表格</h2>
<div><pre><code><span><span><span>表头</span><span>|</span><span>表头</span><span>|</span><span>表头</span><span>|</span><span>表头</span>
</span><span><span>---</span><span>|</span><span>:---</span><span>|</span><span>---:</span><span>|</span><span>:---:</span>
</span><span><span>内容</span><span>|</span><span>内容</span><span>|</span><span>内容</span><span>|</span><span>内容</span>
<span>内容</span><span>|</span><span>内容</span><span>|</span><span>内容</span><span>|</span><span>内容</span>
</span></span>
可以注意到，：起到的作用是设定对齐方式，依次是左对齐、右对齐、居中对齐。
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br></div></div><h3 id="表格效果"> 表格效果</h3>
<table>
<thead>
<tr>
<th>表头</th>
<th style="text-align:left">表头</th>
<th style="text-align:right">表头</th>
<th style="text-align:center">表头</th>
</tr>
</thead>
<tbody>
<tr>
<td>内容</td>
<td style="text-align:left">内容</td>
<td style="text-align:right">内容</td>
<td style="text-align:center">内容</td>
</tr>
<tr>
<td>内容</td>
<td style="text-align:left">内容</td>
<td style="text-align:right">内容</td>
<td style="text-align:center">内容</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="代码行-代码块"> 代码行 &amp; 代码块</h2>
<h3 id="单行代码"> 单行代码</h3>
<div><pre><code>`import torch as pd`
</code></pre>
<div><span>1</span><br></div></div><h3 id="单行代码效果"> 单行代码效果</h3>
<p><code>import torch as pd</code></p>
<h3 id="代码块"> 代码块</h3>
<div><pre><code>```
import tensorflow as np
import torch as pd
​```
如果想指定语言从而达到语法高亮的效果则可以写成：
​```python
import tensorflow as np
import torch as pd
​```
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br></div></div><h3 id="代码块效果"> 代码块效果</h3>
<div><pre><code>import tensorflow as np
import torch as pd
</code></pre>
<div><span>1</span><br><span>2</span><br></div></div><div><pre><code><span>import</span> tensorflow <span>as</span> np
<span>import</span> torch <span>as</span> pd
</code></pre>
<div><span>1</span><br><span>2</span><br></div></div><hr>
<h2 id="emoji"> Emoji</h2>
<p>People</p>
<table>
<thead>
<tr>
<th>:bowtie: <code>:bowtie:</code></th>
<th>😄 <code>:smile:</code></th>
<th>😆 <code>:laughing:</code></th>
</tr>
</thead>
<tbody>
<tr>
<td>😊 <code>:blush:</code></td>
<td>😃 <code>:smiley:</code></td>
<td>☺️ <code>:relaxed:</code></td>
</tr>
<tr>
<td>😏 <code>:smirk:</code></td>
<td>😍 <code>:heart_eyes:</code></td>
<td>😘 <code>:kissing_heart:</code></td>
</tr>
<tr>
<td>😚 <code>:kissing_closed_eyes:</code></td>
<td>😳 <code>:flushed:</code></td>
<td>😌 <code>:relieved:</code></td>
</tr>
<tr>
<td>😆 <code>:satisfied:</code></td>
<td>😁 <code>:grin:</code></td>
<td>😉 <code>:wink:</code></td>
</tr>
<tr>
<td>😜 <code>:stuck_out_tongue_winking_eye:</code></td>
<td>😝 <code>:stuck_out_tongue_closed_eyes:</code></td>
<td>😀 <code>:grinning:</code></td>
</tr>
<tr>
<td>😗 <code>:kissing:</code></td>
<td>😙 <code>:kissing_smiling_eyes:</code></td>
<td>😛 <code>:stuck_out_tongue:</code></td>
</tr>
<tr>
<td>😴 <code>:sleeping:</code></td>
<td>😟 <code>:worried:</code></td>
<td>😦 <code>:frowning:</code></td>
</tr>
<tr>
<td>😧 <code>:anguished:</code></td>
<td>😮 <code>:open_mouth:</code></td>
<td>😬 <code>:grimacing:</code></td>
</tr>
<tr>
<td>😕 <code>:confused:</code></td>
<td>😯 <code>:hushed:</code></td>
<td>😑 <code>:expressionless:</code></td>
</tr>
<tr>
<td>😒 <code>:unamused:</code></td>
<td>😅 <code>:sweat_smile:</code></td>
<td>😓 <code>:sweat:</code></td>
</tr>
<tr>
<td>😥 <code>:disappointed_relieved:</code></td>
<td>😩 <code>:weary:</code></td>
<td>😔 <code>:pensive:</code></td>
</tr>
<tr>
<td>😞 <code>:disappointed:</code></td>
<td>😖 <code>:confounded:</code></td>
<td>😨 <code>:fearful:</code></td>
</tr>
<tr>
<td>😰 <code>:cold_sweat:</code></td>
<td>😣 <code>:persevere:</code></td>
<td>😢 <code>:cry:</code></td>
</tr>
<tr>
<td>😭 <code>:sob:</code></td>
<td>😂 <code>:joy:</code></td>
<td>😲 <code>:astonished:</code></td>
</tr>
<tr>
<td>😱 <code>:scream:</code></td>
<td>:neckbeard: <code>:neckbeard:</code></td>
<td>😫 <code>:tired_face:</code></td>
</tr>
<tr>
<td>😠 <code>:angry:</code></td>
<td>😡 <code>:rage:</code></td>
<td>😤 <code>:triumph:</code></td>
</tr>
<tr>
<td>😪 <code>:sleepy:</code></td>
<td>😋 <code>:yum:</code></td>
<td>😷 <code>:mask:</code></td>
</tr>
<tr>
<td>😎 <code>:sunglasses:</code></td>
<td>😵 <code>:dizzy_face:</code></td>
<td>👿 <code>:imp:</code></td>
</tr>
<tr>
<td>😈 <code>:smiling_imp:</code></td>
<td>😐 <code>:neutral_face:</code></td>
<td>😶 <code>:no_mouth:</code></td>
</tr>
<tr>
<td>😇 <code>:innocent:</code></td>
<td>👽 <code>:alien:</code></td>
<td>💛 <code>:yellow_heart:</code></td>
</tr>
<tr>
<td>💙 <code>:blue_heart:</code></td>
<td>💜 <code>:purple_heart:</code></td>
<td>❤️ <code>:heart:</code></td>
</tr>
<tr>
<td>💚 <code>:green_heart:</code></td>
<td>💔 <code>:broken_heart:</code></td>
<td>💓 <code>:heartbeat:</code></td>
</tr>
<tr>
<td>💗 <code>:heartpulse:</code></td>
<td>💕 <code>:two_hearts:</code></td>
<td>💞 <code>:revolving_hearts:</code></td>
</tr>
<tr>
<td>💘 <code>:cupid:</code></td>
<td>💖 <code>:sparkling_heart:</code></td>
<td>✨ <code>:sparkles:</code></td>
</tr>
<tr>
<td>⭐️ <code>:star:</code></td>
<td>🌟 <code>:star2:</code></td>
<td>💫 <code>:dizzy:</code></td>
</tr>
<tr>
<td>💥 <code>:boom:</code></td>
<td>💥 <code>:collision:</code></td>
<td>💢 <code>:anger:</code></td>
</tr>
<tr>
<td>❗️ <code>:exclamation:</code></td>
<td>❓ <code>:question:</code></td>
<td>❕ <code>:grey_exclamation:</code></td>
</tr>
<tr>
<td>❔ <code>:grey_question:</code></td>
<td>💤 <code>:zzz:</code></td>
<td>💨 <code>:dash:</code></td>
</tr>
<tr>
<td>💦 <code>:sweat_drops:</code></td>
<td>🎶 <code>:notes:</code></td>
<td>🎵 <code>:musical_note:</code></td>
</tr>
<tr>
<td>🔥 <code>:fire:</code></td>
<td>💩 <code>:hankey:</code></td>
<td>💩 <code>:poop:</code></td>
</tr>
<tr>
<td>💩 <code>:shit:</code></td>
<td>👍 <code>:+1:</code></td>
<td>👍 <code>:thumbsup:</code></td>
</tr>
<tr>
<td>👎 <code>:-1:</code></td>
<td>👎 <code>:thumbsdown:</code></td>
<td>👌 <code>:ok_hand:</code></td>
</tr>
<tr>
<td>👊 <code>:punch:</code></td>
<td>👊 <code>:facepunch:</code></td>
<td>✊ <code>:fist:</code></td>
</tr>
<tr>
<td>✌️ <code>:v:</code></td>
<td>👋 <code>:wave:</code></td>
<td>✋ <code>:hand:</code></td>
</tr>
<tr>
<td>✋ <code>:raised_hand:</code></td>
<td>👐 <code>:open_hands:</code></td>
<td>☝️ <code>:point_up:</code></td>
</tr>
<tr>
<td>👇 <code>:point_down:</code></td>
<td>👈 <code>:point_left:</code></td>
<td>👉 <code>:point_right:</code></td>
</tr>
<tr>
<td>🙌 <code>:raised_hands:</code></td>
<td>🙏 <code>:pray:</code></td>
<td>👆 <code>:point_up_2:</code></td>
</tr>
<tr>
<td>👏 <code>:clap:</code></td>
<td>💪 <code>:muscle:</code></td>
<td>🤘 <code>:metal:</code></td>
</tr>
<tr>
<td>🖕 <code>:fu:</code></td>
<td>🚶 <code>:walking:</code></td>
<td>🏃 <code>:runner:</code></td>
</tr>
<tr>
<td>🏃 <code>:running:</code></td>
<td>👫 <code>:couple:</code></td>
<td>👪 <code>:family:</code></td>
</tr>
<tr>
<td>👬 <code>:two_men_holding_hands:</code></td>
<td>👭 <code>:two_women_holding_hands:</code></td>
<td>💃 <code>:dancer:</code></td>
</tr>
<tr>
<td>👯 <code>:dancers:</code></td>
<td>🙆 <code>:ok_woman:</code></td>
<td>🙅 <code>:no_good:</code></td>
</tr>
<tr>
<td>💁 <code>:information_desk_person:</code></td>
<td>🙋 <code>:raising_hand:</code></td>
<td>👰 <code>:bride_with_veil:</code></td>
</tr>
<tr>
<td>🙎 <code>:person_with_pouting_face:</code></td>
<td>🙍 <code>:person_frowning:</code></td>
<td>🙇 <code>:bow:</code></td>
</tr>
<tr>
<td>:couplekiss: <code>:couplekiss:</code></td>
<td>💑 <code>:couple_with_heart:</code></td>
<td>💆 <code>:massage:</code></td>
</tr>
<tr>
<td>💇 <code>:haircut:</code></td>
<td>💅 <code>:nail_care:</code></td>
<td>👦 <code>:boy:</code></td>
</tr>
<tr>
<td>👧 <code>:girl:</code></td>
<td>👩 <code>:woman:</code></td>
<td>👨 <code>:man:</code></td>
</tr>
<tr>
<td>👶 <code>:baby:</code></td>
<td>👵 <code>:older_woman:</code></td>
<td>👴 <code>:older_man:</code></td>
</tr>
<tr>
<td>👱 <code>:person_with_blond_hair:</code></td>
<td>👲 <code>:man_with_gua_pi_mao:</code></td>
<td>👳 <code>:man_with_turban:</code></td>
</tr>
<tr>
<td>👷 <code>:construction_worker:</code></td>
<td>👮 <code>:cop:</code></td>
<td>👼 <code>:angel:</code></td>
</tr>
<tr>
<td>👸 <code>:princess:</code></td>
<td>😺 <code>:smiley_cat:</code></td>
<td>😸 <code>:smile_cat:</code></td>
</tr>
<tr>
<td>😻 <code>:heart_eyes_cat:</code></td>
<td>😽 <code>:kissing_cat:</code></td>
<td>😼 <code>:smirk_cat:</code></td>
</tr>
<tr>
<td>🙀 <code>:scream_cat:</code></td>
<td>😿 <code>:crying_cat_face:</code></td>
<td>😹 <code>:joy_cat:</code></td>
</tr>
<tr>
<td>😾 <code>:pouting_cat:</code></td>
<td>👹 <code>:japanese_ogre:</code></td>
<td>👺 <code>:japanese_goblin:</code></td>
</tr>
<tr>
<td>🙈 <code>:see_no_evil:</code></td>
<td>🙉 <code>:hear_no_evil:</code></td>
<td>🙊 <code>:speak_no_evil:</code></td>
</tr>
<tr>
<td>💂 <code>:guardsman:</code></td>
<td>💀 <code>:skull:</code></td>
<td>🐾 <code>:feet:</code></td>
</tr>
<tr>
<td>👄 <code>:lips:</code></td>
<td>💋 <code>:kiss:</code></td>
<td>💧 <code>:droplet:</code></td>
</tr>
<tr>
<td>👂 <code>:ear:</code></td>
<td>👀 <code>:eyes:</code></td>
<td>👃 <code>:nose:</code></td>
</tr>
<tr>
<td>👅 <code>:tongue:</code></td>
<td>💌 <code>:love_letter:</code></td>
<td>👤 <code>:bust_in_silhouette:</code></td>
</tr>
<tr>
<td>👥 <code>:busts_in_silhouette:</code></td>
<td>💬 <code>:speech_balloon:</code></td>
<td>💭 <code>:thought_balloon:</code></td>
</tr>
<tr>
<td>:feelsgood: <code>:feelsgood:</code></td>
<td>:finnadie: <code>:finnadie:</code></td>
<td>:goberserk: <code>:goberserk:</code></td>
</tr>
<tr>
<td>:godmode: <code>:godmode:</code></td>
<td>:hurtrealbad: <code>:hurtrealbad:</code></td>
<td>:rage1: <code>:rage1:</code></td>
</tr>
<tr>
<td>:rage2: <code>:rage2:</code></td>
<td>:rage3: <code>:rage3:</code></td>
<td>:rage4: <code>:rage4:</code></td>
</tr>
<tr>
<td>:suspect: <code>:suspect:</code></td>
<td>:trollface: <code>:trollface:</code></td>
<td></td>
</tr>
</tbody>
</table>
<p>Nature</p>
<table>
<thead>
<tr>
<th>☀️ <code>:sunny:</code></th>
<th>☔️ <code>:umbrella:</code></th>
<th>☁️ <code>:cloud:</code></th>
</tr>
</thead>
<tbody>
<tr>
<td>❄️ <code>:snowflake:</code></td>
<td>⛄️ <code>:snowman:</code></td>
<td>⚡️ <code>:zap:</code></td>
</tr>
<tr>
<td>🌀 <code>:cyclone:</code></td>
<td>🌁 <code>:foggy:</code></td>
<td>🌊 <code>:ocean:</code></td>
</tr>
<tr>
<td>🐱 <code>:cat:</code></td>
<td>🐶 <code>:dog:</code></td>
<td>🐭 <code>:mouse:</code></td>
</tr>
<tr>
<td>🐹 <code>:hamster:</code></td>
<td>🐰 <code>:rabbit:</code></td>
<td>🐺 <code>:wolf:</code></td>
</tr>
<tr>
<td>🐸 <code>:frog:</code></td>
<td>🐯 <code>:tiger:</code></td>
<td>🐨 <code>:koala:</code></td>
</tr>
<tr>
<td>🐻 <code>:bear:</code></td>
<td>🐷 <code>:pig:</code></td>
<td>🐽 <code>:pig_nose:</code></td>
</tr>
<tr>
<td>🐮 <code>:cow:</code></td>
<td>🐗 <code>:boar:</code></td>
<td>🐵 <code>:monkey_face:</code></td>
</tr>
<tr>
<td>🐒 <code>:monkey:</code></td>
<td>🐴 <code>:horse:</code></td>
<td>🐎 <code>:racehorse:</code></td>
</tr>
<tr>
<td>🐫 <code>:camel:</code></td>
<td>🐑 <code>:sheep:</code></td>
<td>🐘 <code>:elephant:</code></td>
</tr>
<tr>
<td>🐼 <code>:panda_face:</code></td>
<td>🐍 <code>:snake:</code></td>
<td>🐦 <code>:bird:</code></td>
</tr>
<tr>
<td>🐤 <code>:baby_chick:</code></td>
<td>🐥 <code>:hatched_chick:</code></td>
<td>🐣 <code>:hatching_chick:</code></td>
</tr>
<tr>
<td>🐔 <code>:chicken:</code></td>
<td>🐧 <code>:penguin:</code></td>
<td>🐢 <code>:turtle:</code></td>
</tr>
<tr>
<td>🐛 <code>:bug:</code></td>
<td>🐝 <code>:honeybee:</code></td>
<td>🐜 <code>:ant:</code></td>
</tr>
<tr>
<td>🐞 <code>:beetle:</code></td>
<td>🐌 <code>:snail:</code></td>
<td>🐙 <code>:octopus:</code></td>
</tr>
<tr>
<td>🐠 <code>:tropical_fish:</code></td>
<td>🐟 <code>:fish:</code></td>
<td>🐳 <code>:whale:</code></td>
</tr>
<tr>
<td>🐋 <code>:whale2:</code></td>
<td>🐬 <code>:dolphin:</code></td>
<td>🐄 <code>:cow2:</code></td>
</tr>
<tr>
<td>🐏 <code>:ram:</code></td>
<td>🐀 <code>:rat:</code></td>
<td>🐃 <code>:water_buffalo:</code></td>
</tr>
<tr>
<td>🐅 <code>:tiger2:</code></td>
<td>🐇 <code>:rabbit2:</code></td>
<td>🐉 <code>:dragon:</code></td>
</tr>
<tr>
<td>🐐 <code>:goat:</code></td>
<td>🐓 <code>:rooster:</code></td>
<td>🐕 <code>:dog2:</code></td>
</tr>
<tr>
<td>🐖 <code>:pig2:</code></td>
<td>🐁 <code>:mouse2:</code></td>
<td>🐂 <code>:ox:</code></td>
</tr>
<tr>
<td>🐲 <code>:dragon_face:</code></td>
<td>🐡 <code>:blowfish:</code></td>
<td>🐊 <code>:crocodile:</code></td>
</tr>
<tr>
<td>🐪 <code>:dromedary_camel:</code></td>
<td>🐆 <code>:leopard:</code></td>
<td>🐈 <code>:cat2:</code></td>
</tr>
<tr>
<td>🐩 <code>:poodle:</code></td>
<td>🐾 <code>:paw_prints:</code></td>
<td>💐 <code>:bouquet:</code></td>
</tr>
<tr>
<td>🌸 <code>:cherry_blossom:</code></td>
<td>🌷 <code>:tulip:</code></td>
<td>🍀 <code>:four_leaf_clover:</code></td>
</tr>
<tr>
<td>🌹 <code>:rose:</code></td>
<td>🌻 <code>:sunflower:</code></td>
<td>🌺 <code>:hibiscus:</code></td>
</tr>
<tr>
<td>🍁 <code>:maple_leaf:</code></td>
<td>🍃 <code>:leaves:</code></td>
<td>🍂 <code>:fallen_leaf:</code></td>
</tr>
<tr>
<td>🌿 <code>:herb:</code></td>
<td>🍄 <code>:mushroom:</code></td>
<td>🌵 <code>:cactus:</code></td>
</tr>
<tr>
<td>🌴 <code>:palm_tree:</code></td>
<td>🌲 <code>:evergreen_tree:</code></td>
<td>🌳 <code>:deciduous_tree:</code></td>
</tr>
<tr>
<td>🌰 <code>:chestnut:</code></td>
<td>🌱 <code>:seedling:</code></td>
<td>🌼 <code>:blossom:</code></td>
</tr>
<tr>
<td>🌾 <code>:ear_of_rice:</code></td>
<td>🐚 <code>:shell:</code></td>
<td>🌐 <code>:globe_with_meridians:</code></td>
</tr>
<tr>
<td>🌞 <code>:sun_with_face:</code></td>
<td>🌝 <code>:full_moon_with_face:</code></td>
<td>🌚 <code>:new_moon_with_face:</code></td>
</tr>
<tr>
<td>🌑 <code>:new_moon:</code></td>
<td>🌒 <code>:waxing_crescent_moon:</code></td>
<td>🌓 <code>:first_quarter_moon:</code></td>
</tr>
<tr>
<td>🌔 <code>:waxing_gibbous_moon:</code></td>
<td>🌕 <code>:full_moon:</code></td>
<td>🌖 <code>:waning_gibbous_moon:</code></td>
</tr>
<tr>
<td>🌗 <code>:last_quarter_moon:</code></td>
<td>🌘 <code>:waning_crescent_moon:</code></td>
<td>🌜 <code>:last_quarter_moon_with_face:</code></td>
</tr>
<tr>
<td>🌛 <code>:first_quarter_moon_with_face:</code></td>
<td>🌔 <code>:moon:</code></td>
<td>🌍 <code>:earth_africa:</code></td>
</tr>
<tr>
<td>🌎 <code>:earth_americas:</code></td>
<td>🌏 <code>:earth_asia:</code></td>
<td>🌋 <code>:volcano:</code></td>
</tr>
<tr>
<td>🌌 <code>:milky_way:</code></td>
<td>⛅️ <code>:partly_sunny:</code></td>
<td>:octocat: <code>:octocat:</code></td>
</tr>
<tr>
<td>:squirrel: <code>:squirrel:</code></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>Objects</p>
<table>
<thead>
<tr>
<th>🎍 <code>:bamboo:</code></th>
<th>💝 <code>:gift_heart:</code></th>
<th>🎎 <code>:dolls:</code></th>
</tr>
</thead>
<tbody>
<tr>
<td>🎒 <code>:school_satchel:</code></td>
<td>🎓 <code>:mortar_board:</code></td>
<td>🎏 <code>:flags:</code></td>
</tr>
<tr>
<td>🎆 <code>:fireworks:</code></td>
<td>🎇 <code>:sparkler:</code></td>
<td>🎐 <code>:wind_chime:</code></td>
</tr>
<tr>
<td>🎑 <code>:rice_scene:</code></td>
<td>🎃 <code>:jack_o_lantern:</code></td>
<td>👻 <code>:ghost:</code></td>
</tr>
<tr>
<td>🎅 <code>:santa:</code></td>
<td>🎄 <code>:christmas_tree:</code></td>
<td>🎁 <code>:gift:</code></td>
</tr>
<tr>
<td>🔔 <code>:bell:</code></td>
<td>🔕 <code>:no_bell:</code></td>
<td>🎋 <code>:tanabata_tree:</code></td>
</tr>
<tr>
<td>🎉 <code>:tada:</code></td>
<td>🎊 <code>:confetti_ball:</code></td>
<td>🎈 <code>:balloon:</code></td>
</tr>
<tr>
<td>🔮 <code>:crystal_ball:</code></td>
<td>💿 <code>:cd:</code></td>
<td>📀 <code>:dvd:</code></td>
</tr>
<tr>
<td>💾 <code>:floppy_disk:</code></td>
<td>📷 <code>:camera:</code></td>
<td>📹 <code>:video_camera:</code></td>
</tr>
<tr>
<td>🎥 <code>:movie_camera:</code></td>
<td>💻 <code>:computer:</code></td>
<td>📺 <code>:tv:</code></td>
</tr>
<tr>
<td>📱 <code>:iphone:</code></td>
<td>☎️ <code>:phone:</code></td>
<td>☎️ <code>:telephone:</code></td>
</tr>
<tr>
<td>📞 <code>:telephone_receiver:</code></td>
<td>📟 <code>:pager:</code></td>
<td>📠 <code>:fax:</code></td>
</tr>
<tr>
<td>💽 <code>:minidisc:</code></td>
<td>📼 <code>:vhs:</code></td>
<td>🔉 <code>:sound:</code></td>
</tr>
<tr>
<td>🔈 <code>:speaker:</code></td>
<td>🔇 <code>:mute:</code></td>
<td>📢 <code>:loudspeaker:</code></td>
</tr>
<tr>
<td>📣 <code>:mega:</code></td>
<td>⌛️ <code>:hourglass:</code></td>
<td>⏳ <code>:hourglass_flowing_sand:</code></td>
</tr>
<tr>
<td>⏰ <code>:alarm_clock:</code></td>
<td>⌚️ <code>:watch:</code></td>
<td>📻 <code>:radio:</code></td>
</tr>
<tr>
<td>📡 <code>:satellite:</code></td>
<td>➿ <code>:loop:</code></td>
<td>🔍 <code>:mag:</code></td>
</tr>
<tr>
<td>🔎 <code>:mag_right:</code></td>
<td>🔓 <code>:unlock:</code></td>
<td>🔒 <code>:lock:</code></td>
</tr>
<tr>
<td>🔏 <code>:lock_with_ink_pen:</code></td>
<td>🔐 <code>:closed_lock_with_key:</code></td>
<td>🔑 <code>:key:</code></td>
</tr>
<tr>
<td>💡 <code>:bulb:</code></td>
<td>🔦 <code>:flashlight:</code></td>
<td>🔆 <code>:high_brightness:</code></td>
</tr>
<tr>
<td>🔅 <code>:low_brightness:</code></td>
<td>🔌 <code>:electric_plug:</code></td>
<td>🔋 <code>:battery:</code></td>
</tr>
<tr>
<td>📲 <code>:calling:</code></td>
<td>✉️ <code>:email:</code></td>
<td>📫 <code>:mailbox:</code></td>
</tr>
<tr>
<td>📮 <code>:postbox:</code></td>
<td>🛀 <code>:bath:</code></td>
<td>🛁 <code>:bathtub:</code></td>
</tr>
<tr>
<td>🚿 <code>:shower:</code></td>
<td>🚽 <code>:toilet:</code></td>
<td>🔧 <code>:wrench:</code></td>
</tr>
<tr>
<td>🔩 <code>:nut_and_bolt:</code></td>
<td>🔨 <code>:hammer:</code></td>
<td>💺 <code>:seat:</code></td>
</tr>
<tr>
<td>💰 <code>:moneybag:</code></td>
<td>💴 <code>:yen:</code></td>
<td>💵 <code>:dollar:</code></td>
</tr>
<tr>
<td>💷 <code>:pound:</code></td>
<td>💶 <code>:euro:</code></td>
<td>💳 <code>:credit_card:</code></td>
</tr>
<tr>
<td>💸 <code>:money_with_wings:</code></td>
<td>📧 <code>:e-mail:</code></td>
<td>📥 <code>:inbox_tray:</code></td>
</tr>
<tr>
<td>📤 <code>:outbox_tray:</code></td>
<td>✉️ <code>:envelope:</code></td>
<td>📨 <code>:incoming_envelope:</code></td>
</tr>
<tr>
<td>📯 <code>:postal_horn:</code></td>
<td>📪 <code>:mailbox_closed:</code></td>
<td>📬 <code>:mailbox_with_mail:</code></td>
</tr>
<tr>
<td>📭 <code>:mailbox_with_no_mail:</code></td>
<td>🚪 <code>:door:</code></td>
<td>🚬 <code>:smoking:</code></td>
</tr>
<tr>
<td>💣 <code>:bomb:</code></td>
<td>🔫 <code>:gun:</code></td>
<td>🔪 <code>:hocho:</code></td>
</tr>
<tr>
<td>💊 <code>:pill:</code></td>
<td>💉 <code>:syringe:</code></td>
<td>📄 <code>:page_facing_up:</code></td>
</tr>
<tr>
<td>📃 <code>:page_with_curl:</code></td>
<td>📑 <code>:bookmark_tabs:</code></td>
<td>📊 <code>:bar_chart:</code></td>
</tr>
<tr>
<td>📈 <code>:chart_with_upwards_trend:</code></td>
<td>📉 <code>:chart_with_downwards_trend:</code></td>
<td>📜 <code>:scroll:</code></td>
</tr>
<tr>
<td>📋 <code>:clipboard:</code></td>
<td>📆 <code>:calendar:</code></td>
<td>📅 <code>:date:</code></td>
</tr>
<tr>
<td>📇 <code>:card_index:</code></td>
<td>📁 <code>:file_folder:</code></td>
<td>📂 <code>:open_file_folder:</code></td>
</tr>
<tr>
<td>✂️ <code>:scissors:</code></td>
<td>📌 <code>:pushpin:</code></td>
<td>📎 <code>:paperclip:</code></td>
</tr>
<tr>
<td>✒️ <code>:black_nib:</code></td>
<td>✏️ <code>:pencil2:</code></td>
<td>📏 <code>:straight_ruler:</code></td>
</tr>
<tr>
<td>📐 <code>:triangular_ruler:</code></td>
<td>📕 <code>:closed_book:</code></td>
<td>📗 <code>:green_book:</code></td>
</tr>
<tr>
<td>📘 <code>:blue_book:</code></td>
<td>📙 <code>:orange_book:</code></td>
<td>📓 <code>:notebook:</code></td>
</tr>
<tr>
<td>📔 <code>:notebook_with_decorative_cover:</code></td>
<td>📒 <code>:ledger:</code></td>
<td>📚 <code>:books:</code></td>
</tr>
<tr>
<td>🔖 <code>:bookmark:</code></td>
<td>📛 <code>:name_badge:</code></td>
<td>🔬 <code>:microscope:</code></td>
</tr>
<tr>
<td>🔭 <code>:telescope:</code></td>
<td>📰 <code>:newspaper:</code></td>
<td>🏈 <code>:football:</code></td>
</tr>
<tr>
<td>🏀 <code>:basketball:</code></td>
<td>⚽️ <code>:soccer:</code></td>
<td>⚾️ <code>:baseball:</code></td>
</tr>
<tr>
<td>🎾 <code>:tennis:</code></td>
<td>🎱 <code>:8ball:</code></td>
<td>🏉 <code>:rugby_football:</code></td>
</tr>
<tr>
<td>🎳 <code>:bowling:</code></td>
<td>⛳️ <code>:golf:</code></td>
<td>🚵 <code>:mountain_bicyclist:</code></td>
</tr>
<tr>
<td>🚴 <code>:bicyclist:</code></td>
<td>🏇 <code>:horse_racing:</code></td>
<td>🏂 <code>:snowboarder:</code></td>
</tr>
<tr>
<td>🏊 <code>:swimmer:</code></td>
<td>🏄 <code>:surfer:</code></td>
<td>🎿 <code>:ski:</code></td>
</tr>
<tr>
<td>♠️ <code>:spades:</code></td>
<td>♥️ <code>:hearts:</code></td>
<td>♣️ <code>:clubs:</code></td>
</tr>
<tr>
<td>♦️ <code>:diamonds:</code></td>
<td>💎 <code>:gem:</code></td>
<td>💍 <code>:ring:</code></td>
</tr>
<tr>
<td>🏆 <code>:trophy:</code></td>
<td>🎼 <code>:musical_score:</code></td>
<td>🎹 <code>:musical_keyboard:</code></td>
</tr>
<tr>
<td>🎻 <code>:violin:</code></td>
<td>👾 <code>:space_invader:</code></td>
<td>🎮 <code>:video_game:</code></td>
</tr>
<tr>
<td>🃏 <code>:black_joker:</code></td>
<td>🎴 <code>:flower_playing_cards:</code></td>
<td>🎲 <code>:game_die:</code></td>
</tr>
<tr>
<td>🎯 <code>:dart:</code></td>
<td>🀄️ <code>:mahjong:</code></td>
<td>🎬 <code>:clapper:</code></td>
</tr>
<tr>
<td>📝 <code>:memo:</code></td>
<td>📝 <code>:pencil:</code></td>
<td>📖 <code>:book:</code></td>
</tr>
<tr>
<td>🎨 <code>:art:</code></td>
<td>🎤 <code>:microphone:</code></td>
<td>🎧 <code>:headphones:</code></td>
</tr>
<tr>
<td>🎺 <code>:trumpet:</code></td>
<td>🎷 <code>:saxophone:</code></td>
<td>🎸 <code>:guitar:</code></td>
</tr>
<tr>
<td>👞 <code>:shoe:</code></td>
<td>👡 <code>:sandal:</code></td>
<td>👠 <code>:high_heel:</code></td>
</tr>
<tr>
<td>💄 <code>:lipstick:</code></td>
<td>👢 <code>:boot:</code></td>
<td>👕 <code>:shirt:</code></td>
</tr>
<tr>
<td>👕 <code>:tshirt:</code></td>
<td>👔 <code>:necktie:</code></td>
<td>👚 <code>:womans_clothes:</code></td>
</tr>
<tr>
<td>👗 <code>:dress:</code></td>
<td>🎽 <code>:running_shirt_with_sash:</code></td>
<td>👖 <code>:jeans:</code></td>
</tr>
<tr>
<td>👘 <code>:kimono:</code></td>
<td>👙 <code>:bikini:</code></td>
<td>🎀 <code>:ribbon:</code></td>
</tr>
<tr>
<td>🎩 <code>:tophat:</code></td>
<td>👑 <code>:crown:</code></td>
<td>👒 <code>:womans_hat:</code></td>
</tr>
<tr>
<td>👞 <code>:mans_shoe:</code></td>
<td>🌂 <code>:closed_umbrella:</code></td>
<td>💼 <code>:briefcase:</code></td>
</tr>
<tr>
<td>👜 <code>:handbag:</code></td>
<td>👝 <code>:pouch:</code></td>
<td>👛 <code>:purse:</code></td>
</tr>
<tr>
<td>👓 <code>:eyeglasses:</code></td>
<td>🎣 <code>:fishing_pole_and_fish:</code></td>
<td>☕️ <code>:coffee:</code></td>
</tr>
<tr>
<td>🍵 <code>:tea:</code></td>
<td>🍶 <code>:sake:</code></td>
<td>🍼 <code>:baby_bottle:</code></td>
</tr>
<tr>
<td>🍺 <code>:beer:</code></td>
<td>🍻 <code>:beers:</code></td>
<td>🍸 <code>:cocktail:</code></td>
</tr>
<tr>
<td>🍹 <code>:tropical_drink:</code></td>
<td>🍷 <code>:wine_glass:</code></td>
<td>🍴 <code>:fork_and_knife:</code></td>
</tr>
<tr>
<td>🍕 <code>:pizza:</code></td>
<td>🍔 <code>:hamburger:</code></td>
<td>🍟 <code>:fries:</code></td>
</tr>
<tr>
<td>🍗 <code>:poultry_leg:</code></td>
<td>🍖 <code>:meat_on_bone:</code></td>
<td>🍝 <code>:spaghetti:</code></td>
</tr>
<tr>
<td>🍛 <code>:curry:</code></td>
<td>🍤 <code>:fried_shrimp:</code></td>
<td>🍱 <code>:bento:</code></td>
</tr>
<tr>
<td>🍣 <code>:sushi:</code></td>
<td>🍥 <code>:fish_cake:</code></td>
<td>🍙 <code>:rice_ball:</code></td>
</tr>
<tr>
<td>🍘 <code>:rice_cracker:</code></td>
<td>🍚 <code>:rice:</code></td>
<td>🍜 <code>:ramen:</code></td>
</tr>
<tr>
<td>🍲 <code>:stew:</code></td>
<td>🍢 <code>:oden:</code></td>
<td>🍡 <code>:dango:</code></td>
</tr>
<tr>
<td>🥚 <code>:egg:</code></td>
<td>🍞 <code>:bread:</code></td>
<td>🍩 <code>:doughnut:</code></td>
</tr>
<tr>
<td>🍮 <code>:custard:</code></td>
<td>🍦 <code>:icecream:</code></td>
<td>🍨 <code>:ice_cream:</code></td>
</tr>
<tr>
<td>🍧 <code>:shaved_ice:</code></td>
<td>🎂 <code>:birthday:</code></td>
<td>🍰 <code>:cake:</code></td>
</tr>
<tr>
<td>🍪 <code>:cookie:</code></td>
<td>🍫 <code>:chocolate_bar:</code></td>
<td>🍬 <code>:candy:</code></td>
</tr>
<tr>
<td>🍭 <code>:lollipop:</code></td>
<td>🍯 <code>:honey_pot:</code></td>
<td>🍎 <code>:apple:</code></td>
</tr>
<tr>
<td>🍏 <code>:green_apple:</code></td>
<td>🍊 <code>:tangerine:</code></td>
<td>🍋 <code>:lemon:</code></td>
</tr>
<tr>
<td>🍒 <code>:cherries:</code></td>
<td>🍇 <code>:grapes:</code></td>
<td>🍉 <code>:watermelon:</code></td>
</tr>
<tr>
<td>🍓 <code>:strawberry:</code></td>
<td>🍑 <code>:peach:</code></td>
<td>🍈 <code>:melon:</code></td>
</tr>
<tr>
<td>🍌 <code>:banana:</code></td>
<td>🍐 <code>:pear:</code></td>
<td>🍍 <code>:pineapple:</code></td>
</tr>
<tr>
<td>🍠 <code>:sweet_potato:</code></td>
<td>🍆 <code>:eggplant:</code></td>
<td>🍅 <code>:tomato:</code></td>
</tr>
<tr>
<td>🌽 <code>:corn:</code></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>Places</p>
<table>
<thead>
<tr>
<th>🏠 <code>:house:</code></th>
<th>🏡 <code>:house_with_garden:</code></th>
<th>🏫 <code>:school:</code></th>
</tr>
</thead>
<tbody>
<tr>
<td>🏢 <code>:office:</code></td>
<td>🏣 <code>:post_office:</code></td>
<td>🏥 <code>:hospital:</code></td>
</tr>
<tr>
<td>🏦 <code>:bank:</code></td>
<td>🏪 <code>:convenience_store:</code></td>
<td>🏩 <code>:love_hotel:</code></td>
</tr>
<tr>
<td>🏨 <code>:hotel:</code></td>
<td>💒 <code>:wedding:</code></td>
<td>⛪️ <code>:church:</code></td>
</tr>
<tr>
<td>🏬 <code>:department_store:</code></td>
<td>🏤 <code>:european_post_office:</code></td>
<td>🌇 <code>:city_sunrise:</code></td>
</tr>
<tr>
<td>🌆 <code>:city_sunset:</code></td>
<td>🏯 <code>:japanese_castle:</code></td>
<td>🏰 <code>:european_castle:</code></td>
</tr>
<tr>
<td>⛺️ <code>:tent:</code></td>
<td>🏭 <code>:factory:</code></td>
<td>🗼 <code>:tokyo_tower:</code></td>
</tr>
<tr>
<td>🗾 <code>:japan:</code></td>
<td>🗻 <code>:mount_fuji:</code></td>
<td>🌄 <code>:sunrise_over_mountains:</code></td>
</tr>
<tr>
<td>🌅 <code>:sunrise:</code></td>
<td>🌠 <code>:stars:</code></td>
<td>🗽 <code>:statue_of_liberty:</code></td>
</tr>
<tr>
<td>🌉 <code>:bridge_at_night:</code></td>
<td>🎠 <code>:carousel_horse:</code></td>
<td>🌈 <code>:rainbow:</code></td>
</tr>
<tr>
<td>🎡 <code>:ferris_wheel:</code></td>
<td>⛲️ <code>:fountain:</code></td>
<td>🎢 <code>:roller_coaster:</code></td>
</tr>
<tr>
<td>🚢 <code>:ship:</code></td>
<td>🚤 <code>:speedboat:</code></td>
<td>⛵️ <code>:boat:</code></td>
</tr>
<tr>
<td>⛵️ <code>:sailboat:</code></td>
<td>🚣 <code>:rowboat:</code></td>
<td>⚓️ <code>:anchor:</code></td>
</tr>
<tr>
<td>🚀 <code>:rocket:</code></td>
<td>✈️ <code>:airplane:</code></td>
<td>🚁 <code>:helicopter:</code></td>
</tr>
<tr>
<td>🚂 <code>:steam_locomotive:</code></td>
<td>🚊 <code>:tram:</code></td>
<td>🚞 <code>:mountain_railway:</code></td>
</tr>
<tr>
<td>🚲 <code>:bike:</code></td>
<td>🚡 <code>:aerial_tramway:</code></td>
<td>🚟 <code>:suspension_railway:</code></td>
</tr>
<tr>
<td>🚠 <code>:mountain_cableway:</code></td>
<td>🚜 <code>:tractor:</code></td>
<td>🚙 <code>:blue_car:</code></td>
</tr>
<tr>
<td>🚘 <code>:oncoming_automobile:</code></td>
<td>🚗 <code>:car:</code></td>
<td>🚗 <code>:red_car:</code></td>
</tr>
<tr>
<td>🚕 <code>:taxi:</code></td>
<td>🚖 <code>:oncoming_taxi:</code></td>
<td>🚛 <code>:articulated_lorry:</code></td>
</tr>
<tr>
<td>🚌 <code>:bus:</code></td>
<td>🚍 <code>:oncoming_bus:</code></td>
<td>🚨 <code>:rotating_light:</code></td>
</tr>
<tr>
<td>🚓 <code>:police_car:</code></td>
<td>🚔 <code>:oncoming_police_car:</code></td>
<td>🚒 <code>:fire_engine:</code></td>
</tr>
<tr>
<td>🚑 <code>:ambulance:</code></td>
<td>🚐 <code>:minibus:</code></td>
<td>🚚 <code>:truck:</code></td>
</tr>
<tr>
<td>🚋 <code>:train:</code></td>
<td>🚉 <code>:station:</code></td>
<td>🚆 <code>:train2:</code></td>
</tr>
<tr>
<td>🚅 <code>:bullettrain_front:</code></td>
<td>🚄 <code>:bullettrain_side:</code></td>
<td>🚈 <code>:light_rail:</code></td>
</tr>
<tr>
<td>🚝 <code>:monorail:</code></td>
<td>🚃 <code>:railway_car:</code></td>
<td>🚎 <code>:trolleybus:</code></td>
</tr>
<tr>
<td>🎫 <code>:ticket:</code></td>
<td>⛽️ <code>:fuelpump:</code></td>
<td>🚦 <code>:vertical_traffic_light:</code></td>
</tr>
<tr>
<td>🚥 <code>:traffic_light:</code></td>
<td>⚠️ <code>:warning:</code></td>
<td>🚧 <code>:construction:</code></td>
</tr>
<tr>
<td>🔰 <code>:beginner:</code></td>
<td>🏧 <code>:atm:</code></td>
<td>🎰 <code>:slot_machine:</code></td>
</tr>
<tr>
<td>🚏 <code>:busstop:</code></td>
<td>💈 <code>:barber:</code></td>
<td>♨️ <code>:hotsprings:</code></td>
</tr>
<tr>
<td>🏁 <code>:checkered_flag:</code></td>
<td>🎌 <code>:crossed_flags:</code></td>
<td>🏮 <code>:izakaya_lantern:</code></td>
</tr>
<tr>
<td>🗿 <code>:moyai:</code></td>
<td>🎪 <code>:circus_tent:</code></td>
<td>🎭 <code>:performing_arts:</code></td>
</tr>
<tr>
<td>📍 <code>:round_pushpin:</code></td>
<td>🚩 <code>:triangular_flag_on_post:</code></td>
<td>🇯🇵 <code>:jp:</code></td>
</tr>
<tr>
<td>🇰🇷 <code>:kr:</code></td>
<td>🇨🇳 <code>:cn:</code></td>
<td>🇺🇸 <code>:us:</code></td>
</tr>
<tr>
<td>🇫🇷 <code>:fr:</code></td>
<td>🇪🇸 <code>:es:</code></td>
<td>🇮🇹 <code>:it:</code></td>
</tr>
<tr>
<td>🇷🇺 <code>:ru:</code></td>
<td>🇬🇧 <code>:gb:</code></td>
<td>🇬🇧 <code>:uk:</code></td>
</tr>
<tr>
<td>🇩🇪 <code>:de:</code></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>Symbols</p>
<table>
<thead>
<tr>
<th>1️⃣ <code>:one:</code></th>
<th>2️⃣ <code>:two:</code></th>
<th>3️⃣ <code>:three:</code></th>
</tr>
</thead>
<tbody>
<tr>
<td>4️⃣ <code>:four:</code></td>
<td>5️⃣ <code>:five:</code></td>
<td>6️⃣ <code>:six:</code></td>
</tr>
<tr>
<td>7️⃣ <code>:seven:</code></td>
<td>8️⃣ <code>:eight:</code></td>
<td>9️⃣ <code>:nine:</code></td>
</tr>
<tr>
<td>🔟 <code>:keycap_ten:</code></td>
<td>🔢 <code>:1234:</code></td>
<td>0️⃣ <code>:zero:</code></td>
</tr>
<tr>
<td>#️⃣ <code>:hash:</code></td>
<td>🔣 <code>:symbols:</code></td>
<td>◀️ <code>:arrow_backward:</code></td>
</tr>
<tr>
<td>⬇️ <code>:arrow_down:</code></td>
<td>▶️ <code>:arrow_forward:</code></td>
<td>⬅️ <code>:arrow_left:</code></td>
</tr>
<tr>
<td>🔠 <code>:capital_abcd:</code></td>
<td>🔡 <code>:abcd:</code></td>
<td>🔤 <code>:abc:</code></td>
</tr>
<tr>
<td>↙️ <code>:arrow_lower_left:</code></td>
<td>↘️ <code>:arrow_lower_right:</code></td>
<td>➡️ <code>:arrow_right:</code></td>
</tr>
<tr>
<td>⬆️ <code>:arrow_up:</code></td>
<td>↖️ <code>:arrow_upper_left:</code></td>
<td>↗️ <code>:arrow_upper_right:</code></td>
</tr>
<tr>
<td>⏬ <code>:arrow_double_down:</code></td>
<td>⏫ <code>:arrow_double_up:</code></td>
<td>🔽 <code>:arrow_down_small:</code></td>
</tr>
<tr>
<td>⤵️ <code>:arrow_heading_down:</code></td>
<td>⤴️ <code>:arrow_heading_up:</code></td>
<td>↩️ <code>:leftwards_arrow_with_hook:</code></td>
</tr>
<tr>
<td>↪️ <code>:arrow_right_hook:</code></td>
<td>↔️ <code>:left_right_arrow:</code></td>
<td>↕️ <code>:arrow_up_down:</code></td>
</tr>
<tr>
<td>🔼 <code>:arrow_up_small:</code></td>
<td>🔃 <code>:arrows_clockwise:</code></td>
<td>🔄 <code>:arrows_counterclockwise:</code></td>
</tr>
<tr>
<td>⏪ <code>:rewind:</code></td>
<td>⏩ <code>:fast_forward:</code></td>
<td>ℹ️ <code>:information_source:</code></td>
</tr>
<tr>
<td>🆗 <code>:ok:</code></td>
<td>🔀 <code>:twisted_rightwards_arrows:</code></td>
<td>🔁 <code>:repeat:</code></td>
</tr>
<tr>
<td>🔂 <code>:repeat_one:</code></td>
<td>🆕 <code>:new:</code></td>
<td>🔝 <code>:top:</code></td>
</tr>
<tr>
<td>🆙 <code>:up:</code></td>
<td>🆒 <code>:cool:</code></td>
<td>🆓 <code>:free:</code></td>
</tr>
<tr>
<td>🆖 <code>:ng:</code></td>
<td>🎦 <code>:cinema:</code></td>
<td>🈁 <code>:koko:</code></td>
</tr>
<tr>
<td>📶 <code>:signal_strength:</code></td>
<td>:u5272: <code>:u5272:</code></td>
<td>:u5408: <code>:u5408:</code></td>
</tr>
<tr>
<td>:u55b6: <code>:u55b6:</code></td>
<td>:u6307: <code>:u6307:</code></td>
<td>:u6708: <code>:u6708:</code></td>
</tr>
<tr>
<td>:u6709: <code>:u6709:</code></td>
<td>🈵 <code>:u6e80:</code></td>
<td>:u7121: <code>:u7121:</code></td>
</tr>
<tr>
<td>:u7533: <code>:u7533:</code></td>
<td>:u7a7a: <code>:u7a7a:</code></td>
<td>:u7981: <code>:u7981:</code></td>
</tr>
<tr>
<td>🈂️ <code>:sa:</code></td>
<td>🚻 <code>:restroom:</code></td>
<td>🚹 <code>:mens:</code></td>
</tr>
<tr>
<td>🚺 <code>:womens:</code></td>
<td>🚼 <code>:baby_symbol:</code></td>
<td>🚭 <code>:no_smoking:</code></td>
</tr>
<tr>
<td>🅿️ <code>:parking:</code></td>
<td>♿️ <code>:wheelchair:</code></td>
<td>🚇 <code>:metro:</code></td>
</tr>
<tr>
<td>🛄 <code>:baggage_claim:</code></td>
<td>🉑 <code>:accept:</code></td>
<td>🚾 <code>:wc:</code></td>
</tr>
<tr>
<td>🚰 <code>:potable_water:</code></td>
<td>🚮 <code>:put_litter_in_its_place:</code></td>
<td>㊙️ <code>:secret:</code></td>
</tr>
<tr>
<td>㊗️ <code>:congratulations:</code></td>
<td>Ⓜ️ <code>:m:</code></td>
<td>🛂 <code>:passport_control:</code></td>
</tr>
<tr>
<td>🛅 <code>:left_luggage:</code></td>
<td>🛃 <code>:customs:</code></td>
<td>🉐 <code>:ideograph_advantage:</code></td>
</tr>
<tr>
<td>🆑 <code>:cl:</code></td>
<td>🆘 <code>:sos:</code></td>
<td>🆔 <code>:id:</code></td>
</tr>
<tr>
<td>🚫 <code>:no_entry_sign:</code></td>
<td>🔞 <code>:underage:</code></td>
<td>📵 <code>:no_mobile_phones:</code></td>
</tr>
<tr>
<td>🚯 <code>:do_not_litter:</code></td>
<td>🚱 <code>:non-potable_water:</code></td>
<td>🚳 <code>:no_bicycles:</code></td>
</tr>
<tr>
<td>🚷 <code>:no_pedestrians:</code></td>
<td>🚸 <code>:children_crossing:</code></td>
<td>⛔️ <code>:no_entry:</code></td>
</tr>
<tr>
<td>✳️ <code>:eight_spoked_asterisk:</code></td>
<td>✴️ <code>:eight_pointed_black_star:</code></td>
<td>💟 <code>:heart_decoration:</code></td>
</tr>
<tr>
<td>🆚 <code>:vs:</code></td>
<td>📳 <code>:vibration_mode:</code></td>
<td>📴 <code>:mobile_phone_off:</code></td>
</tr>
<tr>
<td>💹 <code>:chart:</code></td>
<td>💱 <code>:currency_exchange:</code></td>
<td>♈️ <code>:aries:</code></td>
</tr>
<tr>
<td>♉️ <code>:taurus:</code></td>
<td>♊️ <code>:gemini:</code></td>
<td>♋️ <code>:cancer:</code></td>
</tr>
<tr>
<td>♌️ <code>:leo:</code></td>
<td>♍️ <code>:virgo:</code></td>
<td>♎️ <code>:libra:</code></td>
</tr>
<tr>
<td>♏️ <code>:scorpius:</code></td>
<td>♐️ <code>:sagittarius:</code></td>
<td>♑️ <code>:capricorn:</code></td>
</tr>
<tr>
<td>♒️ <code>:aquarius:</code></td>
<td>♓️ <code>:pisces:</code></td>
<td>⛎ <code>:ophiuchus:</code></td>
</tr>
<tr>
<td>🔯 <code>:six_pointed_star:</code></td>
<td>❎ <code>:negative_squared_cross_mark:</code></td>
<td>🅰️ <code>:a:</code></td>
</tr>
<tr>
<td>🅱️ <code>:b:</code></td>
<td>🆎 <code>:ab:</code></td>
<td>🅾️ <code>:o2:</code></td>
</tr>
<tr>
<td>💠 <code>:diamond_shape_with_a_dot_inside:</code></td>
<td>♻️ <code>:recycle:</code></td>
<td>🔚 <code>:end:</code></td>
</tr>
<tr>
<td>🔛 <code>:on:</code></td>
<td>🔜 <code>:soon:</code></td>
<td>🕐 <code>:clock1:</code></td>
</tr>
<tr>
<td>🕜 <code>:clock130:</code></td>
<td>🕙 <code>:clock10:</code></td>
<td>🕥 <code>:clock1030:</code></td>
</tr>
<tr>
<td>🕚 <code>:clock11:</code></td>
<td>🕦 <code>:clock1130:</code></td>
<td>🕛 <code>:clock12:</code></td>
</tr>
<tr>
<td>🕧 <code>:clock1230:</code></td>
<td>🕑 <code>:clock2:</code></td>
<td>🕝 <code>:clock230:</code></td>
</tr>
<tr>
<td>🕒 <code>:clock3:</code></td>
<td>🕞 <code>:clock330:</code></td>
<td>🕓 <code>:clock4:</code></td>
</tr>
<tr>
<td>🕟 <code>:clock430:</code></td>
<td>🕔 <code>:clock5:</code></td>
<td>🕠 <code>:clock530:</code></td>
</tr>
<tr>
<td>🕕 <code>:clock6:</code></td>
<td>🕡 <code>:clock630:</code></td>
<td>🕖 <code>:clock7:</code></td>
</tr>
<tr>
<td>🕢 <code>:clock730:</code></td>
<td>🕗 <code>:clock8:</code></td>
<td>🕣 <code>:clock830:</code></td>
</tr>
<tr>
<td>🕘 <code>:clock9:</code></td>
<td>🕤 <code>:clock930:</code></td>
<td>💲 <code>:heavy_dollar_sign:</code></td>
</tr>
<tr>
<td>©️ <code>:copyright:</code></td>
<td>®️ <code>:registered:</code></td>
<td>™️ <code>:tm:</code></td>
</tr>
<tr>
<td>❌ <code>:x:</code></td>
<td>❗️ <code>:heavy_exclamation_mark:</code></td>
<td>‼️ <code>:bangbang:</code></td>
</tr>
<tr>
<td>⁉️ <code>:interrobang:</code></td>
<td>⭕️ <code>:o:</code></td>
<td>✖️ <code>:heavy_multiplication_x:</code></td>
</tr>
<tr>
<td>➕ <code>:heavy_plus_sign:</code></td>
<td>➖ <code>:heavy_minus_sign:</code></td>
<td>➗ <code>:heavy_division_sign:</code></td>
</tr>
<tr>
<td>💮 <code>:white_flower:</code></td>
<td>💯 <code>:100:</code></td>
<td>✔️ <code>:heavy_check_mark:</code></td>
</tr>
<tr>
<td>☑️ <code>:ballot_box_with_check:</code></td>
<td>🔘 <code>:radio_button:</code></td>
<td>🔗 <code>:link:</code></td>
</tr>
<tr>
<td>➰ <code>:curly_loop:</code></td>
<td>〰️ <code>:wavy_dash:</code></td>
<td>〽️ <code>:part_alternation_mark:</code></td>
</tr>
<tr>
<td>🔱 <code>:trident:</code></td>
<td>:black_square: <code>:black_square:</code></td>
<td>:white_square: <code>:white_square:</code></td>
</tr>
<tr>
<td>✅ <code>:white_check_mark:</code></td>
<td>🔲 <code>:black_square_button:</code></td>
<td>🔳 <code>:white_square_button:</code></td>
</tr>
<tr>
<td>⚫️ <code>:black_circle:</code></td>
<td>⚪️ <code>:white_circle:</code></td>
<td>🔴 <code>:red_circle:</code></td>
</tr>
<tr>
<td>🔵 <code>:large_blue_circle:</code></td>
<td>🔷 <code>:large_blue_diamond:</code></td>
<td>🔶 <code>:large_orange_diamond:</code></td>
</tr>
<tr>
<td>🔹 <code>:small_blue_diamond:</code></td>
<td>🔸 <code>:small_orange_diamond:</code></td>
<td>🔺 <code>:small_red_triangle:</code></td>
</tr>
<tr>
<td>🔻 <code>:small_red_triangle_down:</code></td>
<td>:shipit: <code>:shipit:</code></td>
<td></td>
</tr>
</tbody>
</table>
<hr>
<h2 id="转义"> 转义</h2>
<table>
<thead>
<tr>
<th>\</th>
<th>反斜杠（backslash）</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>| 反引号（backtick），连续使用两个“</code> ”来包裹使用至少一个反引号的句子即可</td>
<td></td>
</tr>
<tr>
<td>*</td>
<td>星号（asterisk）</td>
</tr>
<tr>
<td>_</td>
<td>下划线（underscore）</td>
</tr>
<tr>
<td>{ }</td>
<td>花括号（curly braces）</td>
</tr>
<tr>
<td>[ ]</td>
<td>方括号（brackets）</td>
</tr>
<tr>
<td>&lt; &gt;</td>
<td>尖括号（angle brackets）</td>
</tr>
<tr>
<td>( )</td>
<td>圆括号或括号（parentheses）</td>
</tr>
<tr>
<td>#</td>
<td>井号（pound sign）</td>
</tr>
<tr>
<td>+</td>
<td>加号（plus sign）</td>
</tr>
<tr>
<td>-</td>
<td>减号（minus sign） (也叫连字符 hyphen)</td>
</tr>
<tr>
<td>.</td>
<td>句点（dot）</td>
</tr>
<tr>
<td>!</td>
<td>感叹号（exclamation mark）</td>
</tr>
<tr>
<td>|</td>
<td>管道符（pipe），可以使用<code>&amp;#124;</code>来代替</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="特殊字符"> 特殊字符</h2>
<center>
<table>
<thead>
<tr>
<th style="text-align:center">特殊字符</th>
<th style="text-align:center">描述</th>
<th style="text-align:center">字符代码</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">空格符</td>
<td style="text-align:center"><code>&amp;nbsp;</code></td>
</tr>
<tr>
<td style="text-align:center">&lt;</td>
<td style="text-align:center">小于号</td>
<td style="text-align:center"><code>&amp;lt;</code></td>
</tr>
<tr>
<td style="text-align:center">&gt;</td>
<td style="text-align:center">大于号</td>
<td style="text-align:center"><code>&amp;gt;</code></td>
</tr>
<tr>
<td style="text-align:center">&amp;</td>
<td style="text-align:center">和号</td>
<td style="text-align:center"><code>&amp;amp;</code></td>
</tr>
<tr>
<td style="text-align:center">￥</td>
<td style="text-align:center">人民币</td>
<td style="text-align:center"><code>&amp;yen;</code></td>
</tr>
<tr>
<td style="text-align:center">©</td>
<td style="text-align:center">版权</td>
<td style="text-align:center"><code>&amp;copy;</code></td>
</tr>
<tr>
<td style="text-align:center">®</td>
<td style="text-align:center">注册商标</td>
<td style="text-align:center"><code>&amp;reg;</code></td>
</tr>
<tr>
<td style="text-align:center">°C</td>
<td style="text-align:center">摄氏度</td>
<td style="text-align:center"><code>&amp;deg;C</code></td>
</tr>
<tr>
<td style="text-align:center">±</td>
<td style="text-align:center">正负号</td>
<td style="text-align:center"><code>&amp;plusmn;</code></td>
</tr>
<tr>
<td style="text-align:center">×</td>
<td style="text-align:center">乘号</td>
<td style="text-align:center"><code>&amp;times;</code></td>
</tr>
<tr>
<td style="text-align:center">÷</td>
<td style="text-align:center">除号</td>
<td style="text-align:center"><code>&amp;divide;</code></td>
</tr>
<tr>
<td style="text-align:center">²</td>
<td style="text-align:center">平方（上标²）</td>
<td style="text-align:center"><code>&amp;sup2;</code></td>
</tr>
<tr>
<td style="text-align:center">³</td>
<td style="text-align:center">立方（上标³）</td>
<td style="text-align:center"><code>&amp;sup3;</code></td>
</tr>
</tbody>
</table>
</center>
<hr>
<h2 id="脚注"> 脚注</h2>
<div><pre><code>不可能三角又称潘洛斯三角[^1]，是由奥斯卡·雷乌特斯瓦德[^note]1934年创建的不可能图形。 
<span><span>[</span><span>^1</span><span>]</span><span>:</span> 潘洛斯三角（Penrose</span> triangle）是不可能物體中的一種。最早是由瑞典藝術家Oscar Reutersvärd在1934年製作。英國數學家羅傑·潘洛斯（Roger Penrose）及其父親莱昂内尔·彭罗斯設計及推廣，並在1958年2月份的《英國心理學月刊》（British Journal of Psychology）中發表，稱之為「最純粹形式的不可能」。 
<span><span>[</span><span>^note</span><span>]</span><span>:</span> Oscar</span> Reutersvärd (29 November 1915 – 2 February 2002) was a Swedish graphic artist, who in 1934 pioneered the art of 3D drawings that may initially appear feasible, yet cannot be physically constructed. He is sometimes described as "the father of the impossible figure", although there are much older examples, e.g. Hogarth's Satire on False Perspective, in addition to more recent well known example of the Penrose triangle and some others. 
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br></div></div><h3 id="脚注效果"> 脚注效果</h3>
<p>不可能三角又称潘洛斯三角<sup></sup>，是由奥斯卡·雷乌特斯瓦德<sup></sup>1934年创建的不可能图形。</p>
<hr>
<h2 id="自定义标题id"> 自定义标题ID</h2>
<div><pre><code>### ？？？ {#custom-id}
也可以写成：
&lt;h3 id=&quot;custom-id&quot;&gt;    &lt;/h3&gt;
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br></div></div><h3 id="自定义标题id效果"> 自定义标题ID效果</h3>
<h5 id="jetbrains-jb-yeah"> JetBrains！ {# JB-Yeah!}</h5>
<p>编上这个id有什么用？[点这个试试看！](# JB-Yeah!)</p>
<p>你会发现它跳到JetBrains！这个标题了，而这个超链接语法没什么特殊的，就是这个：</p>
<div><pre><code>[点这个试试看！](# JB-Yeah!)
也可以写成这个：
<span><span><span>&lt;</span>a</span> <span>href</span><span><span>=</span><span>"</span>#JB-Yeah!<span>"</span></span><span>></span></span>点这个试试看！<span><span><span>&lt;/</span>a</span><span>></span></span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br></div></div><hr>
<h2 id="网址和邮件地址"> 网址和邮件地址</h2>
<div><pre><code>&lt;https://www.markdownguide.org>
<span><span><span>&lt;</span>fake@example.com</span><span>></span></span>
</code></pre>
<div><span>1</span><br><span>2</span><br></div></div><h3 id="网址和邮件地址效果"> 网址和邮件地址效果</h3>
<p><a href="https://www.markdownguide.org" target="_blank" rel="noopener noreferrer">https://www.markdownguide.org</a>
<a href="mailto:fake@example.com">fake@example.com</a></p>
<hr>
<h2 id="显示快捷键图形"> 显示快捷键图形</h2>
<div><pre><code>使用&lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;F2&lt;/kbd&gt;进入tty2
</code></pre>
<div><span>1</span><br></div></div><h3 id="显示快捷键图形效果"> 显示快捷键图形效果</h3>
<p>使用<kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>F2</kbd>进入tty2</p>
<hr>
<h2 id="markdown内部的注释"> Markdown内部的注释</h2>
<div><pre><code><span><span><span>&lt;</span>div</span> <span><span>style</span><span><span>=</span><span>'</span><span><span>display</span><span>:</span> none</span><span>'</span></span></span><span>></span></span>ANYTHING YOU WANNA SAY<span><span><span>&lt;/</span>div</span><span>></span></span>
<span>&lt;!-- ANYTHING YOU WANNA SAY --></span>
<span><span>[</span><span>//</span><span>]</span><span>:</span> #</span> ANYTHING YOU WANNA SAY
<span><span>[</span><span>^_^</span><span>]</span><span>:</span> #</span> ANYTHING YOU WANNA SAY
<span><span>[</span><span>//</span><span>]</span><span>:</span> <span>&lt;</span><span>></span></span> ANYTHING YOU WANNA SAY
<span><span>[</span><span>comment</span><span>]</span><span>:</span> <span>&lt;</span><span>></span></span> ANYTHING YOU WANNA SAY
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br></div></div><hr>
<h2 id="文字对齐方式-部分环境下不可用"> 文字对齐方式(部分环境下不可用)</h2>
<div><pre><code>&lt;center&gt;中心对齐&lt;/center&gt;
&lt;p align=&quot;left&quot;&gt;左对齐&lt;/p&gt;
&lt;p align=&quot;right&quot;&gt;右对齐&lt;/p&gt;
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br></div></div><h3 id="对齐方式效果"> 对齐方式效果</h3>
<center>中心对齐</center>
<p align="left">左对齐</p>
<p align="right">右对齐</p>
<hr>
<section>
<ol>
<li id="footnote1"><p>潘洛斯三角（Penrose triangle）是不可能物體中的一種。最早是由瑞典藝術家Oscar Reutersvärd在1934年製作。英國數學家羅傑·潘洛斯（Roger Penrose）及其父親莱昂内尔·彭罗斯設計及推廣，並在1958年2月份的《英國心理學月刊》（British Journal of Psychology）中發表，稱之為「最純粹形式的不可能」。 </p>
</li>
<li id="footnote2"><p>Oscar Reutersvärd (29 November 1915 – 2 February 2002) was a Swedish graphic artist, who in 1934 pioneered the art of 3D drawings that may initially appear feasible, yet cannot be physically constructed. He is sometimes described as &quot;the father of the impossible figure&quot;, although there are much older examples, e.g. Hogarth's Satire on False Perspective, in addition to more recent well known example of the Penrose triangle and some others. </p>
</li>
</ol>
</section>
]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2021-04-12T19:25:00.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">组件禁用</title>
    <id>https://breezeshane.github.io/CourseOfBlog/guide/disable/</id>
    <link href="https://breezeshane.github.io/CourseOfBlog/guide/disable/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <summary type="html"><![CDATA[<p>你可以通过设置页面的 Frontmatter，在页面禁用一些功能。</p>
]]></summary>
    <content type="html"><![CDATA[<p>你可以通过设置页面的 Frontmatter，在页面禁用一些功能。</p>

<p>本页面应当禁用了:</p>
<ul>
<li>导航栏</li>
<li>侧边栏</li>
<li>路径导航</li>
<li>页面信息</li>
<li>贡献者</li>
<li>编辑此页链接</li>
<li>更新时间</li>
<li>上一篇/下一篇 链接</li>
<li>评论</li>
<li>页脚</li>
<li>返回顶部按钮</li>
</ul>
]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <category term="使用指南"/>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T00:51:11.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">密码加密的文章</title>
    <id>https://breezeshane.github.io/CourseOfBlog/guide/encrypt/</id>
    <link href="https://breezeshane.github.io/CourseOfBlog/guide/encrypt/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<h1 id="密码加密的文章"> 密码加密的文章</h1>
<p>实际的文章内容。</p>
<p>段落 1 文字段落 1 文字段落 1 文字段落 1 文字段落 1 文字段落 1 文字段落 1 文字段落 1 文字段落 1 文字段落 1 文字段落 1 文字段落 1 文字。</p>
<p>段落 2 文字段落 2 文字段落 2 文字段落 2 文字段落 2 文字段落 2 文字段落 2 文字段落 2 文字段落 2 文字段落 2 文字段落 2 文字段落 2 文字段落 2 文字段落 2 文字。</p>
]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <category term="使用指南"/>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T00:51:11.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">Markdown 增强</title>
    <id>https://breezeshane.github.io/CourseOfBlog/guide/markdown/</id>
    <link href="https://breezeshane.github.io/CourseOfBlog/guide/markdown/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <summary type="html"><![CDATA[<p><code>vuepress-theme-hope</code> 通过内置 <a href="https://vuepress-theme-hope.github.io/md-enhance" target="_blank" rel="noopener noreferrer">md-enhance</a>，在 Markdown 中启用了更多的语法与新功能。</p>
]]></summary>
    <content type="html"><![CDATA[<p><code>vuepress-theme-hope</code> 通过内置 <a href="https://vuepress-theme-hope.github.io/md-enhance" target="_blank" rel="noopener noreferrer">md-enhance</a>，在 Markdown 中启用了更多的语法与新功能。</p>

<h2 id="一键启用"> 一键启用</h2>
<p>你可以设置 <code>themeconfig.mdEnhance.enableAll</code> 启用 <a href="https://vuepress-theme-hope.github.io/md-enhance" target="_blank" rel="noopener noreferrer">md-enhance</a> 插件的所有功能。</p>
<div><div><br><br><div>&nbsp;</div><div>&nbsp;</div><div>&nbsp;</div><br><br><br></div><pre><code>module<span>.</span>exports <span>=</span> <span>{</span>
  themeConfig<span>:</span> <span>{</span>
    mdEnhance<span>:</span> <span>{</span>
      enableAll<span>:</span> <span>true</span><span>,</span>
    <span>}</span><span>,</span>
  <span>}</span><span>,</span>
<span>}</span><span>;</span>
</code></pre><div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br></div></div><h2 id="新增的更多语法"> 新增的更多语法</h2>
<h3 id="上下角标"> 上下角标</h3>
<p>19<sup>th</sup> H<sub>2</sub>O</p>
<details><summary>代码</summary>
<div><pre><code>19^th^ H<span><span>~</span><span>2</span><span>~</span></span>O
</code></pre>
<div><span>1</span><br></div></div></details>
<ul>
<li><a href="https://vuepress-theme-hope.github.io/zh/guide/markdown/sup-sub/" target="_blank" rel="noopener noreferrer">点击查看</a></li>
</ul>
<h3 id="自定义对齐"> 自定义对齐</h3>
<div>
<p>我是居中的</p>
</div>
<div>
<p>我在右对齐</p>
</div>
<details><summary>代码</summary>
<div><pre><code>::: center

我是居中的

:::

::: right

我在右对齐

:::
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br></div></div></details>
<ul>
<li><a href="https://vuepress-theme-hope.github.io/zh/guide/markdown/align/" target="_blank" rel="noopener noreferrer">点击查看</a></li>
</ul>
<h3 id="脚注"> 脚注</h3>
<p>此文字有脚注<sup></sup>.</p>
<details><summary>代码</summary>
<div><pre><code>此文字有脚注[^first].

<span><span>[</span><span>^first</span><span>]</span><span>:</span> 这是脚注内容</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br></div></div></details>
<ul>
<li><a href="https://vuepress-theme-hope.github.io/zh/guide/markdown/footnote/" target="_blank" rel="noopener noreferrer">点击查看</a></li>
</ul>
<h3 id="标记"> 标记</h3>
<p>你可以标记 ==重要的内容== 。</p>
<details><summary>代码</summary>
<div><pre><code>你可以标记 ==重要的内容== 。
</code></pre>
<div><span>1</span><br></div></div></details>
<ul>
<li><a href="https://vuepress-theme-hope.github.io/zh/guide/markdown/mark/" target="_blank" rel="noopener noreferrer">点击查看</a></li>
</ul>
<h3 id="任务列表"> 任务列表</h3>
<ul>
<li>[x] 计划 1</li>
<li>[ ] 计划 2</li>
</ul>
<details><summary>Code</summary>
<div><pre><code><span>-</span> [x] 计划 1
<span>-</span> [ ] 计划 2
</code></pre>
<div><span>1</span><br><span>2</span><br></div></div></details>
<ul>
<li><a href="https://vuepress-theme-hope.github.io/guide/markdown/tasklist/" target="_blank" rel="noopener noreferrer">点击查看</a></li>
</ul>
<h3 id="流程图"> 流程图</h3>
<i>Not supported content</i><details><summary>代码</summary>
<div><pre><code><span><span>```</span><span>flow</span>
<span>cond=>condition: Process?
process=>operation: Process
e=>end: End

cond(yes)->process->e
cond(no)->e</span>
<span>```</span></span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br></div></div></details>
<ul>
<li><a href="https://vuepress-theme-hope.github.io/zh/guide/markdown/flowchart/" target="_blank" rel="noopener noreferrer">点击查看</a></li>
</ul>
<h2 id="mermaid"> Mermaid</h2>
<div><pre><code>graph TD;
    A--&gt;B;
    A--&gt;C;
    B--&gt;D;
    C--&gt;D;
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br></div></div><details><summary>代码</summary>
<div><pre><code><span><span>```</span><span>mermaid</span>
<span>graph TD;
    A-->B;
    A-->C;
    B-->D;
    C-->D;</span>
<span>```</span></span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br></div></div></details>
<ul>
<li><a href="https://vuepress-theme-hope.github.io/zh/guide/markdown/mermaid/" target="_blank" rel="noopener noreferrer">点击查看</a></li>
</ul>
<h3 id="tex-语法"> Tex 语法</h3>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:2.40003em;vertical-align:-0.95003em;"></span><span><span></span><span><span><span><span style="height:1.37144em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span style="margin-right:0.05556em;">∂</span><span><span style="margin-right:0.03588em;">ω</span><span><span><span><span style="height:0.590392em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span><span style="margin-right:0.05556em;">∂</span><span><span><span><span style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.686em;"><span></span></span></span></span></span><span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span style="top:0em;"><span>(</span></span><span><span></span><span><span><span><span style="height:1.341392em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span style="margin-right:0.03588em;">ω</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span><span style="margin-right:0.03588em;">y</span><span><span><span><span style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.03588em;">ω</span></span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.686em;"><span></span></span></span></span></span><span></span></span><span style="top:0em;"><span>)</span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:3.027669em;vertical-align:-1.277669em;"></span><span><span style="top:0em;"><span>(</span></span><span><span></span><span><span><span><span style="height:1.341392em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span style="margin-right:0.03588em;">ω</span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span><span style="margin-right:0.03588em;">y</span><span><span><span><span style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.03588em;">ω</span></span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.686em;"><span></span></span></span></span></span><span></span></span><span style="top:0em;"><span>)</span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span style="top:0em;"><span>{</span></span><span>(</span><span>lo<span style="margin-right:0.01389em;">g</span></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.03588em;">y</span><span><span>)</span><span><span><span><span style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span></span></span></span></span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span><span><span><span style="height:1.6513970000000002em;"><span style="top:-1.872331em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span>i</span><span>=</span><span>1</span></span></span></span><span style="top:-3.050005em;"><span style="height:3.05em;"></span><span><span>∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span style="height:3.05em;"></span><span><span style="margin-right:0.02778em;">r</span></span></span></span><span>​</span></span><span><span style="height:1.277669em;"><span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span></span><span><span><span><span style="height:1.5016639999999999em;"><span style="top:-2.314em;"><span style="height:3em;"></span><span><span><span style="margin-right:0.03588em;">ω</span><span><span><span><span style="height:0.750664em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>i</span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span style="height:3em;"></span><span><span>(</span><span>−</span><span>1</span><span><span>)</span><span><span><span><span style="height:0.824664em;"><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>i</span></span></span></span></span></span></span></span><span style="margin-right:0.02778em;">r</span><span style="margin-right:0.16666666666666666em;"></span><span>⋯</span><span style="margin-right:0.16666666666666666em;"></span><span>(</span><span style="margin-right:0.02778em;">r</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span><span>i</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span><span>1</span><span>)</span><span>(</span><span>lo<span style="margin-right:0.01389em;">g</span></span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.03588em;">y</span><span><span>)</span><span><span><span><span style="height:0.824664em;"><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span style="margin-right:0.02778em;">r</span><span>−</span><span>i</span></span></span></span></span></span></span></span></span></span></span></span><span>​</span></span><span><span style="height:0.686em;"><span></span></span></span></span></span><span></span></span><span style="top:0em;"><span>}</span></span></span></span></span></span></span></p>
<details><summary>代码</summary>
<div><pre><code>$$
\frac {\partial^r} {\partial \omega^r} \left(\frac {y^{\omega}} {\omega}\right)
= \left(\frac {y^{\omega}} {\omega}\right) \left\{(\log y)^r + \sum_{i=1}^r \frac {(-1)^i r \cdots (r-i+1) (\log y)^{r-i}} {\omega^i} \right\}
$$
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br></div></div></details>
<ul>
<li><a href="https://vuepress-theme-hope.github.io/zh/guide/markdown/tex/" target="_blank" rel="noopener noreferrer">点击查看</a></li>
</ul>
<h3 id="代码案例"> 代码案例</h3>

          <div
            id="code-demo-e18e4abe"
           
  
 data-title="%E4%B8%80%E4%B8%AA%E6%99%AE%E9%80%9A%20Demo"

            data-code="%7B%22html%22%3A%22%3Ch1%3EMr.Hope%3C%2Fh1%3E%5Cn%3Cp%3E%3Cspan%20id%3D%5C%22very%5C%22%3E%E5%8D%81%E5%88%86%3C%2Fspan%3E%20%E5%B8%85%3C%2Fp%3E%5Cn%22%2C%22js%22%3A%22document.querySelector(%5C%22%23very%5C%22).addEventListener(%5C%22click%5C%22%2C%20()%20%3D%3E%20%7B%5Cn%20%20alert(%5C%22%E5%8D%81%E5%88%86%E5%B8%85%5C%22)%3B%5Cn%7D)%3B%5Cn%22%2C%22css%22%3A%22span%20%7B%5Cn%20%20color%3A%20red%3B%5Cn%7D%5Cn%22%7D"
          >
              <div>
                
              </div>
              <div>
                <div>
<div><pre><code><span><span><span>&lt;</span>h1</span><span>></span></span>Mr.Hope<span><span><span>&lt;/</span>h1</span><span>></span></span>
<span><span><span>&lt;</span>p</span><span>></span></span><span><span><span>&lt;</span>span</span> <span>id</span><span><span>=</span><span>"</span>very<span>"</span></span><span>></span></span>十分<span><span><span>&lt;/</span>span</span><span>></span></span> 帅<span><span><span>&lt;/</span>p</span><span>></span></span>
</code></pre>
<div><span>1</span><br><span>2</span><br></div></div><div><pre><code>document<span>.</span><span>querySelector</span><span>(</span><span>"#very"</span><span>)</span><span>.</span><span>addEventListener</span><span>(</span><span>"click"</span><span>,</span> <span>(</span><span>)</span> <span>=></span> <span>{</span>
  <span>alert</span><span>(</span><span>"十分帅"</span><span>)</span><span>;</span>
<span>}</span><span>)</span><span>;</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br></div></div><div><pre><code><span>span</span> <span>{</span>
  <span>color</span><span>:</span> red<span>;</span>
<span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br></div></div>
            </div>
          </div>
          
        </div>
<details><summary>代码</summary>
<div><pre><code>::: demo 一个普通 Demo

<span><span>```</span><span>html</span>
<span><span><span><span>&lt;</span>h1</span><span>></span></span>Mr.Hope<span><span><span>&lt;/</span>h1</span><span>></span></span>
<span><span><span>&lt;</span>p</span><span>></span></span><span><span><span>&lt;</span>span</span> <span>id</span><span><span>=</span><span>"</span>very<span>"</span></span><span>></span></span>十分<span><span><span>&lt;/</span>span</span><span>></span></span> 帅<span><span><span>&lt;/</span>p</span><span>></span></span></span>
<span>```</span></span>

<span><span>```</span><span>js</span>
<span>document<span>.</span><span>querySelector</span><span>(</span><span>"#very"</span><span>)</span><span>.</span><span>addEventListener</span><span>(</span><span>"click"</span><span>,</span> <span>(</span><span>)</span> <span>=></span> <span>{</span>
  <span>alert</span><span>(</span><span>"十分帅"</span><span>)</span><span>;</span>
<span>}</span><span>)</span><span>;</span></span>
<span>```</span></span>

<span><span>```</span><span>css</span>
<span><span>span</span> <span>{</span>
  <span>color</span><span>:</span> red<span>;</span>
<span>}</span></span>
<span>```</span></span>

:::
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br><span>18</span><br><span>19</span><br><span>20</span><br></div></div></details>

          <div
            id="code-demo-3973beae"
           
  data-type="react"
 data-title="%E4%B8%80%E4%B8%AA%20React%20Demo"

            data-code="%7B%22js%22%3A%22export%20default%20class%20App%20extends%20React.Component%20%7B%5Cn%20%20constructor(props)%20%7B%5Cn%20%20%20%20super(props)%3B%5Cn%20%20%20%20this.state%20%3D%20%7B%20message%3A%20%5C%22%E5%8D%81%E5%88%86%E5%B8%85%5C%22%20%7D%3B%5Cn%20%20%7D%5Cn%20%20render()%20%7B%5Cn%20%20%20%20return%20(%5Cn%20%20%20%20%20%20%3Cdiv%20className%3D%5C%22box-react%5C%22%3E%5Cn%20%20%20%20%20%20%20%20Mr.Hope%20%3Cspan%3E%7Bthis.state.message%7D%3C%2Fspan%3E%5Cn%20%20%20%20%20%20%3C%2Fdiv%3E%5Cn%20%20%20%20)%3B%5Cn%20%20%7D%5Cn%7D%5Cn%22%2C%22css%22%3A%22.box-react%20span%20%7B%5Cn%20%20color%3A%20red%3B%5Cn%7D%5Cn%22%7D"
          >
              <div>
                
              </div>
              <div>
                <div>
<div><pre><code><span>export</span> <span>default</span> <span>class</span> <span>App</span> <span>extends</span> <span>React<span>.</span>Component</span> <span>{</span>
  <span>constructor</span><span>(</span><span>props</span><span>)</span> <span>{</span>
    <span>super</span><span>(</span>props<span>)</span><span>;</span>
    <span>this</span><span>.</span>state <span>=</span> <span>{</span> message<span>:</span> <span>"十分帅"</span> <span>}</span><span>;</span>
  <span>}</span>
  <span>render</span><span>(</span><span>)</span> <span>{</span>
    <span>return</span> <span>(</span>
      <span>&lt;</span>div className<span>=</span><span>"box-react"</span><span>></span>
        Mr<span>.</span>Hope <span>&lt;</span>span<span>></span><span>{</span><span>this</span><span>.</span>state<span>.</span>message<span>}</span><span>&lt;</span><span>/</span>span<span>></span>
      <span>&lt;</span><span>/</span>div<span>></span>
    <span>)</span><span>;</span>
  <span>}</span>
<span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br></div></div><div><pre><code><span>.box-react span</span> <span>{</span>
  <span>color</span><span>:</span> red<span>;</span>
<span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br></div></div>
            </div>
          </div>
          
        </div>
<details><summary>代码</summary>
<div><pre><code>::: demo [react] 一个 React Demo

<span><span>```</span><span>js</span>
<span><span>export</span> <span>default</span> <span>class</span> <span>App</span> <span>extends</span> <span>React<span>.</span>Component</span> <span>{</span>
  <span>constructor</span><span>(</span><span>props</span><span>)</span> <span>{</span>
    <span>super</span><span>(</span>props<span>)</span><span>;</span>
    <span>this</span><span>.</span>state <span>=</span> <span>{</span> message<span>:</span> <span>"十分帅"</span> <span>}</span><span>;</span>
  <span>}</span>
  <span>render</span><span>(</span><span>)</span> <span>{</span>
    <span>return</span> <span>(</span>
      <span>&lt;</span>div className<span>=</span><span>"box-react"</span><span>></span>
        Mr<span>.</span>Hope <span>&lt;</span>span<span>></span><span>{</span><span>this</span><span>.</span>state<span>.</span>message<span>}</span><span>&lt;</span><span>/</span>span<span>></span>
      <span>&lt;</span><span>/</span>div<span>></span>
    <span>)</span><span>;</span>
  <span>}</span>
<span>}</span></span>
<span>```</span></span>

<span><span>```</span><span>css</span>
<span><span>.box-react span</span> <span>{</span>
  <span>color</span><span>:</span> red<span>;</span>
<span>}</span></span>
<span>```</span></span>

:::
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br><span>18</span><br><span>19</span><br><span>20</span><br><span>21</span><br><span>22</span><br><span>23</span><br><span>24</span><br><span>25</span><br></div></div></details>

          <div
            id="code-demo-08f119be"
           
  data-type="vue"
 data-title="%E4%B8%80%E4%B8%AA%20Vue%20Demo"

            data-code="%7B%22vue%22%3A%22%3Ctemplate%3E%5Cn%20%20%3Cdiv%20class%3D%5C%22box-vue%5C%22%3E%5Cn%20%20%20%20Mr.Hope%20%3Cspan%3E%7B%7B%20message%20%7D%7D%3C%2Fspan%3E%5Cn%20%20%3C%2Fdiv%3E%5Cn%3C%2Ftemplate%3E%5Cn%3Cscript%3E%5Cnexport%20default%20%7B%5Cn%20%20data%3A%20()%20%3D%3E%20(%7B%20message%3A%20%5C%22%E5%8D%81%E5%88%86%E5%B8%85%5C%22%20%7D)%2C%5Cn%7D%3B%5Cn%3C%2Fscript%3E%5Cn%3Cstyle%3E%5Cn.box-vue%20span%20%7B%5Cn%20%20color%3A%20red%3B%5Cn%7D%5Cn%3C%2Fstyle%3E%5Cn%22%7D"
          >
              <div>
                
              </div>
              <div>
                <div>
<div><pre><code><span><span><span>&lt;</span>template</span><span>></span></span>
  <span><span><span>&lt;</span>div</span> <span>class</span><span><span>=</span><span>"</span>box-vue<span>"</span></span><span>></span></span>
    Mr.Hope <span><span><span>&lt;</span>span</span><span>></span></span>{{ message }}<span><span><span>&lt;/</span>span</span><span>></span></span>
  <span><span><span>&lt;/</span>div</span><span>></span></span>
<span><span><span>&lt;/</span>template</span><span>></span></span>
<span><span><span>&lt;</span>script</span><span>></span></span><span><span>
<span>export</span> <span>default</span> <span>{</span>
  <span>data</span><span>:</span> <span>(</span><span>)</span> <span>=></span> <span>(</span><span>{</span> message<span>:</span> <span>"十分帅"</span> <span>}</span><span>)</span><span>,</span>
<span>}</span><span>;</span>
</span></span><span><span><span>&lt;/</span>script</span><span>></span></span>
<span><span><span>&lt;</span>style</span><span>></span></span><span><span>
<span>.box-vue span</span> <span>{</span>
  <span>color</span><span>:</span> red<span>;</span>
<span>}</span>
</span></span><span><span><span>&lt;/</span>style</span><span>></span></span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br></div></div>
            </div>
          </div>
          
        </div>
<details><summary>代码</summary>
<div><pre><code>::: demo [vue] 一个 Vue Demo

<span><span>```</span><span>vue</span>
<span>&lt;template>
  &lt;div>
    Mr.Hope &lt;span>{{ message }}&lt;/span>
  &lt;/div>
&lt;/template>
&lt;script>
export default {
  data: () => ({ message: "十分帅" }),
};
&lt;/script>
&lt;style>
.box-vue span {
  color: red;
}
&lt;/style></span>
<span>```</span></span>

:::
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br><span>18</span><br><span>19</span><br><span>20</span><br><span>21</span><br></div></div></details>

          <div
            id="code-demo-2b9215d0"
           
  
 data-title="%E4%B8%80%E4%B8%AA%E6%99%AE%E9%80%9A%20Demo"

            data-code="%7B%22md%22%3A%22%23%20%E6%A0%87%E9%A2%98%5Cn%5Cn%E5%8D%81%E5%88%86%E5%B8%85%5Cn%22%2C%22ts%22%3A%22const%20message%3A%20string%20%3D%20%5C%22Mr.Hope%5C%22%3B%5Cn%5Cndocument.querySelector(%5C%22h1%5C%22).innerHTML%20%3D%20message%3B%5Cn%22%2C%22scss%22%3A%22h1%20%7B%5Cn%20%20font-style%3A%20italic%3B%5Cn%5Cn%20%20%2B%20p%20%7B%5Cn%20%20%20%20color%3A%20red%3B%5Cn%20%20%7D%5Cn%7D%5Cn%22%7D"
          >
              <div>
                
              </div>
              <div>
                <div>
<div><pre><code><span><span>#</span> 标题</span>

十分帅
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br></div></div><div><pre><code><span>const</span> message<span>:</span> <span>string</span> <span>=</span> <span>"Mr.Hope"</span><span>;</span>

document<span>.</span><span>querySelector</span><span>(</span><span>"h1"</span><span>)</span><span>.</span>innerHTML <span>=</span> message<span>;</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br></div></div><div><pre><code><span>h1 </span><span>{</span>
  <span>font-style</span><span>:</span> italic<span>;</span>

  <span>+ p </span><span>{</span>
    <span>color</span><span>:</span> red<span>;</span>
  <span>}</span>
<span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br></div></div>
            </div>
          </div>
          
        </div>
<details><summary>代码</summary>
<div><pre><code>::: demo 一个普通 Demo

<span><span>```</span><span>md</span>
<span><span><span>#</span> 标题</span>

十分帅</span>
<span>```</span></span>

<span><span>```</span><span>ts</span>
<span><span>const</span> message<span>:</span> <span>string</span> <span>=</span> <span>"Mr.Hope"</span><span>;</span>

document<span>.</span><span>querySelector</span><span>(</span><span>"h1"</span><span>)</span><span>.</span>innerHTML <span>=</span> message<span>;</span></span>
<span>```</span></span>

<span><span>```</span><span>scss</span>
<span><span>h1 </span><span>{</span>
  <span>font-style</span><span>:</span> italic<span>;</span>

  <span>+ p </span><span>{</span>
    <span>color</span><span>:</span> red<span>;</span>
  <span>}</span>
<span>}</span></span>
<span>```</span></span>

:::
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br><span>18</span><br><span>19</span><br><span>20</span><br><span>21</span><br><span>22</span><br><span>23</span><br><span>24</span><br><span>25</span><br></div></div></details>
<ul>
<li><a href="https://vuepress-theme-hope.github.io/zh/guide/markdown/demo/" target="_blank" rel="noopener noreferrer">点击查看</a></li>
</ul>
<h3 id="幻灯片"> 幻灯片</h3>
<i>Not supported content</i><details><summary>代码</summary>
<div><pre><code>@slidestart

<span><span>##</span> 幻灯片 1</span>

一个有文字和 <span>[<span>链接</span>](<span>https://mrhope.site</span>)</span> 的段落

<span>---</span>

<span><span>##</span> 幻灯片 2</span>

<span>-</span> 列表 1
<span>-</span> 列表 2

<span>---</span>

<span><span>##</span> 幻灯片 3.1</span>

<span><span>```</span><span>js</span>
<span><span>const</span> a <span>=</span> <span>1</span><span>;</span></span>
<span>```</span></span>

--

<span><span>##</span> 幻灯片 3.2</span>

$$
J(\theta_0,\theta_1) = \sum_{i=0}
$$

@slideend
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br><span>18</span><br><span>19</span><br><span>20</span><br><span>21</span><br><span>22</span><br><span>23</span><br><span>24</span><br><span>25</span><br><span>26</span><br><span>27</span><br><span>28</span><br><span>29</span><br><span>30</span><br></div></div></details>
<ul>
<li><a href="https://vuepress-theme-hope.github.io/zh/guide/markdown/presentation/" target="_blank" rel="noopener noreferrer">点击查看</a></li>
</ul>
<h2 id="其他语法"> 其他语法</h2>
<div><p>自定义标题</p>
<p>信息容器</p>
</div>
<div><p>自定义标题</p>
<p>提示容器</p>
</div>
<div><p>自定义标题</p>
<p>警告容器</p>
</div>
<div><p>自定义标题</p>
<p>危险容器</p>
</div>
<details><summary>自定义标题</summary>
<p>详情容器</p>
</details>
<details><summary>代码</summary>
<div><pre><code>::: info 自定义标题

信息容器

:::

::: tip 自定义标题

提示容器

:::

::: warning 自定义标题

警告容器

:::

::: danger 自定义标题

危险容器

:::

::: details 自定义标题

详情容器

:::
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br><span>18</span><br><span>19</span><br><span>20</span><br><span>21</span><br><span>22</span><br><span>23</span><br><span>24</span><br><span>25</span><br><span>26</span><br><span>27</span><br><span>28</span><br><span>29</span><br></div></div></details>
<hr>
<section>
<ol>
<li id="footnote1"><p>这是脚注内容 </p>
</li>
</ol>
</section>
]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <category term="使用指南"/>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T00:51:11.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">页面配置</title>
    <id>https://breezeshane.github.io/CourseOfBlog/guide/page/</id>
    <link href="https://breezeshane.github.io/CourseOfBlog/guide/page/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<h2 id="页面信息"> 页面信息</h2>
<p>你可以在 Markdown 的 Frontmatter 中设置页面信息。</p>
<ul>
<li>
<p>作者设置为 Ms.Hope。</p>
</li>
<li>
<p>写作时间应为 2020 年 1 月 1 日</p>
</li>
<li>
<p>分类为 “使用指南”</p>
</li>
<li>
<p>标签为 “页面配置” 和 “使用指南”</p>
</li>
</ul>
<h2 id="页面内容"> 页面内容</h2>
<p>你可以自由在这里书写你的 Markdown。</p>
<div><p>提示</p>
<ul>
<li>
<p>Markdown 文件夹的图片请使用相对链接 <code>./</code> 进行引用。</p>
</li>
<li>
<p><code>.vuepress/public</code> 文件夹的图片，请使用绝对链接 <code>/</code> 进行引用</p>
</li>
</ul>
</div>
<p>主题包含了一个自定义徽章章可以使用:</p>
<blockquote>
<p>文字结尾应该有深蓝色的 徽章文字 徽章。 <i>Not supported content</i></p>
</blockquote>
<h2 id="页面结构"> 页面结构</h2>
<p>此页面应当包含：</p>
<ul>
<li>返回顶部按钮</li>
<li>路径导航</li>
<li>评论</li>
<li>页脚</li>
</ul>
]]></content>
    <author>
      <name>Ms.Hope</name>
    </author>
    <category term="使用指南"/>
    <contributor>
      <name>Ms.Hope</name>
    </contributor>
    <published>2020-01-01T00:00:00.000Z</published>
    <rights>Copyright by Ms.Hope</rights>
  </entry>
  <entry>
    <title type="html">主要功能与配置演示</title>
    <id>https://breezeshane.github.io/CourseOfBlog/guide/</id>
    <link href="https://breezeshane.github.io/CourseOfBlog/guide/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<h1 id="主要功能与配置演示"> 主要功能与配置演示</h1>
<ul>
<li>
<p><a href="./page.html">页面展示</a></p>
</li>
<li>
<p><a href="./markdown.html">Markdown 展示</a></p>
</li>
<li>
<p><a href="./disable.html">禁用展示</a></p>
</li>
<li>
<p><a href="./encrypt.html">加密展示</a></p>
</li>
</ul>
]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <category term="使用指南"/>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T00:51:11.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">项目主页</title>
    <id>https://breezeshane.github.io/CourseOfBlog/home/</id>
    <link href="https://breezeshane.github.io/CourseOfBlog/home/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<p>这是普通主页的案例。你可以在这里放置你的主体内容。</p>
<p>想要使用此布局，你需要在页面 front matter 中设置 <code>home: true</code>。</p>
<p>配置项的相关说明详见 <a href="https://vuepress-theme-hope.github.io/zh/guide/layout/home/" target="_blank" rel="noopener noreferrer">项目主页配置</a>。</p>
]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T00:51:11.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">自定义布局</title>
    <id>https://breezeshane.github.io/CourseOfBlog/layout/</id>
    <link href="https://breezeshane.github.io/CourseOfBlog/layout/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<p>您可以使用带有 Markdown 支持的插槽来自定义页面布局。</p>
<template #page-top><p>页面顶部内容</p>
</template><template #page-bottom><p>页面底部内容</p>
</template><template #content-top><p>内容顶部内容</p>
</template><template #content-bottom><p>内容底部内容</p>
</template><template #navbar-start><p>导航栏起始内容</p>
</template><template #navbar-center><p>导航栏中部内容</p>
</template><template #navbar-end><p>导航栏末尾内容</p>
</template><template #sidebar-top><p>侧边栏顶部内容</p>
</template><template #sidebar-center><p>侧边栏中部内容</p>
</template><template #sidebar-bottom><p>侧边栏底部内容</p>
</template><p>更多详情，详见 <a href="https://vuepress-theme-hope.github.io/zh/guide/layout/custom/" target="_blank" rel="noopener noreferrer">自定义布局</a>.</p>
]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T00:51:11.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">博客主页</title>
    <id>https://breezeshane.github.io/CourseOfBlog/</id>
    <link href="https://breezeshane.github.io/CourseOfBlog/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<p>这是一个博客主页。</p>
<p>要使用此布局，您应该在页面前端设置 <code>blog: true</code> 和 <code>home: true</code>。</p>
<p>相关配置文档请见 <a href="https://vuepress-theme-hope.github.io/zh/guide/blog/home/" target="_blank" rel="noopener noreferrer">博客主页</a></p>
]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T00:51:11.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">幻灯片页</title>
    <id>https://breezeshane.github.io/CourseOfBlog/slides/</id>
    <link href="https://breezeshane.github.io/CourseOfBlog/slides/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[
<i>Not supported content</i>]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T00:51:11.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">二叉搜索树</title>
    <id>https://breezeshane.github.io/DataStructuresandAlgorithms/Algorithms/SearchAlgorithms/BinarySearch/</id>
    <link href="https://breezeshane.github.io/DataStructuresandAlgorithms/Algorithms/SearchAlgorithms/BinarySearch/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:24:37.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">分块查找</title>
    <id>https://breezeshane.github.io/DataStructuresandAlgorithms/Algorithms/SearchAlgorithms/BlockSearch/</id>
    <link href="https://breezeshane.github.io/DataStructuresandAlgorithms/Algorithms/SearchAlgorithms/BlockSearch/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:24:44.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">斐波那契搜索</title>
    <id>https://breezeshane.github.io/DataStructuresandAlgorithms/Algorithms/SearchAlgorithms/FibonacciSearch/</id>
    <link href="https://breezeshane.github.io/DataStructuresandAlgorithms/Algorithms/SearchAlgorithms/FibonacciSearch/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:24:51.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">哈希搜索</title>
    <id>https://breezeshane.github.io/DataStructuresandAlgorithms/Algorithms/SearchAlgorithms/HashSearch/</id>
    <link href="https://breezeshane.github.io/DataStructuresandAlgorithms/Algorithms/SearchAlgorithms/HashSearch/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:25:03.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">插值搜索</title>
    <id>https://breezeshane.github.io/DataStructuresandAlgorithms/Algorithms/SearchAlgorithms/InterpolationSearch/</id>
    <link href="https://breezeshane.github.io/DataStructuresandAlgorithms/Algorithms/SearchAlgorithms/InterpolationSearch/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:25:08.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">顺序搜索</title>
    <id>https://breezeshane.github.io/DataStructuresandAlgorithms/Algorithms/SearchAlgorithms/SequentialSearch/</id>
    <link href="https://breezeshane.github.io/DataStructuresandAlgorithms/Algorithms/SearchAlgorithms/SequentialSearch/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:25:16.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">树表查找</title>
    <id>https://breezeshane.github.io/DataStructuresandAlgorithms/Algorithms/SearchAlgorithms/TreeTableLookup/</id>
    <link href="https://breezeshane.github.io/DataStructuresandAlgorithms/Algorithms/SearchAlgorithms/TreeTableLookup/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:25:31.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">冒泡排序</title>
    <id>https://breezeshane.github.io/DataStructuresandAlgorithms/Algorithms/SortAlgorithms/BubbleSort/</id>
    <link href="https://breezeshane.github.io/DataStructuresandAlgorithms/Algorithms/SortAlgorithms/BubbleSort/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:25:41.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">桶排序</title>
    <id>https://breezeshane.github.io/DataStructuresandAlgorithms/Algorithms/SortAlgorithms/BucketSort/</id>
    <link href="https://breezeshane.github.io/DataStructuresandAlgorithms/Algorithms/SortAlgorithms/BucketSort/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:25:49.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">计数排序</title>
    <id>https://breezeshane.github.io/DataStructuresandAlgorithms/Algorithms/SortAlgorithms/CountingSort/</id>
    <link href="https://breezeshane.github.io/DataStructuresandAlgorithms/Algorithms/SortAlgorithms/CountingSort/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:25:53.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">堆排序</title>
    <id>https://breezeshane.github.io/DataStructuresandAlgorithms/Algorithms/SortAlgorithms/HeapSort/</id>
    <link href="https://breezeshane.github.io/DataStructuresandAlgorithms/Algorithms/SortAlgorithms/HeapSort/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:25:59.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">插入排序</title>
    <id>https://breezeshane.github.io/DataStructuresandAlgorithms/Algorithms/SortAlgorithms/InsertionSort/</id>
    <link href="https://breezeshane.github.io/DataStructuresandAlgorithms/Algorithms/SortAlgorithms/InsertionSort/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:26:04.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">归并排序</title>
    <id>https://breezeshane.github.io/DataStructuresandAlgorithms/Algorithms/SortAlgorithms/MergeSort/</id>
    <link href="https://breezeshane.github.io/DataStructuresandAlgorithms/Algorithms/SortAlgorithms/MergeSort/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:26:08.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">快速排序</title>
    <id>https://breezeshane.github.io/DataStructuresandAlgorithms/Algorithms/SortAlgorithms/QuickSort/</id>
    <link href="https://breezeshane.github.io/DataStructuresandAlgorithms/Algorithms/SortAlgorithms/QuickSort/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:26:20.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">基数排序</title>
    <id>https://breezeshane.github.io/DataStructuresandAlgorithms/Algorithms/SortAlgorithms/RadixSort/</id>
    <link href="https://breezeshane.github.io/DataStructuresandAlgorithms/Algorithms/SortAlgorithms/RadixSort/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:26:24.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">选择排序</title>
    <id>https://breezeshane.github.io/DataStructuresandAlgorithms/Algorithms/SortAlgorithms/SelectionSort/</id>
    <link href="https://breezeshane.github.io/DataStructuresandAlgorithms/Algorithms/SortAlgorithms/SelectionSort/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:26:29.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">希尔排序</title>
    <id>https://breezeshane.github.io/DataStructuresandAlgorithms/Algorithms/SortAlgorithms/ShellSort/</id>
    <link href="https://breezeshane.github.io/DataStructuresandAlgorithms/Algorithms/SortAlgorithms/ShellSort/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:26:36.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">循环链表</title>
    <id>https://breezeshane.github.io/DataStructuresandAlgorithms/DataStructures/CircularLinkedList/</id>
    <link href="https://breezeshane.github.io/DataStructuresandAlgorithms/DataStructures/CircularLinkedList/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<h2 id="定义"> 定义</h2>
<p>循环链表，即令单链表尾结点的指针指向链表的头结点。</p>
<p>结构代码的定义：「本质上与单链表的结构体定义并无差异」</p>
<div><pre><code><span>struct</span> <span>node</span><span>{</span>
    <span>int</span> data<span>;</span>
    <span>struct</span> <span>node</span> <span>*</span>next<span>;</span>
<span>}</span><span>;</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br></div></div><h2 id="循环链表的出现原因"> 循环链表的出现原因</h2>
<p>由于单链表在遍历上存在问题，而且尾结点的指针空间也并未利用起来，在需要快速访问表头和表尾的应用中，比较自然的想法就是尾结点直接连接到首结点「即第一个数据结点」。</p>
<h2 id="循环链表的基本操作及实现"> 循环链表的基本操作及实现</h2>
<h3 id="创建"> 创建</h3>
<p><strong>实现思路</strong>：</p>
<p>创建空的循环链表，即只需要创建头指针和头结点，并且头指针指向头结点，头结点指向自己。</p>
<p><strong>源代码</strong>：</p>
<div><pre><code><span>struct</span> <span>node</span> <span>*</span><span>createRlist</span><span>(</span><span>)</span><span>{</span>
    <span>struct</span> <span>node</span><span>*</span> HEAD <span>=</span> <span>(</span><span>struct</span> <span>node</span><span>*</span><span>)</span><span>malloc</span><span>(</span><span>sizeof</span><span>(</span><span>struct</span> <span>node</span><span>)</span><span>)</span><span>;</span>
    <span>struct</span> <span>node</span><span>*</span> headNode <span>=</span> <span>(</span><span>struct</span> <span>node</span><span>*</span><span>)</span><span>malloc</span><span>(</span><span>sizeof</span><span>(</span><span>struct</span> <span>node</span><span>)</span><span>)</span><span>;</span>
    HEAD<span>-></span>next <span>=</span> headNode<span>;</span>
    headNode<span>-></span>next <span>=</span> headNode<span>;</span>
    headNode<span>-></span>data <span>=</span> <span>0</span><span>;</span>
    <span>return</span> HEAD<span>;</span>
<span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br></div></div><p><strong>时间复杂度</strong>：只需要执行有限个创建的操作，因此时间复杂度为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span>1</span><span>)</span></span></span></span>。</p>
<p><strong>空间复杂度</strong>：创建时只需要申请有限固定的空间大小，与用户输入规模无关，因此空间复杂度为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span>1</span><span>)</span></span></span></span>。</p>
<h3 id="插入"> 插入</h3>
<p><strong>实现思路</strong>：</p>
<p>思路和单链表的插入思路十分相似，因此在此不作赘述。下面给出的插入方式是按照升序方式插入。</p>
<p><strong>源代码</strong>：</p>
<div><pre><code><span>//按照升序方式插入循环链表</span>
<span>void</span> <span>insertOrder</span><span>(</span><span>struct</span> <span>node</span> <span>*</span>list<span>,</span> <span>int</span> insData<span>)</span><span>{</span>
    <span>struct</span> <span>node</span><span>*</span> tailNode <span>=</span> list<span>-></span>next<span>;</span>
    <span>struct</span> <span>node</span><span>*</span> headNode <span>=</span> tailNode<span>-></span>next<span>;</span>
    <span>struct</span> <span>node</span><span>*</span> newNode <span>=</span> <span>(</span><span>struct</span> <span>node</span><span>*</span><span>)</span><span>malloc</span><span>(</span><span>sizeof</span><span>(</span><span>struct</span> <span>node</span><span>)</span><span>)</span><span>;</span>
    newNode<span>-></span>data <span>=</span> insData<span>;</span>
    newNode<span>-></span>next <span>=</span> <span>NULL</span><span>;</span>

    <span>if</span> <span>(</span>headNode <span>==</span> tailNode<span>)</span><span>{</span>
        tailNode<span>-></span>next <span>=</span> newNode<span>;</span>
        newNode<span>-></span>next <span>=</span> headNode<span>;</span>
        list<span>-></span>next <span>=</span> newNode<span>;</span>
        headNode<span>-></span>data<span>++</span><span>;</span>
        <span>return</span><span>;</span>
    <span>}</span>
    <span>if</span> <span>(</span>tailNode<span>-></span>data <span>&lt;</span> newNode<span>-></span>data<span>)</span><span>{</span>
        newNode<span>-></span>next <span>=</span> tailNode<span>-></span>next<span>;</span>
        tailNode<span>-></span>next <span>=</span> newNode<span>;</span>
        list<span>-></span>next <span>=</span> newNode<span>;</span>
        headNode<span>-></span>data<span>++</span><span>;</span>
        <span>return</span><span>;</span>
    <span>}</span>

    <span>struct</span> <span>node</span><span>*</span> beforeInsertposition <span>=</span> headNode<span>;</span>
    <span>struct</span> <span>node</span><span>*</span> insertPosition <span>=</span> headNode<span>-></span>next<span>;</span>
    <span>while</span> <span>(</span>insertPosition <span>!=</span> headNode<span>)</span><span>{</span>
        <span>if</span> <span>(</span>newNode<span>-></span>data <span>&lt;</span> insertPosition<span>-></span>data<span>)</span>
            <span>break</span><span>;</span>
        beforeInsertposition <span>=</span> beforeInsertposition<span>-></span>next<span>;</span>
        insertPosition <span>=</span> insertPosition<span>-></span>next<span>;</span>
    <span>}</span>
    beforeInsertposition<span>-></span>next <span>=</span> newNode<span>;</span>
    newNode<span>-></span>next <span>=</span> insertPosition<span>;</span>
    headNode<span>-></span>data<span>++</span><span>;</span>
    <span>return</span><span>;</span>
<span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br><span>18</span><br><span>19</span><br><span>20</span><br><span>21</span><br><span>22</span><br><span>23</span><br><span>24</span><br><span>25</span><br><span>26</span><br><span>27</span><br><span>28</span><br><span>29</span><br><span>30</span><br><span>31</span><br><span>32</span><br><span>33</span><br><span>34</span><br><span>35</span><br><span>36</span><br></div></div><p><strong>时间复杂度</strong>：对于用户输入的<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>n</span></span></span></span>个数据中，每插入一个数据都需要在循环链表中遍历<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>m</span></span></span></span>次，因此可以估计时间复杂度为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.064108em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span><span>n</span><span><span><span><span style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span></span></span></span></span><span>)</span></span></span></span>。</p>
<p><strong>空间复杂度</strong>：由于用户插入循环链表的操作是基于原有的数据上进行操作，因此可以认为空间复杂度为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span>1</span><span>)</span></span></span></span>。</p>
<h3 id="删除"> 删除</h3>
<p><strong>实现思路</strong>：</p>
<p>遍历循环链表中的每一个结点，循环终止条件是遍历到头结点。在遍历每一结点中若值相同则进行删除操作，即删除结点的前驱指向删除结点的后继，因此需要有两个变量同步遍历链表，</p>
<p><strong>源代码</strong>：</p>
<div><pre><code><span>//删除链表中所有的指定值</span>
<span>int</span> <span>deleteData</span><span>(</span><span>struct</span> <span>node</span>  <span>*</span>list<span>,</span> <span>int</span> delData<span>)</span><span>{</span>
    <span>int</span> count <span>=</span> <span>0</span><span>;</span>
    <span>struct</span> <span>node</span><span>*</span> tailNode <span>=</span> list<span>-></span>next<span>;</span>
    <span>struct</span> <span>node</span><span>*</span> headNode <span>=</span> tailNode<span>-></span>next<span>;</span>
    <span>struct</span> <span>node</span><span>*</span> formerWatcher <span>=</span> headNode<span>;</span>
    <span>struct</span> <span>node</span><span>*</span> latterWatcher <span>=</span> headNode<span>-></span>next<span>;</span>
    <span>while</span><span>(</span>latterWatcher <span>!=</span> headNode<span>)</span><span>{</span>
        <span>if</span> <span>(</span>latterWatcher<span>-></span>data <span>==</span> delData<span>)</span><span>{</span>
            <span>struct</span> <span>node</span><span>*</span> toDel <span>=</span> latterWatcher<span>;</span>
            formerWatcher<span>-></span>next <span>=</span> latterWatcher<span>-></span>next<span>;</span>
            latterWatcher <span>=</span> latterWatcher<span>-></span>next<span>;</span>
            <span>free</span><span>(</span>toDel<span>)</span><span>;</span>
            count<span>++</span><span>;</span>
            <span>continue</span><span>;</span>
        <span>}</span>
        formerWatcher <span>=</span> formerWatcher<span>-></span>next<span>;</span>
        latterWatcher <span>=</span> latterWatcher<span>-></span>next<span>;</span>
    <span>}</span>
    headNode<span>-></span>data <span>-=</span> count<span>;</span>
    <span>return</span> count<span>;</span>
<span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br><span>18</span><br><span>19</span><br><span>20</span><br><span>21</span><br><span>22</span><br></div></div><p><strong>时间复杂度</strong>：遍历循环链表的每一个结点显然已有时间复杂度<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span>n</span><span>)</span></span></span></span>，如果每找到对应的要删除的元素，都会另外单独遍历循环链表来删除相同值的所有元素，相应的时间复杂度也是<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span>n</span><span>)</span></span></span></span>，因此认为时间复杂度应为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.064108em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span><span>n</span><span><span><span><span style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span></span></span></span></span><span>)</span></span></span></span>。</p>
<p><strong>空间复杂度</strong>：由于删除的操作仅需要固定的变量即可完成，因此空间复杂度为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span>1</span><span>)</span></span></span></span>。</p>
<h3 id="输出"> 输出</h3>
<p><strong>实现思路</strong>：</p>
<p>在循环链表中，遍历每一个结点并输出其存储的数据，如果使用<code>do ... while</code>句式，终止的条件是遍历到尾结点；如果使用<code>for</code>、<code>while</code>等句式，终止的条件应该是遍历到头结点。两者并无本质区别，写法不同，只是需要保证每遍历到一个结点的时候都要能输出其相应的数据。</p>
<p><strong>源代码</strong>：</p>
<div><pre><code><span>void</span> <span>printRlist</span><span>(</span><span>struct</span> <span>node</span> <span>*</span>list<span>)</span><span>{</span>
    <span>struct</span> <span>node</span><span>*</span> tempPointer <span>=</span> list<span>-></span>next<span>-></span>next<span>;</span>
    <span>do</span><span>{</span>
        tempPointer<span>=</span>tempPointer<span>-></span>next<span>;</span>
        <span>printf</span><span>(</span><span>"%d "</span><span>,</span> tempPointer<span>-></span>data<span>)</span><span>;</span>
    <span>}</span> <span>while</span> <span>(</span>tempPointer <span>!=</span> list<span>-></span>next<span>)</span><span>;</span>
<span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br></div></div><p><strong>时间复杂度</strong>：需要遍历循环链表中的每一个元素，该函数的执行次数与用户输入的数据规模线性相关，因此时间复杂度为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span>n</span><span>)</span></span></span></span>。</p>
<p><strong>空间复杂度</strong>：该函数需要申请固定的变量空间大小，因此空间复杂度为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span>1</span><span>)</span></span></span></span>。</p>
<h3 id="销毁"> 销毁</h3>
<p><strong>实现思路</strong>：</p>
<p>遍历每一个结点，并由指针变量指向该结点的后继，然后释放该结点的空间。</p>
<p><strong>源代码</strong>：</p>
<div><pre><code><span>int</span> <span>destroyRlist</span><span>(</span><span>struct</span> <span>node</span> <span>*</span>list<span>)</span>
<span>{</span>
    <span>struct</span> <span>node</span><span>*</span> tailNode <span>=</span> list<span>-></span>next<span>;</span>
    <span>struct</span> <span>node</span><span>*</span> linkSaver <span>=</span> tailNode<span>-></span>next<span>;</span>
    <span>struct</span> <span>node</span><span>*</span> toDel <span>=</span> <span>NULL</span><span>;</span>
    <span>int</span> delValue <span>=</span> <span>0</span><span>;</span>
    delValue <span>=</span> tailNode<span>-></span>data<span>;</span>
    <span>while</span> <span>(</span>linkSaver <span>!=</span> tailNode<span>)</span><span>{</span>
        toDel <span>=</span> linkSaver<span>;</span>
        linkSaver <span>=</span> linkSaver<span>-></span>next<span>;</span>
        <span>free</span><span>(</span>toDel<span>)</span><span>;</span>
    <span>}</span>
    <span>free</span><span>(</span>tailNode<span>)</span><span>;</span>
    <span>free</span><span>(</span>list<span>)</span><span>;</span>
    <span>return</span> delValue<span>;</span>
<span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br></div></div><p><strong>时间复杂度</strong>：该函数执行次数与用户的输入规模线性相关，因此可以认为时间复杂度为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span>n</span><span>)</span></span></span></span>。</p>
<p><strong>空间复杂度</strong>：该函数申请固定的空间大小，不随用户输入规模变化而变化，因此认为空间复杂度为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span>1</span><span>)</span></span></span></span>。</p>
<h3 id="查找"> 查找</h3>
<p><strong>实现思路</strong>：</p>
<p>这里实现的思路和单链表查找的思路是完全一致的，因此不再赘述。</p>
<p><strong>源代码</strong>：</p>
<div><pre><code><span>//查找指定数据是否存在链表中</span>
<span>int</span> <span>searchforData</span><span>(</span><span>struct</span> <span>node</span><span>*</span> list<span>,</span> <span>int</span> data<span>)</span><span>{</span>
    <span>struct</span> <span>node</span><span>*</span> headNode <span>=</span> list<span>-></span>next<span>;</span>
    <span>struct</span> <span>node</span><span>*</span> linkWatcher <span>=</span> headNode<span>-></span>next<span>;</span>
    <span>while</span><span>(</span>linkWatcher <span>!=</span> headNode<span>)</span><span>{</span>
        <span>if</span> <span>(</span>linkWatcher<span>-></span>data <span>==</span> data<span>)</span> <span>return</span> <span>1</span><span>;</span>
        linkWatcher <span>=</span> linkWatcher<span>-></span>next<span>;</span>
    <span>}</span>
    <span>return</span> <span>0</span><span>;</span>
<span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br></div></div><p><strong>时间复杂度</strong>：详细分析请查看单链表查询，这里直接给出结果<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span>n</span><span>)</span></span></span></span>。</p>
<p><strong>空间复杂度</strong>：详细分析请查看单链表查询，这里直接给出结果<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span>1</span><span>)</span></span></span></span>。</p>
<h3 id="关于循环链表的一些问题"> <a href="">关于循环链表的一些问题</a></h3>
]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2021-10-07T21:26:30.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">双链表</title>
    <id>https://breezeshane.github.io/DataStructuresandAlgorithms/DataStructures/DoubleLinkedList/</id>
    <link href="https://breezeshane.github.io/DataStructuresandAlgorithms/DataStructures/DoubleLinkedList/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<h2 id="定义"> 定义</h2>
<p>双链表，即表中每一个结点都有两个指针，分别指向前驱和后继。</p>
<p>结构代码的定义：</p>
<div><pre><code><span>struct</span> <span>node</span> <span>{</span>
    <span>int</span> data <span>;</span>
    <span>struct</span> <span>node</span> <span>*</span>llink<span>,</span> <span>*</span>rlink <span>;</span>
<span>}</span><span>;</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br></div></div><p>如果希望对双链表做一次封装，可以额外使用如下的代码：</p>
<div><pre><code><span>struct</span> <span>Hnode</span> <span>{</span>
    <span>struct</span> <span>node</span> <span>*</span>head<span>,</span> <span>*</span>tail<span>;</span>
<span>}</span><span>;</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br></div></div><p>双链表的出现是为了解决单链表不能直接访问前驱的问题。</p>
<h2 id="双向炼表的基本操作与实现"> 双向炼表的基本操作与实现</h2>
<h3 id="创建"> 创建</h3>
<p><strong>实现思路</strong>：</p>
<p>创建好相关的封装，并在此基础上创建双链表中的头结点，彼此相连构建成一个空的双链表。</p>
<p><strong>源代码</strong>：</p>
<div><pre><code><span>struct</span> <span>Hnode</span> <span>*</span><span>createDlist</span><span>(</span><span>)</span> <span>{</span>
    <span>struct</span> <span>Hnode</span><span>*</span> HEAD <span>=</span> <span>(</span><span>struct</span> <span>Hnode</span><span>*</span><span>)</span> <span>malloc</span><span>(</span><span>sizeof</span> <span>(</span><span>struct</span> <span>Hnode</span><span>)</span><span>)</span><span>;</span>
    <span>struct</span> <span>node</span><span>*</span> headNode <span>=</span> <span>(</span><span>struct</span> <span>node</span><span>*</span><span>)</span> <span>malloc</span><span>(</span><span>sizeof</span><span>(</span><span>struct</span> <span>node</span><span>)</span><span>)</span><span>;</span>
    headNode<span>-></span>data <span>=</span> <span>0</span><span>;</span>
    headNode<span>-></span>llink <span>=</span> <span>NULL</span><span>;</span>
    headNode<span>-></span>rlink <span>=</span> <span>NULL</span><span>;</span>
    HEAD<span>-></span>head <span>=</span> headNode<span>;</span>
    HEAD<span>-></span>tail <span>=</span> headNode<span>;</span>
    <span>return</span> HEAD<span>;</span>
<span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br></div></div><p><strong>时间复杂度</strong>：该函数仅做有限的操作，显然时间复杂度为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span>1</span><span>)</span></span></span></span>。</p>
<p><strong>空间复杂度</strong>：该函数申请的空间大小与用户输入规模不相关，因此认为空间复杂度为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span>1</span><span>)</span></span></span></span>。</p>
<h3 id="插入"> 插入</h3>
<p><strong>实现思路</strong>：</p>
<p>如果双链表为空，则需完成如下的操作：</p>
<ol>
<li>头结点指向新结点</li>
<li>新结点左指针指向头结点</li>
<li>封装的尾指针指向尾结点</li>
</ol>
<p>如果双链表非空，则需按照如下顺序执行：</p>
<ol>
<li>头结点后继的左指针指向新结点</li>
<li>新结点右指针指向头结点后继</li>
<li>新结点左指针指向头结点</li>
<li>头结点右指针指向新结点</li>
</ol>
<p><strong>「注意」</strong>：该情况下第四点必须要在第一、二点之后做，其他顺序任意调整即可。</p>
<p><strong>源代码</strong>：</p>
<div><pre><code><span>void</span> <span>insertDlist</span><span>(</span><span>struct</span> <span>Hnode</span> <span>*</span>list<span>,</span> <span>int</span> insData<span>)</span> <span>{</span>
    <span>struct</span> <span>node</span><span>*</span> headNode <span>=</span> list<span>-></span>head<span>;</span>
    <span>struct</span> <span>node</span><span>*</span> newNode <span>=</span> <span>(</span><span>struct</span> <span>node</span><span>*</span><span>)</span> <span>malloc</span><span>(</span><span>sizeof</span> <span>(</span><span>struct</span> <span>node</span><span>)</span><span>)</span><span>;</span>
    newNode<span>-></span>data <span>=</span> insData<span>;</span>

    <span>if</span> <span>(</span>headNode <span>==</span> list<span>-></span>tail<span>)</span><span>{</span>
        headNode<span>-></span>rlink <span>=</span> newNode<span>;</span>
        newNode<span>-></span>llink <span>=</span> headNode<span>;</span>
        list<span>-></span>tail <span>=</span> newNode<span>;</span>
    <span>}</span> <span>else</span> <span>{</span>
        headNode<span>-></span>rlink<span>-></span>llink <span>=</span> newNode<span>;</span>
        newNode<span>-></span>rlink <span>=</span> headNode<span>-></span>rlink<span>;</span>
        newNode<span>-></span>llink <span>=</span> headNode<span>;</span>
        headNode<span>-></span>rlink <span>=</span> newNode<span>;</span>
    <span>}</span>
    headNode<span>-></span>data<span>++</span><span>;</span>
<span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br></div></div><p><strong>时间复杂度</strong>：该插入操作执行次数与用户输入规模不相关，每一次插入都是固定执行这些语句，因此认为时间复杂度为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span>1</span><span>)</span></span></span></span>。</p>
<p><strong>空间复杂度</strong>：该插入操作只需要申请固定变量所占的空间大小，因此认为该操作空间复杂度为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span>1</span><span>)</span></span></span></span>。</p>
<h3 id="删除"> 删除</h3>
<p><strong>实现思路</strong>：</p>
<p>遍历每一个结点，找到要删除的数据时，将其前驱的右指针指向该结点的后继，其后继的左指针指向该结点的前驱，然后释放该空间。</p>
<p><strong>源代码</strong>：</p>
<div><pre><code><span>int</span> <span>deleteData</span><span>(</span><span>struct</span> <span>Hnode</span>  <span>*</span>list<span>,</span> <span>int</span> delData<span>)</span> <span>{</span>
    <span>struct</span> <span>node</span><span>*</span> watcher <span>=</span> list<span>-></span>head<span>-></span>rlink<span>;</span>
    <span>struct</span> <span>node</span><span>*</span> toDel <span>=</span> <span>NULL</span><span>;</span>
    <span>while</span> <span>(</span>watcher<span>)</span> <span>{</span>
        <span>if</span> <span>(</span>watcher<span>-></span>data <span>==</span> delData<span>)</span><span>{</span>
            toDel <span>=</span> watcher<span>;</span>
            watcher<span>-></span>llink<span>-></span>rlink <span>=</span> watcher<span>-></span>rlink<span>;</span>
            watcher<span>-></span>rlink<span>-></span>llink <span>=</span> watcher<span>-></span>llink<span>;</span>
            <span>free</span><span>(</span>toDel<span>)</span><span>;</span>
            <span>return</span> <span>1</span><span>;</span>
        <span>}</span>
        watcher <span>=</span> watcher<span>-></span>rlink<span>;</span>
    <span>}</span>
    <span>return</span> <span>0</span><span>;</span>
<span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br></div></div><p><strong>时间复杂度</strong>：该操作执行次数与用户输入的规模线性相关，显然时间复杂度为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span>1</span><span>)</span></span></span></span>。</p>
<p><strong>空间复杂度</strong>：该操作只需要在原有数据的基础上做操作，申请固定的变量空间大小，因此空间复杂度为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span>1</span><span>)</span></span></span></span>。</p>
<h3 id="输出"> 输出</h3>
<p><strong>实现思路</strong>：</p>
<p>遍历每一个结点并输出，终止条件应该是指针为空时。</p>
<p><strong>源代码</strong>：</p>
<div><pre><code><span>void</span> <span>printDlist</span><span>(</span><span>struct</span> <span>Hnode</span> <span>*</span>list<span>)</span> <span>{</span>
    <span>//输出双向循环链表中各数据元素的值，每输出一个数据元素换行</span>
    <span>struct</span> <span>node</span><span>*</span> watcher <span>=</span> list<span>-></span>head<span>-></span>rlink<span>;</span>
    <span>while</span><span>(</span>watcher<span>)</span><span>{</span>
        <span>printf</span><span>(</span><span>"%d\n"</span><span>,</span> watcher<span>-></span>data<span>)</span><span>;</span>
        watcher <span>=</span> watcher<span>-></span>rlink<span>;</span>
    <span>}</span>
<span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br></div></div><p><strong>时间复杂度</strong>：该操作与用户输入规模线性相关，因此时间复杂度为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span>1</span><span>)</span></span></span></span>。</p>
<p><strong>空间复杂度</strong>：该操作只需要在原有数据的基础上做操作，申请固定的变量空间大小，因此空间复杂度为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span>1</span><span>)</span></span></span></span>。</p>
<h3 id="销毁"> 销毁</h3>
<p><strong>实现思路</strong>：</p>
<p>遍历每一个结点，执行删除操作，删除操作与上面的删除指定数据的结点思路是一致的。</p>
<p><strong>源代码</strong>：</p>
<div><pre><code><span>int</span> <span>destroyDlist</span><span>(</span><span>struct</span> <span>Hnode</span> <span>*</span>list<span>)</span> <span>{</span>
    <span>int</span> delNum <span>=</span> <span>0</span><span>;</span>
    <span>struct</span> <span>node</span><span>*</span> watcher <span>=</span> list<span>-></span>head<span>-></span>rlink<span>;</span>
    <span>struct</span> <span>node</span><span>*</span> toDel <span>=</span> <span>NULL</span><span>;</span>
    <span>while</span> <span>(</span>watcher<span>-></span>rlink<span>)</span><span>{</span>
        toDel <span>=</span> watcher<span>;</span>
        watcher<span>-></span>llink<span>-></span>rlink <span>=</span> watcher<span>-></span>rlink<span>;</span>
        watcher<span>-></span>rlink<span>-></span>llink <span>=</span> watcher<span>-></span>llink<span>;</span>
        watcher <span>=</span> watcher<span>-></span>rlink<span>;</span>
        <span>free</span><span>(</span>toDel<span>)</span><span>;</span>
        delNum<span>++</span><span>;</span>
        list<span>-></span>head<span>-></span>data<span>--</span><span>;</span>
    <span>}</span>
    <span>free</span><span>(</span>list<span>-></span>head<span>)</span><span>;</span>
    <span>free</span><span>(</span>list<span>-></span>tail<span>)</span><span>;</span>
    list<span>-></span>head <span>=</span> list<span>-></span>tail <span>=</span> <span>NULL</span><span>;</span>
    delNum<span>++</span><span>;</span>
    <span>return</span> delNum<span>;</span>
<span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br><span>18</span><br><span>19</span><br></div></div><p><strong>时间复杂度</strong>：由于需要遍历用户输入的所有数据，执行次数与用户输入规模线性相关，因此时间复杂度为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span>n</span><span>)</span></span></span></span>。</p>
<p><strong>空间复杂度</strong>：由于删除操作只需要使用固定的变量空间，因此认为空间复杂度为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span>1</span><span>)</span></span></span></span>。</p>
<h2 id="双向链表优缺点"> 双向链表优缺点</h2>
<p><strong>优点</strong>：</p>
<ol>
<li>可以找到前驱和后继，向前遍历和向后遍历。</li>
<li>在当前结点前面、后面插入操作方便</li>
<li>针对前驱、后继以及结点本身的删除操作方便。</li>
</ol>
<p><strong>缺点</strong>：</p>
<ol>
<li>增加删除结点操作复杂。</li>
<li>较单链表需要占据更多的指针空间。</li>
<li>存储密度较单链表低。</li>
</ol>
]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2021-10-14T19:26:31.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">队列与循环队列</title>
    <id>https://breezeshane.github.io/DataStructuresandAlgorithms/DataStructures/Queue/</id>
    <link href="https://breezeshane.github.io/DataStructuresandAlgorithms/DataStructures/Queue/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<h2 id="定义"> 定义</h2>
<p>队列是限制结点插入操作固定在一端进行,而结点的删除操作固定在另一端进行的一种特殊线性表，特殊在于它操作受限，仅能使用入队、出队操作。</p>
<p>如图所示：</p>
<p><img src="/images/DataStructuresAndAlgorithms/Queue.png" alt="" /></p>
<p>结构定义代码如下：</p>
<div><pre><code><span><span>#</span><span>include</span> <span>&lt;stdio.h></span></span>

<span>typedef</span> <span>int</span> DataType<span>;</span>
<span>struct</span> <span>SeqQueue</span><span>{</span>
	<span>int</span> MAXNUM<span>;</span>
	<span>int</span> head<span>,</span> tail<span>;</span>
	DataType <span>*</span>list<span>;</span>
<span>}</span>
<span>typedef</span> <span>struct</span> <span>SeqQueue</span><span>*</span> PSeqQueue<span>;</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br></div></div><h3 id="存在的问题"> 存在的问题</h3>
<p>如果经过某种一系列操作后，head的索引在某个非零整数上，而tail的索引到达了最后一个元素的索引。这时即使显然线性表未满，我们仍可发现我们无法继续进行插入。为了缓解这个问题，我们使用以下的队列变种——循环队列。</p>
<h2 id="循环队列"> 循环队列</h2>
<p>由于我们无法完全确定索引head和tail的确切位置，因此我们就将线性的数组掰弯，构成一个闭环，从而达到循环的效果。</p>
<p>如图所示：</p>
<p><img src="/images/DataStructuresAndAlgorithms/CircularQueue.png" alt="" /></p>
<h3 id="出现的问题"> 出现的问题</h3>
<p>如果装满了元素，有可能队首和队尾重合，导致无法真正区分空与满的两个状态。</p>
<h3 id="缓解方案"> 缓解方案</h3>
<p>我们不会使用数组中的最后一个空间，以免导致以上问题。</p>
<h2 id="循环队列的基本实现"> 循环队列的基本实现</h2>
<h3 id="创建"> 创建</h3>
<div><pre><code><span>//用于创建队列</span>
PseqQueue <span>createNullQueue_seq</span><span>(</span><span>int</span> m<span>)</span><span>{</span>
    <span>if</span> <span>(</span> <span>!</span>m <span>)</span> <span>return</span> <span>NULL</span><span>;</span>
    PseqQueue Queue <span>=</span> <span>(</span>PseqQueue<span>)</span><span>malloc</span><span>(</span><span>sizeof</span><span>(</span><span>struct</span> <span>seqQueue</span><span>)</span><span>)</span><span>;</span>
    Queue<span>-></span>MAXNUM <span>=</span> m<span>;</span>
    Queue<span>-></span>head <span>=</span> Queue<span>-></span>tail <span>=</span> <span>0</span><span>;</span>
    Queue<span>-></span>list <span>=</span> <span>(</span>DataType<span>*</span><span>)</span><span>malloc</span><span>(</span><span>sizeof</span><span>(</span>DataType<span>)</span> <span>*</span> Queue<span>-></span>MAXNUM<span>)</span><span>;</span>
    <span>return</span> Queue<span>;</span>
<span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br></div></div><h3 id="入队"> 入队</h3>
<div><pre><code><span>//判断队列是否为空或者不存在</span>
<span>int</span> <span>isNullQueue_seq</span><span>(</span>PseqQueue Q<span>)</span><span>{</span>
    <span>if</span> <span>(</span> <span>!</span>Q <span>||</span> <span>!</span><span>(</span>Q<span>-></span>list<span>)</span> <span>)</span> <span>return</span> <span>-</span><span>1</span><span>;</span>
    <span>else</span> <span>if</span> <span>(</span> Q<span>-></span>head <span>==</span> Q<span>-></span>tail <span>)</span> <span>return</span> <span>1</span><span>;</span>
    <span>else</span> <span>return</span> <span>0</span><span>;</span>
<span>}</span>

<span>//判断队列是否已满</span>
<span>int</span> <span>isFullQueue_seq</span><span>(</span>PseqQueue Q<span>)</span><span>{</span>
    <span>if</span> <span>(</span> Q<span>-></span>head <span>==</span> <span>(</span>Q<span>-></span>tail <span>+</span> <span>1</span><span>)</span> <span>%</span> Q<span>-></span>MAXNUM <span>)</span> <span>return</span> <span>1</span><span>;</span>
    <span>else</span> <span>return</span> <span>0</span><span>;</span>
<span>}</span>

<span>//进行队列的入队操作</span>
<span>int</span> <span>enQueue_seq</span><span>(</span>PseqQueue Q <span>,</span>DataType x<span>)</span><span>{</span>
    <span>if</span> <span>(</span> <span>isNullQueue_seq</span><span>(</span>Q<span>)</span> <span>==</span> <span>-</span><span>1</span> <span>||</span> <span>isFullQueue_seq</span><span>(</span>Q<span>)</span> <span>)</span> <span>return</span> <span>0</span><span>;</span>
    Q<span>-></span>list<span>[</span>Q<span>-></span>tail <span>%</span> Q<span>-></span>MAXNUM<span>]</span> <span>=</span> x<span>;</span><span>//这里的取模是关键</span>
    Q<span>-></span>tail <span>=</span> <span>(</span>Q<span>-></span>tail <span>+</span> <span>1</span><span>)</span> <span>%</span> Q<span>-></span>MAXNUM<span>;</span>
    <span>return</span> <span>1</span><span>;</span>
<span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br><span>18</span><br><span>19</span><br><span>20</span><br></div></div><h3 id="出队"> 出队</h3>
<div><pre><code><span>//进行队列的出队操作</span>
DataType <span>delQueue_seq</span><span>(</span>PseqQueue Q<span>)</span><span>{</span>
    <span>if</span> <span>(</span> <span>isNullQueue_seq</span><span>(</span>Q<span>)</span> <span>)</span> <span>return</span> <span>-</span><span>1</span><span>;</span>
    <span>int</span> toReturn <span>=</span> Q<span>-></span>list<span>[</span>Q<span>-></span>head<span>]</span><span>;</span>
    Q<span>-></span>head <span>=</span> <span>(</span>Q<span>-></span>head <span>+</span> <span>1</span><span>)</span> <span>%</span> Q<span>-></span>MAXNUM<span>;</span><span>//这里的取模是关键</span>
    <span>return</span> toReturn<span>;</span>
<span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br></div></div><h3 id="读取"> 读取</h3>
<div><pre><code><span>//从队首中读取元素</span>
DataType <span>front_seq</span><span>(</span>PseqQueue Q<span>)</span><span>{</span>
    <span>if</span> <span>(</span> <span>isNullQueue_seq</span><span>(</span>Q<span>)</span> <span>)</span> <span>return</span> <span>-</span><span>1</span><span>;</span>
    <span>return</span> Q<span>-></span>list<span>[</span>Q<span>-></span>head<span>]</span><span>;</span>
<span>}</span>

<span>//获取队列中存放元素格</span>
DataType <span>computeNum</span><span>(</span>PseqQueue Q<span>)</span><span>{</span>
    <span>return</span> <span>(</span>Q<span>-></span>tail <span>-</span> Q<span>-></span>head <span>+</span> Q<span>-></span>MAXNUM<span>)</span> <span>%</span> Q<span>-></span>MAXNUM<span>;</span>
<span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br></div></div><h3 id="销毁"> 销毁</h3>
<div><pre><code><span>//销毁整个队列线性表</span>
<span>int</span> <span>destroyQueue_seq</span><span>(</span>PseqQueue Q<span>)</span><span>{</span>
    <span>if</span> <span>(</span><span>isNullQueue_seq</span><span>(</span>Q<span>)</span> <span>==</span> <span>-</span><span>1</span><span>)</span> <span>return</span> <span>0</span><span>;</span>
    <span>int</span> totalNum <span>=</span> Q<span>-></span>tail <span>-</span> Q<span>-></span>head<span>;</span>
    <span>free</span><span>(</span>Q<span>-></span>list<span>)</span><span>;</span>
    <span>free</span><span>(</span>Q<span>)</span><span>;</span>
    <span>return</span> totalNum<span>;</span>
<span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br></div></div><h2 id="易错点"> 易错点</h2>
<p>上面写有取模是关键的两个地方是易错点，因为我们常常会忽略掉索引越界的问题，实际上应该去取模来保证不会数组越界访问。</p>
]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2021-10-06T13:39:05.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">顺序线性表</title>
    <id>https://breezeshane.github.io/DataStructuresandAlgorithms/DataStructures/SequentialLinearList/</id>
    <link href="https://breezeshane.github.io/DataStructuresandAlgorithms/DataStructures/SequentialLinearList/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<h2 id="定义"> 定义</h2>
<blockquote>
<p>顺序线性表是数据结构算法中最简单的一种结构，它的组成成分如下：</p>
<ol>
<li>头指针结构：包含最大储存空间、当前存有数据量和线性表三个成员。</li>
<li>线性表结构：一个连续存储的数组。</li>
</ol>
</blockquote>
<p>如图所示：</p>
<p><img src="/images/DataStructuresAndAlgorithms/SequentialLinearList.png" alt="" /></p>
<p>结构定义的代码：</p>
<div><pre><code><span>typedef</span> <span>int</span> DataType<span>;</span>
<span>struct</span> <span>seqList</span> <span>{</span>
    <span>int</span> MAXNUM<span>;</span>
    <span>int</span> curNum<span>;</span>
    DataType <span>*</span>element<span>;</span>
<span>}</span><span>;</span>
<span>typedef</span> <span>struct</span> <span>seqList</span><span>*</span> PseqList<span>;</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br></div></div><h2 id="顺序线性表的基本操作与代码实现"> 顺序线性表的基本操作与代码实现</h2>
<h3 id="创建"> 创建</h3>
<p><strong>实现思路</strong>：</p>
<p>创建空的顺序线性表非常容易，只需要知道固定的空间大小即可，同时也可记录该线性表中最大空间和当前存有数据量。</p>
<p><strong>源代码</strong>：</p>
<div><pre><code><span>//创建头指针用于建立顺序线性表</span>
PseqList <span>createNullList_seq</span><span>(</span><span>int</span> m<span>)</span><span>{</span>
    <span>if</span> <span>(</span> <span>!</span>m <span>)</span>
        <span>return</span> <span>NULL</span><span>;</span>
    <span>struct</span> <span>seqList</span><span>*</span> HEAD <span>=</span> <span>(</span><span>struct</span> <span>seqList</span><span>*</span><span>)</span><span>malloc</span><span>(</span><span>sizeof</span><span>(</span><span>struct</span> <span>seqList</span><span>)</span><span>)</span><span>;</span>
    HEAD<span>-></span>MAXNUM <span>=</span> m<span>;</span>
    HEAD<span>-></span>curNum <span>=</span> <span>0</span><span>;</span>
    HEAD<span>-></span>element <span>=</span> <span>(</span>DataType <span>*</span><span>)</span><span>malloc</span><span>(</span><span>sizeof</span><span>(</span>DataType<span>)</span> <span>*</span> HEAD<span>-></span>MAXNUM<span>)</span><span>;</span>
    <span>return</span> HEAD<span>;</span>
<span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br></div></div><blockquote>
<p>注意：之所以没有直接写成<code>struct seqList HEAD;</code>是因为使用这样的写法会导致栈空间的浪费，还会存在不可预知的被回收掉的风险。想了解底层原因请点击<a href="./Statement.html">这里</a></p>
</blockquote>
<p><strong>时间复杂度</strong>：由于是每一次执行该函数时只需要执行常数个语句，因此可以据此认为时间复杂度是<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span>1</span><span>)</span></span></span></span>。</p>
<p><strong>空间复杂度</strong>：由于该函数需要申请固定的空间大小，而这个空间大小依用户输入的数据规模而决定，因此可认为空间复杂度是<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span>n</span><span>)</span></span></span></span>。</p>
<h3 id="插入"> 插入</h3>
<p><strong>实现思路</strong>：</p>
<p>在指定位置插入新的数据，就需要将后面所有的数据向后移动一位来给新的数据腾出空间，移动完毕后就可以将新的数据放入指定位置了。</p>
<p><strong>源代码</strong>：</p>
<div><pre><code><span>//判断是否已满，是为了验证能否继续插入的先决条件</span>
<span>int</span> <span>isFullList_seq</span><span>(</span>PseqList L<span>)</span> <span>{</span>
    <span>if</span> <span>(</span>L<span>-></span>curNum <span>&lt;</span> L<span>-></span>MAXNUM<span>)</span> <span>{</span>
        <span>return</span> <span>0</span><span>;</span>
    <span>}</span> <span>else</span> <span>{</span>
        <span>return</span> <span>1</span><span>;</span>
    <span>}</span>
<span>}</span>
<span>//在指定位置插入数据</span>
<span>int</span> <span>insertP_seq</span><span>(</span>PseqList L<span>,</span> <span>int</span> p<span>,</span> <span>int</span> x<span>)</span> <span>{</span>
    <span>if</span> <span>(</span><span>isFullList_seq</span><span>(</span>L<span>)</span><span>)</span> <span>{</span>
        <span>printf</span><span>(</span><span>"list is full"</span><span>)</span><span>;</span>
        <span>return</span> <span>0</span><span>;</span>
    <span>}</span> <span>else</span> <span>if</span> <span>(</span>p <span>></span> L<span>-></span>curNum <span>||</span> p <span>&lt;</span> <span>0</span><span>)</span> <span>{</span>
        <span>printf</span><span>(</span><span>"position is illegel"</span><span>)</span><span>;</span>
        <span>return</span> <span>0</span><span>;</span>
    <span>}</span> <span>else</span> <span>{</span>
        <span>for</span> <span>(</span><span>int</span> i <span>=</span> L<span>-></span>curNum <span>-</span> <span>1</span><span>;</span> i <span>>=</span> p<span>;</span> <span>--</span>i<span>)</span> <span>{</span>
            L<span>-></span>element<span>[</span>i <span>+</span> <span>1</span><span>]</span> <span>=</span> L<span>-></span>element<span>[</span>i<span>]</span><span>;</span>
        <span>}</span>
        L<span>-></span>element<span>[</span>p<span>]</span> <span>=</span> x<span>;</span>
        L<span>-></span>curNum<span>++</span><span>;</span>
        <span>return</span> <span>1</span><span>;</span>
    <span>}</span>
<span>}</span>
<span>//在指定位置的前面插入数据</span>
<span>int</span> <span>insertPre_seq</span><span>(</span>PseqList L<span>,</span> <span>int</span> p<span>,</span> <span>int</span> x<span>)</span> <span>{</span>
    <span>if</span> <span>(</span><span>insertP_seq</span><span>(</span>L<span>,</span> p <span>-</span> <span>1</span><span>,</span> x<span>)</span><span>)</span> <span>{</span>
        <span>return</span> <span>1</span><span>;</span>
    <span>}</span> <span>else</span> <span>{</span>
        <span>return</span> <span>0</span><span>;</span>
    <span>}</span>
<span>}</span>
<span>//在指定位置的后面插入数据</span>
<span>int</span> <span>insertPost_seq</span><span>(</span>PseqList L<span>,</span> <span>int</span> p<span>,</span> <span>int</span> x<span>)</span> <span>{</span>
    <span>if</span> <span>(</span><span>insertP_seq</span><span>(</span>L<span>,</span> p <span>+</span> <span>1</span><span>,</span> x<span>)</span><span>)</span> <span>{</span>
        <span>return</span> <span>1</span><span>;</span>
    <span>}</span> <span>else</span> <span>{</span>
        <span>return</span> <span>0</span><span>;</span>
    <span>}</span>
<span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br><span>18</span><br><span>19</span><br><span>20</span><br><span>21</span><br><span>22</span><br><span>23</span><br><span>24</span><br><span>25</span><br><span>26</span><br><span>27</span><br><span>28</span><br><span>29</span><br><span>30</span><br><span>31</span><br><span>32</span><br><span>33</span><br><span>34</span><br><span>35</span><br><span>36</span><br><span>37</span><br><span>38</span><br><span>39</span><br><span>40</span><br><span>41</span><br></div></div><p><strong>时间复杂度</strong>：以上代码中关键代码段是<code>insertP_seq</code>函数。由于该函数执行时需要不断地将后面的数据向后移动一位，如果插在最后一位，则需要移动<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.64444em;vertical-align:0em;"></span><span>0</span></span></span></span>次，如果插在第一位，则需要移动当前所有的数据，总计<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>n</span></span></span></span>次，平均时间复杂度计算可得知<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.190108em;vertical-align:-0.345em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span><span></span><span><span><span><span style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span style="height:3em;"></span><span><span><span>2</span></span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span style="height:3em;"></span><span><span><span>0</span><span>+</span><span>n</span></span></span></span></span><span>​</span></span><span><span style="height:0.345em;"><span></span></span></span></span></span><span></span></span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span>n</span><span>)</span></span></span></span>，因此可以认为时间复杂度为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span>n</span><span>)</span></span></span></span>。</p>
<p><strong>空间复杂度</strong>：由于执行插入的操作中，用户输入的数据规模与该函数申请空间大小并无关系，是固定使用常数个变量，因此可以认为该函数的空间复杂度为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span>1</span><span>)</span></span></span></span>。</p>
<h3 id="输出"> 输出</h3>
<p><strong>实现思路</strong>：</p>
<p>确定一个索引，在索引递增的同时输出顺序线性表对应索引的值。</p>
<p><strong>源代码</strong>：</p>
<div><pre><code><span>void</span> <span>printList_seq</span><span>(</span>PseqList L<span>)</span> <span>{</span>
    <span>for</span> <span>(</span><span>int</span> i <span>=</span> <span>0</span><span>;</span> i <span>&lt;</span> L<span>-></span>curNum<span>;</span> <span>++</span>i<span>)</span> <span>{</span>
        <span>printf</span><span>(</span><span>"%d "</span><span>,</span> L<span>-></span>element<span>[</span>i<span>]</span><span>)</span><span>;</span>
    <span>}</span>
<span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br></div></div><p><strong>时间复杂度</strong>：该函数执行时间与用户输入的数据规模线性相关，因此认为时间复杂度为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span>n</span><span>)</span></span></span></span>。</p>
<p><strong>空间复杂度</strong>：显然该函数只申请了一个<code>int</code>整型变量的空间大小，因此认为空间复杂度为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span>1</span><span>)</span></span></span></span></p>
<h3 id="查询"> 查询</h3>
<p><strong>实现思路</strong>：</p>
<p>由于查询顺序线性表有两种查找方式，一种是查找指定索引对应的值，另一种则是查找指定值对应的索引，为了便于描述，下面我们称前者为方式A，后者为方式B。</p>
<p><strong>方式A</strong>：只需要确定偏移量，直接访问线性表起点偏移后对应的空间即可。</p>
<p><strong>方式B</strong>：关于搜索算法有许多种，这里仅提最简单的顺序查找。顺序查找的思路是：从线性表起点开始，一位一位地向后探查，找到第一个与查找值相同时立即返回其对应的索引。</p>
<p><strong>源代码</strong>：</p>
<div><pre><code><span>//查询指定位置的值</span>
<span>int</span> <span>locate_seq</span><span>(</span>PseqList L<span>,</span> <span>int</span> x<span>)</span> <span>{</span>
    <span>for</span> <span>(</span><span>int</span> i <span>=</span> <span>0</span><span>;</span> i <span>&lt;</span> L<span>-></span>curNum<span>;</span> <span>++</span>i<span>)</span> <span>{</span>
        <span>if</span> <span>(</span>L<span>-></span>element<span>[</span>i<span>]</span> <span>==</span> x<span>)</span> <span>{</span>
            <span>return</span> i<span>;</span>
        <span>}</span>
    <span>}</span>
    <span>return</span> <span>-</span><span>1</span><span>;</span>
<span>}</span>
<span>//查询指定值的位置</span>
DataType <span>locatePos_seq</span><span>(</span>PseqList L<span>,</span> <span>int</span> pos<span>)</span> <span>{</span>
    <span>if</span> <span>(</span>pos <span>>=</span> L<span>-></span>curNum <span>||</span> pos <span>&lt;</span> <span>0</span><span>)</span> <span>{</span>
        <span>return</span> L<span>-></span>element<span>[</span><span>0</span><span>]</span><span>;</span>
    <span>}</span> <span>else</span> <span>{</span>
        <span>return</span> L<span>-></span>element<span>[</span>pos<span>]</span><span>;</span>
    <span>}</span>
<span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br></div></div><p><strong>时间复杂度</strong>：</p>
<p><strong>方式A</strong>：由于只需要计算一次起点与偏移量之和，即可直接访问目标空间，所以认为时间复杂度为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span>1</span><span>)</span></span></span></span>。</p>
<p><strong>方式B</strong>：由于需要从起点开始依次向后移动一位访问空间，访问次数与用户输入规模有关，在最好的情况下查找的数据在起点处，只需要执行一次；在最坏的情况下查找的数据在线性表表尾处，需要执行<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>n</span></span></span></span>次，因此平均估计时间复杂度为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.190108em;vertical-align:-0.345em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span><span></span><span><span><span><span style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span style="height:3em;"></span><span><span><span>2</span></span></span></span><span style="top:-3.23em;"><span style="height:3em;"></span><span style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span style="height:3em;"></span><span><span><span>1</span><span>+</span><span>n</span></span></span></span></span><span>​</span></span><span><span style="height:0.345em;"><span></span></span></span></span></span><span></span></span><span>)</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span>n</span><span>)</span></span></span></span>。</p>
<p><strong>空间复杂度</strong>：</p>
<p>两种方式需要申请的空间都是常数个变量空间，因此认为空间复杂度皆为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span>1</span><span>)</span></span></span></span>。</p>
<h3 id="删除"> 删除</h3>
<p><strong>实现思路</strong>：</p>
<p>删除元素，即需要从线性表所有数据中抹除掉指定的元素，抹除掉旧数据，新数据自然需要向前一位来占空，那么这一系列操作可以直接简化为：将指定元素以后的所有数据都向前一位，覆盖原来的数据。</p>
<p>如果想删除所有指定值的元素，则只需要将上面删除单个元素的操作重复几次即可。</p>
<p><strong>源代码</strong>：</p>
<div><pre><code><span>//删除指定位置的元素</span>
<span>int</span> <span>deletePos_seq</span><span>(</span>PseqList L<span>,</span> <span>int</span> pos<span>)</span> <span>{</span>
    <span>if</span> <span>(</span>pos <span>>=</span> L<span>-></span>curNum <span>||</span> pos <span>&lt;</span> <span>0</span><span>)</span> <span>{</span>
        <span>return</span> <span>-</span><span>1</span><span>;</span>
    <span>}</span> <span>else</span> <span>{</span>
        <span>for</span> <span>(</span><span>int</span> i <span>=</span> pos<span>;</span> i <span>&lt;</span> L<span>-></span>curNum <span>-</span> <span>1</span><span>;</span> <span>++</span>i<span>)</span> <span>{</span>
            L<span>-></span>element<span>[</span>i<span>]</span> <span>=</span> L<span>-></span>element<span>[</span>i <span>+</span> <span>1</span><span>]</span><span>;</span>
        <span>}</span>
        L<span>-></span>curNum<span>--</span><span>;</span>
    <span>}</span>
    <span>return</span> <span>1</span><span>;</span>
<span>}</span>
<span>//删除所有指定值的元素</span>
<span>int</span> <span>delete_seq</span><span>(</span>PseqList L<span>,</span> <span>int</span> x<span>)</span> <span>{</span>
    <span>int</span> num <span>=</span> <span>0</span><span>;</span>
    <span>for</span> <span>(</span><span>int</span> i <span>=</span> <span>0</span><span>;</span> i <span>&lt;</span> L<span>-></span>curNum<span>;</span> <span>++</span>i<span>)</span> <span>{</span>
        <span>if</span> <span>(</span>L<span>-></span>element<span>[</span>i<span>]</span> <span>==</span> x<span>)</span> <span>{</span>
            <span>deletePos_seq</span><span>(</span>L<span>,</span> i<span>)</span><span>;</span>
            num<span>++</span><span>;</span>
            <span>--</span>i<span>;</span>
        <span>}</span>
    <span>}</span>
    <span>return</span> num<span>;</span>
<span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br><span>18</span><br><span>19</span><br><span>20</span><br><span>21</span><br><span>22</span><br><span>23</span><br><span>24</span><br></div></div><p><strong>时间复杂度</strong>：</p>
<p><strong>删除单个元素</strong>：删除的元素位于线性表中索引<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>n</span><span style="margin-right:0.2777777777777778em;"></span><span style="margin-right:0.2777777777777778em;"></span><span>(</span><span>0</span><span style="margin-right:0.2777777777777778em;"></span><span>≤</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.5782em;vertical-align:-0.0391em;"></span><span>n</span><span style="margin-right:0.2777777777777778em;"></span><span>&lt;</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.10903em;">N</span><span>)</span></span></span></span>，都需要先访问过前<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.66666em;vertical-align:-0.08333em;"></span><span>n</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:0.64444em;vertical-align:0em;"></span><span>1</span></span></span></span>个空间后，将后面的<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.76666em;vertical-align:-0.08333em;"></span><span style="margin-right:0.10903em;">N</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:0.43056em;vertical-align:0em;"></span><span>n</span></span></span></span>个元素向前移位覆盖，因此认为访问和移位覆盖两种操作的执行次数与用户输入的规模线性相关，因此可以认为时间复杂度为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span>n</span><span>)</span></span></span></span>。</p>
<p><strong>删除值为指定值的所有元素</strong>：讨论过删除单个元素操作的时间复杂度<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span>n</span><span>)</span></span></span></span>。在线性表中查找每一个值为指定值的元素，显然对应的时间复杂度也是<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span>n</span><span>)</span></span></span></span>，而对于每一个符合条件的元素，都要执行一次删除单个元素操作，据此可以认为，该操作的时间复杂度为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.064108em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span><span>n</span><span><span><span><span style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span></span></span></span></span><span>)</span></span></span></span>。</p>
<p><strong>空间复杂度</strong>：由于这两种操作都是在原来的线性表基础上进行修改，并且只需要申请常数个变量，因此可以认为两种操作的空间复杂度都为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span>1</span><span>)</span></span></span></span>。</p>
<h3 id="修改"> 修改</h3>
<p><strong>实现思路</strong>：</p>
<p>该操作仅在查找指定值操作的基础上多了一步修改的操作，即每找到一个符合条件的值时执行修改数据的操作。</p>
<p><strong>源代码</strong>：</p>
<div><pre><code><span>//修改指定值我</span>
<span>void</span> <span>replace_seq</span><span>(</span>PseqList L<span>,</span> <span>int</span> x<span>,</span> <span>int</span> y<span>)</span> <span>{</span>
    <span>for</span> <span>(</span><span>int</span> i <span>=</span> <span>0</span><span>;</span> i <span>&lt;</span> L<span>-></span>curNum<span>;</span> <span>++</span>i<span>)</span> <span>{</span>
        <span>if</span> <span>(</span>L<span>-></span>element<span>[</span>i<span>]</span> <span>==</span> x<span>)</span> <span>{</span>
            L<span>-></span>element<span>[</span>i<span>]</span> <span>=</span> y<span>;</span>
        <span>}</span>
    <span>}</span>
    <span>return</span><span>;</span>
<span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br></div></div><p><strong>时间复杂度</strong>：分析见查询方式B，时间复杂度为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span>n</span><span>)</span></span></span></span>。</p>
<p><strong>空间复杂度</strong>：分析见查询方式B，空间复杂度为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span>n</span><span>)</span></span></span></span>。</p>
<h2 id="顺序线性表的优缺点"> 顺序线性表的优缺点</h2>
<p><strong>优点</strong>：</p>
<ol>
<li>查询速度快，简单、运算方便，更适合小线性表或者固定长度的线性表。</li>
</ol>
<p><strong>缺点</strong>：</p>
<ol>
<li>删除和插入效率低</li>
<li>存储空间容易出现上溢</li>
<li>容易导致空间浪费。</li>
</ol>
<h2 id="线性表对应的一些难题-some-problems-on-sequential-linear-list"> 线性表对应的一些难题--&gt;<a href="">Some Problems on Sequential Linear List</a></h2>
]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2021-10-02T18:42:05.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">单向链表</title>
    <id>https://breezeshane.github.io/DataStructuresandAlgorithms/DataStructures/SingleLinkedList/</id>
    <link href="https://breezeshane.github.io/DataStructuresandAlgorithms/DataStructures/SingleLinkedList/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<h2 id="定义"> 定义</h2>
<blockquote>
<p>单链表是一种链式存取的数据结构，用一组地址任意的存储单元存放线性表中的数据元素。</p>
<p>单链表结构：</p>
<ol>
<li>头指针结构：</li>
<li>头结点结构</li>
<li>数据结点</li>
</ol>
</blockquote>
<p>如图所示：</p>
<p><img src="/images/DataStructuresAndAlgorithms/SingleLinkedList.png" alt="" /></p>
<p>结构定义的代码：</p>
<div><pre><code><span>struct</span> <span>node</span><span>{</span>
    <span>int</span> data<span>;</span>
    <span>struct</span> <span>node</span><span>*</span> next<span>;</span>
<span>}</span><span>;</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br></div></div><h2 id="单链表基本操作与代码实现"> 单链表基本操作与代码实现</h2>
<h3 id="创建"> 创建</h3>
<p><strong>实现思路</strong>：</p>
<p>创建一个空链表，亦是新建一个头指针和一个头结点，创建时注意初始化。</p>
<p>头指针起指示起点作用，头结点内的数据区域用来存放当前链表的结点总数量「不含头指针和头结点本身」。</p>
<p><strong>源代码</strong>：</p>
<div><pre><code><span>//创建带有头结点的单链表</span>
<span>struct</span> <span>node</span> <span>*</span><span>mycreateList</span><span>(</span><span>)</span><span>{</span>
	<span>struct</span> <span>node</span><span>*</span> HEAD <span>=</span> <span>(</span><span>struct</span> <span>node</span><span>*</span><span>)</span><span>malloc</span><span>(</span><span>sizeof</span><span>(</span><span>struct</span> <span>node</span><span>)</span><span>)</span><span>;</span>
	<span>struct</span> <span>node</span><span>*</span> p <span>=</span> <span>(</span><span>struct</span> <span>node</span><span>*</span><span>)</span><span>malloc</span><span>(</span><span>sizeof</span><span>(</span><span>struct</span> <span>node</span><span>)</span><span>)</span><span>;</span>
	p<span>-></span>data <span>=</span> <span>0</span><span>;</span>
	p<span>-></span>next <span>=</span> <span>NULL</span><span>;</span>
	HEAD<span>-></span>next <span>=</span> p<span>;</span>
	<span>if</span> <span>(</span><span>!</span>HEAD <span>||</span> <span>!</span>p<span>)</span> <span>return</span> <span>NULL</span><span>;</span>
	<span>else</span> <span>return</span> HEAD<span>;</span>
<span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br></div></div><p><strong>时间复杂度</strong>：语句的操作次数与用户的输入规模无关，仅执行常数条语句，因此认为时间复杂度为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span>1</span><span>)</span></span></span></span>。</p>
<p><strong>空间复杂度</strong>：执行该函数只需申请固定的空间大小，因此可以认为该函数空间复杂度为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span>1</span><span>)</span></span></span></span>。</p>
<h3 id="插入"> 插入</h3>
<h4 id="在表头插入"> 在表头插入</h4>
<p><strong>实现思路</strong>：</p>
<p>在头结点和头结点的后一结点之间插入新的结点，考虑到指针和操作系统的特性，有关指针的操作需要注意，应该先由新结点指向头结点的后一结点，然后才能由头结点指向新结点。</p>
<p><strong>注意</strong>：因为如果先由头结点指向新结点的话，原先头结点指向的原数据域就会完全丢失，丢失到数据流中无法找回。这是因为原数据域的地址我们本来就不知道，现在还没有指针能够指向它，那么想访问这一数据域显然无从下手。另外，这也造成了一个问题：内存泄漏「Memory Leak」，丢失的内存块我们无法访问，自然也就无法释放它，它毫无用处，却还在占用系统资源，只有当主程序运行结束后由操作系统回收才能解决这个问题。</p>
<blockquote>
<p>内存泄漏形象的比喻是“操作系统可提供给所有程序使用的内存空间正在被某个程序榨干”，最终结果是程序运行时间越长，占用内存空间越来越多，最终用尽全部内存空间，整个系统崩溃。</p>
</blockquote>
<p><strong>源代码</strong>：</p>
<div><pre><code><span>void</span> <span>myinsertHead</span><span>(</span><span>struct</span> <span>node</span> <span>*</span> head<span>,</span> <span>int</span> insData <span>)</span><span>{</span>
	<span>struct</span> <span>node</span><span>*</span> tmp <span>=</span> <span>(</span><span>struct</span> <span>node</span><span>*</span><span>)</span><span>malloc</span><span>(</span><span>sizeof</span><span>(</span><span>struct</span> <span>node</span><span>)</span><span>)</span><span>;</span>
	tmp<span>-></span>data <span>=</span> insData<span>;</span>
	tmp<span>-></span>next <span>=</span> head<span>-></span>next<span>;</span>
    head<span>-></span>next <span>=</span> tmp<span>;</span>
<span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br></div></div><p><strong>时间复杂度</strong>：仅作有限个指针值修改等的操作，因此时间复杂度是<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span>1</span><span>)</span></span></span></span>。</p>
<p><strong>空间复杂度</strong>：仅申请了一个结点空间，与用户输入的规模无关，因此时间复杂度是<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span>1</span><span>)</span></span></span></span>。</p>
<h4 id="在表尾插入"> 在表尾插入</h4>
<p><strong>实现思路</strong>：</p>
<p>显然在表尾插入，需要先遍历到表尾才能在此基础上做插入。</p>
<p><strong>源代码</strong>：</p>
<div><pre><code><span>void</span> <span>myinsertTail</span><span>(</span><span>struct</span> <span>node</span> <span>*</span>  head <span>,</span> <span>int</span> insData <span>)</span><span>{</span>
	<span>struct</span> <span>node</span><span>*</span> tmp <span>=</span> <span>(</span><span>struct</span> <span>node</span><span>*</span><span>)</span><span>malloc</span><span>(</span><span>sizeof</span><span>(</span><span>struct</span> <span>node</span><span>)</span><span>)</span><span>;</span>
	tmp<span>-></span>data <span>=</span> insData<span>;</span>
	tmp<span>-></span>next <span>=</span> <span>NULL</span><span>;</span>
	<span>struct</span> <span>node</span><span>*</span> pointer <span>=</span> head<span>-></span>next<span>;</span>
	<span>while</span><span>(</span>pointer<span>-></span>next<span>)</span><span>{</span>
		pointer<span>=</span>pointer<span>-></span>next<span>;</span>
	<span>}</span>
	pointer<span>-></span>next <span>=</span> tmp<span>;</span>
<span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br></div></div><p><strong>时间复杂度</strong>：因为需要从表头开始一直向后遍历直到表尾，因此需要访问<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>n</span></span></span></span>个结点，最后指针接上新的结点，因此认为时间复杂度为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span>n</span><span>)</span></span></span></span>。</p>
<p><strong>空间复杂度</strong>：由于只需要申请常数个新变量的空间大小，因此认为空间复杂度为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span>1</span><span>)</span></span></span></span>。</p>
<h3 id="输出"> 输出</h3>
<p><strong>实现思路</strong>：</p>
<p>遍历每一个结点，并将该结点对应的真值输出。</p>
<p><strong>源代码</strong>：</p>
<div><pre><code><span>void</span> <span>myprintList</span><span>(</span><span>struct</span> <span>node</span> <span>*</span>L<span>)</span><span>{</span>
	<span>struct</span> <span>node</span><span>*</span> pointer <span>=</span> L<span>-></span>next<span>-></span>next<span>;</span>
	<span>while</span><span>(</span>pointer<span>)</span><span>{</span>
		<span>printf</span><span>(</span><span>"%d\n"</span><span>,</span> pointer<span>-></span>data<span>)</span><span>;</span>
		pointer <span>=</span> pointer<span>-></span>next<span>;</span>
    <span>}</span>
<span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br></div></div><p><strong>时间复杂度</strong>：因为需要从表头开始一直向后遍历直到表尾，因此需要访问<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>n</span></span></span></span>个结点，故时间复杂度为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span>n</span><span>)</span></span></span></span>。</p>
<p><strong>空间复杂度</strong>：由于只需要申请常数个新变量的空间大小，因此认为空间复杂度为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span>1</span><span>)</span></span></span></span>。</p>
<h3 id="逆置"> 逆置</h3>
<p><strong>实现思路</strong>：</p>
<p>要将链表中所有结点的顺序逆置，考虑到结点插入方式的特性，选用头插法可以实现</p>
<p><strong>源代码</strong>：</p>
<div><pre><code><span>//将正序的链表倒序链接</span>
<span>void</span> <span>reverseList_link</span><span>(</span> <span>struct</span> <span>node</span> <span>*</span>L<span>)</span><span>{</span>
	<span>struct</span> <span>node</span><span>*</span> tmp <span>=</span> <span>NULL</span><span>;</span>
	<span>struct</span> <span>node</span><span>*</span> saver <span>=</span> L<span>-></span>next<span>-></span>next<span>-></span>next<span>;</span>
	<span>struct</span> <span>node</span><span>*</span> headNode <span>=</span> L<span>-></span>next<span>,</span> <span>*</span>tailNode <span>=</span> L<span>-></span>next<span>-></span>next<span>;</span>
	tailNode<span>-></span>next <span>=</span> <span>NULL</span><span>;</span>
	<span>while</span><span>(</span>saver<span>)</span><span>{</span>
		tmp <span>=</span> saver<span>;</span>
		saver <span>=</span> saver<span>-></span>next<span>;</span>
		tmp<span>-></span>next <span>=</span> headNode<span>-></span>next<span>;</span>
        headNode<span>-></span>next <span>=</span> tmp<span>;</span>
    <span>}</span>
<span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br></div></div><p><strong>时间复杂度</strong>：由于要针对<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.66666em;vertical-align:-0.08333em;"></span><span>n</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:0.64444em;vertical-align:0em;"></span><span>1</span></span></span></span>个数据进行插入操作，因此可以认为时间复杂度是<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span>n</span><span>)</span></span></span></span>。</p>
<p><strong>空间复杂度</strong>：由于插入操作是基于原有空间上进行的，并且申请了有限个常数个的变量空间，因此认为空间复杂度是<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span>1</span><span>)</span></span></span></span>。</p>
<h3 id="查询"> 查询</h3>
<h4 id="查询指定值的索引"> 查询指定值的索引</h4>
<p><strong>实现思路</strong>：</p>
<p>查找指定值对应的索引，就需要从表头开始向后遍历，并开始从0计数，找到指定值时返回计得的数，否则返回未找到的信号「如-1等」。</p>
<p><strong>源代码</strong>：</p>
<div><pre><code><span>int</span> <span>locateNode</span><span>(</span> <span>struct</span> <span>node</span> <span>*</span>L<span>,</span> <span>int</span> data<span>)</span><span>{</span>
    <span>struct</span> <span>node</span><span>*</span> headNode <span>=</span> L<span>-></span>next<span>;</span>
    <span>struct</span> <span>node</span><span>*</span> linkWatcher <span>=</span> headNode<span>-></span>next<span>;</span>
    <span>int</span> index <span>=</span> <span>0</span><span>;</span>
    <span>while</span><span>(</span>linkWatcher<span>)</span><span>{</span>
        <span>if</span> <span>(</span>linkWatcher<span>-></span>data <span>==</span> data<span>)</span><span>{</span>
            <span>return</span> index<span>;</span>
        <span>}</span>
        linkWatcher <span>=</span> linkWatcher<span>-></span>next<span>;</span>
        index<span>++</span><span>;</span>
    <span>}</span>
    <span>return</span> <span>-</span><span>1</span><span>;</span>
<span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br></div></div><p><strong>时间复杂度</strong>：详情可见线性表的查询分析，时间复杂度为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span>n</span><span>)</span></span></span></span>。</p>
<p><strong>空间复杂度</strong>：该操作只需要申请常数个变量，因而空间复杂度为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span>1</span><span>)</span></span></span></span>。</p>
<h4 id="查询指定索引的值"> 查询指定索引的值</h4>
<p><strong>实现思路</strong>：</p>
<p>获取用户输入的索引记为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>n</span></span></span></span>，在有效范围<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>(</span><span>0</span><span style="margin-right:0.2777777777777778em;"></span><span>≤</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.5782em;vertical-align:-0.0391em;"></span><span>n</span><span style="margin-right:0.2777777777777778em;"></span><span>&lt;</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.10903em;">N</span><span>)</span></span></span></span>内，从表头开始向后遍历，遍历<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.43056em;vertical-align:0em;"></span><span>n</span></span></span></span>次后返回指针指向的数据区域的值；若超出范围则返回未找到的信号「如-1等」。</p>
<p><strong>源代码</strong>：</p>
<div><pre><code><span>int</span> <span>locateNode</span><span>(</span><span>struct</span> <span>node</span> <span>*</span>L<span>,</span> <span>int</span> position<span>)</span><span>{</span>
    <span>struct</span> <span>node</span><span>*</span> headNode <span>=</span> L<span>-></span>next<span>;</span>
    <span>struct</span> <span>node</span><span>*</span> linkWatcher <span>=</span> headNode<span>-></span>next<span>;</span>
    <span>if</span> <span>(</span>position <span>&lt;</span> <span>0</span> <span>||</span> position <span>></span> headNode<span>-></span>data<span>)</span> <span>return</span> <span>-</span><span>1</span><span>;</span>
    <span>for</span> <span>(</span><span>int</span> i <span>=</span> <span>0</span><span>;</span> i <span>&lt;</span> position<span>;</span> <span>++</span>i<span>)</span> <span>{</span>
        linkWatcher <span>=</span> linkWatcher<span>-></span>next<span>;</span>
    <span>}</span>
    <span>return</span> linkWatcher<span>-></span>data<span>;</span>
<span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br></div></div><p><strong>时间复杂度</strong>：详情可见线性表的查询分析，时间复杂度为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span>n</span><span>)</span></span></span></span>。</p>
<p><strong>空间复杂度</strong>：该操作只需要申请常数个变量，因而空间复杂度为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span>1</span><span>)</span></span></span></span>。</p>
<h3 id="销毁"> 销毁</h3>
<p><strong>实现思路</strong>：</p>
<p>因为链表是分散分布在内存空间中的，不能一次性批量释放，只能顺着链表一节一节地释放。</p>
<p><strong>源代码</strong>：</p>
<div><pre><code><span>int</span> <span>destroyList</span><span>(</span><span>struct</span> <span>node</span> <span>*</span>L<span>)</span> <span>{</span>
    <span>int</span> deletedNum <span>=</span> <span>0</span><span>;</span>
    <span>struct</span> <span>node</span> <span>*</span>firstNode <span>=</span> L<span>-></span>next<span>;</span>
    <span>struct</span> <span>node</span> <span>*</span>tmp <span>=</span> <span>NULL</span><span>;</span>
    <span>while</span> <span>(</span>firstNode<span>)</span> <span>{</span>
        tmp <span>=</span> firstNode<span>;</span>
        firstNode <span>=</span> firstNode<span>-></span>next<span>;</span>
        <span>free</span><span>(</span>tmp<span>)</span><span>;</span>
        deletedNum<span>++</span><span>;</span>
    <span>}</span>
    <span>return</span> deletedNum<span>;</span>
<span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br></div></div><p><strong>时间复杂度</strong>：该操作执行次数与用户输入规模大小线性相关，因此时间复杂度为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span>n</span><span>)</span></span></span></span>。</p>
<p><strong>空间复杂度</strong>：该操作只需要在原有数据基础上进行释放空间，仅需要申请有限个变量的空间，因此空间复杂度为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.02778em;">O</span><span>(</span><span>1</span><span>)</span></span></span></span>。</p>
<h2 id="单链表的优缺点"> 单链表的优缺点</h2>
<p><strong>优点</strong>：</p>
<ol>
<li>插入、删除操作十分简单高效。</li>
<li>不需要指定固定的初始化空间大小。</li>
<li>不会造成内存空间浪费。</li>
</ol>
<p><strong>缺点</strong>：</p>
<ol>
<li>查询操作低效。</li>
<li>只能单向遍历，任何一个结点都只能访问其后继，无法访问前驱。</li>
<li>存储元素较数组需要的内存空间更大。</li>
</ol>
<h2 id="单链表对应的一些难题"> 单链表对应的一些难题--&gt;<a href=""></a></h2>
]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2021-10-02T22:21:39.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">顺序线性栈</title>
    <id>https://breezeshane.github.io/DataStructuresandAlgorithms/DataStructures/StackBasedonSequentialLinearList/</id>
    <link href="https://breezeshane.github.io/DataStructuresandAlgorithms/DataStructures/StackBasedonSequentialLinearList/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<h2 id="栈的定义"> 栈的定义</h2>
<p>栈是一种特殊的线性表，特殊在于该线性表的操作是受限的，只能访问与操作栈顶元素。</p>
<h2 id="顺序线性栈的定义"> 顺序线性栈的定义</h2>
<p>顾名思义，就是使用顺序线性表来实现栈的功能。</p>
<p>结构体定义如下：</p>
<div><pre><code><span>typedef</span> <span>int</span> DataType<span>;</span>
<span>struct</span> <span>seqStack</span> <span>{</span>
  <span>int</span> MAXNUM<span>;</span>
  <span>int</span> top<span>;</span>
  DataType <span>*</span>element<span>;</span>
<span>}</span><span>;</span>

<span>typedef</span> <span>struct</span> <span>seqStack</span><span>*</span> PseqStack<span>;</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br></div></div><h2 id="顺序线性栈的基本操作与实现"> 顺序线性栈的基本操作与实现</h2>
<h3 id="创建"> 创建</h3>
<p><strong>实现思路</strong>：</p>
<p><strong>源代码</strong></p>
<div><pre><code>PseqStack <span>createNullStack_seq</span><span>(</span><span>int</span> m<span>)</span> <span>{</span>
    <span>if</span> <span>(</span> m <span>&lt;=</span> <span>0</span> <span>)</span> <span>return</span> <span>NULL</span><span>;</span>
    PseqStack stack <span>=</span> <span>(</span>PseqStack<span>)</span><span>malloc</span><span>(</span><span>sizeof</span><span>(</span><span>struct</span> <span>seqStack</span><span>)</span><span>)</span><span>;</span>
    stack<span>-></span>MAXNUM <span>=</span> m<span>;</span>
    stack<span>-></span>top <span>=</span> <span>0</span><span>;</span>
    stack<span>-></span>element <span>=</span> <span>(</span>DataType<span>*</span><span>)</span><span>malloc</span><span>(</span><span>sizeof</span><span>(</span>DataType<span>)</span> <span>*</span> stack<span>-></span>MAXNUM<span>)</span><span>;</span>
    <span>return</span> stack<span>;</span>
<span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br></div></div><p><strong>时间复杂度</strong>：</p>
<p><strong>空间复杂度</strong>：</p>
<h3 id="入栈"> 入栈</h3>
<p><strong>实现思路</strong>：</p>
<p><strong>源代码</strong></p>
<div><pre><code><span>int</span> <span>isNullStack_seq</span><span>(</span>PseqStack L<span>)</span> <span>{</span>
    <span>if</span> <span>(</span> <span>!</span>L <span>)</span>  <span>return</span> <span>-</span><span>1</span><span>;</span> 
    <span>else</span> <span>if</span> <span>(</span> L<span>-></span>top <span>-</span> <span>1</span> <span>&lt;</span> <span>0</span><span>)</span> <span>return</span> <span>1</span><span>;</span>
    <span>else</span> <span>return</span> <span>0</span><span>;</span>
<span>}</span>


<span>//第三关 </span>
<span>int</span> <span>isFullStack_seq</span><span>(</span>PseqStack L<span>)</span> <span>{</span>
    <span>if</span> <span>(</span> L<span>-></span>top <span>==</span> L<span>-></span>MAXNUM <span>)</span> <span>return</span> <span>1</span><span>;</span>
    <span>else</span> <span>return</span> <span>0</span><span>;</span>
<span>}</span>


<span>//第四关</span>
<span>int</span> <span>push_seq</span><span>(</span>PseqStack L <span>,</span>DataType x<span>)</span> <span>{</span>
    <span>if</span> <span>(</span> <span>isNullStack_seq</span><span>(</span>L<span>)</span> <span>==</span> <span>-</span><span>1</span> <span>||</span> <span>isFullStack_seq</span><span>(</span>L<span>)</span> <span>)</span> <span>return</span> <span>0</span><span>;</span>
    <span>else</span> <span>{</span>
      L<span>-></span>element<span>[</span>L<span>-></span>top<span>]</span> <span>=</span> x<span>;</span>
      L<span>-></span>top<span>++</span><span>;</span>
      <span>return</span> <span>1</span><span>;</span>
    <span>}</span>
<span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br><span>18</span><br><span>19</span><br><span>20</span><br><span>21</span><br><span>22</span><br><span>23</span><br></div></div><p><strong>时间复杂度</strong>：</p>
<p><strong>空间复杂度</strong>：</p>
<h3 id="出栈"> 出栈</h3>
<p><strong>实现思路</strong>：</p>
<p><strong>源代码</strong></p>
<div><pre><code>DataType <span>pop_seq</span><span>(</span>PseqStack L<span>)</span> <span>{</span>
    <span>if</span> <span>(</span> <span>!</span><span>(</span>L<span>-></span>top<span>)</span> <span>)</span> <span>return</span> <span>-</span><span>1</span><span>;</span>
    <span>int</span> temp <span>=</span> L<span>-></span>element<span>[</span>L<span>-></span>top <span>-</span> <span>1</span><span>]</span><span>;</span>
    L<span>-></span>top<span>--</span><span>;</span>
    <span>return</span> temp<span>;</span>
<span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br></div></div><p><strong>时间复杂度</strong>：</p>
<p><strong>空间复杂度</strong>：</p>
<h3 id="读取栈顶元素"> 读取栈顶元素</h3>
<p><strong>实现思路</strong>：</p>
<p><strong>源代码</strong></p>
<div><pre><code>DataType <span>top_seq</span><span>(</span>PseqStack L<span>)</span> <span>{</span>
  <span>if</span> <span>(</span> <span>isNullStack_seq</span><span>(</span>L<span>)</span> <span>)</span> <span>return</span> <span>-</span><span>1</span><span>;</span>
  <span>return</span> L<span>-></span>element<span>[</span>L<span>-></span>top <span>-</span><span>1</span><span>]</span><span>;</span>
<span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br></div></div><p><strong>时间复杂度</strong>：</p>
<p><strong>空间复杂度</strong>：</p>
<h3 id="销毁栈"> 销毁栈</h3>
<p><strong>实现思路</strong>：</p>
<p><strong>源代码</strong></p>
<div><pre><code><span>int</span> <span>destroystack_seq</span><span>(</span>PseqStack L<span>)</span> <span>{</span>
    <span>if</span> <span>(</span> <span>isNullStack_seq</span><span>(</span>L<span>)</span> <span>==</span> <span>-</span><span>1</span> <span>)</span> <span>return</span> <span>0</span><span>;</span>
    <span>free</span><span>(</span>L<span>-></span>element<span>)</span><span>;</span>
    <span>return</span> L<span>-></span>top<span>;</span>
<span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br></div></div><p><strong>时间复杂度</strong>：</p>
<p><strong>空间复杂度</strong>：</p>
<h2 id="顺序线性栈的优缺点"> 顺序线性栈的优缺点</h2>
<p><strong>优点</strong>：</p>
<p><strong>缺点</strong>：</p>
]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2021-12-22T16:45:35.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">链式栈</title>
    <id>https://breezeshane.github.io/DataStructuresandAlgorithms/DataStructures/StackBasedonSingleLinkedList/</id>
    <link href="https://breezeshane.github.io/DataStructuresandAlgorithms/DataStructures/StackBasedonSingleLinkedList/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<h2 id="栈的定义"> 栈的定义</h2>
<p>栈是一种特殊的线性表，特殊在于该线性表的操作是受限的，只能访问与操作栈顶元素。</p>
<h2 id="链式栈的定义"> 链式栈的定义</h2>
<p>顾名思义，就是使用单链表实现栈的功能。</p>
<p>结构体定义如下：</p>
<div><pre><code>
</code></pre>
<div><span>1</span><br></div></div><h2 id="链式栈的基本操作与实现"> 链式栈的基本操作与实现</h2>
<h2 id="链式栈的优缺点"> 链式栈的优缺点</h2>
<p><strong>优点</strong>：</p>
<p><strong>缺点</strong>：</p>
]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2021-12-22T16:49:42.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">底层原因</title>
    <id>https://breezeshane.github.io/DataStructuresandAlgorithms/DataStructures/Statement/</id>
    <link href="https://breezeshane.github.io/DataStructuresandAlgorithms/DataStructures/Statement/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<h2 id="指针变量写法"> 指针变量写法</h2>
<div><pre><code>PseqList <span>createNullList_seq</span><span>(</span><span>int</span> m<span>)</span><span>{</span>
    <span>if</span> <span>(</span> <span>!</span>m <span>)</span>
        <span>return</span> <span>NULL</span><span>;</span>
    <span>struct</span> <span>seqList</span><span>*</span> HEAD <span>=</span> <span>(</span><span>struct</span> <span>seqList</span><span>*</span><span>)</span><span>malloc</span><span>(</span><span>sizeof</span><span>(</span><span>struct</span> <span>seqList</span><span>)</span><span>)</span><span>;</span>
    HEAD<span>-></span>MAXNUM <span>=</span> m<span>;</span>
    HEAD<span>-></span>curNum <span>=</span> <span>0</span><span>;</span>
    HEAD<span>-></span>element <span>=</span> <span>(</span>DataType <span>*</span><span>)</span><span>malloc</span><span>(</span><span>sizeof</span><span>(</span>DataType<span>)</span> <span>*</span> HEAD<span>-></span>MAXNUM<span>)</span><span>;</span>
    <span>return</span> HEAD<span>;</span>
<span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br></div></div><h2 id="临时变量写法"> 临时变量写法</h2>
<div><pre><code><span>struct</span> <span>seqList</span> <span>createNullList_seq</span><span>(</span><span>int</span> m<span>)</span><span>{</span>
    <span>struct</span> <span>seqList</span> HEAD<span>;</span>
    HEAD<span>.</span>MAXNUM <span>=</span> m<span>;</span>
    HEAD<span>.</span>curNum <span>=</span> <span>0</span><span>;</span>
    HEAD<span>.</span>element <span>=</span> <span>(</span>DataType <span>*</span><span>)</span><span>malloc</span><span>(</span><span>sizeof</span><span>(</span>DataType<span>)</span> <span>*</span> HEAD<span>.</span>MAXNUM<span>)</span><span>;</span>
    <span>return</span> HEAD<span>;</span>
<span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br></div></div><h2 id="为什么不采用临时变量写法"> 为什么不采用临时变量写法？</h2>
<p><strong>一方面来说</strong>，在临时变量的写法中，HEAD变量是向系统申请了函数栈内的空间，修改了成员数据后在执行return语句的时候，系统会原封不动地将HEAD变量复制到新的空间内，然后再回收掉整个函数栈。这意味着，你在外部访问到的变量已经不是这个函数内的变量了，而是它的复制版。**那么复制到新的空间又是复制到哪里去了？**答案是具体看你的代码逻辑。</p>
<p>如果你在外部这样写：</p>
<div><pre><code><span>int</span> <span>function</span><span>(</span><span>)</span> <span>{</span>
    <span>struct</span> <span>seqList</span> head <span>=</span> <span>createNullList_seq</span><span>(</span><span>5</span><span>)</span><span>;</span>
    head<span>.</span>element<span>[</span><span>0</span><span>]</span> <span>=</span> <span>5</span><span>;</span>
    head<span>.</span>curNum <span>=</span> <span>1</span><span>;</span>
    <span>printList_seq</span><span>(</span>head<span>)</span><span>;</span>
<span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br></div></div><p>那么<code>createNullList_seq</code>函数内的HEAD变量就会复制到function函数内的栈空间中。</p>
<p>然而如果这样写：</p>
<div><pre><code><span>int</span> <span>main</span><span>(</span><span>)</span> <span>{</span>
    <span>struct</span> <span>seqList</span><span>*</span> head<span>;</span>
    <span>*</span>head <span>=</span> <span>createNullList_seq</span><span>(</span><span>5</span><span>)</span><span>;</span>
    head<span>-></span>element<span>[</span><span>0</span><span>]</span> <span>=</span> <span>5</span><span>;</span>
    head<span>-></span>curNum <span>=</span> <span>1</span><span>;</span>
    <span>printList_seq</span><span>(</span>head<span>)</span><span>;</span>
<span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br></div></div><p>则是复制到堆空间内了。</p>
<p>这意味着，如果多个函数相互调用，会造成栈空间的浪费，因为对于每一个函数来说，每调用其它函数一次都要占用掉一部分栈空间。而使用指针变量写法可以避免进行大量不必要的复制行为。</p>
<p><strong>另一方面来说</strong>，临时变量的写法是将这个临时变量交给操作系统来管理，程序员将无法控制它，这意味着可能在某些时候系统认为它已失去作用，这时它将被回收，而这会导致此后如果再访问使用它将成为非法行为。但使用指针变量写法可以保证你申请的空间不会被意外回收，你拥有管理它的一切权限。</p>
<center><font size="6" color="#f2be45"><strong>综上所述，我们认为<br>使用指针变量的写法要优于使用临时变量写法。</strong></font></center>
]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2021-10-03T17:29:15.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">2-3树</title>
    <id>https://breezeshane.github.io/DataStructuresandAlgorithms/DataStructures/Tree/2-3Tree/</id>
    <link href="https://breezeshane.github.io/DataStructuresandAlgorithms/DataStructures/Tree/2-3Tree/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:27:27.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">B+树</title>
    <id>https://breezeshane.github.io/DataStructuresandAlgorithms/DataStructures/Tree/B+Tree/</id>
    <link href="https://breezeshane.github.io/DataStructuresandAlgorithms/DataStructures/Tree/B+Tree/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:27:10.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">B树</title>
    <id>https://breezeshane.github.io/DataStructuresandAlgorithms/DataStructures/Tree/BTree/</id>
    <link href="https://breezeshane.github.io/DataStructuresandAlgorithms/DataStructures/Tree/BTree/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:27:16.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">二叉树</title>
    <id>https://breezeshane.github.io/DataStructuresandAlgorithms/DataStructures/Tree/BinaryTree/</id>
    <link href="https://breezeshane.github.io/DataStructuresandAlgorithms/DataStructures/Tree/BinaryTree/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<h2 id="定义"> 定义</h2>
<p>二叉树是一颗有序树，它由</p>
]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2021-10-07T17:45:00.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">红黑树</title>
    <id>https://breezeshane.github.io/DataStructuresandAlgorithms/DataStructures/Tree/Red-BlackTree/</id>
    <link href="https://breezeshane.github.io/DataStructuresandAlgorithms/DataStructures/Tree/Red-BlackTree/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:27:23.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">括号匹配问题</title>
    <id>https://breezeshane.github.io/DataStructuresandAlgorithms/Problems/BracketMatching/</id>
    <link href="https://breezeshane.github.io/DataStructuresandAlgorithms/Problems/BracketMatching/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:27:59.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">约瑟夫问题</title>
    <id>https://breezeshane.github.io/DataStructuresandAlgorithms/Problems/JosephusProblem/</id>
    <link href="https://breezeshane.github.io/DataStructuresandAlgorithms/Problems/JosephusProblem/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:28:04.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">极限反转数问题</title>
    <id>https://breezeshane.github.io/DataStructuresandAlgorithms/Problems/ReverseShortData/</id>
    <link href="https://breezeshane.github.io/DataStructuresandAlgorithms/Problems/ReverseShortData/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:28:09.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">顺序线性表的一些经典问题</title>
    <id>https://breezeshane.github.io/DataStructuresandAlgorithms/Problems/SomeProblemsonSequentialLinearList/</id>
    <link href="https://breezeshane.github.io/DataStructuresandAlgorithms/Problems/SomeProblemsonSequentialLinearList/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:28:18.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">单链表的一些经典问题</title>
    <id>https://breezeshane.github.io/DataStructuresandAlgorithms/Problems/SomeProblemsonSingleLinkedList/</id>
    <link href="https://breezeshane.github.io/DataStructuresandAlgorithms/Problems/SomeProblemsonSingleLinkedList/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T01:28:23.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">N皇后问题</title>
    <id>https://breezeshane.github.io/DataStructuresandAlgorithms/Problems/nQueensProblem/</id>
    <link href="https://breezeshane.github.io/DataStructuresandAlgorithms/Problems/nQueensProblem/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<h2 id="问题"> 问题</h2>
<p>下图所示为4皇后问题。n皇后问题：在n×n的棋盘上安置n个皇后，要求任意两个皇后均不在同一行、同一列、同一对角线上，要求设计算法求解总共有多少方案。</p>
<p><img src="/images/nQueens.png" alt="" /></p>
<h2 id="相关背景知识"> 相关背景知识</h2>
<ol>
<li>可满足性概念</li>
<li>合取、析取的概念</li>
</ol>
<h2 id="问题求解"> 问题求解</h2>
<p>可在棋盘上建立一个xOy坐标系，从每一行中的每一列找起，排除掉已不满足的可能性，继续这样搜索每一个可能的各种满足题意的情况。</p>
<h2 id="问题分析与建模"> 问题分析与建模</h2>
<p>设棋盘上任意一点对应的命题变量为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.03853em;vertical-align:-0.3551999999999999em;"></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>(</span><span>i</span><span>,</span><span style="margin-right:0.05724em;">j</span><span>)</span></span></span></span></span><span>​</span></span><span><span style="height:0.3551999999999999em;"><span></span></span></span></span></span></span></span></span></span>。由约束条件“任意两个皇后均不在同一行、同一列、同一对角线上”可知，该命题等价于每行每列每个对角线上有且仅有一个皇后，而“有且仅有”又可看作“至少有一个”与的“至多有一个”的合取。</p>
<p>其中每行至少有一个皇后可以表示为</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span><span>Q</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>1</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:3.0651740000000007em;vertical-align:-1.4137769999999998em;"></span><span><span><span><span style="height:1.6513970000000002em;"><span style="top:-1.872331em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span>i</span><span>=</span><span>1</span></span></span></span><span style="top:-3.050005em;"><span style="height:3.05em;"></span><span><span>⋀</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span>n</span></span></span></span></span><span>​</span></span><span><span style="height:1.277669em;"><span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span><span><span style="height:1.6513970000000007em;"><span style="top:-1.872331em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span style="margin-right:0.05724em;">j</span><span>=</span><span>1</span></span></span></span><span style="top:-3.050005em;"><span style="height:3.05em;"></span><span><span>⋀</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span>n</span></span></span></span></span><span>​</span></span><span><span style="height:1.4137769999999998em;"><span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>(</span><span>i</span><span>,</span><span style="margin-right:0.05724em;">j</span><span>)</span></span></span></span></span><span>​</span></span><span><span style="height:0.3551999999999999em;"><span></span></span></span></span></span></span></span></span></span></span></p>
<p>而在第<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.65952em;vertical-align:0em;"></span><span>i</span></span></span></span>行中，<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span>∃</span><span style="margin-right:0.05724em;">j</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span style="margin-right:0.03148em;">k</span><span style="margin-right:0.2777777777777778em;"></span><span>∈</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.891661em;vertical-align:-0.208331em;"></span><span><span style="margin-right:0.10903em;">N</span><span><span><span><span style="height:0.25833100000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>+</span></span></span></span><span>​</span></span><span><span style="height:0.208331em;"><span></span></span></span></span></span></span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span>1</span><span style="margin-right:0.2777777777777778em;"></span><span>≤</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.85396em;vertical-align:-0.19444em;"></span><span style="margin-right:0.05724em;">j</span><span style="margin-right:0.2777777777777778em;"></span><span>&lt;</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.83041em;vertical-align:-0.13597em;"></span><span style="margin-right:0.03148em;">k</span><span style="margin-right:0.2777777777777778em;"></span><span>≤</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.43056em;vertical-align:0em;"></span><span>n</span></span></span></span>，<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.03853em;vertical-align:-0.3551999999999999em;"></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>(</span><span>i</span><span>,</span><span style="margin-right:0.05724em;">j</span><span>)</span></span></span></span></span><span>​</span></span><span><span style="height:0.3551999999999999em;"><span></span></span></span></span></span></span></span></span></span>和<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.03853em;vertical-align:-0.3551999999999999em;"></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>(</span><span>i</span><span>,</span><span style="margin-right:0.03148em;">k</span><span>)</span></span></span></span></span><span>​</span></span><span><span style="height:0.3551999999999999em;"><span></span></span></span></span></span></span></span></span></span>不同时为真，观察<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.03853em;vertical-align:-0.3551999999999999em;"></span><span>¬</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>(</span><span>i</span><span>,</span><span style="margin-right:0.05724em;">j</span><span>)</span></span></span></span></span><span>​</span></span><span><span style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span style="margin-right:0.2222222222222222em;"></span><span>∨</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1.03853em;vertical-align:-0.3551999999999999em;"></span><span>¬</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>(</span><span>i</span><span>,</span><span style="margin-right:0.03148em;">k</span><span>)</span></span></span></span></span><span>​</span></span><span><span style="height:0.3551999999999999em;"><span></span></span></span></span></span></span></span></span></span>可知至少<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.03853em;vertical-align:-0.3551999999999999em;"></span><span>¬</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>(</span><span>i</span><span>,</span><span style="margin-right:0.05724em;">j</span><span>)</span></span></span></span></span><span>​</span></span><span><span style="height:0.3551999999999999em;"><span></span></span></span></span></span></span></span></span></span> 和 <span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.03853em;vertical-align:-0.3551999999999999em;"></span><span>¬</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>(</span><span>i</span><span>,</span><span style="margin-right:0.03148em;">k</span><span>)</span></span></span></span></span><span>​</span></span><span><span style="height:0.3551999999999999em;"><span></span></span></span></span></span></span></span></span></span>之一为真，即<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.03853em;vertical-align:-0.3551999999999999em;"></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>(</span><span>i</span><span>,</span><span style="margin-right:0.05724em;">j</span><span>)</span></span></span></span></span><span>​</span></span><span><span style="height:0.3551999999999999em;"><span></span></span></span></span></span></span></span></span></span> 和 <span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.03853em;vertical-align:-0.3551999999999999em;"></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>(</span><span>i</span><span>,</span><span style="margin-right:0.03148em;">k</span><span>)</span></span></span></span></span><span>​</span></span><span><span style="height:0.3551999999999999em;"><span></span></span></span></span></span></span></span></span></span>有一个为假，因此下列断言表示每一行至多有一个皇后：</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span><span>Q</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>2</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:3.2393340000000004em;vertical-align:-1.438221em;"></span><span><span><span><span style="height:1.6513970000000002em;"><span style="top:-1.872331em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span>i</span><span>=</span><span>1</span></span></span></span><span style="top:-3.050005em;"><span style="height:3.05em;"></span><span><span>⋀</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span>n</span></span></span></span></span><span>​</span></span><span><span style="height:1.277669em;"><span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span><span><span style="height:1.8011130000000006em;"><span style="top:-1.872331em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span style="margin-right:0.05724em;">j</span><span>=</span><span>1</span></span></span></span><span style="top:-3.050005em;"><span style="height:3.05em;"></span><span><span>⋀</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span>n</span><span>−</span><span>1</span></span></span></span></span><span>​</span></span><span><span style="height:1.4137769999999998em;"><span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span><span><span style="height:1.6513970000000002em;"><span style="top:-1.8478869999999998em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span style="margin-right:0.03148em;">k</span><span>=</span><span style="margin-right:0.05724em;">j</span><span>+</span><span>1</span></span></span></span><span style="top:-3.0500049999999996em;"><span style="height:3.05em;"></span><span><span>⋀</span></span></span><span style="top:-4.300005em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span>n</span></span></span></span></span><span>​</span></span><span><span style="height:1.438221em;"><span></span></span></span></span></span><span>(</span><span>¬</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>(</span><span>i</span><span>,</span><span style="margin-right:0.05724em;">j</span><span>)</span></span></span></span></span><span>​</span></span><span><span style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span style="margin-right:0.2222222222222222em;"></span><span>∨</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1.1052em;vertical-align:-0.3551999999999999em;"></span><span>¬</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>(</span><span>i</span><span>,</span><span style="margin-right:0.03148em;">k</span><span>)</span></span></span></span></span><span>​</span></span><span><span style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span>)</span></span></span></span></span></p>
<p>同理，每一列有且仅有一个皇后的断言为：</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span><span>Q</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>3</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:3.2148900000000005em;vertical-align:-1.4137769999999998em;"></span><span><span><span><span style="height:1.6513970000000007em;"><span style="top:-1.872331em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span style="margin-right:0.05724em;">j</span><span>=</span><span>1</span></span></span></span><span style="top:-3.050005em;"><span style="height:3.05em;"></span><span><span>⋀</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span>n</span></span></span></span></span><span>​</span></span><span><span style="height:1.4137769999999998em;"><span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span><span><span style="height:1.8011130000000004em;"><span style="top:-1.872331em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span>i</span><span>=</span><span>1</span></span></span></span><span style="top:-3.050005em;"><span style="height:3.05em;"></span><span><span>⋀</span></span></span><span style="top:-4.300005em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span>n</span><span>−</span><span>1</span></span></span></span></span><span>​</span></span><span><span style="height:1.277669em;"><span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span><span><span style="height:1.6513970000000002em;"><span style="top:-1.8478869999999998em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span style="margin-right:0.03148em;">k</span><span>=</span><span>i</span><span>+</span><span>1</span></span></span></span><span style="top:-3.0500049999999996em;"><span style="height:3.05em;"></span><span><span>⋀</span></span></span><span style="top:-4.300005em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span>n</span></span></span></span></span><span>​</span></span><span><span style="height:1.360444em;"><span></span></span></span></span></span><span>(</span><span>¬</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>(</span><span>i</span><span>,</span><span style="margin-right:0.05724em;">j</span><span>)</span></span></span></span></span><span>​</span></span><span><span style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span style="margin-right:0.2222222222222222em;"></span><span>∨</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1.1052em;vertical-align:-0.3551999999999999em;"></span><span>¬</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>(</span><span style="margin-right:0.03148em;">k</span><span>,</span><span style="margin-right:0.05724em;">j</span><span>)</span></span></span></span></span><span>​</span></span><span><span style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span>)</span></span></span></span></span></p>
<p>同时为了校验每条对角线上有且仅有一个皇后，可以推知如下断言：</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span><span>Q</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>4</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:3.3747819999999997em;vertical-align:-1.4137769999999998em;"></span><span><span><span><span style="height:1.6513970000000002em;"><span style="top:-1.872331em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span>i</span><span>=</span><span>2</span></span></span></span><span style="top:-3.050005em;"><span style="height:3.05em;"></span><span><span>⋀</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span>n</span></span></span></span></span><span>​</span></span><span><span style="height:1.277669em;"><span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span><span><span style="height:1.8011130000000006em;"><span style="top:-1.872331em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span style="margin-right:0.05724em;">j</span><span>=</span><span>1</span></span></span></span><span style="top:-3.050005em;"><span style="height:3.05em;"></span><span><span>⋀</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span>n</span><span>−</span><span>1</span></span></span></span></span><span>​</span></span><span><span style="height:1.4137769999999998em;"><span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span><span><span style="height:1.961005em;"><span style="top:-1.8478869999999998em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span style="margin-right:0.03148em;">k</span><span>=</span><span>1</span></span></span></span><span style="top:-3.0500049999999996em;"><span style="height:3.05em;"></span><span><span>⋀</span></span></span><span style="top:-4.386005em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span><span>m</span><span>i</span><span>n</span></span><span>(</span><span>i</span><span>−</span><span>1</span><span>,</span><span>n</span><span>−</span><span style="margin-right:0.05724em;">j</span><span>)</span></span></span></span></span><span>​</span></span><span><span style="height:1.302113em;"><span></span></span></span></span></span><span>(</span><span>¬</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>(</span><span>i</span><span>,</span><span style="margin-right:0.05724em;">j</span><span>)</span></span></span></span></span><span>​</span></span><span><span style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span style="margin-right:0.2222222222222222em;"></span><span>∨</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1.1052em;vertical-align:-0.3551999999999999em;"></span><span>¬</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>(</span><span>i</span><span>−</span><span style="margin-right:0.03148em;">k</span><span>,</span><span style="margin-right:0.03148em;">k</span><span>+</span><span style="margin-right:0.05724em;">j</span><span>)</span></span></span></span></span><span>​</span></span><span><span style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span>)</span></span></span></span></span></p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span><span>Q</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>5</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:3.3747819999999997em;vertical-align:-1.4137769999999998em;"></span><span><span><span><span style="height:1.6513970000000002em;"><span style="top:-1.872331em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span>i</span><span>=</span><span>1</span></span></span></span><span style="top:-3.050005em;"><span style="height:3.05em;"></span><span><span>⋀</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span>n</span></span></span></span></span><span>​</span></span><span><span style="height:1.277669em;"><span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span><span><span style="height:1.8011130000000006em;"><span style="top:-1.872331em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span style="margin-right:0.05724em;">j</span><span>=</span><span>1</span></span></span></span><span style="top:-3.050005em;"><span style="height:3.05em;"></span><span><span>⋀</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span>n</span><span>−</span><span>1</span></span></span></span></span><span>​</span></span><span><span style="height:1.4137769999999998em;"><span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span><span><span style="height:1.961005em;"><span style="top:-1.8478869999999998em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span style="margin-right:0.03148em;">k</span><span>=</span><span>1</span></span></span></span><span style="top:-3.0500049999999996em;"><span style="height:3.05em;"></span><span><span>⋀</span></span></span><span style="top:-4.386005em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span><span>m</span><span>i</span><span>n</span></span><span>(</span><span>n</span><span>−</span><span>i</span><span>,</span><span>n</span><span>−</span><span style="margin-right:0.05724em;">j</span><span>)</span></span></span></span></span><span>​</span></span><span><span style="height:1.302113em;"><span></span></span></span></span></span><span>(</span><span>¬</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>(</span><span>i</span><span>,</span><span style="margin-right:0.05724em;">j</span><span>)</span></span></span></span></span><span>​</span></span><span><span style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span style="margin-right:0.2222222222222222em;"></span><span>∨</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1.1052em;vertical-align:-0.3551999999999999em;"></span><span>¬</span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>(</span><span>i</span><span>+</span><span style="margin-right:0.03148em;">k</span><span>,</span><span style="margin-right:0.03148em;">k</span><span>+</span><span style="margin-right:0.05724em;">j</span><span>)</span></span></span></span></span><span>​</span></span><span><span style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span>)</span></span></span></span></span></p>
<p>这里出现了<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>min</span><span>(</span><span>i</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span>1</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span>n</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.05724em;">j</span><span>)</span></span></span></span>是因为<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>(</span><span>i</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.03148em;">k</span><span>)</span></span></span></span>满足<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.74285em;vertical-align:-0.08333em;"></span><span>i</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:0.83041em;vertical-align:-0.13597em;"></span><span style="margin-right:0.03148em;">k</span><span style="margin-right:0.2777777777777778em;"></span><span>≥</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.64444em;vertical-align:0em;"></span><span>1</span></span></span></span>，<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>(</span><span style="margin-right:0.03148em;">k</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.05724em;">j</span><span>)</span></span></span></span>满足<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.77777em;vertical-align:-0.08333em;"></span><span style="margin-right:0.03148em;">k</span><span style="margin-right:0.2222222222222222em;"></span><span>+</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:0.85396em;vertical-align:-0.19444em;"></span><span style="margin-right:0.05724em;">j</span><span style="margin-right:0.2777777777777778em;"></span><span>≤</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:0.43056em;vertical-align:0em;"></span><span>n</span></span></span></span>，从而求得</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:3.0000299999999998em;vertical-align:-1.25003em;"></span><span><span style="top:0em;"><span>{</span></span><span><span><span><span><span><span style="height:1.69em;"><span style="top:-3.69em;"><span style="height:3.008em;"></span><span><span style="margin-right:0.03148em;">k</span><span style="margin-right:0.2777777777777778em;"></span><span>≤</span><span style="margin-right:0.2777777777777778em;"></span><span>i</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span><span>1</span></span></span><span style="top:-2.25em;"><span style="height:3.008em;"></span><span><span style="margin-right:0.03148em;">k</span><span style="margin-right:0.2777777777777778em;"></span><span>≤</span><span style="margin-right:0.2777777777777778em;"></span><span>n</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span><span style="margin-right:0.05724em;">j</span></span></span></span><span>​</span></span><span><span style="height:1.19em;"><span></span></span></span></span></span></span></span><span></span></span></span></span></span></span></p>
<p>求解方知结果就是<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>min</span><span>(</span><span>i</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span>1</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span>n</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.05724em;">j</span><span>)</span></span></span></span>。同理可得<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>min</span><span>(</span><span>n</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:0.85396em;vertical-align:-0.19444em;"></span><span>i</span><span>,</span><span style="margin-right:0.16666666666666666em;"></span><span>n</span><span style="margin-right:0.2222222222222222em;"></span><span>−</span><span style="margin-right:0.2222222222222222em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span style="margin-right:0.05724em;">j</span><span>)</span></span></span></span>。</p>
<p>综上所述，满足题意的解应使以下断言为真：</p>
<p class='katex-block'><span><span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span>Q</span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:3.0787820000000004em;vertical-align:-1.277669em;"></span><span><span><span><span style="height:1.8011130000000004em;"><span style="top:-1.872331em;margin-left:0em;"><span style="height:3.05em;"></span><span><span><span>i</span><span>=</span><span>1</span></span></span></span><span style="top:-3.050005em;"><span style="height:3.05em;"></span><span><span>⋀</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span style="height:3.05em;"></span><span><span>5</span></span></span></span><span>​</span></span><span><span style="height:1.277669em;"><span></span></span></span></span></span><span style="margin-right:0.16666666666666666em;"></span><span><span>Q</span><span><span><span><span style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>i</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></p>
<p>该式对应<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1.03853em;vertical-align:-0.3551999999999999em;"></span><span><span style="margin-right:0.13889em;">P</span><span><span><span><span style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:-0.13889em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>(</span><span>i</span><span>,</span><span style="margin-right:0.05724em;">j</span><span>)</span></span></span></span></span><span>​</span></span><span><span style="height:0.3551999999999999em;"><span></span></span></span></span></span></span></span></span></span>的真值解释，即为所求。</p>
<h2 id="算法设计、分析与求解算法"> 算法设计、分析与求解算法</h2>
<div><pre><code><span><span>#</span><span>include</span> <span>&lt;iostream></span></span>
<span><span>#</span><span>include</span> <span>&lt;vector></span></span>

<span>int</span> side_length <span>=</span> <span>0</span><span>;</span>
<span>int</span> count <span>=</span> <span>0</span><span>;</span>

<span>bool</span> <span>Check_True_Or_False</span><span>(</span><span>int</span> i<span>,</span> <span>int</span> j<span>,</span> std<span>::</span>vector<span>&lt;</span>std<span>::</span>vector<span>&lt;</span><span>int</span><span>>></span> Board<span>)</span><span>;</span>
<span>void</span> <span>Print_the_Board</span><span>(</span>std<span>::</span>vector<span>&lt;</span>std<span>::</span>vector<span>&lt;</span><span>int</span><span>>></span> Board<span>)</span><span>;</span>
<span>void</span> <span>Queens</span><span>(</span><span>int</span> j<span>,</span> std<span>::</span>vector<span>&lt;</span>std<span>::</span>vector<span>&lt;</span><span>int</span><span>>></span> Board<span>)</span><span>;</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br></div></div><p>初期准备，设想是构建并实现判断满足性、递归构建逻辑关系和打印三大部分，并设定好相关的计数器</p>
<div><pre><code><span>int</span> <span>main</span><span>(</span><span>)</span> <span>{</span>

    std<span>::</span>cout <span>&lt;&lt;</span> <span>"Input the side length of checkerboard: "</span> <span>&lt;&lt;</span> std<span>::</span>endl<span>;</span>
    std<span>::</span>cin <span>>></span> side_length<span>;</span>
    std<span>::</span>vector<span>&lt;</span>std<span>::</span>vector<span>&lt;</span><span>int</span><span>>></span> <span>Board</span><span>(</span>side_length<span>)</span><span>;</span>
    <span>for</span> <span>(</span><span>int</span> i <span>=</span> <span>0</span><span>;</span> i <span>&lt;</span> side_length<span>;</span> <span>++</span>i<span>)</span> <span>{</span>
        Board<span>[</span>i<span>]</span><span>.</span><span>resize</span><span>(</span>side_length<span>)</span><span>;</span>
        <span>for</span> <span>(</span><span>int</span> j <span>=</span> <span>0</span><span>;</span> j <span>&lt;</span> side_length<span>;</span> <span>++</span>j<span>)</span> <span>{</span>
            Board<span>[</span>i<span>]</span><span>[</span>j<span>]</span> <span>=</span> <span>0</span><span>;</span>
        <span>}</span>
    <span>}</span>
    <span>Queens</span><span>(</span><span>0</span><span>,</span> Board<span>)</span><span>;</span>
    std<span>::</span>cout <span>&lt;&lt;</span> <span>"共有"</span><span>&lt;&lt;</span> count <span>&lt;&lt;</span> <span>"种方案。"</span> <span>&lt;&lt;</span> std<span>::</span>endl<span>;</span>
    <span>return</span> <span>0</span><span>;</span>
<span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br></div></div><p>主函数用于定义主要行为，获取输入的棋盘边长并初始化二维数组，并使用Queens来构造逻辑关系。</p>
<div><pre><code><span>void</span> <span>Queens</span><span>(</span><span>int</span> j<span>,</span> std<span>::</span>vector<span>&lt;</span>std<span>::</span>vector<span>&lt;</span><span>int</span><span>>></span> Board<span>)</span><span>{</span>
    <span>if</span> <span>(</span>j <span>==</span> side_length <span>&amp;&amp;</span> j <span>!=</span> <span>0</span><span>)</span><span>{</span>
        <span>Print_the_Board</span><span>(</span>Board<span>)</span><span>;</span>
        <span>++</span>count<span>;</span>
        <span>return</span><span>;</span>
    <span>}</span>
    <span>for</span> <span>(</span><span>int</span> i <span>=</span> <span>0</span><span>;</span> i <span>&lt;</span> side_length<span>;</span> <span>++</span>i<span>)</span> <span>{</span>
        <span>if</span> <span>(</span> <span>Check_True_Or_False</span><span>(</span>i<span>,</span>j<span>,</span>Board<span>)</span> <span>)</span><span>{</span>
            Board<span>[</span>i<span>]</span><span>[</span>j<span>]</span> <span>=</span> <span>1</span><span>;</span>
            <span>Queens</span><span>(</span>j<span>+</span><span>1</span><span>,</span> Board<span>)</span><span>;</span>
            Board<span>[</span>i<span>]</span><span>[</span>j<span>]</span> <span>=</span> <span>0</span><span>;</span>
        <span>}</span>
    <span>}</span>
<span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br></div></div><p>Queens函数采用了递归方式，利用回溯法确定方案。大致逻辑是：从第一列开始寻找，在每一格上判断真值，若为真，则放下皇后（相当于 0 改为 1），否则不作处理，判断为真的情况下递归一次，向下继续查找满足的情况，以此类推，最后找到所有情况后再同时回溯到上一层直到起点。if  语句块设定递归的出口（递归终止），因为我们可以确定能递归到最后的一定可以满足条件，这时我们输出棋盘状况，计数器加一，然后开始撤回所有的皇后（就是 <code>Board[i][j] = 0;</code>这个语句的含义），继续搜索其他情况下的解。for 循环保证了搜索过每一行，而列则由递归来保证搜索。另外我还做了输入合法性问题的检查，当用户输入 0（没有棋盘的时候）时不应计数。</p>
<div><pre><code><span>bool</span> <span>Check_True_Or_False</span><span>(</span><span>int</span> i<span>,</span> <span>int</span> j<span>,</span> std<span>::</span>vector<span>&lt;</span>std<span>::</span>vector<span>&lt;</span><span>int</span><span>>></span> Board<span>)</span><span>{</span>
    <span>int</span> line<span>,</span> column<span>;</span>

    <span>for</span> <span>(</span>line <span>=</span> i<span>,</span> column <span>=</span> <span>0</span><span>;</span> column <span>&lt;</span> side_length<span>;</span> <span>++</span>column<span>)</span> <span>{</span>
        <span>if</span> <span>(</span>Board<span>[</span>line<span>]</span><span>[</span>column<span>]</span> <span>==</span> <span>1</span> <span>&amp;&amp;</span> column <span>!=</span> j<span>)</span><span>{</span>
            <span>return</span> <span>false</span><span>;</span>
        <span>}</span>
    <span>}</span>

    <span>for</span> <span>(</span>line <span>=</span> <span>0</span><span>,</span> column <span>=</span> j<span>;</span> line <span>&lt;</span> side_length<span>;</span> <span>++</span>line<span>)</span> <span>{</span>
        <span>if</span> <span>(</span>Board<span>[</span>line<span>]</span><span>[</span>column<span>]</span> <span>==</span> <span>1</span> <span>&amp;&amp;</span> line <span>!=</span> i<span>)</span><span>{</span>
            <span>return</span> <span>false</span><span>;</span>
        <span>}</span>
    <span>}</span>

    <span>for</span> <span>(</span>line <span>=</span> i <span>+</span> <span>1</span><span>,</span> column <span>=</span> j <span>+</span> <span>1</span><span>;</span> line <span>&lt;</span> side_length <span>&amp;&amp;</span> column <span>&lt;</span> side_length<span>;</span> <span>++</span>line<span>,</span> <span>++</span>column<span>)</span> <span>{</span>
        <span>if</span> <span>(</span>Board<span>[</span>line<span>]</span><span>[</span>column<span>]</span> <span>==</span> <span>1</span><span>)</span><span>{</span>
            <span>return</span> <span>false</span><span>;</span>
        <span>}</span>
    <span>}</span>

    <span>for</span> <span>(</span>line <span>=</span> i <span>+</span> <span>1</span><span>,</span> column <span>=</span> j <span>-</span> <span>1</span><span>;</span> line <span>&lt;</span> side_length <span>&amp;&amp;</span> column <span>>=</span> <span>0</span><span>;</span> <span>++</span>line<span>,</span> <span>--</span>column<span>)</span> <span>{</span>
        <span>if</span> <span>(</span>Board<span>[</span>line<span>]</span><span>[</span>column<span>]</span> <span>==</span> <span>1</span><span>)</span><span>{</span>
            <span>return</span> <span>false</span><span>;</span>
        <span>}</span>
    <span>}</span>

    <span>for</span> <span>(</span>line <span>=</span> i <span>-</span> <span>1</span><span>,</span> column <span>=</span> j <span>-</span> <span>1</span><span>;</span> line <span>>=</span> <span>0</span> <span>&amp;&amp;</span> column <span>>=</span> <span>0</span><span>;</span> <span>--</span>line<span>,</span> <span>--</span>column<span>)</span> <span>{</span>
        <span>if</span> <span>(</span>Board<span>[</span>line<span>]</span><span>[</span>column<span>]</span> <span>==</span> <span>1</span><span>)</span><span>{</span>
            <span>return</span> <span>false</span><span>;</span>
        <span>}</span>
    <span>}</span>

    <span>for</span> <span>(</span>line <span>=</span> i <span>-</span> <span>1</span><span>,</span> column <span>=</span> j <span>+</span> <span>1</span><span>;</span> line <span>>=</span> <span>0</span> <span>&amp;&amp;</span> column <span>&lt;</span> side_length<span>;</span> <span>--</span>line<span>,</span> <span>++</span>column<span>)</span> <span>{</span>
        <span>if</span> <span>(</span>Board<span>[</span>line<span>]</span><span>[</span>column<span>]</span> <span>==</span> <span>1</span><span>)</span><span>{</span>
            <span>return</span> <span>false</span><span>;</span>
        <span>}</span>
    <span>}</span>
    <span>return</span> <span>true</span><span>;</span>
<span>}</span>

<span>void</span> <span>Print_the_Board</span><span>(</span>std<span>::</span>vector<span>&lt;</span>std<span>::</span>vector<span>&lt;</span><span>int</span><span>>></span> Board<span>)</span><span>{</span>
    <span>for</span> <span>(</span><span>int</span> i <span>=</span> <span>0</span><span>;</span> i <span>&lt;</span> side_length<span>;</span> <span>++</span>i<span>)</span> <span>{</span>
        <span>for</span> <span>(</span><span>int</span> j <span>=</span> <span>0</span><span>;</span> j <span>&lt;</span> side_length<span>;</span> <span>++</span>j<span>)</span> <span>{</span>
            std<span>::</span>cout <span>&lt;&lt;</span> Board<span>[</span>i<span>]</span><span>[</span>j<span>]</span> <span>&lt;&lt;</span> <span>'\t'</span><span>;</span>
        <span>}</span>
        std<span>::</span>cout <span>&lt;&lt;</span> std<span>::</span>endl<span>;</span>
    <span>}</span>
    std<span>::</span>cout <span>&lt;&lt;</span> std<span>::</span>endl<span>;</span>
<span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br><span>18</span><br><span>19</span><br><span>20</span><br><span>21</span><br><span>22</span><br><span>23</span><br><span>24</span><br><span>25</span><br><span>26</span><br><span>27</span><br><span>28</span><br><span>29</span><br><span>30</span><br><span>31</span><br><span>32</span><br><span>33</span><br><span>34</span><br><span>35</span><br><span>36</span><br><span>37</span><br><span>38</span><br><span>39</span><br><span>40</span><br><span>41</span><br><span>42</span><br><span>43</span><br><span>44</span><br><span>45</span><br><span>46</span><br><span>47</span><br><span>48</span><br><span>49</span><br><span>50</span><br></div></div><p>这里的判断真值的Check_True_Or_False函数逻辑简单，使用循环方式依次遍历每行每列每条对角线上是否存在其他皇后，若存在则返回false，否则返回true。</p>
<p>最后则是打印出这个棋盘上皇后的摆放位置。</p>
<h2 id="参考资料"> 参考资料</h2>
<p>[1] Kenneth H. Rosen. Discrete Mathematics and Its Applications[M].Beijing: China Machine Press, 2020.1: 28-30.</p>
<h2 id="源代码-n-queens-problem"> 源代码--&gt;<a href="https://github.com/BreezeShane/MySummary/blob/master/C%2B%2B/N-Queens%20Problem/N%E7%9A%87%E5%90%8E%E9%97%AE%E9%A2%98.cpp" target="_blank" rel="noopener noreferrer">N Queens Problem</a></h2>
]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2021-05-04T20:45:55.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">Git Commands</title>
    <id>https://breezeshane.github.io/Git_Commands/</id>
    <link href="https://breezeshane.github.io/Git_Commands/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<p>最近小伙伴们好像都在为git指令发愁啊，讲真，刚开始确实用不惯。嘛，用的时间长了，git指令还是很好的东西~   <sub>（我不可能告诉你我是DOS系统的情怀党）</sub></p>
<p>于是我就写这个帮助文档，一来我能日后有需要再去复习，二来也可以给小伙伴们提供参考~</p>
<h2 id="git-前期准备该怎么做"> Git 前期准备该怎么做？</h2>
<p>首先，第一次使用git的时候，操作稍稍麻烦一些，但做完之后，就是一劳永逸的事啦！</p>
<ol>
<li>按下Super键+R，打开运行对话框，输入powershell，点击运行。</li>
<li>首先要选择你的存储目录（以后的文件都要放在这里的~如果换文件夹需要重新做）</li>
<li>选择好你的目录后，在powershell里输入<code>cd (你的文件路径)</code></li>
<li>输入<code>git init</code>进行初始化</li>
<li>/* 可以输入<code>ls</code>来查看当前目录下所有文件，如果想查看被隐藏的文件需要输入<code>ls -s</code> */</li>
<li>输入<code>git remote add (Your repository's name) (Your repository's Url)</code>//通常Your repository's Url就是在你的GitHub上打开你的repository后的链接地址<strong>还要再加上 .git</strong></li>
<li>连接成功后，由于你第一次使用，需要先登录，则要执行以下两行指令：<div><pre><code>git config --global user.name &quot;(Your User name)&quot;
git config --global user.email &quot;***********@***&quot;
</code></pre>
<div><span>1</span><br><span>2</span><br></div></div></li>
<li>然后就可以创建你的readme文件啦，需要输入<code>echo &quot;All you wanna say&quot; &gt; readme.md</code></li>
<li>接着输入<code>git status</code></li>
<li>看到返回给你的红字之后，输入<code>git add --all</code></li>
<li>再次输入<code>git status</code></li>
<li>你会发现原来红色的字都绿了......</li>
<li><strong>注意中间会弹出一个对话框，让你输入你的GitHub用户名及密码，输入完毕登录以后，就可以了。</strong></li>
<li>每次上传之前都要养成良好的记录习惯~输入<code>git commit -m &quot;All you wanna say&quot;</code></li>
<li>这时候再输入<code>git push --set-upstream (Your repository's name) master</code></li>
<li>当然上面的master也可以换成别的分支。另外应该知道，这里的(Your repository's name)是你在本地命名的仓库名，与GitHub上的仓库名没有必然联系。</li>
<li>最后，你会发现上传成功，那么你赶快去刷新你的GitHub吧！</li>
</ol>
<h2 id="git-repository名字忘记了怎么办"> Git repository名字忘记了怎么办？</h2>
<p>你很有可能建立了多个仓库，仓库名太多容易记不过来，有时候又容易忘记，该怎么办啊？别急，山人自有妙计：</p>
<p>输入<code>git remote -v</code></p>
<p>这时候你会发现，你的所有的repository名字以及它对应的Url都出现啦！</p>
<h2 id="git上传时不小心使用git-add-all把本不希望添加的文件上传了-但还好没有提交也没做commit-那么这时候你该怎么办"> Git上传时不小心使用git add --all把本不希望添加的文件上传了，但还好没有提交也没做commit，那么这时候你该怎么办？</h2>
<p>可以输入<code>git rm --cached (filename)</code>
如果不行，试试这个<code>git rm -f --cached (filename)</code></p>
<h2 id="git-上传文件被拒绝该怎么办"> Git 上传文件被拒绝该怎么办？</h2>
<p>输入<code>git pull --rebase (Your repository's name) master</code>然后再push一下就好啦！</p>
<h2 id="git-需要走代理怎么办"> Git 需要走代理怎么办？</h2>
<div><pre><code><span># git config --global http.proxy http://127.0.0.1:1080</span>
<span># git config --global https.proxy https://127.0.0.1:1080</span>
<span># 如果你像上面那样设置过代理的话需要执行这两行指令：</span>
<span>git</span> config --global --unset http.proxy
<span>git</span> config --global --unset https.proxy

<span># 1086 改为自己的 socks5 监听端口</span>
<span>git</span> config --global http.https://github.com.proxy socks5://127.0.0.1:1086
<span>git</span> config --global https.https://github.com.proxy socks5://127.0.0.1:1086
<span># 1080 改为自己的 http 监听端口</span>
<span>git</span> config --global http.https://github.com.proxy https://127.0.0.1:1080
<span>git</span> config --global https.https://github.com.proxy https://127.0.0.1:1080
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br></div></div><h2 id="manjaro-每次上传总是需要输入用户名和密码的解决方案"> Manjaro 每次上传总是需要输入用户名和密码的解决方案</h2>
<p>目前看到的解决方案是进入到项目目录里添加本地凭证即可。执行：</p>
<div><pre><code>git config --global credential.helper store
# 这个指令会在用户路径下生成.gitconfig文件并指添加相应的配置内容。
# 用户路径是指windows: C:/Users/username、mac os x: /Users/username和linux: /home/username
git pull
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br></div></div><p>然后你只需要再输入一次用户名和密码就可以生效了！</p>
<h2 id="如何理解git-add"> 如何理解git add . ?</h2>
<p><code>git add .</code>表示将当前目录下所有的文件都加载到暂存区内，和<code>git add --all</code>等效。</p>
<h2 id="git如何删除远程仓库"> Git如何删除远程仓库？</h2>
<p><code>git remote rm NAME</code>即可删除掉不再需要的远程仓库，为了避免歧义强调一下：对GitHub服务器上的仓库毫无影响。</p>
<h2 id="git如何创建服务器并多人协作"> Git如何创建服务器并多人协作？</h2>
<blockquote>
<p>注：创建服务器一般由项目负责人来完成此过程。</p>
</blockquote>
<ol>
<li>
<p>首先要在GitHub上准备好项目仓库</p>
</li>
<li>
<p>在本地进入到项目根路径下，执行<code>git init --bare</code>来创建一个裸服务器</p>
</li>
<li>
<p>执行<code>git clone PROJECT_PATH</code>来从裸服务器将版本库克隆至本地，以便开始后续工作。PROJECT_PATH就是项目的绝对路径。</p>
</li>
<li>
<p>在本地编写好自己负责的项目部分</p>
</li>
<li>
<p>执行<code>git remote</code>确定服务器所在之后执行<code>git push ORIGIN master</code>来推送版本至服务器上。</p>
<p><font color="red">注意从此开始服务器创建完毕并正式投入使用，接下来将讲述如何使用。</font></p>
</li>
<li>
<p>开始的第一件事是执行<code>git pull</code>来将项目拉取下来，以免出现版本冲突问题。</p>
</li>
<li>
<p>在本地编写好自己负责的项目部分</p>
</li>
<li>
<p>执行<code>git remote</code>确定服务器所在之后执行<code>git push ORIGIN master</code>来推送版本至服务器上。</p>
</li>
</ol>
<p>应该注意的是，当甲正在开发项目的时候，乙完成了工作并成功上传到服务器上，这时候甲想直接执行上传就会失败，因为乙上传之后服务器的版本更新了，此时和甲当前的版本不同，因此甲在上传之前就要先执行<code>git pull</code>来更新版本，然后才能继续上传。当然，用多了的话，你也会发现<code>git remote</code>这个是不需要每次都执行的，仅在你不知道有哪些服务器的情况下才有必要执行。</p>
<h2 id="git如何更好地多人协作"> Git如何更好地多人协作？</h2>
<p>看过上一节的教程，不难发现，如果同时开发的人员有多个的话，这样的工作模式是会经常发生冲突的，比如A、B两人合作完成一个项目，A有一个新功能需要实现，但需要花半个月的时间，现在一周过去了，A并不能写完这个功能，但如果就这样提交上去，会导致B无法正常完成项目，因为项目中有并不由B负责的代码没写完，导致B无法进行开发调试；而如果不提交的话，又要面临丢失每日进度的风险，这是每一个程序员都不能接受的。</p>
<p>那么怎么样才能更好地进行协作呢？Git有一个非常好的功能——分支。</p>
<p>分支，顾名思义，就是从主干中分出的支线。我们刚才那一系列操作其实都是在针对master主分支上进行操作，而为了更好协作，我们就需要建立一个新的分支，这样就可以安心自己开发而不必担心打扰其他合作人员。「好在Git是自由的，任何一个程序员都可以拥有自己的分支来进行任何的开发，而不干扰master主分支正常使用。」</p>
<p>我们来查看当前所在的分支，执行<code>git branch</code>，*所在的地方就表示当前所在的分支。</p>
<p>现在我们要创建新的分支，就要执行<code>git branch NEW_BRANCH</code>，这样就可以创建一个名为NEW_BRANCH的分支。</p>
<p>要使用该分支，我们需要先切换到这个分支，就需要执行<code>git checkout NEW_BRANCH</code>来切换到NEW_BRANCH分支这里。</p>
<p>接下来就可以自由进行开发而不再担心会打扰到他人正常工作了。</p>
<p>那么当我们完成了各自分支上的任务，又如何整合到一起呢？我们先切回到master主分支上，<code>git checkout master</code></p>
<p>然后我们来执行<code>git merge NEW_BRANCH</code>来将NEW_BRANCH合并到master主分支上。</p>
<p>如果项目完成收工的话，或者因为一些原因某分支不再需要了的话，我们可以执行<code>git branch -d NEW_BRANCH</code>来删除NEW_BRANCH分支。</p>
<p>如果想看一下提交的历史记录，可以执行<code>git log</code>来查看。</p>
<center>以上教程对于多人协作来说已基本够用。</center>
<h2 id="git如何撤回所有的commit"> Git如何撤回所有的Commit？</h2>
<p>在终端输入<code>git reset --soft HEAD^</code>就可以撤销一次申请。有几次提交就可以重复执行几次。</p>
<h2 id="git-add如何取消所有的文件"> Git add如何取消所有的文件？</h2>
<p>在终端输入<code>git reset HEAD .</code>就可以取消暂存所有文件。</p>
<h2 id="git有些东西根本不想上传-怎么办"> Git有些东西根本不想上传，怎么办？</h2>
<p>在项目目录下新建一个文件，命名为<code>.gitignore</code>，并写入不希望添加的文件(夹)：</p>
<div><pre><code>Content		<span>#忽略掉Content目录</span>
__cache__/*	<span>#忽略掉__cache__下的所有文件</span>
dust.txt	<span>#忽略掉dust.txt文件</span>
lib/<span>*.dll</span>	<span>#忽略掉lib目录下的所有dll文件</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br></div></div><h2 id="git配置ssh密钥"> Git配置SSH密钥</h2>
<p>自从GitHub取消了用户名密码验证以后，我们常用的也只剩下了SSH，要使用这个还需要稍微配置一下，不过不算麻烦。</p>
<div><pre><code>ssh-keygen -t rsa -C <span>"addr.of.your@email.com"</span>
</code></pre>
<div><span>1</span><br></div></div><p>然后可以默认不输入任何信息，一路回车，这样就可以生成了SSH密钥，我们再获取一下公用密钥内容，执行<code>cat ~/.ssh/id_rsa.pub</code>，再把输出的信息复制一下。</p>
<p>GitHUb上SSH配置路线如下：点击右上角用户后，在出现的菜单中点击Settings，然后在左侧栏中点击SSH and GPG keys，再点击右侧的New SSH key即可新建SSH密钥，把刚才复制的内容粘贴到这里即可。Title根据自己的需要自定即可。</p>
<hr>
<p>后面再遇到问题的时候我还会继续更新~</p>
]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2020-11-08T17:27:09.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">Arcolinux &amp; AwesomeWM</title>
    <id>https://breezeshane.github.io/Linux/ArcolinuxAndAwesomeWM/</id>
    <link href="https://breezeshane.github.io/Linux/ArcolinuxAndAwesomeWM/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<blockquote>
<p><strong>前因</strong>：由于之前我使用的Manjaro始终都存在着无法正常扩展第三屏幕的Bug，反反复复修了五六次，还是没能彻底解决，所有之前的解决方法其实治标不治本，最后我实在无法解决这个问题，只好解决出问题的系统了，执行 <code>sudo rm -rf /*</code>。也正是这样，才不得不换新的系统，经过较长时间的选择以及和大佬交流，最后我选择了ArcoLinux。</p>
</blockquote>
<p>不过，这个路比Manjaro艰难得多就是了，ArcoLinuxB仅仅是比ArchLinux多了个桌面环境，我原本是有选择安装的，奈何网络质量问题，我无法如意，因此得到的ArcoLinux几乎相当于一台裸机……</p>
<h2 id="arcolinux-安装"> ArcoLinux 安装</h2>
<p><strong>ArcoLinux安装步骤有如下几步：</strong></p>
<ol>
<li>
<p><strong>准备好相应的系统启动盘。</strong></p>
<p>我是使用Ventoy来制作的系统启动盘，只需要把ArcoLinuxB的ISO系统镜像放进启动盘目录下即可，一切的使用都是非常简单的。</p>
</li>
<li>
<p><strong>通过EFI BIOS进入系统启动盘。</strong></p>
<p>在笔记本电脑上通常是按下<kbd>F12</kbd>或者<kbd>F2</kbd>来进入EFI启动选项界面，选择你的USB即可。</p>
</li>
<li>
<p>**使用GParted手动划分硬盘分区。**我是折腾许久都无果失败后找到大佬帮助的，这才弄明白原来真正需要做的是：为你的系统划分一个EFI启动引导分区，推荐大小为 <code>512MB</code>，虽然我真正安装后才知道实际只用了 <code>1.30MB</code>，再划分好硬盘的一部分空间来存放你的系统，剩下的就用来存放你的数据，但要注意，划分好后别急着点击下一步，我们还有非常重要的配置还没写——先选择Manual partitioning选项，然后选择好刚才那个EFI启动引导分区，编辑它的属性，将flag修改为 <code>/boot/efi</code>，一般不用选中 <code>grub-boot</code>；然后将存放数据的硬盘分区中属性的flag一项修改为 <code>/</code>。其他选项则自由发挥，自己安排，值得一提的是，我这次没有选择使用Plasma桌面系统，而是选择了AwesomeWM，因为我确信学会熟练使用它会大幅提高我的工作效率。</p>
</li>
<li>
<p>等待安装好后就可以拔掉系统盘了，至此你的系统已经可以安装完毕了。</p>
</li>
</ol>
<h2 id="arcolinux配置"> ArcoLinux配置</h2>
<blockquote>
<p>由于我之前已经有过Manjaro安装配置的经验了，这次安装配置ArcoLinux也就顺利多了。两者都是基于ArchLinux的发行版，安装与配置的思路也是差不多的。</p>
</blockquote>
<p><strong>「注意」</strong>：AwesomeWM桌面系统与常见的桌面系统是完全不一样的逻辑，常见的桌面系统如Windows、Plasma/KDE、GNOME、XFCE等都是堆栈式桌面布局，而AwesomeWM和i3两者都是平铺式桌面布局，因此使用上有较大区别，最明显的是从前你所记住的绝大多数快捷键在这里全部无效，原因都是对不上号，执行同一功能的两个桌面系统对应的快捷键是截然不同的。出于这样的原因，我会在文章中穿插描述AwesomeWM的使用方式。</p>
<p><strong>「重点」</strong>：AwesomeWM的配置文件在：<code>~/.config/awesome/rc.lua</code>这里，使用的语言正如你所见，是Lua。另外在学习使用的时候请按<kbd>Meta</kbd>+<kbd>S</kbd>打开帮助窗口来查看各种操作的使用，建议都亲自敲一遍，这样入门快。</p>
<p>开局第一步：换源。</p>
<p>**按下<kbd>Meta</kbd>+<kbd>ENTER</kbd>或者<kbd>Meta</kbd>+<kbd>T</kbd>打开终端。**为pacman添加archlinuxcn镜像源，需要将如下内容写入 <code>/etc/pacman.conf</code>内：</p>
<div><pre><code><span>[</span>archlinuxcn<span>]</span>
SigLevel <span>=</span> Optional TrustedOnly
Server <span>=</span> https://mirrors.ustc.edu.cn/archlinuxcn/<span>$arch</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br></div></div><p>然后配置yay的镜像源顺序，要编辑 <code>/etc/pacman.d/mirrorlist</code>，良心的是这个文件下已经将全球所有的镜像源都加入其中了，我们要做的是将文件后面的China部分移动到前面即可。我的做法是先sudo vim /etc/pacman.d/mirrorlist，然后用鼠标选中China这一部分的地址，键盘输入<kbd>&quot;+y</kbd>(表示复制选中的内容到系统剪贴板📋)，然后将光标移动到文件开头，直接用键盘键入<kbd>p</kbd>即可将刚才复制的内容粘贴上去，保存退出即可。</p>
<h2 id="awesomewm-配置"> AwesomeWM 配置</h2>
<h3 id="awesomewm中较简单的软件安装"> AwesomeWM中较简单的软件安装</h3>
<div><pre><code><span># 因为有些软件安装过于简单，只是执行安装语句即可完成的事，我就都集中写在这里了。</span>
<span>sudo</span> pacman -S netease-cloud-music <span># 网易云音乐平台</span>
yay -S elisa <span># 轻量级的小型音乐播放器</span>
yay -S vlc <span># 强大又小巧的视频播放器。</span>
yay -S typora-free <span># 这也是因为近期Typora正式升级版本v1.0，就此转变为收费软件，如果不考虑支付费用的话暂时还是只能用v0.11.8这个最后的测试版。</span>
yay -S wps-office wps-office-mui-zh-cn ttf-wps-fonts <span># WPS软件</span>
yay -S solaar logiops <span># 安装相应的无线接收器管理软件和罗技鼠标驱动</span>
yay -S visual-studio-code-bin <span># 其实可以直接安装code,二选一而已，我用起来感觉没什么区别。</span>
yay -S pycharm-professional <span># 安装专业版PyCharm</span>
yay -S anaconda cuda cudnn cuda-tools <span># 安装机器学习的环境</span>
<span>sudo</span> pacman -S clion clion-cmake <span>make</span> clion-lldb clion-jre <span># 安装Clion环境</span>
yay -S base-devel r r-devel rstudio-desktop-bin <span># 安装R语言环境</span>
<span>sudo</span> pacman -S intellij-idea-ultimate-edition intellij-idea-ultimate-edition-jre <span># 安装IntelliJ Idea</span>
<span>sudo</span> pacman -S gimp <span># GNU图像编辑器</span>
<span>sudo</span> pacman -S flameshot <span># 强大的截图软件</span>
yay -S openshot blender inkscape <span># Linux下一般通用视频编辑套装「后两个是openshot运行时需要额外装的」</span>
<span>sudo</span> pacman -S guvcview <span># 使用笔记本摄像机进行拍摄、录制。</span>
yay -S fim <span># 终端平台的图片查看器</span>
<span>sudo</span> pacman -S bat <span># 具有语法高亮和Git集成的Cat类命令</span>
<span>sudo</span> pacman -S cpdf <span># 一种简易的pdf拼接软件</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br><span>18</span><br><span>19</span><br><span>20</span><br></div></div><h3 id="安装fcitx5输入法以及设置软件开机自动启动"> 安装Fcitx5输入法以及设置软件开机自动启动</h3>
<p>安装思路是和Manjaro相差不大的，同样也是安装这些包即可：</p>
<div><pre><code>yay -S fcitx5 fcitx5-chinese-addons fcitx5-gtk fcitx5-qt fcitx5-configtool fcitx5-material-color
<span># 安装输入法</span>
yay -S fcitx5-pinyin-moegirl fcitx5-pinyin-zhwiki
<span># 安装词库</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br></div></div><p>这时AwesomeWM下配置输入法不太一样，需要将以下内容写入 <code>~/.pam_environment</code>：</p>
<div><pre><code>GTK_IM_MODULE <span>DEFAULT</span><span>=</span>fcitx
QT_IM_MODULE  <span>DEFAULT</span><span>=</span>fcitx
<span>XMODIFIERS</span>    <span>DEFAULT</span><span>=</span><span>\</span>@im<span>=</span>fcitx
INPUT_METHOD  <span>DEFAULT</span><span>=</span>fcitx
SDL_IM_MODULE <span>DEFAULT</span><span>=</span>fcitx
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br></div></div><p>然后将下面的代码写入 <code>~/.xprofile</code>即可：</p>
<div><pre><code>fcitx5 <span>&amp;</span>
<span>export</span> <span>QT_IM_MODULE</span><span>=</span>fcitx5
</code></pre>
<div><span>1</span><br><span>2</span><br></div></div><div><p>未必如此</p>
<p>这时候你启动Fcitx5是可以正常使用的，但AwesomeWM并不会自动将它加入到自动启动菜单，因此我们也同样需要修改系统配置，在修改之前我建议先自行备份配置文件：<code>cp ~/.config/awesome/rc.lua ~/.config/awesome/rc.lua.backup</code>，然后编辑 <code>~/.config/awesome/rc.lua</code>，将下面的代码加入配置文件即可：</p>
<div><pre><code><span>-- Autostart applications</span>
awful<span>.</span>spawn<span>.</span><span>with_shell</span><span>(</span><span>"~/.config/awesome/autostart.sh"</span><span>)</span>
awful<span>.</span>spawn<span>.</span><span>with_shell</span><span>(</span><span>"picom -b --config  $HOME/.config/awesome/picom.conf"</span><span>)</span>

<span>-- Autorun programs</span>
autorun <span>=</span> <span>true</span>
autorunApps <span>=</span> 
<span>{</span>
	<span>-- 你希望运行的软件名（以终端名称为准），格式为"NAME",</span>
    <span>"Example"</span><span>,</span>
    ……
<span>}</span>

<span>if</span> autorun <span>then</span>
	<span>for</span> app <span>=</span> <span>1</span><span>,</span> <span>#</span>autorunApps <span>do</span>
		awful<span>.</span>util<span>.</span><span>spawn_with_shell</span><span>(</span>autorunApps<span>[</span>app<span>]</span><span>)</span>
	<span>end</span>
<span>end</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br><span>18</span><br></div></div><p>现在是想让Fcitx5开机自启动，那就可以把上面代码中的 <code>NAME</code>改为 <code>fcitx5</code>。保存之后，建议执行 <code>awesome -k</code>来检查有无语法错误，最后可以按下<kbd>Meta</kbd>+<kbd>Shift</kbd>+<kbd>R</kbd>来重启AwesomeWM。注意，这样做也意味着每次你按下这一组快捷键，autorunApps数组里面的所有应用都会再次启动一次。现在重启一下就可以正式投入使用了。</p>
</div>
<div><p>简洁思路</p>
<p>其实直接按下<kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>A</kbd>启动软件菜单，运行一下Fcitx5 Configuration后调整输入法设置即可，无需手动添加启动项。</p>
</div>
<h3 id="科学上网的配置"> 科学上网的配置</h3>
<p>经过较长时间的配置我最后终于理明白应该如何配置好科学上网套装了。</p>
<p>这次我选用的还是Qv2ray，但要明白的是，它归根到底只是一个外部界面，真正使用的是V2ray核心。经过我较长时间的摸索发现，内核不止一个，除了要安装v2ray之外，还要安装xray。因此我们应该执行：</p>
<div><pre><code>yay -S xray v2ray qv2ray
</code></pre>
<div><span>1</span><br></div></div><p>然后应该在 <code>/etc/environment</code>配置文件中引入这样的全局变量：</p>
<div><pre><code><span>export</span> <span>http_proxy</span><span>=</span>http://127.0.0.1:8889
<span>export</span> <span>https_proxy</span><span>=</span>http://127.0.0.1:8889
<span>export</span> <span>ftp_proxy</span><span>=</span>http://127.0.0.1:8889
<span>export</span> <span>rsync_proxy</span><span>=</span>http://127.0.0.1:8889
<span>export</span> <span>no_proxy</span><span>=</span><span>'localhost,127.0.0.1,localaddress,.localdomain.com'</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br></div></div><p>然后在Qv2ray中设置分组的订阅链接，更新订阅，选择节点后就可以开始科学上网了。要注意的是，写入 <code>/etc/environment</code>文件的地址应当是本机内网地址，一般选用localhost就够用了，后面跟的端口号应该与Qv2ray上HTTP代理的端口号是一致的。</p>
<div><p>注意</p>
<p>我尝试过只安装v2ray和qv2ray的方案，但是发现它并不能稳定运行，只是能用上一小段时间然后就连不上了，因此仍然认为采取以上做法才是稳定妥当做法。</p>
</div>
<h3 id="设置系统非静默启动"> 设置系统非静默启动</h3>
<p>这里的思路依旧是差不多的，依旧是编辑 <code>/etc/default/grub</code>文件，从中寻找 <code>GRUB_CMDLINE_LINUX_DEFAULT</code>这一关键字修改，把引号中的quiet参数去掉。</p>
<p>但到此还没完。你会发现当你执行 <code>sudo update-grub</code>的时候会报错，导致无法正常进行。但这不意味着我们没有办法，没有这个脚本，我们就造一个。</p>
<div><pre><code><span>#!/bin/sh</span>
<span>set</span> -e
<span>exec</span> <span>grub-mkconfig</span> -o /boot/grub/grub.cfg <span>"<span>$@</span>"</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br></div></div><p>将以上代码写入 <code>/usr/sbin/update-grub</code>脚本后再重新执行 <code>sudo update-grub</code>即可。</p>
<h3 id="配置logid"> 配置Logid</h3>
<p>详见<a href="https://breezeshane.github.io/Linux/Manjaro%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE/#logid%E4%BD%BF%E7%94%A8" target="_blank" rel="noopener noreferrer">此处</a>，两者配置几乎一致，这里就不再赘述了，另外，如果不知道自己的设备名称应该是如何的，可以通过执行 <code>sudo logid -v</code>来查看设备名，输出的信息里会写的，注意看提示。</p>
<h3 id="配置anaconda及测试"> 配置Anaconda及测试</h3>
<p>详见<a href="https://breezeshane.github.io/Linux/Manjaro%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE/#windows-10-manjaro%E4%B8%8B%E7%9A%84anaconda%E9%85%8D%E7%BD%AE" target="_blank" rel="noopener noreferrer">此处</a>，这里也不做赘述了。</p>
<h3 id="开机自动挂载硬盘"> 开机自动挂载硬盘</h3>
<p>经本人亲自配置，确认是没有区别，因此可以参考<a href="https://breezeshane.github.io/Linux/Manjaro%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE/#%E5%BC%80%E6%9C%BA%E6%8C%82%E8%BD%BDntfs%E7%A1%AC%E7%9B%98" target="_blank" rel="noopener noreferrer">这里</a>修改</p>
<h3 id="sudo免密问题"> sudo免密问题</h3>
<p>和Manjaro不同，这里应该执行 <code>sudo visudo</code>命令来编辑配置文件，并在最后加入：</p>
<div><pre><code><span>&lt;YOURUSERNAME> ALL=(ALL) NOPASSWD</span><span>:</span> ALL
</code></pre>
<div><span>1</span><br></div></div><p>保存后就可以生效了。</p>
<h3 id="virtual-machine-manager使用方法"> Virtual Machine Manager使用方法</h3>
<p>依旧同<a href="https://breezeshane.github.io/Linux/Manjaro%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE/#%E5%9C%A8linux%E4%B8%8B%E4%BD%BF%E7%94%A8%E8%99%9A%E6%8B%9F%E6%9C%BA" target="_blank" rel="noopener noreferrer">Virtual Machine Manager</a>。</p>
<h3 id="配置屏幕亮度调节问题"> 配置屏幕亮度调节问题</h3>
<p>起初我按下笔记本电脑上的功能键时发现没有任何功效，在网上搜索了好长时间，最后在查看系统配置文件的时候才发现应该如何解决问题。</p>
<p>配置文件中有这样的一段代码：</p>
<div><pre><code><span>-- Brightness</span>
awful<span>.</span><span>key</span><span>(</span><span>{</span> <span>}</span><span>,</span> <span>"XF86MonBrightnessUp"</span><span>,</span> <span>function</span> <span>(</span><span>)</span> os<span>.</span><span>execute</span><span>(</span><span>"xbacklight -inc 10"</span><span>)</span> <span>end</span><span>,</span>
    <span>{</span>description <span>=</span> <span>"+10%"</span><span>,</span> group <span>=</span> <span>"hotkeys"</span><span>}</span><span>)</span><span>,</span>
awful<span>.</span><span>key</span><span>(</span><span>{</span> <span>}</span><span>,</span> <span>"XF86MonBrightnessDown"</span><span>,</span> <span>function</span> <span>(</span><span>)</span> os<span>.</span><span>execute</span><span>(</span><span>"xbacklight -dec 10"</span><span>)</span> <span>end</span><span>,</span>
    <span>{</span>description <span>=</span> <span>"-10%"</span><span>,</span> group <span>=</span> <span>"hotkeys"</span><span>}</span><span>)</span><span>,</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br></div></div><p>看到这里就能明白，按下这样的功能键应该会在终端执行这个指令，于是我去尝试执行，发现果然不行。于是我又去网上搜索一段时间，最后得出了如下的解决方案：</p>
<div><pre><code><span>sudo</span> pacman -Rs xorg-xbacklight
<span>sudo</span> pacman -S acpilight
</code></pre>
<div><span>1</span><br><span>2</span><br></div></div><p>按照网友的说法，这个时候应该奏效的，还是没有任何反应，于是我尝试使用了Root权限执行，果然有效，但又考虑到，我不可能在按下键的时候还要去输入sudo的密码，而且系统也不会给我这个提示信息，那么我应该怎么做呢？执行过 <code>xbacklight -inc 10</code>后得到这样的输出：</p>
<div><pre><code>/usr/bin/xbacklight: <span>[</span>Errno <span>13</span><span>]</span> Permission denied: '/sys/class/backlight/intel_backlight/brightness
</code></pre>
<div><span>1</span><br></div></div><p>显然是权限问题，改写一下文件的权限就可以完全解决问题了：</p>
<div><pre><code><span>sudo</span> <span>chmod</span> <span>777</span> /sys/class/backlight/intel_backlight/brightness
</code></pre>
<div><span>1</span><br></div></div><p>现在即使你不用Root权限也可以正常使用了！</p>
<h3 id="配置多媒体功能键"> 配置多媒体功能键</h3>
<p>和之前的调节屏幕亮度是同一个道理，同样是按下相应的键会执行相应的终端工具，因此我们再一次查看配置文件：</p>
<div><pre><code>    <span>-- ALSA volume control</span>
    <span>--awful.key({ modkey1 }, "Up",</span>
    awful<span>.</span><span>key</span><span>(</span><span>{</span> <span>}</span><span>,</span> <span>"XF86AudioRaiseVolume"</span><span>,</span>
        <span>function</span> <span>(</span><span>)</span>
            os<span>.</span><span>execute</span><span>(</span>string<span>.</span><span>format</span><span>(</span><span>"amixer -q set %s 1%%+"</span><span>,</span> beautiful<span>.</span>volume<span>.</span>channel<span>)</span><span>)</span>
            beautiful<span>.</span>volume<span>.</span><span>update</span><span>(</span><span>)</span>
        <span>end</span><span>)</span><span>,</span>
    <span>--awful.key({ modkey1 }, "Down",</span>
    awful<span>.</span><span>key</span><span>(</span><span>{</span> <span>}</span><span>,</span> <span>"XF86AudioLowerVolume"</span><span>,</span>
        <span>function</span> <span>(</span><span>)</span>
            os<span>.</span><span>execute</span><span>(</span>string<span>.</span><span>format</span><span>(</span><span>"amixer -q set %s 1%%-"</span><span>,</span> beautiful<span>.</span>volume<span>.</span>channel<span>)</span><span>)</span>
            beautiful<span>.</span>volume<span>.</span><span>update</span><span>(</span><span>)</span>
        <span>end</span><span>)</span><span>,</span>
    awful<span>.</span><span>key</span><span>(</span><span>{</span> <span>}</span><span>,</span> <span>"XF86AudioMute"</span><span>,</span>
        <span>function</span> <span>(</span><span>)</span>
            os<span>.</span><span>execute</span><span>(</span>string<span>.</span><span>format</span><span>(</span><span>"amixer -q set %s toggle"</span><span>,</span> beautiful<span>.</span>volume<span>.</span>togglechannel <span>or</span> beautiful<span>.</span>volume<span>.</span>channel<span>)</span><span>)</span>
            beautiful<span>.</span>volume<span>.</span><span>update</span><span>(</span><span>)</span>
        <span>end</span><span>)</span><span>,</span>
    awful<span>.</span><span>key</span><span>(</span><span>{</span> modkey1<span>,</span> <span>"Shift"</span> <span>}</span><span>,</span> <span>"m"</span><span>,</span>
        <span>function</span> <span>(</span><span>)</span>
            os<span>.</span><span>execute</span><span>(</span>string<span>.</span><span>format</span><span>(</span><span>"amixer -q set %s 100%%"</span><span>,</span> beautiful<span>.</span>volume<span>.</span>channel<span>)</span><span>)</span>
            beautiful<span>.</span>volume<span>.</span><span>update</span><span>(</span><span>)</span>
        <span>end</span><span>)</span><span>,</span>
    awful<span>.</span><span>key</span><span>(</span><span>{</span> modkey1<span>,</span> <span>"Shift"</span> <span>}</span><span>,</span> <span>"0"</span><span>,</span>
        <span>function</span> <span>(</span><span>)</span>
            os<span>.</span><span>execute</span><span>(</span>string<span>.</span><span>format</span><span>(</span><span>"amixer -q set %s 0%%"</span><span>,</span> beautiful<span>.</span>volume<span>.</span>channel<span>)</span><span>)</span>
            beautiful<span>.</span>volume<span>.</span><span>update</span><span>(</span><span>)</span>
        <span>end</span><span>)</span><span>,</span>

    <span>--Media keys supported by vlc, spotify, audacious, xmm2, ...</span>
    <span>--awful.key({}, "XF86AudioPlay", function() awful.util.spawn("playerctl play-pause", false) end),</span>
    <span>--awful.key({}, "XF86AudioNext", function() awful.util.spawn("playerctl next", false) end),</span>
    <span>--awful.key({}, "XF86AudioPrev", function() awful.util.spawn("playerctl previous", false) end),</span>
    <span>--awful.key({}, "XF86AudioStop", function() awful.util.spawn("playerctl stop", false) end),</span>
<span>)</span><span>)</span>
<span>--Media keys supported by mpd.</span>
    awful<span>.</span><span>key</span><span>(</span><span>{</span><span>}</span><span>,</span> <span>"XF86AudioPlay"</span><span>,</span> <span>function</span> <span>(</span><span>)</span> awful<span>.</span>util<span>.</span><span>spawn</span><span>(</span><span>"mpc toggle"</span><span>)</span> <span>end</span><span>)</span><span>,</span>
    awful<span>.</span><span>key</span><span>(</span><span>{</span><span>}</span><span>,</span> <span>"XF86AudioNext"</span><span>,</span> <span>function</span> <span>(</span><span>)</span> awful<span>.</span>util<span>.</span><span>spawn</span><span>(</span><span>"mpc next"</span><span>)</span> <span>end</span><span>)</span><span>,</span>
    awful<span>.</span><span>key</span><span>(</span><span>{</span><span>}</span><span>,</span> <span>"XF86AudioPrev"</span><span>,</span> <span>function</span> <span>(</span><span>)</span> awful<span>.</span>util<span>.</span><span>spawn</span><span>(</span><span>"mpc prev"</span><span>)</span> <span>end</span><span>)</span><span>,</span>
    awful<span>.</span><span>key</span><span>(</span><span>{</span><span>}</span><span>,</span> <span>"XF86AudioStop"</span><span>,</span> <span>function</span> <span>(</span><span>)</span> awful<span>.</span>util<span>.</span><span>spawn</span><span>(</span><span>"mpc stop"</span><span>)</span> <span>end</span><span>)</span><span>,</span>

    <span>-- MPD control</span>
    awful<span>.</span><span>key</span><span>(</span><span>{</span> modkey1<span>,</span> <span>"Shift"</span> <span>}</span><span>,</span> <span>"Up"</span><span>,</span>
        <span>function</span> <span>(</span><span>)</span>
            os<span>.</span><span>execute</span><span>(</span><span>"mpc toggle"</span><span>)</span>
            beautiful<span>.</span>mpd<span>.</span><span>update</span><span>(</span><span>)</span>
        <span>end</span><span>,</span>
        <span>{</span>description <span>=</span> <span>"mpc toggle"</span><span>,</span> group <span>=</span> <span>"widgets"</span><span>}</span><span>)</span><span>,</span>
    awful<span>.</span><span>key</span><span>(</span><span>{</span> modkey1<span>,</span> <span>"Shift"</span> <span>}</span><span>,</span> <span>"Down"</span><span>,</span>
        <span>function</span> <span>(</span><span>)</span>
            os<span>.</span><span>execute</span><span>(</span><span>"mpc stop"</span><span>)</span>
            beautiful<span>.</span>mpd<span>.</span><span>update</span><span>(</span><span>)</span>
        <span>end</span><span>,</span>
        <span>{</span>description <span>=</span> <span>"mpc stop"</span><span>,</span> group <span>=</span> <span>"widgets"</span><span>}</span><span>)</span><span>,</span>
    awful<span>.</span><span>key</span><span>(</span><span>{</span> modkey1<span>,</span> <span>"Shift"</span> <span>}</span><span>,</span> <span>"Left"</span><span>,</span>
        <span>function</span> <span>(</span><span>)</span>
            os<span>.</span><span>execute</span><span>(</span><span>"mpc prev"</span><span>)</span>
            beautiful<span>.</span>mpd<span>.</span><span>update</span><span>(</span><span>)</span>
        <span>end</span><span>,</span>
        <span>{</span>description <span>=</span> <span>"mpc prev"</span><span>,</span> group <span>=</span> <span>"widgets"</span><span>}</span><span>)</span><span>,</span>
    awful<span>.</span><span>key</span><span>(</span><span>{</span> modkey1<span>,</span> <span>"Shift"</span> <span>}</span><span>,</span> <span>"Right"</span><span>,</span>
        <span>function</span> <span>(</span><span>)</span>
            os<span>.</span><span>execute</span><span>(</span><span>"mpc next"</span><span>)</span>
            beautiful<span>.</span>mpd<span>.</span><span>update</span><span>(</span><span>)</span>
        <span>end</span><span>,</span>
        <span>{</span>description <span>=</span> <span>"mpc next"</span><span>,</span> group <span>=</span> <span>"widgets"</span><span>}</span><span>)</span><span>,</span>
    awful<span>.</span><span>key</span><span>(</span><span>{</span> modkey1<span>,</span> <span>"Shift"</span> <span>}</span><span>,</span> <span>"s"</span><span>,</span>
        <span>function</span> <span>(</span><span>)</span>
            <span>local</span> common <span>=</span> <span>{</span> text <span>=</span> <span>"MPD widget "</span><span>,</span> position <span>=</span> <span>"top_middle"</span><span>,</span> timeout <span>=</span> <span>2</span> <span>}</span>
            <span>if</span> beautiful<span>.</span>mpd<span>.</span>timer<span>.</span>started <span>then</span>
                beautiful<span>.</span>mpd<span>.</span>timer<span>:</span><span>stop</span><span>(</span><span>)</span>
                common<span>.</span>text <span>=</span> common<span>.</span>text <span>..</span> lain<span>.</span>util<span>.</span>markup<span>.</span><span>bold</span><span>(</span><span>"OFF"</span><span>)</span>
            <span>else</span>
                beautiful<span>.</span>mpd<span>.</span>timer<span>:</span><span>start</span><span>(</span><span>)</span>
                common<span>.</span>text <span>=</span> common<span>.</span>text <span>..</span> lain<span>.</span>util<span>.</span>markup<span>.</span><span>bold</span><span>(</span><span>"ON"</span><span>)</span>
            <span>end</span>
            naughty<span>.</span><span>notify</span><span>(</span>common<span>)</span>
        <span>end</span><span>,</span>
        <span>{</span>description <span>=</span> <span>"mpc on/off"</span><span>,</span> group <span>=</span> <span>"widgets"</span><span>}</span><span>)</span><span>,</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br><span>18</span><br><span>19</span><br><span>20</span><br><span>21</span><br><span>22</span><br><span>23</span><br><span>24</span><br><span>25</span><br><span>26</span><br><span>27</span><br><span>28</span><br><span>29</span><br><span>30</span><br><span>31</span><br><span>32</span><br><span>33</span><br><span>34</span><br><span>35</span><br><span>36</span><br><span>37</span><br><span>38</span><br><span>39</span><br><span>40</span><br><span>41</span><br><span>42</span><br><span>43</span><br><span>44</span><br><span>45</span><br><span>46</span><br><span>47</span><br><span>48</span><br><span>49</span><br><span>50</span><br><span>51</span><br><span>52</span><br><span>53</span><br><span>54</span><br><span>55</span><br><span>56</span><br><span>57</span><br><span>58</span><br><span>59</span><br><span>60</span><br><span>61</span><br><span>62</span><br><span>63</span><br><span>64</span><br><span>65</span><br><span>66</span><br><span>67</span><br><span>68</span><br><span>69</span><br><span>70</span><br><span>71</span><br><span>72</span><br><span>73</span><br><span>74</span><br><span>75</span><br><span>76</span><br><span>77</span><br><span>78</span><br><span>79</span><br></div></div><p>由于我没有安装mpc、mpd这一系列的东西，而且经过查看ArchWiki发现配置十分麻烦，而且我平日对多媒体控制按键的功能需求并不高，因此我打算去掉以上所有mpc、mpd相关的快捷键，使用系统自带的playerctl就好了。音量大小的调节可以直接用原先已写好的ALSA的配置即可。</p>
<p>最后我修改的配置文件如下：</p>
<div><pre><code><span>--Media keys supported by vlc, spotify, audacious, xmm2, ...</span>
    awful<span>.</span><span>key</span><span>(</span><span>{</span><span>}</span><span>,</span> <span>"XF86AudioPlay"</span><span>,</span> <span>function</span><span>(</span><span>)</span> awful<span>.</span>util<span>.</span><span>spawn</span><span>(</span><span>"playerctl play-pause"</span><span>,</span> <span>false</span><span>)</span> <span>end</span><span>)</span><span>,</span>
    awful<span>.</span><span>key</span><span>(</span><span>{</span><span>}</span><span>,</span> <span>"XF86AudioNext"</span><span>,</span> <span>function</span><span>(</span><span>)</span> awful<span>.</span>util<span>.</span><span>spawn</span><span>(</span><span>"playerctl next"</span><span>,</span> <span>false</span><span>)</span> <span>end</span><span>)</span><span>,</span>
    awful<span>.</span><span>key</span><span>(</span><span>{</span><span>}</span><span>,</span> <span>"XF86AudioPrev"</span><span>,</span> <span>function</span><span>(</span><span>)</span> awful<span>.</span>util<span>.</span><span>spawn</span><span>(</span><span>"playerctl previous"</span><span>,</span> <span>false</span><span>)</span> <span>end</span><span>)</span><span>,</span>
    awful<span>.</span><span>key</span><span>(</span><span>{</span><span>}</span><span>,</span> <span>"XF86AudioStop"</span><span>,</span> <span>function</span><span>(</span><span>)</span> awful<span>.</span>util<span>.</span><span>spawn</span><span>(</span><span>"playerctl stop"</span><span>,</span> <span>false</span><span>)</span> <span>end</span><span>)</span><span>,</span>
<span>)</span><span>)</span>
<span>--Media keys supported by mpd.</span>
    <span>-- awful.key({}, "XF86AudioPlay", function () awful.util.spawn("mpc toggle") end),</span>
    <span>-- awful.key({}, "XF86AudioNext", function () awful.util.spawn("mpc next") end),</span>
    <span>-- awful.key({}, "XF86AudioPrev", function () awful.util.spawn("mpc prev") end),</span>
    <span>-- awful.key({}, "XF86AudioStop", function () awful.util.spawn("mpc stop") end),</span>

    <span>-- MPD control</span>
    <span>-- awful.key({ modkey1, "Shift" }, "Up",</span>
    <span>--  function ()</span>
    <span>--      os.execute("mpc toggle")</span>
    <span>--      beautiful.mpd.update()</span>
    <span>--  end,</span>
    <span>--  {description = "mpc toggle", group = "widgets"}),</span>
    <span>-- awful.key({ modkey1, "Shift" }, "Down",</span>
    <span>--  function ()</span>
    <span>--      os.execute("mpc stop")</span>
    <span>--      beautiful.mpd.update()</span>
    <span>--  end,</span>
    <span>--  {description = "mpc stop", group = "widgets"}),</span>
    <span>-- awful.key({ modkey1, "Shift" }, "Left",</span>
    <span>--  function ()</span>
    <span>--      os.execute("mpc prev")</span>
    <span>--      beautiful.mpd.update()</span>
    <span>--  end,</span>
    <span>--  {description = "mpc prev", group = "widgets"}),</span>
    <span>-- awful.key({ modkey1, "Shift" }, "Right",</span>
    <span>--  function ()</span>
    <span>--      os.execute("mpc next")</span>
    <span>--      beautiful.mpd.update()</span>
    <span>--  end,</span>
    <span>--  {description = "mpc next", group = "widgets"}),</span>
    <span>-- awful.key({ modkey1, "Shift" }, "s",</span>
    <span>--  function ()</span>
    <span>--      local common = { text = "MPD widget ", position = "top_middle", timeout = 2 }</span>
    <span>--      if beautiful.mpd.timer.started then</span>
    <span>--          beautiful.mpd.timer:stop()</span>
    <span>--          common.text = common.text .. lain.util.markup.bold("OFF")</span>
    <span>--      else</span>
    <span>--          beautiful.mpd.timer:start()</span>
    <span>--          common.text = common.text .. lain.util.markup.bold("ON")</span>
    <span>--      end</span>
    <span>--      naughty.notify(common)</span>
    <span>--  end,</span>
    <span>--  {description = "mpc on/off", group = "widgets"}),</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br><span>18</span><br><span>19</span><br><span>20</span><br><span>21</span><br><span>22</span><br><span>23</span><br><span>24</span><br><span>25</span><br><span>26</span><br><span>27</span><br><span>28</span><br><span>29</span><br><span>30</span><br><span>31</span><br><span>32</span><br><span>33</span><br><span>34</span><br><span>35</span><br><span>36</span><br><span>37</span><br><span>38</span><br><span>39</span><br><span>40</span><br><span>41</span><br><span>42</span><br><span>43</span><br><span>44</span><br><span>45</span><br><span>46</span><br><span>47</span><br><span>48</span><br><span>49</span><br><span>50</span><br></div></div><p>现在键盘上所有的多媒体功能键全部都可以正常使用了！</p>
<h3 id="设置自定义快捷键"> 设置自定义快捷键</h3>
<p>最后在这里我们来提炼一下以上配置按键的内容，配置文件多看一看就能懂了，其实无非就这些事：</p>
<div><pre><code>awful<span>.</span><span>key</span><span>(</span><span>{</span><span>}</span><span>,</span> <span>"&lt;KEYNAME>"</span><span>,</span> <span>function</span><span>(</span><span>)</span> awful<span>.</span>util<span>.</span><span>spawn</span><span>(</span><span>"&lt;YOUR TERMINAL COMMAND>"</span><span>,</span> <span>false</span><span>)</span> <span>end</span><span>)</span><span>,</span>
awful<span>.</span><span>key</span><span>(</span><span>{</span><span>}</span><span>,</span> <span>"&lt;KEYNAME>"</span><span>,</span> <span>function</span> <span>(</span><span>)</span> os<span>.</span><span>execute</span><span>(</span><span>"&lt;YOUR TERMINAL COMMAND>"</span><span>)</span> <span>end</span><span>,</span>
    <span>{</span>description <span>=</span> <span>"&lt;YOUR DISCRIPTION>"</span><span>,</span> group <span>=</span> <span>"&lt;YOUR KEY GROUP NAME>"</span><span>}</span><span>)</span><span>,</span> 
<span>-- 如果加上了第三行这部分内容，你将会在帮助窗口中看到它。</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br></div></div><div><p>提示</p>
<p>按键名称大多数情况下你可以通过执行 <code>xev</code>来查看你所按下按键的名称，但亲测发现功能性按键是无法看到名字的，或许会有别的办法，至少只是使用 <code>xev</code>是看不了的。</p>
</div>
<h3 id="配置显示器扩展方式"> 配置显示器扩展方式</h3>
<p>时隔许久，今天我终于学会如何配置显示器扩展方式了！实现的了灵感其实来自这条命令：</p>
<div><pre><code><span>sudo</span> journalctl
</code></pre>
<div><span>1</span><br></div></div><p>通过这个命令来查看日志。我翻看了它的记录，想知道问题到底出现在哪里，终于我看到了如下的信息：</p>
<div><pre><code>12月 12 20<span>:</span>48<span>:</span>32 BreezeShaneLaptop systemd<span>[</span><span>1</span><span>]</span><span>:</span> Starting autorandr execution hook<span>...</span>
12月 12 20<span>:</span>48<span>:</span>32 BreezeShaneLaptop autorandr<span>[</span><span>11341</span><span>]</span><span>:</span> <span>Failed to load profile 'default'</span><span>:</span> Profile not found (line 1420)
12月 12 20<span>:</span>48<span>:</span>32 BreezeShaneLaptop autorandr<span>[</span><span>11341</span><span>]</span><span>:</span> autorandr running as user breezeshane (started from batch instance)
12月 12 20<span>:</span>48<span>:</span>32 BreezeShaneLaptop autorandr<span>[</span><span>11341</span><span>]</span><span>:</span> Running autorandr as breezeshane for display <span>:</span><span>0</span>
12月 12 20<span>:</span>48<span>:</span>32 BreezeShaneLaptop systemd<span>[</span><span>1</span><span>]</span><span>:</span> <span>autorandr.service</span><span>:</span> Deactivated successfully.
12月 12 20<span>:</span>48<span>:</span>32 BreezeShaneLaptop systemd<span>[</span><span>1</span><span>]</span><span>:</span> Finished autorandr execution hook.
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br></div></div><p>我这时才知道，系统有自带autorandr的，并且我目前没能扩展屏幕也正是因为缺少了关键的配置文件，于是我马上开始查询xrandr、arandr等相关资料，最后我终于弄明白如何调整了：</p>
<p>由于我在使用三个显示器，因此配置起来相对要麻烦些。</p>
<p>本次使用 <code>xrandr</code>中我用的参数有 <code>--output</code>、<code>--auto</code>、<code>--rate</code>、<code>--rotate</code>、<code>--left-to</code>和 <code>--above</code>。</p>
<ul>
<li><code>--output</code>：该参数后面要写接口名称，表示输出到指定接口，可通过 <code>xrandr</code>查看当前显示器所有的接口名称。</li>
<li><code>--auto</code>：表示自动调节分辨率。</li>
<li><code>--rate</code>：该参数后面要写数值，表示设定刷新率。</li>
<li><code>--rotate</code>：该参数后面要写方向，表示屏幕翻转方向。</li>
<li><code>--left-to</code>：该参数后面要写接口名称，表示屏幕接在该接口对应屏幕的左侧，与之对应的有 <code>--right-to</code>。</li>
<li><code>--above</code>：该参数后面要写接口名称，表示屏幕接在该接口连接的屏幕的上方，与之对应的有 <code>--below</code>。</li>
</ul>
<p>弄明白这些基本参数说明之后，要做的应该是选中一个位于高处的显示器为基准屏幕「可以不是Primary屏幕」，我选择了放在高处的横向屏幕，选择了向左扩展，然后在笔记本显示器这里选择了向上扩展，就这样扩展即可成功实现我的预期。</p>
<div><pre><code>xrandr --output eDP-1 --auto --rate <span>60</span> --rotate normal --output DP-1 --auto --rate <span>60</span> --rotate left --left-of HDMI-1 --output HDMI-1 --auto --rate <span>60</span> --rotate normal --above eDP-1
</code></pre>
<div><span>1</span><br></div></div><p>但我是做完了这些之后才发现，有可以使用的GUI工具 <code>arandr</code>。。。</p>
<p>但是做这些其实还不够，这样修改只是临时修改，重启后还是一切还原的，因此我们还需要使用系统自带的 <code>autorandr</code>来实现，执行：</p>
<div><pre><code>autorandr --save <span>&lt;</span>YOUR_CONFIG_NAME<span>></span>
autorandr --default <span>&lt;</span>YOUR_CONFIG_NAME<span>></span>
<span># 上面这一行是用来设置默认的显示器默认配置方案的。</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br></div></div><p>这样当你插入接口时该系统会自动按照你配置好的方式扩展。</p>
<p><strong>不过先别急着开始做，在此之前你应该先将当前没有外接任何显示器的初始状态保存下来，你保存好这样的配置后，当你拔下接口的时候它就可以自动恢复到初始状态。</strong></p>
<p>到目前为止，它可以在插入时变更为三屏配置，拔出时变更为单屏配置，但还有个问题没解决：如果一开始就已经接好屏幕，它就直接采用默认配置——一律向右扩展。</p>
<p>(还没修好呢，再等等吧……)</p>
<h3 id="配置标签布局"> 配置标签布局</h3>
<p>因为我在使用的屏幕中有一个是竖屏，但系统默认给每一个tag设置为tile布局，即横向平铺布局，如下图：</p>
<p><img src="/images/ArcolinuxAndAwesomeWM.assets/image-20211215174833313.png" alt="" /></p>
<p>那么它在竖屏这里出了什么问题？一图胜过千言万语：</p>
<p><img src="/images/ArcolinuxAndAwesomeWM.assets/image-20211215175116794.png" alt="" /></p>
<p>这种屏幕如果这样用，真心不舒服，不过我看到了<a href="https://qastack.cn/unix/78331/how-to-use-screen-rotation-in-awesome-wm-configuration" target="_blank" rel="noopener noreferrer">这个问答</a>给出的解决方案：</p>
<blockquote>
<p><strong>提问：</strong></p>
<p>我正在使用<a href="https://github.com/l0b0/tilde/blob/master/.screenlayout/right-tack.sh" target="_blank" rel="noopener noreferrer"><code>xrandr</code>脚本</a>来设置屏幕尺寸和旋转角度。在这种情况下，一个屏幕处于横向模式，另一个屏幕旋转。如何在<a href="https://github.com/l0b0/tilde/blob/master/.config/awesome/rc.lua" target="_blank" rel="noopener noreferrer">Awesome WM配置中</a>检测到这种旋转？</p>
<p>目标是设置标签布局，以便沿屏幕的短轴划分窗口。即，<code>awful.layout.suit.tile</code>在横向模式下使用的标签将 <code>awful.layout.suit.tile.bottom</code>在纵向模式下使用。也就是说，而不是这样：</p>
<p><img src="/images/ArcolinuxAndAwesomeWM.assets/ZdCM1.png" alt="" /></p>
<p>我要这个：</p>
<p><img src="/images/ArcolinuxAndAwesomeWM.assets/LPcau.png" alt="" /></p>
<p><strong>解答：</strong></p>
<p>假设您在以下布局中定义了以下布局 <code>rc.lua</code>：</p>
<div><pre><code>awful<span>.</span>layout<span>.</span>layouts <span>=</span> <span>{</span>
   awful<span>.</span>layout<span>.</span>suit<span>.</span>tile<span>,</span>
   awful<span>.</span>layout<span>.</span>suit<span>.</span>tile<span>.</span>bottom<span>,</span>
<span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br></div></div><p>使用 <code>awful.screen.connect_for_each_screen(func)</code>，您可以为每个现有的和将来创建的屏幕调用一个函数。您很有可能已经打过电话 <code>rc.lua</code>了（例如设置墙纸或创建标签）。根据您的配置，您需要以下内容：</p>
<div><pre><code>awful<span>.</span>screen<span>.</span><span>connect_for_each_screen</span><span>(</span><span>function</span><span>(</span>s<span>)</span>
   <span>if</span> s<span>.</span>geometry<span>.</span>width <span>>=</span> s<span>.</span>geometry<span>.</span>height <span>then</span>
     awful<span>.</span><span>tag</span><span>(</span><span>{</span> <span>"1"</span><span>,</span> <span>"2"</span><span>,</span> <span>"3"</span><span>,</span> <span>"4"</span><span>,</span> <span>"5"</span><span>,</span> <span>"6"</span><span>,</span> <span>"7"</span><span>,</span> <span>"8"</span><span>,</span> <span>"9"</span><span>,</span> <span>"0"</span> <span>}</span><span>,</span> s<span>,</span> awful<span>.</span>layout<span>.</span>layouts<span>[</span><span>1</span><span>]</span><span>)</span>
   <span>else</span>
     awful<span>.</span><span>tag</span><span>(</span><span>{</span> <span>"1"</span><span>,</span> <span>"2"</span><span>,</span> <span>"3"</span><span>,</span> <span>"4"</span><span>,</span> <span>"5"</span><span>,</span> <span>"6"</span><span>,</span> <span>"7"</span><span>,</span> <span>"8"</span><span>,</span> <span>"9"</span><span>,</span> <span>"0"</span> <span>}</span><span>,</span> s<span>,</span> awful<span>.</span>layout<span>.</span>layouts<span>[</span><span>2</span><span>]</span><span>)</span>
   <span>end</span>
 <span>end</span><span>)</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br></div></div></blockquote>
<p>起初我尝试了它给出的解决方案，但是我实践后发现，我直接这样用，会多出来另外十个tag，心里分外不解，于是我东查西查，最后也没能找到真正行之有效的方法。</p>
<p>但是，我要强调：<font size=7><a href="https://awesomewm.org/doc/api/index.html">官方文档</a>一定要常翻常看！</font></p>
<p>最后我是查询了官方给出的API文档：「<a href="https://awesomewm.org/doc/api/classes/tag.html#" target="_blank" rel="noopener noreferrer">Class tag</a>」。注意到文档给出的这个内容：</p>
<blockquote>
<p><strong>Creating tags</strong>:</p>
<p>The default config initializes tags like this:</p>
<div><pre><code>awful<span>.</span><span>tag</span><span>(</span>
  <span>{</span> <span>"1"</span><span>,</span> <span>"2"</span><span>,</span> <span>"3"</span><span>,</span> <span>"4"</span><span>,</span> <span>"5"</span><span>,</span> <span>"6"</span><span>,</span> <span>"7"</span><span>,</span> <span>"8"</span><span>,</span> <span>"9"</span> <span>}</span><span>,</span>
  s<span>,</span>
  awful<span>.</span>layout<span>.</span>layouts<span>[</span><span>1</span><span>]</span>
<span>)</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br></div></div></blockquote>
<p>然后回看上面那个代码，这我才明白，这种写法，意思就是在新建十个tag。于是乎我去翻看了相关的配置文件，注意到了这两部分代码：</p>
<div><pre><code>awful<span>.</span>util<span>.</span>tagnames <span>=</span> <span>{</span> <span>"➊"</span><span>,</span> <span>"➋"</span><span>,</span> <span>"➌"</span><span>,</span> <span>"➍"</span><span>,</span> <span>"➎"</span><span>,</span> <span>"➏"</span><span>,</span> <span>"➐"</span><span>,</span> <span>"➑"</span><span>,</span> <span>"➒"</span><span>,</span> <span>"➓"</span> <span>}</span>
<span>......</span>
awful<span>.</span>layout<span>.</span>layouts <span>=</span> <span>{</span>
    awful<span>.</span>layout<span>.</span>suit<span>.</span>tile<span>,</span> <span>-- 1</span>
    awful<span>.</span>layout<span>.</span>suit<span>.</span>floating<span>,</span>
    awful<span>.</span>layout<span>.</span>suit<span>.</span>tile<span>.</span>left<span>,</span>
    awful<span>.</span>layout<span>.</span>suit<span>.</span>tile<span>.</span>bottom<span>,</span>  <span>-- 4</span>
    awful<span>.</span>layout<span>.</span>suit<span>.</span>tile<span>.</span>top<span>,</span>
    <span>--awful.layout.suit.fair,</span>
    <span>--awful.layout.suit.fair.horizontal,</span>
    <span>--awful.layout.suit.spiral,</span>
    <span>--awful.layout.suit.spiral.dwindle,</span>
    awful<span>.</span>layout<span>.</span>suit<span>.</span>max<span>,</span>
    <span>--awful.layout.suit.max.fullscreen,</span>
    awful<span>.</span>layout<span>.</span>suit<span>.</span>magnifier<span>,</span>
    <span>--awful.layout.suit.corner.nw,</span>
    <span>--awful.layout.suit.corner.ne,</span>
    <span>--awful.layout.suit.corner.sw,</span>
    <span>--awful.layout.suit.corner.se,</span>
    <span>--lain.layout.cascade,</span>
    <span>--lain.layout.cascade.tile,</span>
    <span>--lain.layout.centerwork,</span>
    <span>--lain.layout.centerwork.horizontal,</span>
    <span>--lain.layout.termfair,</span>
    <span>--lain.layout.termfair.center,</span>
<span>}</span>
<span>......</span>
awful<span>.</span>screen<span>.</span><span>connect_for_each_screen</span><span>(</span><span>function</span><span>(</span>s<span>)</span> beautiful<span>.</span><span>at_screen_connect</span><span>(</span>s<span>)</span>
    <span>if</span> s<span>.</span>geometry<span>.</span>width <span>>=</span> s<span>.</span>geometry<span>.</span>height <span>then</span>
      awful<span>.</span><span>tag</span><span>(</span><span>{</span> <span>"1"</span><span>,</span> <span>"2"</span><span>,</span> <span>"3"</span><span>,</span> <span>"4"</span><span>,</span> <span>"5"</span><span>,</span> <span>"6"</span><span>,</span> <span>"7"</span><span>,</span> <span>"8"</span><span>,</span> <span>"9"</span><span>,</span> <span>"0"</span> <span>}</span><span>,</span> s<span>,</span> awful<span>.</span>layout<span>.</span>layouts<span>[</span><span>1</span><span>]</span><span>)</span>
    <span>else</span>
      awful<span>.</span><span>tag</span><span>(</span><span>{</span> <span>"1"</span><span>,</span> <span>"2"</span><span>,</span> <span>"3"</span><span>,</span> <span>"4"</span><span>,</span> <span>"5"</span><span>,</span> <span>"6"</span><span>,</span> <span>"7"</span><span>,</span> <span>"8"</span><span>,</span> <span>"9"</span><span>,</span> <span>"0"</span> <span>}</span><span>,</span> s<span>,</span> awful<span>.</span>layout<span>.</span>layouts<span>[</span><span>4</span><span>]</span><span>)</span>
    <span>end</span>
    s<span>.</span>systray <span>=</span> wibox<span>.</span>widget<span>.</span><span>systray</span><span>(</span><span>)</span>
    s<span>.</span>systray<span>.</span>visible <span>=</span> <span>true</span>
 <span>end</span><span>)</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br><span>18</span><br><span>19</span><br><span>20</span><br><span>21</span><br><span>22</span><br><span>23</span><br><span>24</span><br><span>25</span><br><span>26</span><br><span>27</span><br><span>28</span><br><span>29</span><br><span>30</span><br><span>31</span><br><span>32</span><br><span>33</span><br><span>34</span><br><span>35</span><br><span>36</span><br></div></div><p>现在很明显了，在第一行这里，从系统启动一开始就已经初始化十个tag了，然后到调用 <code>awful.screen.connect_for_each_screen</code>这个函数的时候，通过这个语句 <code>awful.tag</code>就又创建新的十个tag，因此对应的解决办法显然是——删除 <code>awful.util.tagnames</code>内的所有内容。</p>
<p>不是删除 <code>awful.util.tagnames</code>！不是删除 <code>awful.util.tagnames</code>！不是删除 <code>awful.util.tagnames</code>！删除它会改崩桌面系统的，因为初始化的基本容器被删掉了，<code>awful.tag</code>在尝试加入新的tag时会找不到这个基本容器，所以设置为空即可，修改后的代码如下：</p>
<div><pre><code>awful<span>.</span>util<span>.</span>tagnames <span>=</span> <span>{</span>  <span>}</span>
<span>......</span>
awful<span>.</span>layout<span>.</span>layouts <span>=</span> <span>{</span>
    awful<span>.</span>layout<span>.</span>suit<span>.</span>tile<span>,</span> <span>-- 1</span>
    awful<span>.</span>layout<span>.</span>suit<span>.</span>floating<span>,</span>
    awful<span>.</span>layout<span>.</span>suit<span>.</span>tile<span>.</span>left<span>,</span>
    awful<span>.</span>layout<span>.</span>suit<span>.</span>tile<span>.</span>bottom<span>,</span>  <span>-- 4</span>
    awful<span>.</span>layout<span>.</span>suit<span>.</span>tile<span>.</span>top<span>,</span>
    <span>--awful.layout.suit.fair,</span>
    <span>--awful.layout.suit.fair.horizontal,</span>
    <span>--awful.layout.suit.spiral,</span>
    <span>--awful.layout.suit.spiral.dwindle,</span>
    awful<span>.</span>layout<span>.</span>suit<span>.</span>max<span>,</span>
    <span>--awful.layout.suit.max.fullscreen,</span>
    awful<span>.</span>layout<span>.</span>suit<span>.</span>magnifier<span>,</span>
    <span>--awful.layout.suit.corner.nw,</span>
    <span>--awful.layout.suit.corner.ne,</span>
    <span>--awful.layout.suit.corner.sw,</span>
    <span>--awful.layout.suit.corner.se,</span>
    <span>--lain.layout.cascade,</span>
    <span>--lain.layout.cascade.tile,</span>
    <span>--lain.layout.centerwork,</span>
    <span>--lain.layout.centerwork.horizontal,</span>
    <span>--lain.layout.termfair,</span>
    <span>--lain.layout.termfair.center,</span>
<span>}</span>
<span>......</span>
awful<span>.</span>screen<span>.</span><span>connect_for_each_screen</span><span>(</span><span>function</span><span>(</span>s<span>)</span> beautiful<span>.</span><span>at_screen_connect</span><span>(</span>s<span>)</span>
    <span>if</span> s<span>.</span>geometry<span>.</span>width <span>>=</span> s<span>.</span>geometry<span>.</span>height <span>then</span>
      awful<span>.</span><span>tag</span><span>(</span><span>{</span> <span>"➊"</span><span>,</span> <span>"➋"</span><span>,</span> <span>"➌"</span><span>,</span> <span>"➍"</span><span>,</span> <span>"➎"</span><span>,</span> <span>"➏"</span><span>,</span> <span>"➐"</span><span>,</span> <span>"➑"</span><span>,</span> <span>"➒"</span><span>,</span> <span>"➓"</span> <span>}</span><span>,</span> s<span>,</span> awful<span>.</span>layout<span>.</span>layouts<span>[</span><span>1</span><span>]</span><span>)</span>
    <span>else</span>
      awful<span>.</span><span>tag</span><span>(</span><span>{</span> <span>"➊"</span><span>,</span> <span>"➋"</span><span>,</span> <span>"➌"</span><span>,</span> <span>"➍"</span><span>,</span> <span>"➎"</span><span>,</span> <span>"➏"</span><span>,</span> <span>"➐"</span><span>,</span> <span>"➑"</span><span>,</span> <span>"➒"</span><span>,</span> <span>"➓"</span> <span>}</span><span>,</span> s<span>,</span> awful<span>.</span>layout<span>.</span>layouts<span>[</span><span>4</span><span>]</span><span>)</span>
    <span>end</span>
    s<span>.</span>systray <span>=</span> wibox<span>.</span>widget<span>.</span><span>systray</span><span>(</span><span>)</span>
    s<span>.</span>systray<span>.</span>visible <span>=</span> <span>true</span>
 <span>end</span><span>)</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br><span>18</span><br><span>19</span><br><span>20</span><br><span>21</span><br><span>22</span><br><span>23</span><br><span>24</span><br><span>25</span><br><span>26</span><br><span>27</span><br><span>28</span><br><span>29</span><br><span>30</span><br><span>31</span><br><span>32</span><br><span>33</span><br><span>34</span><br><span>35</span><br><span>36</span><br></div></div><p>问题已经完美解决👍！</p>
<h3 id="配置桌面壁纸问题"> 配置桌面壁纸问题</h3>
<p>(还没修好呢，再等等吧……)</p>
<h3 id="修改主机名"> 修改主机名</h3>
<p>执行如下命令即可：</p>
<div><pre><code><span>sudo</span> hostnamectl set-hostname <span>&lt;</span>NAMEYOULIKE<span>></span>
</code></pre>
<div><span>1</span><br></div></div><h3 id="给urxvt添加多标签功能"> 给URxvt添加多标签功能</h3>
<p>修改 <code>~/.Xresources</code>文件，搜索其中的 <code>URxvt.perl-ext-common</code>字样，在后面添加 <code>,tabbed</code>后执行 <code>xrdb -merge ~/.Xresources</code>即可。</p>
<h3 id="让urxvt支持组合键"> 让URxvt支持组合键</h3>
<p>如果你喜欢使用<kbd>Ctrl</kbd>+<kbd>Arrow</kbd>类的组合键，但是你发现它在URxvt这里并不生效，其实是需要修改 <code>~/.Xresources</code>配置文件的：</p>
<p>在该文件下任意一个比较合适的地方添加如下的配置：</p>
<div><pre><code>! enable some control keymap.
URxvt.keysym.Control-Up:     \033[1;5A
URxvt.keysym.Control-Down:   \033[1;5B
URxvt.keysym.Control-Left:   \033[1;5D
URxvt.keysym.Control-Right:  \033[1;5C
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br></div></div><p>然后执行 <code>xrdb -merge ~/.Xresources</code>，重启一下，即可生效。</p>
<h3 id="添加锁屏功能"> 添加锁屏功能</h3>
<div><p>风险提示</p>
<p>使用这个东西时应该做好心理准备，我使用一段时间后发现它有个缺陷，不知是什么时候，它就可能彻底锁死计算机。</p>
<p>这里锁死的含义就是即使你输入了十分正确的密码，依旧会认为你输入错误。</p>
<p>也正是这种原因，我弃用了这个锁屏。</p>
</div>
<p>如果希望能使用热键来锁定系统的话，需要稍微折腾一下，下载安装 <code>xscreensaver</code>，执行：<code>sudo pacman -S xscreensaver</code>，然后要编辑 <code>~/.xinitrc</code>文件，在结尾处添加：<code>xscreensaver -no-splash &amp;</code>，并且需要在 <code>~/.Xresources</code>文件中寻找 <code>my_table.join</code>的字样，添加：</p>
<div><pre><code>awful<span>.</span><span>key</span><span>(</span><span>{</span> modkey <span>}</span><span>,</span> <span>"l"</span><span>,</span> <span>function</span> <span>(</span><span>)</span> awful<span>.</span>util<span>.</span><span>spawn</span><span>(</span> <span>"xscreensaver-command -lock"</span> <span>)</span> <span>end</span><span>,</span>
    <span>{</span> description <span>=</span> <span>"Screen lock"</span><span>,</span> group <span>=</span> <span>"global keys"</span> <span>}</span><span>)</span><span>,</span>
</code></pre>
<div><span>1</span><br><span>2</span><br></div></div><p>然后按下<kbd>Alt</kbd>+<kbd>Shift</kbd>+<kbd>R</kbd>重启一下AwesomeWM即可生效。</p>
<p>按理说这时候应该每次开机启动都可以生效的，但我发现并没有，于是我就修改了 <code>~/.config/awesome/autostart.sh</code>来设定自动启动 <code>xscreensaver</code>。</p>
<div><pre><code><span>vim</span> ~/.config/awesome/autostart.sh
<span># 按下G跳转到最后一行，再按下Shift+4跳转到最后一个字符，添加下面一行</span>
run xscreensaver -no-splash
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br></div></div><p>保存退出后即可自动启动该程序。</p>
<h3 id="virtual-machine-manager安装与配置"> Virtual Machine Manager安装与配置</h3>
<p>即使目前我已经是全栈使用Linux，但总会有那种时候，我是必须要使用Windows才行的，而我已经把原来的Windows系统完全删除掉了，因此我必须提前做好准备，先安装配置好虚拟机来以备不时之需。</p>
<p>首先要确保你的系统是支持虚拟化的，执行下列命令来查看：</p>
<div><pre><code><span><span>LC_ALL</span></span><span>=</span>C lscpu <span>|</span> <span>grep</span> Virtualization
</code></pre>
<div><span>1</span><br></div></div><p>如果是使用Intel CPU的话，会看到 <code>VT-x</code>，如果是使用AMD的话会看到 <code>AMD-V</code>。</p>
<p>接下来我们要安装相关组件：</p>
<div><pre><code><span>sudo</span> pacman -S qemu libvirt ovmf virt-manager virt-viewer dnsmasq vde2 bridge-utils openbsd-netcat ebtables iptables libguestfs
</code></pre>
<div><span>1</span><br></div></div><p>之前确实是搞错了，不是只安装virt-manager就可以的，它只是一个GUI管理器，真正做虚拟服务的是qemu，它只是替我们去调用了qemu的API罢。安装好这些后需要继续进行配置：</p>
<p>首先我们需要启动服务：</p>
<div><pre><code><span>sudo</span> systemctl <span>enable</span> libvirtd.service
<span>sudo</span> systemctl start libvirtd.service
</code></pre>
<div><span>1</span><br><span>2</span><br></div></div><p>然后将我们的用户账户添加到libvirt组内：</p>
<div><pre><code><span>sudo</span> <span>usermod</span> -aG libvirt <span><span>$(</span><span>whoami</span><span>)</span></span>
newgrp libvirt
</code></pre>
<div><span>1</span><br><span>2</span><br></div></div><p>然后我们重启一下服务：</p>
<div><pre><code><span>sudo</span> systemctl restart libvirtd.service
</code></pre>
<div><span>1</span><br></div></div><p>之后我们打开 <code>virt-manager</code>，新建连接。选择 <code>QEMU/KVM</code>后保持默认就可以开始新建虚拟机了！</p>
<h3 id="将平板作为扩展屏幕使用"> 将平板作为扩展屏幕使用</h3>
<p>家里的显示器数量有限，但又不能因此就再买一个显示器。又考虑到我手中还有一个平板，那么我就有办法让平板作为我的第三个屏幕。</p>
<p>基本原理其实就是在电脑上自己手动添加一个视频信号输出，然后由服务端软件开放端口投出，最后由平板连接这个开放端口，达到显示第三屏幕的效果。</p>
<div><p>注意</p>
<p>这种操作并非不受限制：</p>
<ol>
<li>你首先要知道你的计算机最多能扩展多少个屏幕，在这里我的电脑能支持同时输出3个显示器设备。</li>
<li>你还要知道你的每一个显卡的输出信号能力，即它最大的分辨率输出能力，比如我的显卡性能并不是特别强，最大只能输出1080P「1920✕1080」，那么如果我尝试让它输出2560✕1600的分辨率，这个肯定会失败的。</li>
<li>服务端软件一般系统并不自带，因此需要用户自行安装，可以执行 <code>sudo pacman -S x11vnc</code>来直接安装。</li>
</ol>
</div>
<p>了解了这些限制后我们就可以开始了：</p>
<ol>
<li>
<p>首先我们应该确定要输出的分辨率，并获取相关参数，执行</p>
<div><pre><code>cvt <span>&lt;</span>X<span>></span> <span>&lt;</span>Y<span>></span> <span>&lt;</span>Z<span>></span>
</code></pre>
<div><span>1</span><br></div></div><div><p>提示</p>
<p>这里的 <code>&lt;X&gt;</code>、<code>&lt;Y&gt;</code>、<code>&lt;Z&gt;</code>分别表示分辨率宽、高和屏幕刷新率参数。如 <code>cvt 1920 1080 60</code>表示分辨率为1920✕1080，屏幕刷新率为60Hz。</p>
<p>你会得到类似这个的输出：</p>
<div><pre><code> ❯ cvt <span>1920</span> <span>1080</span> <span>60</span>
 <span># 1920x1080 59.96 Hz (CVT 2.07M9) hsync: 67.16 kHz; pclk: 173.00 MHz</span>
 Modeline <span>"1920x1080_60.00"</span>  <span>173.00</span>  <span>1920</span> <span>2048</span> <span>2248</span> <span>2576</span>  <span>1080</span> <span>1083</span> <span>1088</span> <span>1120</span> -hsync +vsync
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br></div></div></div>
</li>
<li>
<p>获取到这些参数后我们还要复制好这些参数，并执行下面这个命令：</p>
<div><pre><code>xrandr --newmode <span>"1920x1080_60.00"</span>  <span>173.00</span>  <span>1920</span> <span>2048</span> <span>2248</span> <span>2576</span>  <span>1080</span> <span>1083</span> <span>1088</span> <span>1120</span> -hsync +vsync
</code></pre>
<div><span>1</span><br></div></div></li>
<li>
<p>新建好这个输出模式后再执行下面这个命令：</p>
<div><pre><code>xrandr --addmode <span>&lt;</span>API<span>></span> 1920x1080_60.00
</code></pre>
<div><span>1</span><br></div></div><div><p>提示</p>
<p>这里的 <code>&lt;API&gt;</code>是指你输出的视频信号端口名称，如果觉得这里不清晰的话可以先执行 <code>xrandr</code>来看看，执行完上面指令的时候就可以看到你新添加的输出模式了。</p>
<p>另外，如果是希望扩展屏幕，建议 <code>&lt;API&gt;</code>选取未连接状态的端口。不过如果只是希望复制屏幕的话，大可不必用这种方法。</p>
</div>
</li>
<li>
<p>接下来你还要开启输出模式，做屏幕扩展，执行</p>
<div><pre><code>xrandr --output <span>&lt;</span>API<span>></span> --mode 1920x1080_60.00 --right-of <span>&lt;</span>Other API<span>></span>
</code></pre>
<div><span>1</span><br></div></div><div><p>提示</p>
<p>当然也可以使用其它参数，详细可以执行 <code>xrandr --help</code>后关注 <code>--output</code>下的其它参数。</p>
</div>
</li>
<li>
<p>最后你就需要使用 <code>x11vnc</code>来开放端口，将这个新添加的屏幕输出出去，执行</p>
<div><pre><code>x11vnc -clip 1920x1080+X+Y
</code></pre>
<div><span>1</span><br></div></div><div><p>提示</p>
<p>这里的X表示扩展屏幕的起点横坐标，Y表示扩展屏幕的起点纵坐标。比如我现在在使用两个显示器，且分辨率都是1920✕1080，那么我在扩展第三个屏幕的时候就可以选择起点横坐标为3840，纵坐标为0。
当然如果你希望它在后台运行，可以添加 <code>-bg</code>来后台启动。</p>
<p>如果希望设置密码，添加 <code>-usepw</code>就可以了。使用这个参数时它会在 <code>~/.vnc/passwd</code>中或 <code>~/.vnc/passwdfile</code>第一行里找到密码，如果这些文件都不存在，则它会提示你输入密码，并保存在 <code>~/.vnc/passwd</code>中。</p>
<p>如果想指定端口的话需要添加参数 <code>-rfbport PORT</code>，其中 <code>PORT</code>要换为你想使用的端口号。</p>
</div>
</li>
</ol>
<p>现在你可以在平板上连接电脑开放的端口来查看了。</p>
<h3 id="手动安装字体"> 手动安装字体</h3>
<p>因为URxvt的字体支持问题，我在使用Powerlevel10k时发现无法使用Unicode字符，因此需要按照官方文档给出的Manual Install方式去做：</p>
<ol>
<li>先下载字体，我选择了官方文档给出的<a href="https://github.com/romkatv/powerlevel10k-media/raw/master/MesloLGS%20NF%20Regular.ttf" target="_blank" rel="noopener noreferrer">MesloLGS NF Regular</a>下载链接。</li>
<li>下载后将它移动到 <code>/usr/share/fonts/awesome-terminal-fonts</code>下。</li>
<li>执行 <code>fc-cache -vf</code>来刷新字体库缓存。</li>
</ol>
<h3 id="更改urxvt字体"> 更改URxvt字体</h3>
<p>安装好字体后，需要编辑 <code>～/.Xresources</code>文件，找到其中的段落：</p>
<div><pre><code>! fonts
URxvt.letterSpace: 	    		-1
URxvt.font:                 	xft:Monospace:regular:size=11
URxvt.imFont:               	xft:Monospace:regular:size=11
URxvt.italicFont:           	xft:Monospace:italic:size=11
URxvt.boldFont:             	xft:Monospace:bold:size=11
URxvt.boldItalicFont:     	    xft:Monospace:regular:size=11
! run :.!fc-list | grep &lt;font-name&gt;
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br></div></div><p>改成如下即可：</p>
<div><pre><code>! fonts
URxvt.letterSpace: 	    		-1
URxvt.font:                 	xft:MesloLGS NF-20
URxvt.imFont:               	xft:MesloLGS NF-20
URxvt.italicFont:           	xft:MesloLGS NF-20
URxvt.boldFont:             	xft:MesloLGS NF-20
URxvt.boldItalicFont:     	    xft:MesloLGS NF-20
! run :.!fc-list | grep &lt;font-name&gt;
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br></div></div><p>保存退出后还需要执行 <code>xrdb -m ~/.Xresources</code></p>
<p>重启一下终端，你就可以看到字体已被启用了。</p>
<h3 id="组合键安全从容应对关机-重启卡死问题"> 组合键安全从容应对关机/重启卡死问题</h3>
<p>最近发现每次重启都要等好久才能正常关机、重启，一般等一分半也就行了，但后来我发现，有的时候它会是这样做的：</p>
<p>一直等待进程结束，写的上限是1min 30s，但到这个时间后又给上限加长，改到3min......最离谱的一次是直接让我等了十分钟多。</p>
<p>于是我终于忍不了了，想起朋友有使用组合键就能完成强制重启，几番查找后发现，原来是使用了Magic SysRq组合键。</p>
<div><p>维基百科</p>
<p>Magic SysRq组合键是一串能直接与Linux 内核沟通的组合键，允许用户就算在系统进入死循环濒临崩溃时，直接调用系统底层将资料写入文件系统或重启，避免尚未写入文件系统与硬盘的数据在关机后消失。效果类似于电脑上的电源键或重启键，但能执行更多操作。</p>
<p>此组合键提供一系列在系统崩溃时常用到的功能，比如上述的写入数据，或关闭 X Server 、Kill 进程、卸载 文件系统，也通常是死机时的最后手段。</p>
<p>但在 linux 核心停止运作的情况下 Magic SysRq 无效，例如 kernel panic。</p>
</div>
<p>但是这个组合键功能在Arch系这里是默认关闭的。为了使用这个功能，我们需要做以下操作来开启这个功能：</p>
<p>首先执行 <code>sudo echo &quot;kernel.sysrq = 1&quot; &gt; /etc/sysctl.d/99-sysctl.conf</code>来写入开启状态。</p>
<p>然后执行如下命令：</p>
<CodeGroup>
<CodeGroupItem title="重载系统所有配置">
<div><pre><code><span>sudo</span> sysctl --system
</code></pre>
<div><span>1</span><br></div></div></CodeGroupItem>
<CodeGroupItem title="仅重载99-sysctl.conf配置文件">
<div><pre><code><span>sudo</span> sysctl --load<span>=</span>/etc/sysctl.d/99-sysctl.conf
</code></pre>
<div><span>1</span><br></div></div></CodeGroupItem>
</CodeGroup>
<p>这样我们就启用了Magic SysRQ功能，下面我们看看如何使用这个功能：</p>
<table>
<thead>
<tr>
<th style="text-align:center">KeyBoard Shortcut</th>
<th style="text-align:center">Illustration</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><kbd>Alt</kbd>+<kbd>SysRq</kbd>+<kbd>R</kbd></td>
<td style="text-align:center">从 X 收回对键盘的控制</td>
</tr>
<tr>
<td style="text-align:center"><kbd>Alt</kbd>+<kbd>SysRq</kbd>+<kbd>E</kbd></td>
<td style="text-align:center">向所有进程发送 SIGTERM 信号，让它们正常终止</td>
</tr>
<tr>
<td style="text-align:center"><kbd>Alt</kbd>+<kbd>SysRq</kbd>+<kbd>I</kbd></td>
<td style="text-align:center">向所有进程发送 SIGKILL 信号，强制立即终止</td>
</tr>
<tr>
<td style="text-align:center"><kbd>Alt</kbd>+<kbd>SysRq</kbd>+<kbd>S</kbd></td>
<td style="text-align:center">将待写数据写入磁盘</td>
</tr>
<tr>
<td style="text-align:center"><kbd>Alt</kbd>+<kbd>SysRq</kbd>+<kbd>U</kbd></td>
<td style="text-align:center">卸载所有硬盘然后重新按只读模式挂载</td>
</tr>
<tr>
<td style="text-align:center"><kbd>Alt</kbd>+<kbd>SysRq</kbd>+<kbd>B</kbd></td>
<td style="text-align:center">重启</td>
</tr>
</tbody>
</table>
<p>通常我们在关机/重启之前都会做好保存工作，因此一般而言执行这三步就可以了：</p>
<ol>
<li><kbd>Alt</kbd>+<kbd>SysRq</kbd>+<kbd>R</kbd></li>
<li><kbd>Alt</kbd>+<kbd>SysRq</kbd>+<kbd>E</kbd></li>
<li><kbd>Alt</kbd>+<kbd>SysRq</kbd>+<kbd>I</kbd></li>
</ol>
<div><p>注意</p>
<p>第二步和第三步之间最好隔开1～2秒，不然做完第二步后立刻做第三步的话有可能导致有些本可以正常结束的进程被意外终止掉的结果，因此稍微等一下是妥当的做法。</p>
<p>另外，第一步是关键，如果不夺取键盘，后面你试图发送的任何信息都无法发送。要说话，就得先抢过来“话筒”。</p>
</div>
<p>当系统中有内核高耗的进程导致系统卡顿时，可以使用 <kbd>Alt</kbd>+<kbd>SysRq</kbd>+<kbd>F</kbd> Magic SysRq 组合键唤醒 Linux Kernel 的 OOM（out of memory） Killer 杀死这些进程。使用这个组合键可以减少因内存高耗导致重启系统的次数，OMM Killer使用启发算法选取当前系统内存占用最高且不重要的进程进行杀死，所以当系统内存占用不高的情况下还是需要慎用。</p>
<p>有关Magic SysRq的所有功能按键可以<a href="./MagicSysRq.html">点此查看</a></p>
]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2021-12-02T12:00:21.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">Shell全自动安装与部署Anaconda</title>
    <id>https://breezeshane.github.io/Linux/AutoIAC/</id>
    <link href="https://breezeshane.github.io/Linux/AutoIAC/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<h2 id="背景"> 背景</h2>
<p>因为学校布置了一个在openEuler上的综合大作业，我和比较多的同学们选择了部署安装深度学习的主题，但同学们苦于配置环境非常繁琐。我就产生了编写全自动化Shell部署安装脚本的想法，特此一记。</p>
<h2 id="实现思路"> 实现思路</h2>
<ol>
<li>下载anaconda</li>
<li>自动化交互并安装anaconda</li>
<li>自动配置conda和pip</li>
<li>自动创建虚拟环境</li>
<li>自动拉取git仓库项目</li>
<li>自动安装requirements</li>
<li>自动运行项目「可选」</li>
</ol>
<h2 id="分步具体实现"> 分步具体实现</h2>
<h3 id="下载anaconda"> 下载Anaconda</h3>
<p>这里实现非常简单，调用wget即可，链接从官网获取：</p>
<div><pre><code><span>wget</span> https://repo.anaconda.com/archive/Anaconda3-2021.11-Linux-XXXX.sh
</code></pre>
<div><span>1</span><br></div></div><p>注意这里的XXXX是需要你指定类型的，一般情况下系统是使用x86架构的，写<code>x86_64</code>即可，但openEuler实验课上我们选择的系统是ARM架构，因此要写<code>aarch64</code>。</p>
<h3 id="自动化交互并安装anaconda"> 自动化交互并安装anaconda</h3>
<p>通过shell实现自动化交互比较麻烦，我搜索了好长时间才知道应该如何解决，</p>
<p>起初我是写成这样的：</p>
<div><pre><code><span>#!/usr/bin/bash</span>
<span>echo</span> <span>$'<span title="\003">\003</span>'</span> <span>|</span> <span>echo</span> <span>$KEYCODE_ENTER</span> <span>|</span> <span>sh</span> ./Anaconda3-2021.11-Linux-XXXX.sh
</code></pre>
<div><span>1</span><br><span>2</span><br></div></div><p>很明显失败了，仔细想想不应该写成这样，这意思是：将<kbd>Ctrl</kbd>+<kbd>C</kbd>对应的SIGINT信号送入命令<code>echo $KEYCODE_ENTER | sh ./Anaconda3-2021.11-Linux-XXXX.sh</code>，就是中断该命令进行。</p>
<p>后来我的实现思路是尝试将输入的内容发送到进程中，于是在纠结如何获取进程，折腾了好久才发现，实际上在我不修改下载来的Shell Installer的话，我这样做是送不进去的。</p>
<p>之后我查到了有效的方法，写成这样即可按照预期进行：</p>
<div><pre><code><span>{</span>
	<span>echo</span> <span>${KEYCODE_ENTER}</span><span>;</span>
	<span>kill</span> -SIGINT <span>$PPID</span><span>;</span>
	<span>echo</span> <span>"yes"</span><span>;</span>
	<span>echo</span> <span>${KEYCODE_ENTER}</span><span>;</span>
<span>}</span> <span>|</span> <span>sh</span> ./Anaconda3-2021.11-Linux-XXXX.sh
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br></div></div><p>但是，当我执行的时候我就发现不论如何，中间出现的用户条例总是会弹出来，而且即使我先后尝试添加语句来输入SIGINT信号也好，输入Q也罢，都不能自动退出阅读用户条例的模式，搜索许久无果后我最终决定看安装脚本的源码，最后我发现，在这个脚本中有这样的语句：</p>
<div><pre><code><span>"<span>$pager</span>"</span> <span>&lt;&lt;</span><span>EOF
......
EOF</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br></div></div><p>这时我才明白，我应该将问题放在如何阻止他向<code>$pager</code>写入内容，但搜索了许久也没有能满足我需求的指令，起先是觉得pager应该是个系统环境变量，但经过<code>env</code>查看之后也没能找到，虽然看到了<code>PAGER</code>，但他俩毕竟有区别，即使是我尝试创建变量$pager也于事无补，始终都不能解决问题。</p>
<p>于是我翻了又翻源代码，注意到这里：</p>
<div><pre><code><span>pager</span><span>=</span><span>"cat"</span>
<span>if</span> <span>command</span> -v <span>"more"</span> <span>></span> /dev/null <span><span>2</span>></span><span>&amp;1</span><span>;</span> <span>then</span>
<span>pager</span><span>=</span><span>"more"</span>
<span>fi</span>
<span>"<span>$pager</span>"</span> <span>&lt;&lt;</span>EOF
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br></div></div><p>然后我将问题中心转移在cat身上了，我查过cat的相关文档，但看了许久也没发现它有任何相关参数。</p>
<blockquote>
<p><strong>题外话</strong>：我搜到过systemctl的相应解决方案，是在输入<code>systemctl stats</code>时避免出现分页器问题，这个的解决方案也简单，就是执行<code>export SYSTEMD_PAGER=cat</code>即可，原因是这个：</p>
<blockquote>
<p><code>$SYSTEMD_PAGER</code> Pager to use when <code>--no-pager</code> is not given; overrides <code>$PAGER</code>. If neither <code>$SYSTEMD_PAGER</code> nor <code>$PAGER</code> are set, a set of well-known pager implementations are tried in turn, including <code>less</code>(1) and <code>more</code>(1), until one is found. If no pager implementation is discovered no pager is invoked. Setting this environment variable to an empty string or the value &quot;<code>cat</code>&quot; is equivalent to passing <code>--no-pager</code>.</p>
</blockquote>
<p>man page表述已经很清晰了，<code>$SYSTEMD_PAGER</code>和<code>$PAGER</code>都不存在的时候，就会尝试从<code>less</code>和<code>more</code>中加载可用的软件。
因此如果不想使用分页器就可以执行<code>export SYSTEMD_PAGER=cat</code>，这样当你再次输入<code>systemctl stats</code>时它也不会出现分页器了。</p>
</blockquote>
<p>后来就觉得，可能问题中心还没有找到，我就又从遇到的第一个问题开始分析，从头整理思绪后，开始觉得，分页器终归是分页器，问题应该是在于它的Here Documentation内写了太多的文字信息，因此当它输出的时候即使原本配置是不用分页器的，在这样的情况下也不得不使用分页器，于是我认为应该将问题中心放在这一大段文字上。</p>
<p>于是我自然而然地想到了重定向问题。猛地发现，我可以使用重定向将这一大段文字清空掉，于是我写成了如下形式：</p>
<div><pre><code><span>{</span>
	<span>echo</span> <span>${KEYCODE_ENTER}</span><span>;</span>
	<span>echo</span> <span>"yes"</span><span>;</span>
	<span>echo</span> <span>${KEYCODE_ENTER}</span><span>;</span>
<span>}</span> <span>|</span> <span>sh</span> ./Anaconda3-2021.11-Linux-XXXX.sh <span>></span> /dev/null
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br></div></div><p>但后来我发现，这样是直接将所有输出全部丢弃掉了，有些事是还想回溯一下历史，那应该如何做？</p>
<p>在我进一步深入学习重定向之后，了解到了如下内容：</p>
<blockquote>
<p>在shell脚本中，默认情况下，总是有三个文件处于打开状态，标准输入、标准输出、标准错误，它们分别对应的文件描述符是0，1，2 。</p>
<p><code>&gt;</code>默认为标准输出重定向，与<code>1&gt;</code>相同。
<code>2&gt;&amp;1</code>是输出标准错误并重定向到标准输出。</p>
<p><code>&amp;&gt;file</code>是把标准输出和标准错误都重定向到文件file中。</p>
<p><code>/dev/null</code>是一个特殊的文件，所有传给它的东西都会被丢弃掉。</p>
<p><code>1&gt;&amp;2</code>指的是将正确返回值传递给2输出通道，<code>&amp;2</code>表示2输出通道。</p>
<p><code>2&gt;&amp;1</code>指的是将错误返回值传递给1输出通道, 同样<code>&amp;1</code>表示1输出通道。</p>
</blockquote>
<p>结合以上的知识和我目前的需求，最后就暂时写成以下的样子：</p>
<div><pre><code><span>{</span>
	<span>echo</span> <span>${KEYCODE_ENTER}</span><span>;</span>
	<span>echo</span> <span>"yes"</span><span>;</span>
	<span>echo</span> <span>${KEYCODE_ENTER}</span><span>;</span>
<span>}</span> <span>|</span> <span>sh</span> ./Anaconda3-2021.11-Linux-XXXX.sh <span><span>1</span>></span>./Anaconda.log <span><span>2</span>></span><span>&amp;1</span> <span>&amp;</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br></div></div><h3 id="自动配置conda和pip"> 自动配置conda和pip</h3>
<p>前面的事做好的话，后面也不怎么难了，把常用的那些指令写上去就可以了。</p>
<div><pre><code><span># conda change channels</span>
conda config --add channels https://mirrors.ustc.edu.cn/anaconda/pkgs/main/
conda config --add channels https://mirrors.ustc.edu.cn/anaconda/pkgs/free/
conda config --add channels https://mirrors.ustc.edu.cn/anaconda/cloud/conda-forge/
conda config --add channels https://mirrors.ustc.edu.cn/anaconda/cloud/msys2/
conda config --add channels https://mirrors.ustc.edu.cn/anaconda/cloud/bioconda/
conda config --add channels https://mirrors.ustc.edu.cn/anaconda/cloud/menpo/
conda config --set show_channel_urls <span>yes</span>
<span># cat /root/.condarc</span>

<span># pip change channels</span>
pip config <span>set</span> global.index-url http://mirrors.aliyun.com/pypi/simple/
pip config <span>set</span> install.trusted-host mirrors.aliyun.com
<span># cat /root/.config/pip/pip.conf</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br></div></div><h3 id="自动创建虚拟环境"> 自动创建虚拟环境</h3>
<div><pre><code><span>{</span> <span>echo</span> <span>"y"</span><span>;</span> <span>}</span> <span>|</span> conda create -n OEDL <span>python</span><span>=</span><span>3.8</span>
</code></pre>
<div><span>1</span><br></div></div><h3 id="自动拉取git仓库项目"> 自动拉取git仓库项目</h3>
<div><pre><code><span>git</span> clone https://hub.fastgit.org/<span>&lt;</span>USERNAME<span>></span>/<span>&lt;</span>REPO-NAME<span>></span>.git
</code></pre>
<div><span>1</span><br></div></div><h3 id="自动安装requirements"> 自动安装requirements</h3>
<div><pre><code>pip <span>install</span> -r requirements.txt
</code></pre>
<div><span>1</span><br></div></div><h3 id="自动运行项目「可选」"> 自动运行项目「可选」</h3>
<div><pre><code>python YOUR_SCRIPT.py
</code></pre>
<div><span>1</span><br></div></div><h2 id="强化与优化"> 强化与优化</h2>
<p>将上述分布执行再优化一下，设置一些参数，增强其通用性。</p>
<p>在该脚本中，我增加了如下功能：</p>
<ol>
<li>判断文件是否已下载过，若存在则跳过下载；</li>
<li>给出选项供用户选择不同架构下的Anaconda；</li>
<li>提供帮助文档；</li>
<li>允许通过传送参数修改项目来源地和虚拟环境名称；</li>
</ol>
<h5 id="实现功能一"> 实现功能一：</h5>
<p>基本思路就是判断文件是否存在，然后套用shell的if语法框架即可：</p>
<div><pre><code><span>if</span> <span>[</span> <span>!</span> -f <span>"./Anaconda3-2021.11-Linux-<span>${TYPE}</span>.sh"</span> <span>]</span><span>;</span> <span>then</span>
	<span>wget</span> https://repo.anaconda.com/archive/Anaconda3-2021.11-Linux-<span>${TYPE}</span>.sh
<span>fi</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br></div></div><p><strong>扩展：</strong></p>
<p>判断文件夹是否存在时将上段代码中<code>-f</code>改为<code>-d</code>即可；判断是否有执行权限则改为<code>-x</code>即可；判断变量是否有值则改为<code>-n</code>即可。</p>
<h5 id="实现功能二"> 实现功能二：</h5>
<p>基本思路是shell分支语句的框架：</p>
<div><pre><code><span>read</span> TYPEID<span>;</span>
<span>if</span> <span>[</span> <span>$TYPEID</span> -eq <span>1</span> <span>]</span><span>;</span> <span>then</span>
	<span>TYPE</span><span>=</span><span>"x86_64"</span><span>;</span>
<span>elif</span> <span>[</span> <span>$TYPEID</span> -eq <span>2</span> <span>]</span><span>;</span> <span>then</span>
	<span>TYPE</span><span>=</span><span>"aarch64"</span><span>;</span>
<span>elif</span> <span>[</span> <span>$TYPEID</span> -eq <span>3</span> <span>]</span><span>;</span> <span>then</span>
	<span>TYPE</span><span>=</span><span>"ppc64le"</span><span>;</span>
<span>elif</span> <span>[</span> <span>$TYPEID</span> -eq <span>4</span> <span>]</span><span>;</span> <span>then</span>
	<span>TYPE</span><span>=</span><span>"s390x"</span><span>;</span>
<span>else</span>
	<span>echo</span> -e <span>"Invalid type id."</span><span>;</span>
	<span>exit</span> <span>1</span><span>;</span>
<span>fi</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br></div></div><h5 id="实现功能三"> 实现功能三：</h5>
<p>基本思路就是利用echo带有转义输出的控制<code>echo -e &quot;&lt;String&gt;\n&quot;</code>。</p>
<h5 id="实现功能四"> 实现功能四：</h5>
<p>基本思路是利用shell脚本中的特殊变量如<code>$1</code>、<code>$2</code>、<code>$3</code>等等，分别表示第一个参数、第二个参数、第三个参数，另外注意<code>$0</code>是表示程序名。该功能还利用shell变量的特殊替换结构而设置默认值。</p>
<blockquote>
<p>shell变量特殊替换结构：</p>
<p><code>${var:-string}</code>：当变量var未定义或者值为空时，返回值为string的内容，否则返回变量的值。</p>
<p><code>${var:+string}</code>：若变量var已赋值的话，其值才用string替换，否则不进行任何替换。</p>
<p><code>${var:=string}</code>：若变量var未定义或者值为空时，在返回string的值的同时将string赋值给var。</p>
<p><code>${var:?string}</code>：若变量var已赋值的话,正常输出var的值。否则将消息string送到标准错误输出（若此替换出现在Shell程序中，那么该程序将终止运行）</p>
<p><code>${var:offset:length}</code>：从变量var中提取子串，这里offset和length可以是算术表达式。offset代表偏移量，从第几个字符开始提取，length是需要提取的字符串的个数。</p>
<p><code>${#var}</code>：变量var的字符个数。</p>
<p><code>${var#pattern}</code>和<code>${var##pattern}</code>：去掉var中与pattern相匹配的部分，条件是var的开头与pattern相匹配。#与##的区别在于一个是最短匹配模式，一个是最长匹配模式。</p>
<p><code>${var%pattern}</code>和<code>${var%%pattern}</code>：与上例相似，但是从var的尾部和pattern相匹配，%与%%的区别与#与##一样。</p>
<p><code>${var/pattern/string}</code> 和<code>${var//pattern/string}</code>：进行变量内容的替换，把与pattern匹配的部分替换为string的内容。<code>/</code>与<code>//</code>的区别是<code>/</code>只进行一次匹配替换，而<code>//</code>可以进行多次匹配替换。</p>
<p>从网上看到的模式匹配记忆方法：</p>
<blockquote>
<p><code>#</code> 是去掉左边(在键盘上<code>#</code>在<code>$</code>之左边)
<code>%</code> 是去掉右边(在键盘上<code>%</code>在<code>$</code>之右边)
<code>#</code>和<code>%</code>中的单一符号是最小匹配，两个相同符号是最大匹配。</p>
</blockquote>
</blockquote>
<div><pre><code><span># Variables</span>
<span><span>USER</span></span><span>=</span><span>$1</span>
<span>REPO</span><span>=</span><span>$2</span>
<span>ENVNAME</span><span>=</span><span>$3</span>

<span>..</span><span>..</span><span>..</span>

<span># Create the virtual environment.</span>
<span>{</span> <span>echo</span> <span>"y"</span><span>;</span> <span>}</span> <span>|</span> conda create -n <span>${ENVNAME<span>:-</span>"OEDL"}</span> <span>python</span><span>=</span><span>3.8</span>

<span># Activate the environment.</span>
conda activate <span>${ENVNAME}</span>

<span>..</span><span>..</span><span>..</span>

<span># Download the repo.</span>
<span>git</span> clone https://hub.fastgit.org/<span>${<span>USER</span><span>:-</span>"BreezeShane"}</span>/<span>${REPO<span>:-</span>"Unsupervised-Learning"}</span>.git
<span>cd</span> <span>${REPO}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br><span>18</span><br></div></div><h2 id="最终成果"> 最终成果</h2>
<div><pre><code><span>#!/bin/bash</span>

<span># Variables</span>
<span><span>USER</span></span><span>=</span><span>$1</span>
<span>REPO</span><span>=</span><span>$2</span>
<span>ENVNAME</span><span>=</span><span>$3</span>

<span>if</span> <span>[</span> <span>$1</span> <span>==</span> <span>"help"</span> <span>]</span><span>;</span> <span>then</span>
	<span>echo</span> -e <span>"To use the shell script, type in this format:<span title="\n">\n</span><span title="\t">\t</span> <span title="\&quot;">\"</span>source IAC.sh &lt;USERNAME> &lt;REPONAME> &lt;ENVNAME><span title="\&quot;">\"</span><span title="\n">\n</span>Parameter Introduction:<span title="\n">\n</span><span title="\t">\t</span>&lt;USERNAME>: The parameter should be the name of your GitHub account. The default value is <span title="\&quot;">\"</span>BreezeShane<span title="\&quot;">\"</span><span title="\n">\n</span><span title="\t">\t</span>&lt;REPONAME>: The parameter should be the name of your GitHub Repository you want to download. The default value is <span title="\&quot;">\"</span>Unsupervised-Learning<span title="\&quot;">\"</span>.<span title="\n">\n</span><span title="\t">\t</span>&lt;ENVNAME>: The parameter should be the name of your new anaconda virtual environment. The default value is <span title="\&quot;">\"</span>OEDL<span title="\&quot;">\"</span><span title="\n">\n</span>If you type <span title="\&quot;">\"</span>source IAC.sh help<span title="\&quot;">\"</span> and then the help documentation will be displayed.<span title="\n">\n</span>"</span><span>;</span>
	<span>exit</span> <span>0</span><span>;</span>
<span>fi</span>

<span># Download source file.</span>
<span>echo</span> <span>"Welcome to use Auto Installer!"</span>
<span>echo</span> <span>"Which kind of Anaconda3 would you like?"</span>
<span>echo</span> <span>"1. 64-Bit (x86) Installer (581 MB)"</span>
<span>echo</span> <span>"2. 64-Bit (AWS Graviton2 / ARM64) Installer (488 M)"</span>
<span>echo</span> <span>"3. 64-Bit (Power8 and Power9) Installer (255 MB)"</span>
<span>echo</span> <span>"4. 64-bit (Linux on IBM Z &amp; LinuxONE) Installer (242 M)"</span>

<span>read</span> TYPEID<span>;</span>
<span>if</span> <span>[</span> <span>$TYPEID</span> -eq <span>1</span> <span>]</span><span>;</span> <span>then</span>
	<span>TYPE</span><span>=</span><span>"x86_64"</span><span>;</span>
<span>elif</span> <span>[</span> <span>$TYPEID</span> -eq <span>2</span> <span>]</span><span>;</span> <span>then</span>
	<span>TYPE</span><span>=</span><span>"aarch64"</span><span>;</span>
<span>elif</span> <span>[</span> <span>$TYPEID</span> -eq <span>3</span> <span>]</span><span>;</span> <span>then</span>
	<span>TYPE</span><span>=</span><span>"ppc64le"</span><span>;</span>
<span>elif</span> <span>[</span> <span>$TYPEID</span> -eq <span>4</span> <span>]</span><span>;</span> <span>then</span>
	<span>TYPE</span><span>=</span><span>"s390x"</span><span>;</span>
<span>else</span>
	<span>echo</span> -e <span>"Invalid type id."</span><span>;</span>
	<span>exit</span> <span>1</span><span>;</span>
<span>fi</span>

<span>if</span> <span>[</span> <span>!</span> -f <span>"./Anaconda3-2021.11-Linux-<span>${TYPE}</span>.sh"</span> <span>]</span><span>;</span> <span>then</span>
	<span>wget</span> https://repo.anaconda.com/archive/Anaconda3-2021.11-Linux-<span>${TYPE}</span>.sh
	<span>echo</span> <span>"Anaconda Shell Installer Download Success!"</span>
<span>else</span>
	<span>echo</span> <span>"Anaconda Shell Installer File exists!"</span>
<span>fi</span>

<span># Auto-Install anaconda3.</span>
<span>echo</span> <span>"Installing Anaconda3......"</span>
<span>{</span>
	<span>echo</span> <span>${KEYCODE_ENTER}</span><span>;</span>
	<span>echo</span> <span>"yes"</span><span>;</span>
	<span>echo</span> <span>${KEYCODE_ENTER}</span><span>;</span>
<span>}</span> <span>|</span> <span>sh</span> ./Anaconda3-2021.11-Linux-<span>${TYPE}</span>.sh <span><span>1</span>></span>./Anaconda.log <span><span>2</span>></span><span>&amp;1</span>
<span>echo</span> <span>"Anaconda3 now is installed!"</span>

<span># Initialize anaconda.</span>
/root/anaconda3/bin/conda init <span>bash</span>
<span>.</span> ~/.bashrc

<span># Create the virtual environment.</span>
<span>{</span> <span>echo</span> <span>"y"</span><span>;</span> <span>}</span> <span>|</span> conda create -n <span>${ENVNAME<span>:=</span>"OEDL"}</span> <span>python</span><span>=</span><span>3.8</span>

<span># Activate the environment.</span>
conda activate <span>${ENVNAME}</span>

<span># conda change channels</span>
conda config --add channels https://mirrors.ustc.edu.cn/anaconda/pkgs/main/
conda config --add channels https://mirrors.ustc.edu.cn/anaconda/pkgs/free/
conda config --add channels https://mirrors.ustc.edu.cn/anaconda/cloud/conda-forge/
conda config --add channels https://mirrors.ustc.edu.cn/anaconda/cloud/msys2/
conda config --add channels https://mirrors.ustc.edu.cn/anaconda/cloud/bioconda/
conda config --add channels https://mirrors.ustc.edu.cn/anaconda/cloud/menpo/
conda config --set show_channel_urls <span>yes</span>
<span># cat /root/.condarc</span>

<span># pip change channels</span>
pip config <span>set</span> global.index-url http://mirrors.aliyun.com/pypi/simple/
pip config <span>set</span> install.trusted-host mirrors.aliyun.com
<span># cat /root/.config/pip/pip.conf</span>

<span># Download the repo.</span>
<span># git clone https://hub.fastgit.org/BreezeShane/Unsupervised-Learning.git</span>
<span>git</span> clone https://hub.fastgit.org/<span>${<span>USER</span><span>:=</span>"BreezeShane"}</span>/<span>${REPO<span>:=</span>"Unsupervised-Learning"}</span>.git
<span># cd ${REPO}</span>

<span># Install requirements.</span>
pip <span>install</span> -r <span>"<span>${REPO}</span>/requirements.txt"</span>

<span># Run visdom server.</span>
python -m visdom.server <span>&amp;</span>

<span># Run the demo.</span>
python Generative<span>\</span> Adversaria<span>\</span> Networks.py
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br><span>18</span><br><span>19</span><br><span>20</span><br><span>21</span><br><span>22</span><br><span>23</span><br><span>24</span><br><span>25</span><br><span>26</span><br><span>27</span><br><span>28</span><br><span>29</span><br><span>30</span><br><span>31</span><br><span>32</span><br><span>33</span><br><span>34</span><br><span>35</span><br><span>36</span><br><span>37</span><br><span>38</span><br><span>39</span><br><span>40</span><br><span>41</span><br><span>42</span><br><span>43</span><br><span>44</span><br><span>45</span><br><span>46</span><br><span>47</span><br><span>48</span><br><span>49</span><br><span>50</span><br><span>51</span><br><span>52</span><br><span>53</span><br><span>54</span><br><span>55</span><br><span>56</span><br><span>57</span><br><span>58</span><br><span>59</span><br><span>60</span><br><span>61</span><br><span>62</span><br><span>63</span><br><span>64</span><br><span>65</span><br><span>66</span><br><span>67</span><br><span>68</span><br><span>69</span><br><span>70</span><br><span>71</span><br><span>72</span><br><span>73</span><br><span>74</span><br><span>75</span><br><span>76</span><br><span>77</span><br><span>78</span><br><span>79</span><br><span>80</span><br><span>81</span><br><span>82</span><br><span>83</span><br><span>84</span><br><span>85</span><br><span>86</span><br><span>87</span><br><span>88</span><br></div></div>]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2021-12-13T01:36:37.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">记将旧电脑改建成服务器的过程</title>
    <id>https://breezeshane.github.io/Linux/BuildingServer/</id>
    <link href="https://breezeshane.github.io/Linux/BuildingServer/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<h2 id="背景"> 背景</h2>
<p>因为家和学校距离非常远，而我希望到我回到学校的时候还能继续使用家里的电脑，再加之电脑家里人几乎不用，电脑一年到头就是闲置，于是很自然的想法就是将这台电脑做成一个服务器，在这上面部署一些常用工具，存放一些我需要存放的数据，将它用作我的生产力工具。</p>
<h2 id="启动时遇到拦截"> 启动时遇到拦截</h2>
<div><pre><code>The system found unauthorized changes on the firmware, operating system of UEFI drivers .

Press [N] to run the next boot device,or enter directly to BIOS Setup if there are no other boot devices installed .

Go to BIOS Setup &gt; Advanced &gt; Boot and change the current boot device into other secured boot devices .
_
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br></div></div><p>它在告诉我系统发现使用了未经授权的变更，要求我使用其他启动盘启动。个人经验推断认为是安全启动是开启状态，因而它会针对授权问题进行检查，于是我把它关掉了，果然就可以启动了。</p>
<p>进入BIOS后按下<kbd>F7</kbd>进入高级模式，然后切换到启动选项卡(Boot)，下选安全启动选项(Secure Boot)，有密钥管理(Key Management)的子选项，将安全启动密钥(Secure Boot keys)删除掉即可，删除后你会发现安全启动已经关闭了。出来后把系统启动类型修改为其他操作系统。这时重启一下系统就好。这样U盘的启动就能进去了。</p>
<p>因为我打算将这台机器用作服务器，因此我就应该选择安装ArcoLinuxD版本。正如官网介绍的ArcoLinuxD，没有桌面，没有服务，仅有内核，这正合我的意愿。</p>
<p>其实是我尝试过安装带桌面版的ArcoLinuxB，但遇到了TLP Startup/shutdown死机问题，多半是显卡驱动问题，但为了绕开这种难解决的问题，我才直接安装ArcoLinuxD。但是奇怪的是，虽然官方介绍的ArcoLinuxD没有桌面系统也没有服务，就是命令行，但是安装的时候却是使用图形界面的，在这里我也同样遇到了TLP卡死问题，于是我就去一查究竟，到底TLP是啥，为什么会卡死？</p>
<p>后来查询才知道，TLP是Linux下优秀的高级电源管理功能，之所以会卡死，确实是因为硬件设备太过老旧，如今的系统已经不能很好地支持了，准确说是Arch系对老机器的兼容性差。不过，仅仅知道这些，问题还是不能解决，但我最后成功绕开了这个问题，只需要使用Safe Graphics即可正常进入。而后一如既往地，设定系统所在的分区挂载到<code>/</code>下，系统引导分区挂载到<code>/boot/efi</code>下，然后开始安装即可。</p>
<h2 id="终端无线连接"> 终端无线连接</h2>
<p>等过许久之后，当我尝试进行初始配置，换pacman镜像源、调整yay镜像源之后尝试系统更新，发现无论如何都是失败，最后我才想起来，ArcoLinuxD并没有网络连接服务，因此我需要先连接上网络，于是我开始花费将近48小时去尝试连接WIFI……</p>
<p>经过我相当长的时间去查询资料、文档，浏览相关网站后，最后才知道，原来是这样：</p>
<p>因为系统刚开始是什么都没有的，因此使用的连接方式非常原始，我们采用<code>wpa_supplicant</code>来完成连接。</p>
<ol>
<li>
<p>首先我们要查看无线网卡的相关信息，需要执行<code>iwconfig</code>来查看，注意，从输出信息中找到你的网卡ID，记好它，后面要经常用，如果实在觉得很难记，你可以临时创建一个变量来保存，例：<code>wireless_id=&lt;你的网卡ID&gt;</code>，这样你后面使用的时候就用<code>$wireless_id</code>来代替即可，为了便于描述，后面我都这样写了。</p>
</li>
<li>
<p>通常情况下刚刚使用的系统是没有启动无线网卡的，因此我们要手动启动无线网卡：<code>ip link set $wireless_id up</code>。</p>
</li>
<li>
<p>接下来我们需要扫描当前地点所有的WIFI连接点，执行<code>iwlist $wireless_id scan</code>。</p>
</li>
<li>
<p>确定你要连接的WIFI点后，这时候就需要着手开始连接了。当下我们绝大多数使用的WIFI都是使用WPA/WPA2加密的，少数是开放的，另外一小部分才是使用WEP加密的。由于我要连接的WIFI是使用WPA/WPA2加密的，因此我们使用<code>wpa_supplicant</code>来创建连接。</p>
<p><em>如果是开放WIFI，只需要使用<code>iwconfig $wireless_id essid &lt;要连接的开放WIFI的SSID&gt;</code>即可；</em></p>
<p><em>而若是使用WEP加密的，则需要使用<code>iwconfig essid &lt;要连接的WIFI的SSID&gt; key &lt;该WIFI对应的密码&gt;</code>即可；</em></p>
<p>如果是使用WPA/WPA2加密方式，我们常常能看到这样的教程：</p>
<div><pre><code>wpa_passphrase <span>&lt;</span>SSID<span>></span> <span>"&lt;SSID-PASSWORD>"</span> <span>></span> /etc/wpa_supplicant.conf
wpa_supplicant -B -i <span>$wireless_id</span> -c /etc/wpa_supplicant.conf
</code></pre>
<div><span>1</span><br><span>2</span><br></div></div><p>当时我还什么都不懂的时候，就是简单照做一下，结果发现，我根本就无法完成这些，因为我没有这种权限，甚至是我加了sudo，也依然无法完成，报错的原因都是<code>Permission denied</code>。于是我再去四处搜索，看到有人是这样写的：</p>
<div><pre><code>wpa_supplicant -B -i <span>$wireless_id</span> -c<span>&lt;</span><span>(</span>wpa_passphrase <span>&lt;</span>SSID<span>></span> <span>"&lt;SSID-PASSWORD>"</span><span>)</span>
</code></pre>
<div><span>1</span><br></div></div><p>联系我之前所学的shell编程基础知识就发现，其实我不必非要创建那个wpa_supplicant.conf文件，我只是需要传给wpa_supplicant即可，所以才会使用<code>&lt;(..)</code>来实现。<code>&lt;(..)</code>实际上就是将括号内的命令执行结果输出到<code>/dev/fd/63</code>后再传送给箭头指向的前一个命令。
当我执行这个命令的时候发现，还是报错，这回的报错是</p>
<div><pre><code> Successfully initialized wpa_supplicant
 Failed to <span>open</span> config <span>file</span> <span>'/dev/fd/63'</span>, error: No such <span>file</span> or directory
 Failed to <span>read</span> or parse configuration <span>'/dev/fd/63'</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br></div></div><p><a href="https://unix.stackexchange.com/questions/279545/failed-to-open-config-file-dev-fd-63-error-no-such-file-or-directory-for-wp" target="_blank" rel="noopener noreferrer">查询</a>之后才知道：</p>
<blockquote>
<p>Process substitution &lt;(…) creates a pipe, uses /dev/fd to give a path that's equivalent to the file descriptor where the pipe is, and passes the file name as an argument to the program. Here the program is sudo, and it passes that argument (which is just a string, as far as it's concerned) to wpa_supplicant, which treats it as a file name.</p>
<p>The problem is that sudo closes all file descriptors except for the standard ones (stdin=0, stdout=1 and stderr=2). The pipe of the process substitution is on another descriptor, which gets closed, so when wpa_supplicant tries to open it, it finds a file that doesn't exist.</p>
<p>If your sudo policy allows it (closefrom_override option enabled), you can tell it not to close file descriptors. But this is usually not the case.
其实就是我并没有这个权限去读取那个文件，因此才会认为没有这样的文件，不过他也给出了其他的取代方案，亲自使用行之有效后我做了整合：</p>
<div><pre><code>wpa_passphrase <span>&lt;</span>SSID<span>></span> <span>&lt;</span>SSID-PASSWORD<span>></span> <span>|</span> <span>sudo</span> wpa_supplicant -B -i <span>$wireless_id</span> -c /dev/stdin
</code></pre>
<div><span>1</span><br></div></div><p><strong>不过我没有试过他给的最后的方案</strong>：</p>
<div><pre><code><span>sudo</span> <span>bash</span> -c <span>'wpa_supplicant -B -i $wireless_id -c&lt;(wpa_passphrase &lt;SSID> "&lt;SSID-PASSWORD>")'</span>
</code></pre>
<div><span>1</span><br></div></div><p>凭经验判断这个应该也是可行的。</p>
</blockquote>
<p>但事情还没有完，执行过我做的整合后出现了新的问题：</p>
<div><pre><code>Successfully initialized wpa_supplicant
nl80211: Driver does not support authentication/association or connect commands
nl80211: deinit <span>ifname</span><span>=</span>wlp0s29u1u3 <span>disabled_11b_rates</span><span>=</span><span>0</span>
wlp0s29u1u3: Failed to initialize driver interface
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br></div></div><p>经过查询发现，是我的硬件设施不支持<code>nl80211</code>扩展驱动，而我不做更改的情况下，默认是使用该扩展驱动的，因此我要做出的事必须是更换扩展驱动。后来我上网看到有人说用这个就能行：</p>
<div><pre><code>wpa_passphrase <span>&lt;</span>SSID<span>></span> <span>&lt;</span>SSID-PASSWORD<span>></span> <span>|</span> <span>sudo</span> wpa_supplicant -D wext -B -i <span>$wireless_id</span> -c /dev/stdin
</code></pre>
<div><span>1</span><br></div></div><p>还有说用<code>-Dwext</code>，和上一行命令的区别就在于D和wext之间没有空格，但是明显，都失败了，得到的最终报错是：</p>
<div><pre><code>Successfully initialized wpa_supplicant
rfkill: Cannot get wiphy information
</code></pre>
<div><span>1</span><br><span>2</span><br></div></div><p>百思不得其解，在网上四处搜索无果，最终我只能去Linux交流群内向高人请教了，经过较长的一段时间错误复现，有高人和我说起了这个<a href="http://manpages.ubuntu.com/manpages/trusty/man8/wpa_supplicant.8.html#available%20drivers" target="_blank" rel="noopener noreferrer">资料</a>，他建议我挨个试试，终于，当我使用Wired扩展驱动后一切都好了起来！</p>
<p>最终的执行命令是：</p>
<div><pre><code>wpa_passphrase <span>&lt;</span>SSID<span>></span> <span>&lt;</span>SSID-PASSWORD<span>></span> <span>|</span> <span>sudo</span> wpa_supplicant -D wired -B -i <span>$wireless_id</span> -c /dev/stdin
</code></pre>
<div><span>1</span><br></div></div><p>思考总结：其实扩展驱动不是瞎试的，出现这一系列的报错原因就是在于驱动和硬件设施不匹配，而我正在使用的是无线网卡<code>MERCURY MW300TV</code>，一款非常老的无线网卡。
在Google上搜索到的结果如图：</p>
<p><img src="/images/BuildingServer/2022-01-06_14-59.png" alt="" /></p>
<p><img src="/images/BuildingServer/2022-01-06_15-01.png" alt="" /></p>
<p>有关它的名称是这样的：<strong>Mercury USB Wifi MW300TV USB Network Card 2.0 Thunderbolt Ethernet Wifi Router 300Mbps Wifi Adapter USB Wi-fi Video Card WIFI</strong></p>
<p>显然可知这个无线网卡是以太网连接设备，再参考前面我提到的那个资料：</p>
<p><img src="/images/BuildingServer/photo_2022-01-06_15-07-15.jpg" alt="" /></p>
<p>里面写着：</p>
<blockquote>
<p><strong>wired</strong>  wpa_supplicant wired Ethernet driver</p>
</blockquote>
<p>我这才明白，原来需要以Ethernet Connection方式连接的设备扩展驱动应该选择使用Wired扩展驱动！</p>
</li>
<li>
<p>最后可以考虑可哪瞎ping，试试看你的网络是否正常连接。</p>
</li>
</ol>
<h2 id="虚拟内网穿透"> 虚拟内网穿透</h2>
<p>接下来就是需要完成远程连接的问题。能够满足我的需求自然就是使用内网穿透工具Zerotier One，其实之前我都有写过，因此重复的部分这里不再赘述，详情可到<a href="https://breezeshane.github.io/Linux/ZeroTier-One%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/" target="_blank" rel="noopener noreferrer">这里</a>看。</p>
<p>我写这部分是因为我遇到了问题：即使我能够通过ping在两台机器之间彼此通信，但我依旧不能使用SSH连接，总是被提示Connection refused.</p>
<p>但经过我一晚上的排查与修复之后，当我看到这个<a href="https://wiki.archlinux.org/title/OpenSSH_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)#%E7%AE%A1%E7%90%86_sshd_%E5%AE%88%E6%8A%A4%E8%BF%9B%E7%A8%8B" target="_blank" rel="noopener noreferrer">资料</a>时，我才发现问题的根源就在于，我没有启动SSH服务……</p>
<p>嗯，这很离谱，但正事我们还是要做的，执行：</p>
<div><pre><code><span>sudo</span> systemctl start sshd
<span>sudo</span> systemctl <span>enable</span> sshd
</code></pre>
<div><span>1</span><br><span>2</span><br></div></div><p>不过我还是适当做了一下简单的安全设置，编辑<code>/etc/ssh/sshd_config</code>文件，将其中的<code>PermitRootLogin</code>后面的<code>yes</code>修改为<code>no</code>，这样我就可以保证不能以Root身份登录这台服务器了。</p>
<h2 id="部署nextcloud"> 部署NextCloud</h2>
<p>详情照做<a href="https://breezeshane.github.io/Linux/PrivateNetdiskBuilding/" target="_blank" rel="noopener noreferrer">这个</a>就好。</p>
<h2 id="部署hedgedoc"> 部署Hedgedoc</h2>
<h2 id="部署思源笔记"> 部署思源笔记</h2>
<h2 id="改建为局域网dns服务器"> 改建为局域网DNS服务器</h2>
]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-04T12:27:10.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">Magic SysRq 组合键功能表</title>
    <id>https://breezeshane.github.io/Linux/MagicSysRq/</id>
    <link href="https://breezeshane.github.io/Linux/MagicSysRq/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<div><p>说明</p>
<p>以下表格中的按键是指按下 <kbd>Alt</kbd>+<kbd>SysRq</kbd>后再按下相应的附加按键，如按键中写B时表示 <kbd>Alt</kbd>+<kbd>SysRq</kbd>+<kbd>B</kbd>。</p>
</div>
<table>
<thead>
<tr>
<th>功能</th>
<th style="text-align:center">按键</th>
</tr>
</thead>
<tbody>
<tr>
<td>设置控制台日志等级，这个可以控制内核信息打印的等级</td>
<td style="text-align:center"><kbd>0</kbd>~<kbd>9</kbd></td>
</tr>
<tr>
<td>立即重启系统，不同步文件系统或者卸载文件系统</td>
<td style="text-align:center"><kbd>B</kbd></td>
</tr>
<tr>
<td>发起内核 Crash 崩溃，如果配置了 kdump 服务的话，将会获得一个 crashdump 文件</td>
<td style="text-align:center"><kbd>C</kbd></td>
</tr>
<tr>
<td>打印当前正在被持有的锁 Locks，CONFIG_LOCKEDP 内核选项需要开启</td>
<td style="text-align:center"><kbd>D</kbd></td>
</tr>
<tr>
<td>发送一个 SIGTERM 信号至所有进程，除开 1 号进程（init 进程）</td>
<td style="text-align:center"><kbd>E</kbd></td>
</tr>
<tr>
<td>调用 oom_kill，选择一个最符合 oom 的进程杀死</td>
<td style="text-align:center"><kbd>F</kbd></td>
</tr>
<tr>
<td>当使用 Kernel Model Setting 模式的时候，切换至内核的 Frame Buffer 控制台，如果正在使用 kdb 进行调试，那么直接切换到 debugger</td>
<td style="text-align:center"><kbd>G</kbd></td>
</tr>
<tr>
<td>将简洁的帮助文档打印至控制台</td>
<td style="text-align:center"><kbd>H</kbd></td>
</tr>
<tr>
<td>发送一个 SIGKILL 信号至所有进程，除开 1 号进程（init 进程）</td>
<td style="text-align:center"><kbd>I</kbd></td>
</tr>
<tr>
<td>强制解冻由 FIFREEZE ioctl 冻结的文件系统</td>
<td style="text-align:center"><kbd>J</kbd></td>
</tr>
<tr>
<td>杀死当前虚拟中断的所有进程（可以杀死 X 和 SVGAlib 进程），最初是为了模仿安全警示按键而设立的</td>
<td style="text-align:center"><kbd>K</kbd></td>
</tr>
<tr>
<td>打印当前所有在线的 CPU 堆栈信息</td>
<td style="text-align:center"><kbd>L</kbd></td>
</tr>
<tr>
<td>打印当前的内存信息在控制台</td>
<td style="text-align:center"><kbd>M</kbd></td>
</tr>
<tr>
<td>重置所有的实时进程或者高优先级进程的 nice 值</td>
<td style="text-align:center"><kbd>N</kbd></td>
</tr>
<tr>
<td>关闭系统</td>
<td style="text-align:center"><kbd>O</kbd></td>
</tr>
<tr>
<td>打印当前的寄存器信息和 flags 信息在控制台</td>
<td style="text-align:center"><kbd>P</kbd></td>
</tr>
<tr>
<td>显示所有在线的高进度定时器和时钟源信息</td>
<td style="text-align:center"><kbd>Q</kbd></td>
</tr>
<tr>
<td>键盘从 raw mode 切出至 XLATE 模式，经常被 X11 或者 SVGALib 使用</td>
<td style="text-align:center"><kbd>R</kbd></td>
</tr>
<tr>
<td>同步所有的已挂载的文件系统</td>
<td style="text-align:center"><kbd>S</kbd></td>
</tr>
<tr>
<td>打印当前的进程列表，以及他们的详细信息</td>
<td style="text-align:center"><kbd>T</kbd></td>
</tr>
<tr>
<td>重新挂载文件系统至只读模式</td>
<td style="text-align:center"><kbd>U</kbd></td>
</tr>
<tr>
<td>强制还原帧缓冲控制台</td>
<td style="text-align:center"><kbd>V</kbd></td>
</tr>
<tr>
<td>打印所有 D 状态（阻塞）的进程信息</td>
<td style="text-align:center"><kbd>W</kbd></td>
</tr>
<tr>
<td>转储 ftrace 缓冲区</td>
<td style="text-align:center"><kbd>Z</kbd></td>
</tr>
</tbody>
</table>
]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-21T16:33:41.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">Manjaro Linux</title>
    <id>https://breezeshane.github.io/Linux/Manjaro%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE/</id>
    <link href="https://breezeshane.github.io/Linux/Manjaro%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<h1 id="manjaro-linux"> Manjaro Linux</h1>
<p>终于考完试了！在大学第一个寒假到来之际，我决定入坑Linux系统，并花了很长时间挑选系统（深度选择困难患者），终于，我选择了Manjaro Linux，希望它<sub>不会让人失望</sub>！</p>
<h2 id="_1-windows10-manjaro-linux深度指北"> 1.Windows10+Manjaro Linux深度指北</h2>
<h3 id="前期安装"> 前期安装</h3>
<p>「温馨提示」如果打算是用grub的话请提前先准备好一个额外的分区用于存放Manjaro系统，另外必须要准备的是一个能用的USB！！！
首先，在Manjaro官网上选择一个系统版本下载，一定要谨慎选择！一定要谨慎选择！一定要谨慎选择！选择很重要！选择很重要！选择很重要！
除非你知道你在干啥，强烈建议选择Manjaro KDE版本！（Xfce4版本过于原始以至于使用门槛很高，甚至不调整的话很多功能会很鸡肋）
在官网下载好iso镜像文件后，另外下载安装rufus（U深度真的很烂。。。），然后将iso镜像写入USB里。
写入完毕就重启电脑，在开机过冲中按F12进入UEFI启动选项界面，选择你的USB。
进入USB的系统后再双击Install Manjaro即可进行安装。
安装好以后就可以进入Manjaro系统了。</p>
<h3 id="初期准备"> 初期准备</h3>
<p>使用初期我们需要先配置一下，按Alt+Space，输入Konsole启动终端，再输入<code>sudo pacman-mirrors -i -c China -m rank</code>更新镜像排名。
接着输入<code>sudo pacman -Syy</code>和<code>sudo pacman -Syu</code>。
另外，我们先安装好一个编辑器——Vim，输入<code>sudo pacman -S vim</code>
输入<code>sudo vim /etc/pacman.conf</code>进入编辑界面，按I键进入编辑模式，再将下面的文本加入到该文件中：</p>
<div><pre><code>[archlinuxcn]
SigLevel = Optional TrustedOnly
Server = https://mirrors.ustc.edu.cn/archlinuxcn/$arch
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br></div></div><p>按下Esc键后输入<code>:wq</code>即可保存并退出，回到Konsole。（如果一开始你没有敲sudo，而是直接输入<code>vim /etc/pacman.conf</code>，那么保存并退出操作会提示没有权限，这时可以输入<code>%! sudo tee % &gt; /dev/null</code>用来实现。）
然后输入<code>sudo pacman -Syy &amp;&amp; sudo pacman -S archlinuxcn-keyring</code>
我们再来安装yay这个强大的包管理工具
<code>sudo pacman -S yay</code></p>
<p>另外，需要安装binutils，base-devel这两个包才能正常运行安装程序，否则会出现ERROR: Cannot find the strip binary required for object file stripping.等源代码出错的问题。</p>
<p><code>sudo pacman -S binutils base-devel</code></p>
<h2 id="_2-manjaro中期配置"> 2.Manjaro中期配置</h2>
<h3 id="fcitx5输入法安装"> Fcitx5输入法安装</h3>
<blockquote>
<p>吐槽一下，Fcitx4是真的很智障，用了这么久，它始终没能适应我的输入习惯，更别说什么词库、emoji等等的东西了，用了几个月终于也是选择了卸载。</p>
</blockquote>
<p>要知道Fcitx4和Fcitx5存在文件冲突，两者不可得兼。所以我们首先要删除Fcitx4，执行：</p>
<div><pre><code><span>sudo</span> pacman -Rs <span><span>$(</span>pacman -Qsq fcitx<span>)</span></span>
或者
<span>sudo</span> pacman -Rsc fcitx
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br></div></div><p>不用担心会出现什么问题，顶多就是你现在输入不了中文，我们还会再装回去的，现在我们可以安装Fcitx5了：</p>
<div><pre><code>yay -S fcitx5 fcitx5-chinese-addons manjaro-asian-input-support-fcitx5 fcitx5-gtk fcitx5-qt fcitx5-configtool fcitx5-material-color
</code></pre>
<div><span>1</span><br></div></div><blockquote>
<p>- fcitx5: 输入法基础框架主程序</p>
<p>- fcitx5-configtool：输入法配置程序</p>
<p>- fcitx5-qt: QT5程序的支持库</p>
<p>- fcitx5-gtk: GTK程序的支持库</p>
<p>- fcitx5-chinese-addons: 简体中文输入的支持，云拼音</p>
<p>- fcitx5-material-color：一款使用 Material Design 配色的 fcitx5 皮肤。这是<a href="https://github.com/hosxy/Fcitx5-Material-Color" target="_blank" rel="noopener noreferrer">GitHub仓库地址</a>，针对主题这里的讲解比较详细，可以参照他的方法配置，尤其当你喜欢单行模式的话。</p>
<p>- manjaro-asian-input-support-fcitx5 能让manjaro自动配置环境变量</p>
</blockquote>
<p>对应的 git 版本为：</p>
<div><pre><code>yay -S fcitx5-git fcitx5-chinese-addons-git manjaro-asian-input-support-fcitx5 fcitx5-gtk-git fcitx5-qt5-git fcitx5-configtool-git
</code></pre>
<div><span>1</span><br></div></div><p>可以添加词库：</p>
<div><pre><code>yay -S fcitx5-pinyin-moegirl fcitx5-pinyin-zhwiki
</code></pre>
<div><span>1</span><br></div></div><p>然后重启一下就可以使用了，如果无法启动输入法，在系统设置 --&gt; 区域设置 --&gt; 输入法 --&gt; 添加输入法中手动添加“拼音”。</p>
<hr>
<p>如果发现这时候还不行，那么我们需要配置一下环境变量了：</p>
<div><pre><code><span>sudo</span> <span>vim</span> ~/.pam_environment
<span># 将以下这些内容粘贴即可</span>
GTK_IM_MODULE <span>DEFAULT</span><span>=</span>fcitx
QT_IM_MODULE  <span>DEFAULT</span><span>=</span>fcitx
<span>XMODIFIERS</span>    <span>DEFAULT</span><span>=</span>@im<span>=</span>fcitx
<span># 保存并退出后继续执行</span>
<span>sudo</span> <span>vim</span> ~/.xprofile
<span># 接着需要将下面这一行代码粘贴才行</span>
fcitx5 <span>&amp;</span>
<span># 注意：如果你是WPS用户并且即使做了以上操作重启之后还是不能在WPS使用fcitx5的话，需要在~/.xprofile这里继续添加</span>
<span>export</span> <span>QT_IM_MODULE</span><span>=</span>fcitx5
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br></div></div><p>然后保存并退出，重启一下就可以正常使用了！</p>
<p>首次如果看不到输入法图标的话，需要运行一下fcitx5。</p>
<blockquote>
<p>有一说一，Fcitx5可真香！！！</p>
</blockquote>
<p>如果希望有日语输入法，需要安装这些：</p>
<div><pre><code>yay -S fcitx5-skk fcitx5-mozc
</code></pre>
<div><span>1</span><br></div></div><h3 id="音乐平台安装"> 音乐平台安装</h3>
<p>作为一个狂热的音乐爱好者，听音乐的事怎么能少了呢？</p>
<p>下面这些播放器各位需要按自己实际情况而安装</p>
<div><pre><code><span>sudo</span> pacman -S netease-cloud-music
<span># 常规版本</span>
yay -S netease-cloud-music-imflacfix
<span># 这个版本比上面的功能更多</span>
yay -S electron-netease-cloud-music
<span># 这个版本是简易版，功能比较有限，不支持滚动歌词</span>
yay -S netease-cloud-music-gtk netease-cloud-music-gtk-bin
<span># 这个是和Linux平台下基于Rust+GTK开发的网易云音乐播放器，没用过，不好评判</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br></div></div><h3 id="tim安装"> Tim安装</h3>
<p><s>yay -S com.qq.tim.spark</s></p>
<p><s>用了Manjaro这么久，我才遇到能正常使用的Tim。。。</s></p>
<p>谁用这个啊，卡的要死，bug多，还用不好！</p>
<p>我直接选择了<code>icalingua</code>！</p>
<div><pre><code>yay -S icalingua
</code></pre>
<div><span>1</span><br></div></div><h3 id="markdown编辑器安装"> Markdown编辑器安装</h3>
<p>如果你经常使用markdown来写文档的话，安装这个！</p>
<div><pre><code><span>sudo</span> pacman -S typora
</code></pre>
<div><span>1</span><br></div></div><h3 id="办公软件安装"> 办公软件安装</h3>
<p>Linux下可没有Windows的Office一件套，不过还好我们有WPS！</p>
<div><pre><code>yay -S wps-office wps-office-mui-zh-cn ttf-wps-fonts
</code></pre>
<div><span>1</span><br></div></div><h3 id="科学上网安装与配置"> 科学上网安装与配置</h3>
<p>想要科学上网，就用<a href="jinkela.red">金坷垃</a>！</p>
<p><code>sudo pacman -S v2ray qv2ray</code></p>
<p>先打开qv2ray并点新建，然后复制节点链接粘贴到qv2ray里就可以了！(什么？你没氪金？那打扰了！)</p>
<p><strong>2021年5月16-17日记：</strong></p>
<p>不知为什么，可能Manjaro或者Qv2ray升级的原因，我由于其他原因重启了计算机，结果Qv2ray就无法正常启动，心里百思不得其解，于是在Konsole这里输入了qv2ray一探究竟，结果遇到了这样的报错：</p>
<p><font color=" #FF0000">error while loading shared libraries : libportobuf.so.27 : cannot open shared object file : No such file or directory.</font></p>
<p>四处搜索始终无果，心里一气之下，就<code>sudo pacman -Rs qv2ray</code>了。</p>
<p>取而代之的是V2rayA。我执行了<code>sudo pacman -S v2raya</code>来安装V2rayA，并执行了<code>sudo v2raya</code>来运行服务。然后我在浏览器输入了<code>https://127.0.0.1:2017</code>来进入V2rayA客户端界面。「当然你可以直接输入<kbd>Alt</kbd>+<kbd>Space</kbd>再输入v2raya」</p>
<p>然后在SUBSCRIPTION菜单栏中添加订阅链接「从你购买的服务官网获取」，我依然在用金坷拉，因此是打开<code>WWW.JINKELA.SITE</code>来查看节点信息，测试延迟，选择连接，基本就完成了，这时候去登陆外国网站就可以正常进入了。</p>
<p>于是我决定放弃使用Qv2ray而转用V2rayA了。</p>
<p>不过这还没完，若就此为止，那么每次开机你都要启动一个终端窗口在后台运行<code>sudo v2raya</code>然后再启动V2rayA，很明显这又繁琐又麻烦，因此我们需要执行下面两个语句：</p>
<p><code>sudo systemctl enable v2ray</code></p>
<p><code>sudo systemctl enable v2raya</code></p>
<p>这样就可以开机自启动这些服务，还不用特意执行上面说的这些。</p>
<p><strong>2021年10月23日记：</strong></p>
<p>虽然之前说放弃使用Qv2ray，但这段时间一直在用，一直都出问题，直到今天终于完美解决了问题！详细解决方案可以查看下面的标题——<strong>Manjaro Qv2ray滚挂的彻底解决方案</strong></p>
<table><tr><td bgcolor=#FF6347><center><font color="#000000" size=5><strong>作为过来人送你的忠告</strong><br>如果你经常使用VPN服务的话，请记得一定要准备好两个稳定好用可用的VPN客户端，这样即使在其中一个出了问题的时候你不至于没法用，在一些情况比较紧急的时候很有用！</font></center></td></tr></table>
<h2 id="_3-manjaro深度使用"> 3.Manjaro深度使用</h2>
<h3 id="设置非静默启动"> 设置非静默启动</h3>
<p>如果希望在系统启动的时候能看到系统消息「以备及时发现问题所在」的话，应该修改grub配置来满足这一需求，键入<code>sudo vim /etc/default/grub</code>来编辑配置文件：</p>
<div><pre><code>/CMDLINE <span># 在命令模式下输入这些字符来查找关键字，要找的是GRUB_CMDLINE_LINUX_DEFAULT这一字段</span>
yy
p
<span># 上面两步建议做一下，目的是为了备份，保留原有的参数，复制粘贴完后就可以注释掉了</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br></div></div><p>然后就可以把未注释的一行中的quiet删掉了。</p>
<p>最后执行<code>sudo update-grub</code>来更新grub配置，现在你可以<code>reboot</code>看一下情况了。</p>
<h3 id="清除多余的grub启动项"> 清除多余的Grub启动项</h3>
<p>因为本人已经一年多没有使用Windows系统了，由因为磁盘空间比较紧缺，就直接卸载掉Windows系统了。但每次开机都会出现多余的Windows启动项，虽然不影响我使用Manjaro，但看着也是心烦，于是决定捣鼓掉它。</p>
<p>可以尝试使用已有的工具<code>efibootmgr</code>来进行管理：</p>
<div><pre><code><span>sudo</span> pacman -S efibootmgr
<span>sudo</span> efibootmgr <span># 查看当前EFI的各启动项</span>
<span>sudo</span> efibootmgr -b <span>3</span> -B
<span>sudo</span> <span>update-grub</span> <span># 更新grub配置</span>
<span>sudo</span> <span>mkdir</span> /mnt/tmp/ <span># 建立临时的挂载点</span>
<span>sudo</span> <span>mount</span> /dev/******* /mnt/tmp/ <span># 挂载你的EFI引导盘</span>
<span>sudo</span> <span>su</span> <span># 以Root身份运行终端</span>
<span>cd</span> /mnt/tmp/EFI
<span>rm</span> -rf Microsoft <span># 删除掉多余的系统引导</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br></div></div><p>第三行可能你看得一头雾水，但别急：</p>
<div><pre><code>❯ efibootmgr -h
efibootmgr version <span>17</span>
usage: efibootmgr <span>[</span>options<span>]</span>
		<span>..</span><span>..</span><span>..</span>
        -b <span>|</span> --bootnum XXXX   modify BootXXXX <span>(</span>hex<span>)</span>
        -B <span>|</span> --delete-bootnum delete bootnum
        <span>..</span><span>..</span><span>..</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br></div></div><p>在终端查看帮助信息就很容易明白这个到底是做什么用的了——删除boot启动项3号。</p>
<h3 id="logid使用"> Logid使用</h3>
<p>本人购置了<code>Logid MX Master 3</code>鼠标，它支持Linux系统，但要想正常使用，安装配置还是少不了折腾的。</p>
<div><pre><code>yay -S logiops
<span>sudo</span> systemctl <span>enable</span> --now logid
<span>sudo</span> systemctl start logid
<span># 安装并配置好系统服务</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br></div></div><p>配置好这个之后我们需要设定具体的选项，执行：</p>
<div><pre><code><span>sudo</span> <span>vim</span> /etc/logid.cfg
</code></pre>
<div><span>1</span><br></div></div><p>然后在里面输入以下内容：「具体详细教程<a href="https://wiki.archlinux.org/title/Logitech_MX_Master" target="_blank" rel="noopener noreferrer">在此</a>，开发方给出的配置说明<a href="https://github.com/PixlOne/logiops/wiki/Configuration" target="_blank" rel="noopener noreferrer">在此</a>」</p>
<div><pre><code>devices<span>:</span> (
<span>{</span>
    name<span>:</span> <span>"Wireless Mouse MX Master 3"</span>; <span>//要和设备名称匹配，否则无效。</span>
    smartshift<span>:</span>
    <span>{</span>
        on<span>:</span> <span>true</span>; <span>//设定是否使用自动无极滚动</span>
        threshold<span>:</span> <span>30</span>; <span>//可根据需要调节该阈值，区间为[1, 255]，超过该值时将触发无极滚轮</span>
    <span>}</span>;
    hiresscroll<span>:</span>
    <span>{</span>
        hires<span>:</span> <span>true</span>; <span>//是否启用高分辨率模式</span>
        invert<span>:</span> <span>false</span>; <span>//设置鼠标滚轮是否倒置</span>
        target<span>:</span> <span>false</span>; <span>//设定无线通讯协议，False时采用HID协议，True时采用HID++协议</span>
    <span>}</span>;
    dpi<span>:</span> <span>4000</span>;<span>//调节DPI, 最大值为4000</span>

    buttons<span>:</span> (
        <span>{</span>
            cid<span>:</span> 0xc3; <span>//拇指键</span>
            action =
            <span>{</span>
                type<span>:</span> <span>"Gestures"</span>;
                gestures<span>:</span> (
                    <span>{</span>
                        direction<span>:</span> <span>"Up"</span>; <span>//向上平移</span>
                        mode<span>:</span> <span>"OnRelease"</span>;
                        action =
                        <span>{</span>
                            type<span>:</span> <span>"Keypress"</span>;
                            keys<span>:</span> <span>[</span><span>"KEY_UP"</span><span>]</span>;
                        <span>}</span>;
                    <span>}</span><span>,</span>
                    <span>{</span>
                        direction<span>:</span> <span>"Down"</span>; <span>//向下平移</span>
                        mode<span>:</span> <span>"OnRelease"</span>;
                        action =
                        <span>{</span>
                            type<span>:</span> <span>"Keypress"</span>;
                            keys<span>:</span> <span>[</span><span>"KEY_DOWN"</span><span>]</span>;
                        <span>}</span>;
                    <span>}</span><span>,</span>
                    <span>{</span>
                        direction<span>:</span> <span>"Left"</span>; <span>//向左平移</span>
                        mode<span>:</span> <span>"OnRelease"</span>;
                        action =
                        <span>{</span>
			     			type = <span>"ToggleSmartshift"</span>;
                        <span>}</span>;
                    <span>}</span><span>,</span>
                    <span>{</span>
                        direction<span>:</span> <span>"Right"</span>; <span>//向右平移</span>
                        mode<span>:</span> <span>"OnRelease"</span>;
                        action =
                        <span>{</span>
                            type = <span>"ToggleSmartshift"</span>;
                        <span>}</span>;
                    <span>}</span><span>,</span>
                    <span>{</span>
                        direction<span>:</span> <span>"None"</span>; <span>//不移动</span>
                        mode<span>:</span> <span>"OnRelease"</span>;
						action =
						<span>{</span>
						    type<span>:</span> <span>"Keypress"</span>;
			    			keys<span>:</span> <span>[</span><span>"KEY_LEFTMETA"</span><span>,</span><span>"KEY_LEFTALT"</span><span>,</span><span>"KEY_Z"</span><span>]</span>;
						<span>}</span>;
                    <span>}</span>
                );
            <span>}</span>;
        <span>}</span><span>,</span>
        <span>{</span>
            cid<span>:</span> 0xc4; <span>//滚轮下的按钮</span>
	    	mode<span>:</span> <span>"OnRelease"</span>;
            action =
            <span>{</span>
                 type<span>:</span> <span>"CycleDPI"</span>; <span>//可循环切换dip列表</span>
                 dpis<span>:</span> <span>[</span><span>200</span><span>,</span> <span>600</span><span>,</span> <span>800</span><span>,</span> <span>1000</span><span>,</span> <span>2000</span><span>,</span> <span>3000</span><span>,</span> <span>4000</span><span>]</span>; <span>//设定七档dpi</span>
	    	<span>}</span>;
        <span>}</span>
    );
<span>}</span>
);

</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br><span>18</span><br><span>19</span><br><span>20</span><br><span>21</span><br><span>22</span><br><span>23</span><br><span>24</span><br><span>25</span><br><span>26</span><br><span>27</span><br><span>28</span><br><span>29</span><br><span>30</span><br><span>31</span><br><span>32</span><br><span>33</span><br><span>34</span><br><span>35</span><br><span>36</span><br><span>37</span><br><span>38</span><br><span>39</span><br><span>40</span><br><span>41</span><br><span>42</span><br><span>43</span><br><span>44</span><br><span>45</span><br><span>46</span><br><span>47</span><br><span>48</span><br><span>49</span><br><span>50</span><br><span>51</span><br><span>52</span><br><span>53</span><br><span>54</span><br><span>55</span><br><span>56</span><br><span>57</span><br><span>58</span><br><span>59</span><br><span>60</span><br><span>61</span><br><span>62</span><br><span>63</span><br><span>64</span><br><span>65</span><br><span>66</span><br><span>67</span><br><span>68</span><br><span>69</span><br><span>70</span><br><span>71</span><br><span>72</span><br><span>73</span><br><span>74</span><br><span>75</span><br><span>76</span><br><span>77</span><br><span>78</span><br><span>79</span><br><span>80</span><br><span>81</span><br><span>82</span><br></div></div><blockquote>
<p>观察配置信息可以注意到，实质上是采用了类似json的语法来写，定义各键的功能，并且在keys项定义单键或组合键，具体的键值可以参考这个：<a href="https://github.com/torvalds/linux/blob/master/include/uapi/linux/input-event-codes.h" target="_blank" rel="noopener noreferrer">input-event-codes.h</a>。</p>
</blockquote>
<p>修改之后就需要输入指令<code>sudo systemctl restart logid</code>来重新加载配置文件。</p>
<p>如果希望配置滚轮功能，其实可以通过安装<code>xbindkeys</code>和<code>xautomation</code>来修改。</p>
<div><pre><code><span>sudo</span> pacman -S xbindkeys xautomation xorg-xev
<span>sudo</span> systemctl <span>enable</span> xbindkeys
<span>sudo</span> systemctl start xbindkeys
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br></div></div><p>然后同样也需要修改相关的配置文件<code>sudo vim ~/.xbindkeysrc</code>：「详细教程<a href="https://wiki.archlinux.org/title/Xbindkeys" target="_blank" rel="noopener noreferrer">在此</a>」</p>
<div><pre><code><span># thumb wheel down => lower volume</span>
"xte 'key XF86AudioLowerVolume'"
   b<span>:</span><span>6</span>

<span># thumb wheel up => increase volume</span>
"xte 'key XF86AudioRaiseVolume'"
   b<span>:</span><span>7</span>

<span># backward button => mute</span>
"xte 'key XF86AudioMute'"
   b<span>:</span><span>9</span>

<span># backward button => win+0</span>
"xte 'keydown Super_L' 'keydown 0' 'keyup Super_L' 'keyup 0'"
   b<span>:</span><span>8</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br></div></div><table>
<thead>
<tr>
<th style="text-align:center">Button Name</th>
<th style="text-align:center">Button Id</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">左键</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">按下滚轮</td>
<td style="text-align:center">2</td>
</tr>
<tr>
<td style="text-align:center">右键</td>
<td style="text-align:center">3</td>
</tr>
<tr>
<td style="text-align:center">滚轮上滚</td>
<td style="text-align:center">4</td>
</tr>
<tr>
<td style="text-align:center">滚轮下滚</td>
<td style="text-align:center">5</td>
</tr>
<tr>
<td style="text-align:center">拇指滚轮右（上）滚</td>
<td style="text-align:center">6</td>
</tr>
<tr>
<td style="text-align:center">拇指滚轮左（下）滚</td>
<td style="text-align:center">7</td>
</tr>
<tr>
<td style="text-align:center">后退按钮</td>
<td style="text-align:center">8</td>
</tr>
<tr>
<td style="text-align:center">前进按钮</td>
<td style="text-align:center">9</td>
</tr>
</tbody>
</table>
<p>对于映射的按键名则需要在终端输入<code>xev</code>来查看名称和事件。「ArchWiki已给出了<a href="https://wiki.archlinux.org/title/Extra_keyboard_keys_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)" target="_blank" rel="noopener noreferrer">教程</a>」</p>
<p>如感觉难以筛选其中的内容，也可使用这个命令：</p>
<div><pre><code>xev <span>|</span> <span>grep</span> -A2 --line-buffered <span>'^KeyRelease'</span> <span>|</span> <span>sed</span> -n <span>'/keycode /s/^.*keycode \([0-9]*\).* (.*, \(.*\)).*$/\1 \2/p'</span>
</code></pre>
<div><span>1</span><br></div></div><p>修改完毕保存并退出后，需要执行<code>pkill xbindkeys &amp;&amp; xbindkeys</code>来重新加载配置文件。</p>
<p>如果想看鼠标剩余电量应该如何做？</p>
<p>可以通过<code>sudo pacman -S solaar</code>安装<code>solaar</code>来查看，并且这个软件不局限于Logid产品，也同样支持其他使用无线接收器的设备。</p>
<h3 id="vs-code安装"> VS Code安装</h3>
<p>安装VS Code的话，首先要到官网<a href="https://code.visualstudio.com/docs?dv=linux64" target="_blank" rel="noopener noreferrer">VS Code官网</a>进行下载</p>
<p>下载后将压缩包解压到你希望存放的目录下，解压好以后就可以运行code文件开始写bug了！！！</p>
<h3 id="切换系统的等待时间更改"> 切换系统的等待时间更改</h3>
<p>经常错过5秒然后无奈进入自己并不想进的系统又只能重启吗？不妨让它再稍微等等！</p>
<div><pre><code><span>sudo</span> <span>vim</span> /etc/default/grub
<span># 再修改TIMEOUT那一行的数据既可了，想改多久改多久！</span>
<span>sudo</span> <span>update-grub</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br></div></div><h3 id="添加程序到开始菜单"> 添加程序到开始菜单</h3>
<p>你有想添加到开始菜单的程序却不知怎么办吗？</p>
<p>在Konsole输入</p>
<div><pre><code><span>sudo</span> <span>vim</span> /usr/share/applications/<span>&lt;</span>app_name<span>></span>.desktop
<span># 其中&lt;app_name>是你要指定的应用程序</span>
</code></pre>
<div><span>1</span><br><span>2</span><br></div></div><p>然后把下面这个模板输入进去，再填一下空就可以了！</p>
<div><pre><code>[Desktop Entry]
Version=
Type=Application
Name=
Icon=
Exec=&quot;&quot; %f
Comment=
Categories=
Terminal=false
StartupWMClass=
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br></div></div><p>下面是VS Code的样例</p>
<div><pre><code>[Desktop Entry]
Version=1.0
Type=Application
Name=VS Code
Icon=/home/breezeshane/VSCode-linux-x64/resources/app/resources/linux/code.png
Exec=&quot;/home/breezeshane/VSCode-linux-x64/code&quot; %f
Comment=Visual Studio Code
Categories=Development;IDE;
Terminal=false
StartupWMClass=vs-code
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br></div></div><h3 id="pycharm-anaconda安装"> PyCharm &amp; Anaconda安装</h3>
<p>Python Developer必备的神器！输入下列代码即可安装IDE PyCharm</p>
<div><pre><code>yay -S pycharm-professional
</code></pre>
<div><span>1</span><br></div></div><p>光有PyCharm还不行，我们还需要有Python解释器，我选择Anaconda！不过不要以为yay能找到正确的anaconda，其实它下载来的anaconda是windows平台下才能用的，我们只能去<a href="https://www.anaconda.com/products/individual" target="_blank" rel="noopener noreferrer">官网</a>下载。</p>
<p>选Linux版本！选Linux版本！选Linux版本！</p>
<p>下载后把脚本文件放在你想放的位置（我有点懒，就直接放在/home/brezeshane/下了），然后进入Konsole输入下行代码即可</p>
<div><pre><code><span>bash</span> Anaconda3-2020.11-Linux-x86_64.sh
<span># 后面的脚本文件名以下载的为准！</span>
</code></pre>
<div><span>1</span><br><span>2</span><br></div></div><p>接着一路enter就行。</p>
<div><pre><code>Do you wish the installer to initialize Anaconda3
by running conda init? [yes|no]
</code></pre>
<div><span>1</span><br><span>2</span><br></div></div><p>如果看到这段话，推荐输入yes。</p>
<p>然后进入最后一步</p>
<div><pre><code><span>sudo</span> <span>vim</span> ~/.bashrc
<span># 在文本末尾添加</span>
<span>export</span> <span><span>PATH</span></span><span>=</span><span>"/home/&lt;USER_NAME>/anaconda3/bin:<span>$PATH</span>"</span>
<span># 其中&lt;USER_NAME>是你的Linux系统用户名，完成后保存退出。</span>
<span>source</span> ~/.bashrc
<span># 我们来测试一下Anaconda是否正常安装</span>
conda list
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br></div></div><p>这时如果输入<code>python</code>会看到这个</p>
<div><pre><code>Python 3.8.5 (default, Sep  4 2020, 07:30:14) 
[GCC 7.3.0] :: Anaconda, Inc. on linux
Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
&gt;&gt;&gt;
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br></div></div><h3 id="clion安装"> Clion安装</h3>
<p>由于JetBrains的个性，C语言IDE的运行环境也要有JDK支持，且版本不低于11。。。执行下行代码即可安装Clion以及一些必备的依赖。</p>
<div><pre><code><span>sudo</span> pacman -S clion clion-cmake <span>make</span> clion-lldb clion-jre
</code></pre>
<div><span>1</span><br></div></div><h4 id="clion如何调试子进程"> Clion如何调试子进程？</h4>
<p>我有幸做过多进程编程问题，也遇到了这个难办的问题，不过还好有解决方案：</p>
<ol>
<li>
<p>在创建子进程的代码前设置好断点。</p>
</li>
<li>
<p><img src="/images/Manjaro安装与配置.assets/image-20211129235732279.png" alt="" /></p>
<p>点击GDB选项卡来做适配。</p>
</li>
<li>
<p>分别输入下面两行代码：</p>
<div><pre><code><span>set</span> detach-on-fork off
<span>set</span> follow-fork-mode child
</code></pre>
<div><span>1</span><br><span>2</span><br></div></div></li>
</ol>
<p>这样你就可以开始追踪你的子进程了。</p>
<h3 id="r-rstudio安装"> R &amp; RStudio安装</h3>
<p>执行下行代码即可安装R语言环境：</p>
<div><pre><code><span>sudo</span> pacman -S base-devel
<span># 安装依赖需要</span>
yay -S r r-devel rstudio-desktop-bin
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br></div></div><h3 id="intellij-idea安装"> IntelliJ Idea安装</h3>
<p>执行下行代码即可安装：</p>
<div><pre><code><span>sudo</span> pacman -S intellij-idea-ultimate-edition intellij-idea-ultimate-edition-jre
</code></pre>
<div><span>1</span><br></div></div><h3 id="windows-10-manjaro下的anaconda配置"> Windows 10 / Manjaro下的Anaconda配置</h3>
<p>依次输入下列语句：</p>
<div><pre><code>conda update --all
conda create --name ANYNAMEYOULIKE <span>python</span><span>=</span><span>3.8</span>
</code></pre>
<div><span>1</span><br><span>2</span><br></div></div><p>接着你面临二选一的抉择：</p>
<p><strong>法一：</strong></p>
<div><pre><code>conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/menpo
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/bioconda
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/msys2
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/pytorch/
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br></div></div><p><strong>法二：</strong></p>
<p>打开<code>~/.condarc</code>文件，修改为以下内容</p>
<blockquote>
<p>【注】 Windows下的文件路径是C:\Users\USERNAME\.condarc</p>
</blockquote>
<div><pre><code>channels:
  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/menpo
  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/bioconda
  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/msys2
  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge
  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/pytorch/
  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/
  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/
show_channel_urls: true
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br></div></div><p>保存退出然后继续......</p>
<div><pre><code>conda <span>install</span> pip
</code></pre>
<div><span>1</span><br></div></div><p>pip我们在这里换一下源，首先要创建目录<code>~/.pip/pip.conf</code>并输入以下内容：</p>
<blockquote>
<p>【注】 Windows下的文件路径是C:\Users\USERNAME\pip\pip.ini</p>
</blockquote>
<div><pre><code>[global]
timeout = 6000
index-url = http://mirrors.aliyun.com/pypi/simple/
trusted-host = mirrors.aliyun.com
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br></div></div><p>这样我们就单独更换好pip源了！</p>
<p>如果嫌编辑文件太过麻烦，也可直接执行：</p>
<div><pre><code>pip config <span>set</span> global.index-url http://mirrors.aliyun.com/pypi/simple/
pip config <span>set</span> install.trusted-host mirrors.aliyun.com
</code></pre>
<div><span>1</span><br><span>2</span><br></div></div><p>接着我们安装一下比较常用的包：</p>
<div><pre><code>conda activate ANYNAMEYOULIKE
pip <span>install</span> opencv-python
pip <span>install</span> pillow
pip <span>install</span> tensorflow-gpu
pip <span>install</span> torch
pip <span>install</span> torchvision
pip <span>install</span> keras
pip <span>install</span> scikit-learn
pip <span>install</span> pandas
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br></div></div><p>当然你使用conda install也没什么问题，只是我写这个帮助文档的时候正好清华源不稳定，因此用不了清华源。</p>
<p>接着我们确认一下tensorflow和pytorch都安装成功了：</p>
<h3 id="深度学习框架测试代码"> 深度学习框架测试代码</h3>
<CodeGroup>
<CodeGroupItem title="PyTorch" active>
<div><pre><code><span>import</span> torch    <span># 如正常则静默</span>
a <span>=</span> torch<span>.</span>Tensor<span>(</span><span>[</span><span>1</span><span>.</span><span>]</span><span>)</span>    <span># 如正常则静默</span>
a<span>.</span>cuda<span>(</span><span>)</span>    <span># 如正常则返回"tensor([ 1.], device='cuda:0')"</span>
<span>from</span> torch<span>.</span>backends <span>import</span> cudnn <span># 如正常则静默</span>
cudnn<span>.</span>is_acceptable<span>(</span>a<span>.</span>cuda<span>(</span><span>)</span><span>)</span>    <span># 如正常则返回 "True"</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br></div></div></CodeGroupItem>
<CodeGroupItem title="TensorFlow Simple">
<div><pre><code><span>print</span><span>(</span><span>"Num GPUs Available: "</span><span>,</span> <span>len</span><span>(</span>tf<span>.</span>config<span>.</span>experimental<span>.</span>list_physical_devices<span>(</span><span>'GPU'</span><span>)</span><span>)</span><span>)</span>
<span># 输出的结果代表当前tensorflow可以使用的GPU数量，如果把len去掉的话会得到对应的设备名。</span>
</code></pre>
<div><span>1</span><br><span>2</span><br></div></div></CodeGroupItem>
<CodeGroupItem title="TensorFlow Normal">
<div><pre><code><span>import</span> tensorflow <span>as</span> tf
mnist <span>=</span> tf<span>.</span>keras<span>.</span>datasets<span>.</span>mnist

<span>(</span>x_train<span>,</span> y_train<span>)</span><span>,</span> <span>(</span>x_test<span>,</span> y_test<span>)</span> <span>=</span> mnist<span>.</span>load_data<span>(</span><span>)</span>
x_train<span>,</span> x_test <span>=</span> x_train <span>/</span> <span>255.0</span><span>,</span> x_test <span>/</span> <span>255.0</span>
model <span>=</span> tf<span>.</span>keras<span>.</span>models<span>.</span>Sequential<span>(</span><span>[</span>
  tf<span>.</span>keras<span>.</span>layers<span>.</span>Flatten<span>(</span>input_shape<span>=</span><span>(</span><span>28</span><span>,</span> <span>28</span><span>)</span><span>)</span><span>,</span>
  tf<span>.</span>keras<span>.</span>layers<span>.</span>Dense<span>(</span><span>128</span><span>,</span> activation<span>=</span><span>'relu'</span><span>)</span><span>,</span>
  tf<span>.</span>keras<span>.</span>layers<span>.</span>Dropout<span>(</span><span>0.2</span><span>)</span><span>,</span>
  tf<span>.</span>keras<span>.</span>layers<span>.</span>Dense<span>(</span><span>10</span><span>,</span> activation<span>=</span><span>'softmax'</span><span>)</span>
<span>]</span><span>)</span>

model<span>.</span><span>compile</span><span>(</span>optimizer<span>=</span><span>'adam'</span><span>,</span>
              loss<span>=</span><span>'sparse_categorical_crossentropy'</span><span>,</span>
              metrics<span>=</span><span>[</span><span>'accuracy'</span><span>]</span><span>)</span>
model<span>.</span>fit<span>(</span>x_train<span>,</span> y_train<span>,</span> epochs<span>=</span><span>5</span><span>)</span>

model<span>.</span>evaluate<span>(</span>x_test<span>,</span>  y_test<span>,</span> verbose<span>=</span><span>2</span><span>)</span>

<span># 得到如下结果即为正常：</span>
<span># </span>
<span># Epoch 1/5</span>
<span># 1875/1875 [==============================] - 3s 2ms/step - loss: 0.2962 - accuracy: 0.9155</span>
<span># Epoch 2/5</span>
<span># 1875/1875 [==============================] - 3s 2ms/step - loss: 0.1420 - accuracy: 0.9581</span>
<span># Epoch 3/5</span>
<span># 1875/1875 [==============================] - 3s 2ms/step - loss: 0.1064 - accuracy: 0.9672</span>
<span># Epoch 4/5</span>
<span># 1875/1875 [==============================] - 3s 2ms/step - loss: 0.0885 - accuracy: 0.9730</span>
<span># Epoch 5/5</span>
<span># 1875/1875 [==============================] - 3s 2ms/step - loss: 0.0749 - accuracy: 0.9765</span>
<span># 313/313 - 0s - loss: 0.0748 - accuracy: 0.9778</span>
<span># </span>
<span># [0.07484959065914154, 0.9778000116348267]</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br><span>18</span><br><span>19</span><br><span>20</span><br><span>21</span><br><span>22</span><br><span>23</span><br><span>24</span><br><span>25</span><br><span>26</span><br><span>27</span><br><span>28</span><br><span>29</span><br><span>30</span><br><span>31</span><br><span>32</span><br><span>33</span><br><span>34</span><br></div></div></CodeGroupItem>
</CodeGroup>
<h3 id="jupyter-notebook安装与配置"> Jupyter NoteBook安装与配置</h3>
<ol>
<li>
<p>首先需要运行指令：<code>pip install jupyter</code></p>
</li>
<li>
<p>然后需要配置目录信息，执行<code>jupyter notebook--generate-config</code></p>
</li>
<li>
<p>然后需要打开该目录下的文件：/home/USERNAME/.jupyter/jupyter_notebook_config.py</p>
</li>
<li>
<p>在该文件中查找c.NotebookApp.notebook_dir的关键字，把该行第一个字符‘#‘去掉，再接着指定你以后要存放文件的目录</p>
</li>
<li>
<p>然后为了能在Jupyter NoteBook下使用pytorch，需要先执行下面这些指令</p>
</li>
</ol>
<div><pre><code>conda activate ANYNAMEYOULIKE	//这个是要激活你的包含pytorch的虚拟环境
conda <span>install</span> ipython
conda <span>install</span> jupyter
conda <span>install</span> nb_conda
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br></div></div><ol start="6">
<li>
<p>到此为止，你可以在Konsole下输入<code>jupyter notebook</code>来运行了。</p>
<p>附：如果发现import torch仍然出问题，显示kernel error，则需要先关闭jupyter notebook和Konsole再执行下面这个语句</p>
<p><code>python -m ipykernel install --user -i http://pypi.douban.com/simple --trusted-host=pypi.douban.com</code></p>
<p>然后再重新启动Jupyter NoteBook。</p>
</li>
</ol>
<h3 id="开机挂载ntfs硬盘"> 开机挂载NTFS硬盘</h3>
<p>前期准备：请安装ntfs-3g这个包，<code>sudo pacman -S ntfs-3g</code></p>
<p>首先在Konsole输入<code>sudo fdisk -l</code>指令查看列表，找到你要挂载的硬盘，再找设备一列下的那个你要找的硬盘分区</p>
<p>然后输入<code>ls -l /dev/disk/by-uuid/</code>来查看你的目标分区的UUID并记录下来</p>
<div><pre><code><span>cd</span> /home/用户名
<span>mkdir</span> ANYNAMEYOULIKE
<span>sudo</span> <span>vim</span> /etc/fstab
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br></div></div><p>「温馨提示」在这里你一定要保证修改正确，否则容易导致开不了机。。。虽然到时候你还可以启动其他系统修改一下这个配置文件就可以解决，但是会很麻烦的啊。。。</p>
<p>并在末尾新添加一行：</p>
<div><pre><code>UUID=你查到的UUID	/home/用户名/ANYNAMEYOULIKE ntfs defaults 0 0
</code></pre>
<div><span>1</span><br></div></div><p>保存后reboot一下就可以了！</p>
<p>另外可以输入<code>df -h</code>来查看挂载情况。</p>
<h3 id="xdm安装"> <strong>XDM安装</strong></h3>
<p>XDM的<a href="https://subhra74.github.io/xdm/" target="_blank" rel="noopener noreferrer">下载链接</a></p>
<p>下载好这个文件后就开始安装，首先要找到刚下载的压缩包，这里我的压缩包文件名为<code>xdm-setup-7.2.11.tar.xz</code>，它的子压缩包是<code>xdm-setup-7.2.11.tar</code></p>
<p>在Konsole下输入如下指令</p>
<div><pre><code><span>cd</span> ~/data				//进入所在的目录
xz -d xdm-setup-7.2.11.tar.xz <span>&amp;&amp;</span> <span>tar</span> -xvf xdm-setup-7.2.11.tar
<span>sudo</span> <span>su</span>
<span>cd</span> /home/USERNAME/data
<span>chmod</span> +x install.sh <span>&amp;&amp;</span> <span>bash</span> install.sh
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br></div></div><p>这样就可以安装完成了。不过要注意的是，这个程序是没有快捷方式的，所以要搜索才能找到。</p>
<p>如果要卸载，运行如下指令即可</p>
<div><pre><code><span>bash</span> /opt/xdman/uninstall.sh
</code></pre>
<div><span>1</span><br></div></div><p>权限不够的话请在首处加<code>sudo</code>，或者先执行<code>sudo su</code>再尝试上行指令。</p>
<p>运行XDM后要在如下菜单里做好配置</p>
<div><pre><code>[Tools]–[Languages] //设定语言
[Tools]–[Network optimization]–[High speed]–[OK] //选择高速模式
[Tools]–[Options]–[Browser monitoring]–[View settings] //选择安装浏览器监视插件
[Tools]–[Options] //可调整下载路径、线程数和代理设置
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br></div></div><h3 id="解决windows-10和manjaro存在时间差的问题"> 解决Windows 10和Manjaro存在时间差的问题</h3>
<p>一般修改Manjaro的时间设置是最省事的，输入指令：</p>
<div><pre><code><span>sudo</span> timedatectl set-local-rtc <span>true</span>
</code></pre>
<div><span>1</span><br></div></div><h3 id="manjaro-sudo-免密问题"> Manjaro sudo 免密问题</h3>
<p>首先修改，并清除<code>%sudo ALL=(ALL) ALL</code>前的“#”，然后进入root模式再修改<code>/etc/sudoers.d/10-installer</code>，在其中的``下面添加</p>
<div><pre><code><span>sudo</span> <span>vim</span> /etc/sudoers
<span># 找到%sudo ALL=(ALL) ALL这一行并去掉前面的‘#’。</span>
<span>sudo</span> <span>vim</span> /etc/sudoers.d/10-installer
<span># 找到%wheel ALL=(ALL) ALL这一行并在下面添加下列内容：</span>
USERNAME <span>ALL</span><span>=</span><span>(</span>ALL<span>)</span> NOPASSWD: ALL
%USERNAME <span>ALL</span><span>=</span><span>(</span>ALL<span>)</span> NOPASSWD: ALL
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br></div></div><h3 id="jupyterlab安装指北"> JupyterLab安装指北</h3>
<p>执行下列各指令即可：</p>
<div><pre><code>pip <span>install</span> jupyterlab
<span># 可以采用下行指令安装，二选一。</span>
conda <span>install</span> -c conda-forge jupyterlab
<span>sudo</span> pacman -S nodejs <span>npm</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br></div></div><p>结束后即可执行<code>jupyter lab</code>运行。</p>
<h3 id="manjaro-jupyterlab配置"> Manjaro-JupyterLab配置</h3>
<p>如果希望修改工作区路径，那么你需要做如下的做法：<code>jupyter lab --generate-config</code>, 然后需要复制一下terminal输出的路径信息，接着你再打开该目录下的jupyter_lab_config.py文件，查找notebook_dir关键字，然后在单引号里设定你的目标路径即可。</p>
<p>如果希望添加密码，需要做：</p>
<div><pre><code>ipython
from notebook.auth <span>import</span> <span>passwd</span>
passwd<span>(</span><span>)</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br></div></div><p>接着你就设定你的密码即可，然后复制一下terminal输出的乱码，再次打开刚才的jupyter_lab_config.py文件，</p>
<div><pre><code>c<span>.</span>ServerApp<span>.</span>allow_root <span>=</span> <span>True</span>
c<span>.</span>ServerApp<span>.</span>open_browser <span>=</span> <span>False</span>
c<span>.</span>ServerApp<span>.</span>password <span>=</span> <span>'刚才复制的乱码粘贴到这里来'</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br></div></div><p>重启一下jupyter lab就可以了！</p>
<p>如果想安装插件的话，我们需要运行以下指令：</p>
<div><pre><code>jupyter labextension <span>install</span> @jupyterlab/toc
<span># 用于安装生成目录的插件</span>
jupyter labextension list
<span># 用于查看已安装的插件</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br></div></div><p>然后我们需要进入JupyterLab，点击 Settings --&gt; Advanced Settings Editor ，将Extension Manager 里的enabled**（位于User Overrides选项卡里） **的 false 改成 true，如果想设置主题的话，可以点击Setting --&gt; Jupyter Lab Theme。</p>
<blockquote>
<p>此处的参考博客为：<a href="https://www.163.com/dy/article/FVLE7H1Q0519EA27.html" target="_blank" rel="noopener noreferrer">手把手教你配置JupyterLab 环境</a> <a href="https://blog.csdn.net/weixin_41571493/article/details/88830458" target="_blank" rel="noopener noreferrer">Jupyter Lab 简单配置</a></p>
<p><strong>「注」：这两篇博客都是基于Windows平台的，与本文使用的系统有所区别。</strong></p>
</blockquote>
<h3 id="manjaro系统备份与还原"> Manjaro系统备份与还原</h3>
<blockquote>
<p>本部分参考了两篇博客：<a href="https://blog.csdn.net/xiongyangg/article/details/23693803" target="_blank" rel="noopener noreferrer">利用tar备份linux系统详解</a> <a href="https://zhuanlan.zhihu.com/p/90634218" target="_blank" rel="noopener noreferrer">安装Manjaro之后首先要做的是...</a> <a href="https://blog.csdn.net/mmh19891113/article/details/81698453" target="_blank" rel="noopener noreferrer">Ubuntu学习笔记之BackupYourSystem使用tar命令</a></p>
<p>虽然最后一篇是Ubuntu的，但是直到我看到这里才发现，斜杠是要放在exclude后面的……</p>
</blockquote>
<p>经过他们的详细讲解，我写了两个shell脚本，用于系统备份与还原。源码如下：</p>
<p><strong>备份</strong></p>
<div><pre><code><span>sudo</span> <span>tar</span> -cvpjf /home/breeze_shane/LinuxBackup/Manjaro-Backup.tar.bz2 --exclude<span>=</span>/proc --exclude<span>=</span>/tmp --exclude<span>=</span>/sys --exclude<span>=</span>/lost+found --exclude<span>=</span>/media --exclude<span>=</span>/home/YOUR_USER_NAME/YOU_DISK /
<span># /前面的路径是你要设定好的压缩包路径的位置</span>
<span># 最后一个如果你不希望备份整个home文件的话就只写/home就可以了</span>
<span># 「注意」最后的斜杠是和前面的压缩包配成一套的，但不要放在一起，会导致exclude失效的，所以要放在最后。就这个问题折磨了我一下午(ToT)</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br></div></div><p>「注」：备份之前需要先执行<code>sudo su</code>来获取权限以免因无法读取而备份失败</p>
<p><strong>还原</strong></p>
<div><pre><code><span>sudo</span> <span>tar</span> -xvpzf /home/breeze_shane/LinuxBackup/Manjaro-Backup.tar.bz2 -C / <span># -C前面的路径是自定义的，就是你原来压缩好的包的路径</span>
<span>cd</span> /
<span>mkdir</span> proc
<span>mkdir</span> lost+found
<span>mkdir</span> sys
<span>mkdir</span> tmp
<span>mkdir</span> media
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br></div></div><p>「注」：还原之前请先格式化目标分区</p>
<p><strong>上面是很多人都在使用的备份方式，反倒是我这里就不知道为什么运行不起来了，四下求助才知道，有更为稳妥的办法就是先把系统盘挂载到指定目录下然后再备份那个目录下的文件，会回避很多卡死、broken pipe报错等问题。于是我执行了以下的代码并重新完善了shell：</strong></p>
<blockquote>
<p>另外，我了解到了pigz，意外的比tar好用（其实pigz就相当于tar的多进程版），可能，tar真的不如猪了。。。。</p>
</blockquote>
<div><pre><code><span>sudo</span> <span>mount</span> /dev/nvme0n1p5 /mnt
<span># 第一个路径是你的块设备，这个信息你可以去dolphin那里右键你的系统盘查看属性就可以获得到的。 第二个路径是你要挂载到的目录。</span>
</code></pre>
<div><span>1</span><br><span>2</span><br></div></div><p><strong>新备份</strong></p>
<div><pre><code><span>sudo</span> <span>tar</span> --use-compress-program<span>=</span>pigz -g snapshot -cvpf /home/breeze_shane/Mydata/LinuxBackup/ManjaroBackup.tgz --exclude<span>=</span><span>{</span><span>'/mnt/proc'</span>,<span>'/mnt/tmp'</span>,<span>'/mnt/sys'</span>,<span>'/mnt/lost+found'</span>,<span>'/mnt/media'</span>,<span>'/mnt/home/breeze_shane/Mydata'</span>,<span>'/mnt/home/breeze_shane/.cache'</span><span>}</span> /mnt <span># 这一整行就是这么长。。。</span>
<span>sudo</span> <span>tar</span> --use-compress-program<span>=</span>pigz -g snapshot -cvpf /home/breeze_shane/Mydata/LinuxBackup/ManjaroBackupDev.tgz /dev
<span>sudo</span> <span>tar</span> --use-compress-program<span>=</span>pigz -g snapshot -cvpf /home/breeze_shane/Mydata/LinuxBackup/ManjaroBackupRun.tgz /run
<span># 之所以分开包是因为我发现第一次打包并不能把dev和run文件夹下的文件打包进去,要注意的是第三个指令会报错，但是我去查看了一下，没有压缩进来的是socket文件（套接字文件），是服务器与客户端的缓存，pigz会忽略也是因为这一点，因此我认为这不影响正常备份。</span>
<span># 「注」这里使用了增量备份的方案，tar会生成snapshot时间戳文件，以便用于校验文件是否发生改变。第一次使用不会报错影响备份。</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br></div></div><blockquote>
<p>参考博客：<a href="https://www.cnblogs.com/sparkdev/p/9015312.html" target="_blank" rel="noopener noreferrer">Linux mount 命令</a> <a href="https://blog.csdn.net/weixin_35363322/article/details/112042405" target="_blank" rel="noopener noreferrer">zstd安装_Arch Linux 系统迁移</a></p>
<p>另外我还发现了<a href="https://www.ruanyifeng.com/blog/2020/08/rsync.html" target="_blank" rel="noopener noreferrer">rsync 用法教程</a>，就是一直没能成功。。。</p>
<p>如果不确定自己究竟要备份哪些的话，不妨看看<a href="https://zhuanlan.zhihu.com/p/30617845" target="_blank" rel="noopener noreferrer">Linux系统各种目录的作用</a></p>
</blockquote>
<p><strong>新还原</strong></p>
<div><pre><code><span>sudo</span> <span>tar</span> --use-compress-program<span>=</span>pigz -xvpf /home/breeze_shane/Mydata/LinuxBackup/ManjaroBackup.tgz -C /
<span>sudo</span> <span>tar</span> --use-compress-program<span>=</span>pigz -xvpf /home/breeze_shane/Mydata/LinuxBackup/ManjaroBackupDev.tgz -C /
<span>sudo</span> <span>tar</span> --use-compress-program<span>=</span>pigz -xvpf /home/breeze_shane/Mydata/LinuxBackup/ManjaroBackupRun.tgz -C /
<span>cd</span> /
<span>mkdir</span> proc
<span>mkdir</span> lost+found
<span>mkdir</span> sys
<span>mkdir</span> tmp
<span>mkdir</span> media
<span># -C前面的路径是压缩包的位置，而后面的路径则是你要解压到的路径</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br></div></div><blockquote>
<p>参考博客：<a href="https://www.jianshu.com/p/b3ca4e0a9bff" target="_blank" rel="noopener noreferrer">pigz打包、解压</a> <a href="https://www.jianshu.com/p/455ffef0a3c8" target="_blank" rel="noopener noreferrer">多线程压缩工具pigz使用</a> [<a href="https://www.cnblogs.com/kevingrace/p/6601088.html" target="_blank" rel="noopener noreferrer">Linux下Rsync和Tar增量备份梳理</a>] <a href="https://www.shuzhiduo.com/A/A7zgwAmnz4/" target="_blank" rel="noopener noreferrer">Linux使用 tar命令-g参数进行增量+差异备份、还原文件</a></p>
</blockquote>
<h3 id="manjaro定时服务"> Manjaro定时服务</h3>
<blockquote>
<p>参考：<a href="https://linuxtools-rst.readthedocs.io/zh_CN/latest/tool/crontab.html" target="_blank" rel="noopener noreferrer">crontab 定时任务</a></p>
</blockquote>
<p>要想使用自动定时服务，我们需要cronie软件，执行<code>sudo pacman -S cronie</code>即可安装，在使用之前我们需要执行下面这两条语句：</p>
<div><pre><code><span>sudo</span> systemctl <span>enable</span> cronie.service
<span>sudo</span> systemctl start cronie.service
</code></pre>
<div><span>1</span><br><span>2</span><br></div></div><p>然后我们需要输入<code>crontab -e</code>进入编辑时间计划的界面</p>
<p>我们要记下crontab特有的语法：<em><strong>分 时  日 月 周</strong></em>，指令格式是这样：</p>
<div><pre><code>* *  * * * &quot;这里写下你要执行的指令&quot;
</code></pre>
<div><span>1</span><br></div></div><h3 id="manjaro-nvidia-driver驱动安装"> Manjaro Nvidia Driver驱动安装</h3>
<blockquote>
<p>参考博客：<a href="https://yeyaowei.github.io/2019/01/16/install-nvidia-driver-manually/" target="_blank" rel="noopener noreferrer">在 Manjaro 上手动安装官网的 NVIDIA 显卡驱动</a></p>
</blockquote>
<p>安装Nvidia驱动之前，请先了解自己的Manjaro系统内核版本，输入<code>uname -r</code>即可查看。这里我返回的是<code>5.9.16-1-MANJARO</code>，记住你的版本号，接下来我们安装一下头文件：<code>sudo pacman -S linux59-headers</code>，如果不确定自己应该装什么，可以先搜索一下：<code>sudo pacman -Ss linux-headers</code>，查看详细信息之后，我相信你能自己选出正确合适的版本！</p>
<p>接着上<a href="https://www.nvidia.cn/Download/index.aspx?lang=cn" target="_blank" rel="noopener noreferrer">官网</a>去下载驱动，选择好你的显卡型号，系统我们选择Linux 64-bit，然后下载来的文件要存在你的英文目录下（以免如果后面出意外而不能输入中文），这里我是直接存放在<code>/home/USERNAME/</code>这里了。</p>
<p>然后需要安装一下工具，执行：<code>sudo pacman -S base-devel dkms</code></p>
<p>为了我们能正常使用Nvidia驱动，我们需要禁用原来的Nouveau驱动，我们需要编辑<code>/etc/default/grub</code>，在其中把<code>GRUB_CMDLINE_LINUX</code> 开头的那一行改为 <code>GRUB_CMDLINE_LINUX=&quot;nouveau.modeset=0&quot;</code>，保存之后更新一下grub：<code>sudo update-grub</code></p>
<p>然后需要重启一下，执行<code>sudo reboot</code></p>
<blockquote>
<p>「注」在文中博主提到：重启之后，由于没有显卡驱动的支持，可能会卡在 BIOS Logo 界面或者是黑屏。这个时候你需要按下 ALT + CTRL + F2 进入到 TTY 文本模式。</p>
<p>然而我并没遇到这个问题，直接登录进入系统了，没什么问题的。</p>
</blockquote>
<p>接着执行下面的指令：</p>
<div><pre><code><span>chmod</span> +777 NVIDIA-Linux-x86_64-410.93.run
<span># 后面的文件和你的文件名保持一致。</span>
<span>sudo</span> ./NVIDIA-Linux-x86_64-410.93.run
<span># 路径和你之前下载的驱动文件的位置保持一致。</span>
<span>sudo</span> <span>reboot</span>
<span># 最后需要重启一下电脑</span>
inxi -G
<span>#执行这一条，你就可以看到你的显卡驱动是nvidia了，这就说明你的系统成功安装了nvidia驱动，恭喜你！</span>
nvidia-smi
<span># 执行这一条你会看到如下的输出信息，这时候你可以完全确信，驱动成功安装了！</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br></div></div><div><pre><code>Wed Mar 31 22:23:11 2021       
+-----------------------------------------------------------------------------+
| NVIDIA-SMI 460.67       Driver Version: 460.67       CUDA Version: 11.2     |
|-------------------------------+----------------------+----------------------+
| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |
| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |
|                               |                      |               MIG M. |
|===============================+======================+======================|
|   0  GeForce MX350       Off  | 00000000:06:00.0 Off |                  N/A |
| N/A   44C    P0    N/A /  N/A |      0MiB /  2002MiB |      0%      Default |
|                               |                      |                  N/A |
+-------------------------------+----------------------+----------------------+
                                                                               
+-----------------------------------------------------------------------------+
| Processes:                                                                  |
|  GPU   GI   CI        PID   Type   Process name                  GPU Memory |
|        ID   ID                                                   Usage      |
|=============================================================================|
|  No running processes found                                                 |
+-----------------------------------------------------------------------------+
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br><span>18</span><br><span>19</span><br><span>20</span><br></div></div><h3 id="manjaro-cuda-cudnn安装指南"> Manjaro Cuda &amp; Cudnn安装指南</h3>
<p>首先在相应官网下载好你的cuda和cudnn，一定要注意版本问题，去tensorflow官网查一下看看他们能支持哪个版本。下载好之后存放到你的指定目录（路径后面要用）。</p>
<p>输入<code>sudo pacman -U PATH/cuda-11.0.3-1-x86_64.pkg.tar.zst</code>这里我选的是cuda 11.0，PATH是你存放cuda的路径。</p>
<blockquote>
<p>「注」：如果系统提示系统文件已存在或者提示存在文件冲突，那么你只需要删掉那些就可以了</p>
</blockquote>
<p>安装好以后，我们执行一下<code>sudo ark</code>来给Ark赋予root权限，它会弹出Ark应用窗口，我们就在那个窗口内打开你的cudnn压缩包，然后将该压缩包下的cuda文件夹（其实总共也就这一个大文件夹）解压缩到/usr/local/这里，然后用vim编辑一下~/.bashrc，在最后一行输入：</p>
<div><pre><code>export LD_LIBRARY_PATH=/usr/local/cuda/lib64:$LD_LIBRARY_PATH
</code></pre>
<div><span>1</span><br></div></div><p>退出后输入<code>source ~/.bashrc</code>就可以了，为了确定他们能正常运作，我们接下来测试一下：</p>
<div><pre><code>conda activate ANYNAMEYOULIKE
python
</code></pre>
<div><span>1</span><br><span>2</span><br></div></div><div><pre><code><span>import</span> torch
torch<span>.</span>cuda<span>.</span>is_available<span>(</span><span>)</span>
<span># 这里会返回True</span>
<span>import</span> tensorflow <span>as</span> tf
<span>import</span> tensorflow <span>as</span> tf
tf<span>.</span>__version__
tf<span>.</span>test<span>.</span>is_gpu_available<span>(</span><span>)</span>
<span># 这里会返回True</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br></div></div><p>以上，cuda和cudnn的安装就到此结束了！</p>
<h3 id="zsh找不到anaconda的问题"> Zsh找不到Anaconda的问题</h3>
<p>这样的情况一般应该是没用Anaconda初始化过Zsh，应该执行一下</p>
<div><pre><code>～/anaconda3/bin/conda init <span>zsh</span>
</code></pre>
<div><span>1</span><br></div></div><p>然后你再编辑一下～/.zshrc并添加入anaconda的环境变量即可。</p>
<div><pre><code><span>export</span> <span><span>PATH</span></span><span>=</span><span>"/home/&lt;USER_NAME>/anaconda3/bin:<span>$PATH</span>"</span>
</code></pre>
<div><span>1</span><br></div></div><p>「注」：其实这个解决方法可以通用到fish、powershell、tcsh、xonsh等等。</p>
<h3 id="pacman-和-yay-添加多线程下载"> pacman 和 yay 添加多线程下载</h3>
<p>执行下面的命令下载 axel</p>
<div><pre><code> yay -S axel
</code></pre>
<div><span>1</span><br></div></div><p>编辑 <code>/etc/pacman.conf</code> 文件：</p>
<div><pre><code>XferCommand = /usr/bin/axel -n 10 -o %o %u
</code></pre>
<div><span>1</span><br></div></div><p>编辑 <code>/etc/makepkg.conf</code> 文件：</p>
<div><pre><code>DLAGENTS=(&#39;file::/usr/bin/curl -gqC - -o %o %u&#39;
      &#39;ftp::/usr/bin/axel -n 10 -o %o %u&#39;
      &#39;http::/usr/bin/axel -n 10 -o %o %u&#39;
      &#39;https::/usr/bin/axel -n 10 -o %o %u&#39;
      &#39;rsync::/usr/bin/rsync --no-motd -z %u %o&#39;
      &#39;scp::/usr/bin/scp -C %u %o&#39;)
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br></div></div><p>其实上面两步做的改动就是将原来的curl换成了axel。</p>
<p>「注」：如果发现yay有些软件安装不了，请改回这个配置文件再继续！</p>
<h3 id="yakuake后台连接学校vpn-可能没什么用。。。"> Yakuake后台连接学校VPN（可能没什么用。。。）</h3>
<p>如题，按下F12打开Yakuake并执行这个代码：</p>
<div><pre><code>sudo openconnect --protocol=nc --user (学号) https://学校的VPN地址
</code></pre>
<div><span>1</span><br></div></div><h3 id="安装visdom"> 安装visdom</h3>
<p>visdom是torch的一种可视化工具，安装使用方式相对特殊，特此一记，以期不备：</p>
<div><pre><code>conda activate YOURENVNAME
pip install visdom
python -m visdom.server
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br></div></div><p>这样接下来你就可以访问<code>localhost:8097</code>来查看了。</p>
<h3 id="安装数学绘图软件"> 安装数学绘图软件</h3>
<p>这类软件我推荐安装Geogebra，用了好多年了，一直很经典实用！</p>
<div><pre><code>sudo pacman -S geogebra
</code></pre>
<div><span>1</span><br></div></div><p>安装完即可运行。</p>
<h3 id="截图工具-flameshot"> 截图工具：FlameShot</h3>
<p>Linux中有个非常强大的截图工具——FlameShot。</p>
<p>它可支持铅笔涂鸦、添加文字、箭头绘制、直线绘制等等非常多的涂鸦标记功能，最重要的是还可以支持贴图，贴图啊！！！还可以自定义一切操作的快捷键，自由度非常高！就是唯一缺点是，每次截图都要单击状态栏上的图标才行。</p>
<div><pre><code>sudo pacman -S flameshot
</code></pre>
<div><span>1</span><br></div></div><p>安装完即可投入使用。</p>
<p>但是，每次截图总要状态栏图标也忒让人不爽了。。。就没有解决办法吗？</p>
<p>还真有！根据我对KRunner程序的理解，我认为我可以在终端输入指令直接打开这个工具，于是尝试了一下：</p>
<div><pre><code>flameshot
# 没反应
flameshot --help
# 给出了帮助信息，终于我找到一个方式可以直接开启截图了
flameshot gui
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br></div></div><p>于是，打开<code>系统设置</code>，点击<code>快捷键</code>，选中<code>自定义快捷键</code>，点击<code>编辑</code>，<code>新建</code>，<code>全局快捷键</code>，你会看到右边出现了注释等三个选项卡，点击触发器你就可以设定快捷键，点击动作你就可以设定命令/URL，到这里你就明白了，你可以直接设定快捷键向系统输入<code>flameshot gui</code>指令啊～</p>
<p>于是地球人再也阻拦不了我截图了！！！（悄悄地说，其实这个你想拿去干啥都行😉😂😆）</p>
<h3 id="gnu图像处理程序安装"> GNU图像处理程序安装</h3>
<p>Linux下并没有PhotoShop软件，但还好这不会意味着我们无法在Linux下正常编辑处理图像，我们有这个强大的软件：<code>GIMP</code>。</p>
<div><pre><code><span>sudo</span> pacman -S gimp
</code></pre>
<div><span>1</span><br></div></div><h3 id="docker安装与配置"> Docker安装与配置</h3>
<blockquote>
<p><a href="https://docs.docker.com/" target="_blank" rel="noopener noreferrer">Docker官方网址（含文档）</a></p>
</blockquote>
<div><pre><code><span>sudo</span> pacman -Syu
<span>sudo</span> pacman -S docker
<span>sudo</span> systemctl start docker
<span>sudo</span> systemctl <span>enable</span> docker
<span>sudo</span> docker version
<span>sudo</span> <span>usermod</span> -aG docker <span>$USER</span>
<span>reboot</span> <span># 这里需要重启一下</span>
<span>sudo</span> <span>vim</span> /etc/docker/daemon.json
<span># 进入编辑状态，输入一下配置信息：</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br></div></div><div><pre><code><span>{</span>
    <span>"registry-mirrors"</span><span>:</span> <span>[</span>
        <span>"https://registry.docker-cn.com"</span><span>,</span>
        <span>"https://dockerhub.azk8s.cn"</span><span>,</span>
        <span>"https://docker.mirrors.ustc.edu.cn"</span><span>,</span>
        <span>"https://reg-mirror.qiniu.com"</span><span>,</span>
        <span>"https://hub-mirror.c.163.com"</span><span>,</span>
        <span>"https://mirror.ccs.tencentyun.com"</span>
    <span>]</span>
<span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br></div></div><div><pre><code><span>sudo</span> systemctl daemon-reload
<span>sudo</span> systemctl restart docker
</code></pre>
<div><span>1</span><br><span>2</span><br></div></div><h4 id="安装某镜像总是找不到host"> 安装某镜像总是找不到Host</h4>
<p>我在安装HedgeDoc时遇到了这样的问题，不论怎么下载都遇到这样的报错：</p>
<div><pre><code>❯ proxychains docker-compose up -d
<span>[</span>proxychains<span>]</span> config <span>file</span> found: /etc/proxychains.conf
<span>[</span>proxychains<span>]</span> preloading /usr/lib/libproxychains4.so
<span>[</span>proxychains<span>]</span> DLL init: proxychains-ng <span>4.15</span>
Pulling database <span>(</span>postgres:13.4-alpine<span>)</span><span>..</span>.
ERROR: Get <span>"https://registry-1.docker.io/v2/"</span><span>:</span> dial tcp: lookup registry-1.docker.io: no such <span>host</span>
❯ docker-compose up -d
Pulling database <span>(</span>postgres:13.4-alpine<span>)</span><span>..</span>.
ERROR: Get <span>"https://registry-1.docker.io/v2/"</span><span>:</span> dial tcp: lookup registry-1.docker.io: no such <span>host</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br></div></div><p>后来经过搜索后发现这个解决方案可行：</p>
<div><pre><code>❯ <span>sudo</span> <span>vim</span> /etc/resolv.conf
</code></pre>
<div><span>1</span><br></div></div><p>然后在已经存在的nameserver后面添加这两行：</p>
<div><pre><code>nameserver 8.8.8.8
nameserver 8.8.4.4
</code></pre>
<div><span>1</span><br><span>2</span><br></div></div><p>这个做法其实就是把Google提供的免费DNS解析服务添加到其中了，这样就可以解析大部分的Host了，这也意味着提示的No Such Host就被解决了。</p>
<p>然后执行</p>
<div><pre><code>❯ <span>sudo</span> systemctl daemon-reload
❯ <span>sudo</span> systemctl restart docker
</code></pre>
<div><span>1</span><br><span>2</span><br></div></div><p>这时候再<code>docker pull xxx</code>或者<code>docker-compose up -d</code>就可以正常进行了！</p>
<div><pre><code>❯ docker-compose up -d
Pulling database <span>(</span>postgres:13.4-alpine<span>)</span><span>..</span>.
<span>13.4</span>-alpine: Pulling from library/postgres
a0d0a0d46f8b: Pull complete
5034a66b99e6: Pull complete
82e9eb77798b: Pull complete
314b9347faf5: Pull complete
2625be9fae82: Pull complete
5ec8358e2a99: Pull complete
2e9ccfc29d86: Pull complete
4b103693500d: Pull complete
Digest: sha256:c170270dc9ba94f491375e366fa2cf46d0bc0027e4a69d70e6e9d1454ba748dc
Status: Downloaded newer image <span>for</span> postgres:13.4-alpine
Pulling app <span>(</span>quay.io/hedgedoc/hedgedoc:1.9.0<span>)</span><span>..</span>.
<span>1.9</span>.0: Pulling from hedgedoc/hedgedoc
a10c77af2613: Already exists
e66c53b2d7ce: Pull complete
887271eba921: Pull complete
bd64410d021c: Pull complete
178df5d78e0b: Pull complete
49f06fa43df5: Pull complete
be60483fa707: Pull complete
d4e04c69e5cf: Pull complete
4af62a08d678: Pull complete
602afb950097: Pull complete
75a01eb7283b: Pull complete
52f31ab40d91: Pull complete
50251e857e49: Pull complete
Digest: sha256:48231b330905c9fe0c72df5b4f67262c97f55314660f3587150fecea0f64aa37
Status: Downloaded newer image <span>for</span> quay.io/hedgedoc/hedgedoc:1.9.0
Creating hedgedoc-container_database_1 <span>..</span>. <span>done</span>
Creating hedgedoc-container_app_1      <span>..</span>. <span>done</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br><span>18</span><br><span>19</span><br><span>20</span><br><span>21</span><br><span>22</span><br><span>23</span><br><span>24</span><br><span>25</span><br><span>26</span><br><span>27</span><br><span>28</span><br><span>29</span><br><span>30</span><br><span>31</span><br><span>32</span><br></div></div><h3 id="在linux下使用虚拟机"> 在Linux下使用虚拟机</h3>
<p>不要使用VirtualBox，不要使用VirtualBox，不要使用VirtualBox！</p>
<p>曾经我还是使用VirtualBox的，但后来系统更新时gcc等比较多的底层都有变动，系统内核也随之发生了些许微妙的变化，结果，VirtualBox就无法启动了原有的虚拟机，总在提示大致是UUID not match这样的问题，但修复了许久都没能解决，实验数据全在里面根本无法提取出来，损失巨大，决定从此不使用VirtualBox了。</p>
<p>这里有两个朋友推荐虚拟机软件：<code>Virtual Machine Manager</code>和<code>Boxes</code>。</p>
<p>我目前在使用的是<code>Virtual Machine Manager</code>，它需要安装的内容并不多，只需要执行<code>sudo pacman -S virt-manager</code>即可。</p>
<blockquote>
<p>不过看到有人是装了一系列软件，不太了解是什么情况，可能是出于一些需求而做。</p>
<p><code>sudo pacman -S virt-manager qemu vde2 ebtables dnsmasq bridge-utils openbsd-netcat</code></p>
<p>然后在启动的时候会遇到<code>错误“ adduser：组 'libvirtd'不存在”！</code>这样的错误信息，但至少我在安装的时候未遇到这种问题，或许是因为配置过VirtualBox吧。</p>
<p>解决这个报错的方法是：</p>
<div><pre><code><span>sudo</span> systemctl <span>enable</span> libvirtd.service
<span>sudo</span> systemctl start libvirtd.service
</code></pre>
<div><span>1</span><br><span>2</span><br></div></div></blockquote>
<blockquote>
<p><strong>没有对比就没有伤害</strong>：</p>
<p>如果是安装VirtualBox的话，要这样安装：</p>
<div><pre><code>screenfetch <span># 这里是为了查看系统内核版本</span>
yay -S virtualbox virtualbox-host-dkms
yay -S linux*-virtualbox-host-modules <span># 这里的*就是前面你查看的系统内核版本号</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br></div></div><p>如果不巧的是你电脑上有很多个不同版本的系统内核，在安装<code>virtualbox-host-dkms</code>的时候还会自动遍历你当前所有的系统内核并分别为其安装相应的dkms，占用空间还确实不小。</p>
</blockquote>
<p>安装好<code>Virtual Machine Manager</code>之后就可以新建一个虚拟机了。</p>
<p><strong>「注意」</strong>：在新建虚拟机的时候会出现一个问题，就是在建立连接虚拟网时会提示因未激活而创建失败。解决办法是：</p>
<div><pre><code><span># 请先关闭掉Virtual Machine Manager</span>

<span>sudo</span> <span>virsh</span> net-list --all <span># 执行完这一步你就会发现它问题在哪</span>

<span>sudo</span> pacman -S iptables dnsmasq ebtables <span># 安装必要的组件</span>
<span>sudo</span> systemctl restart libvirtd <span># 如果不做这一步而执行下一句的话会提示无法初始化防火墙后端</span>
<span>sudo</span> <span>virsh</span> net-start default <span># 激活</span>
<span>sudo</span> <span>virsh</span> net-autostart default <span># 设置自动启动</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br></div></div><p>这样就可以顺利进行使用了。</p>
<blockquote>
<p>或许后续我会补充Boxes的安装和使用教程。</p>
</blockquote>
<h3 id="ark打开zip压缩包出现中文乱码的解决方案"> Ark打开Zip压缩包出现中文乱码的解决方案</h3>
<p>执行如下指令即可：</p>
<div><pre><code>yay -S p7zip-natspec
<span># 中间会提示你是否要删除P7zip，选择是。</span>
</code></pre>
<div><span>1</span><br><span>2</span><br></div></div><p>然后打开Ark，点击菜单栏中的设置，单击配置Ark，然后取消勾选Libzip，并且要选中P7zip，保存设置并重启Ark即可。</p>
<h3 id="设置个性化开机自启动服务"> 设置个性化开机自启动服务</h3>
<blockquote>
<p>参考：<a href="https://github.com/MregXN/blogs/issues/2" target="_blank" rel="noopener noreferrer">Manjaro开机自启动脚本实现</a> <a href="https://wiki.archlinux.org/title/Systemd_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)#%E4%BF%AE%E6%94%B9%E7%8E%B0%E5%AD%98%E5%8D%95%E5%85%83%E6%96%87%E4%BB%B6" target="_blank" rel="noopener noreferrer">systemd</a> <a href="https://wiki.archlinux.org/title/Systemd_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)/User_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)#%E9%9A%8F%E7%B3%BB%E7%BB%9F%E8%87%AA%E5%8A%A8%E5%90%AF%E5%8A%A8_systemd_%E7%94%A8%E6%88%B7%E5%AE%9E%E4%BE%8B" target="_blank" rel="noopener noreferrer">systemd /User</a> <a href="http://www.ruanyifeng.com/blog/2016/03/systemd-tutorial-part-two.html" target="_blank" rel="noopener noreferrer">Systemd 入门教程：实战篇</a></p>
</blockquote>
<blockquote>
<p><code>systemd</code> <a href="https://www.freedesktop.org/software/systemd/man/systemd.unit.html" target="_blank" rel="noopener noreferrer">单元文件</a>的语法来源于 XDG 桌面项配置文件<code>.desktop</code>文件，最初的源头则是Microsoft Windows的<code>.ini</code>文件。单元文件可以从多个地方加载，<code>systemctl show --property=UnitPath</code> 可以按优先级从低到高显示加载目录：</p>
<ul>
<li>
<p><code>/usr/lib/systemd/system/</code> ：软件包安装的单元</p>
</li>
<li>
<p><code>/etc/systemd/system/</code> ：系统管理员安装的单元</p>
</li>
</ul>
<p align="right">——ArchWiki</p>
<p>systemd的文件主要存放在/usr/lib/systemd 目录中,有系统（system）和用户（user）之分</p>
<blockquote>
<p>/usr/lib/systemd/system/ #开机不登陆就能运行
/usr/lib/systemd/user/ #登陆后运行</p>
</blockquote>
<p>每一个服务以.service结尾，文件内一般会分为3部分：[Unit]、[Service]、[Install]</p>
<p>[Unit] 主要是对这个服务的说明，内容包括Description和After，Description用于描述服务，After用于描述服务类别</p>
<p>[Service] 是服务的关键，是服务的一些具体运行参数的设置，</p>
<blockquote>
<p>Type=forking是后台运行的形式，</p>
<p>PIDFile为存放PID的文件路径，</p>
<p>ExecStart为服务的具体运行命令，</p>
<p>ExecReload为重启命令，</p>
<p>ExecStop为停止命令，</p>
<p>PrivateTmp=True表示给服务分配独立的临时空间</p>
<p>注意：[Service]部分的启动、重启、停止命令全部要求使用绝对路径，使用相对路径则会报错！</p>
</blockquote>
<p>[Install] 是服务安装的相关设置，可设置为多用户的</p>
<p align="right">——MregXN</p>
</blockquote>
<p>对于语法问题，完全可以先看看该目录下的其他systemd单元文件，参照它们来写。</p>
<p>首先要准备好你希望每次开机都要启动的脚本，我姑且假设这个脚本名字叫做<code>supsys.sh</code></p>
<p>然后需要给这个脚本授予权限，执行<code>sudo chmod 0755 /path/supsys.sh</code></p>
<p>接着创建service文件，执行<code>sudo vim /usr/lib/systemd/system/supsys.service</code></p>
<p>输入如下样例：</p>
<div><pre><code>[Unit]
Description=run shell script

[Service]
ExecStart= /path/supsys.sh
Type = simple

[Install]
WantedBy=multi-user.target
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br></div></div><p>其他具体操作请查看ArchWiki。</p>
<p>保存退出后，就可以直接执行<code>sudo systemctl enable supsys.service</code>来达到你的开机自启动的目的。</p>
<h3 id="关于解决linux无法在某磁盘分区中创建写入修改删除文件-提示-只读文件系统的问题"> 关于解决Linux无法在某磁盘分区中创建写入修改删除文件，提示：只读文件系统的问题</h3>
<blockquote>
<p>参考：<a href="https://qastack.cn/ubuntu/47538/how-to-make-read-only-file-system-writable" target="_blank" rel="noopener noreferrer">Q&amp;A</a></p>
</blockquote>
<h4 id="怎么了"> 怎么了？</h4>
<p><img src="/images/Screenshot_20210525_230846.png" alt="" /></p>
<p>不知道做了什么，我在Windows系统下做了一些工作，回到主打Linux系统之后，偶然的一次我正要创建一个新项目，结果我发现我既删不掉一些无用的文件，也创建不了新的文件，当时我就很奇怪，怎么删不掉？结果用rm命令操作，提示：只读文件系统。我当时直接震惊。。。然后执行了<code>mount</code>命令来查看一下情况，结果发现：</p>
<p><img src="/images/2021-05-25_23-44.png" alt="" /></p>
<p>怎么本来应该是rw的结果变成了ro？</p>
<p><img src="/images/image_2021-05-25_23-38-33.png" alt="" /></p>
<h4 id="咋弄的"> 咋弄的？</h4>
<p>首先要说明一下，chmod命令实际上是不行的，chmod实际上是写的操作，在这样的问题下是行不通的。</p>
<p><strong>方案一</strong>：先卸载掉硬盘再重新挂载。</p>
<p>执行了<code>sudo umount /dev/nvme0n1p4</code>和<code>sudo mount -o remount,rw /dev/nvme0n1p4</code>两个命令发现</p>
<p><img src="/images/2021-05-25_23-46.png" alt="" /></p>
<p><strong>方案二</strong>：由于某些文件系统驱动程序也可能不支持写操作，Linux支持的较旧的NTFS模块就是这种情况。对于NTFS文件系统，应当使用<code>ntfs-3g</code>当今应自动选择的驱动程序。如果没有，可以执行<code>sudo mount -t ntfs-3g -o uid=$(id -u) /dev/nvme0n1p4 ~/Mydata</code>来强制驱动程序。</p>
<p>然而我执行后出现了如此情况：</p>
<p><img src="/images/2021-05-25_23-43.png" alt="" /></p>
<p><strong>方案三</strong>：最后我执行了这个方案，成功了。</p>
<p>执行<code>sudo ntfsfix /dev/nvme0n1p4</code>后出现如下提示：</p>
<p><img src="/images/2021-05-25_23-48.png" alt="" /></p>
<p>这说明执行成功，现在重启一下，你就会发现一切恢复正常。</p>
<h4 id="为啥啊"> 为啥啊？</h4>
<p>经过查询资料发现，是NTFS文件系统未正确卸载而导致文件系统被标记为已锁定，具体为何未正确卸载有可能是未正常关机。因此执行上面的指令重新修复该文件系统，即可达到解锁的目的，这时候就可以正常写入修改文件了。</p>
<h3 id="manjaro-qv2ray软件滚挂的解决方案"> Manjaro Qv2ray软件滚挂的解决方案</h3>
<p>从2021年5月开始，qv2ray就总是出现滚挂的问题，动辄提示缺少某一组件，经过我长时间的搜索以及思考，终于确认，问题的根源在于Manjaro更新和Qv2ray更新步调不一致，Qv2ray明显要更超前一些。而6月5日的今天又滚挂了，我一气之下就直接解决这个头痛的问题：</p>
<div><pre><code><span>sudo</span> pacman -S downgrade
<span># 一般情况下各位的电脑上是没有这个工具的</span>
<span>sudo</span> downgrade qv2ray
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br></div></div><p>执行完毕就reboot一下，我们就可以看到熟悉的Qv2ray又回来了！</p>
<p>这个指令执行完之后会向你询问是否要忽略更新该软件？我直接一刀解千愁，输入了y。</p>
<h3 id="manjaro-qv2ray滚挂的彻底解决方案"> Manjaro Qv2ray滚挂的彻底解决方案</h3>
<p>2021年10月22日22:47，我最终向大佬寻求了援助，终于学到了为何它会滚挂的原因了，并且问题也顺利解决了！</p>
<h4 id="原因"> 原因？</h4>
<p>其实原因并不复杂，在安装软件的时候系统会自动安装它所需的运行依赖库。软件在安装运行依赖库有两个行为，一种是刚刚提到的——由系统在固定的依赖库目录里安装好相关依赖库并写入环境变量，后在安装的软件这里建立且仅建立一次软链接来连接依赖库；另外一种行为则是——直接将依赖库安装到软件目录内，然后由软件内部直接通过相对路径访问。似乎两种方式看起来没什么问题，但实际上问题就会出现在这里。按理说软件都会直接访问相对路径里设置好的软链接，借此连接到所需的依赖库这里，然后再执行后续操作。</p>
<p>为了解释方便，我暂且称某软件A安装时是采用第一种行为安装依赖库的，某软件B是采用第二种行为安装依赖库的，两者都同样需要同一个依赖库C。如果不巧的是你先安装了软件B，包管理器就会循规蹈矩地将依赖库直接安装到软件目录里，并且认为该依赖库C已经完成安装。当你再安装软件A的时候，包管理器进行检测环节（检测是否已经安装相关依赖）时就会跳过安装依赖库C，自然也跳过了软链接的建立，就直接安装了软件A。</p>
<p>看到了吗？这时软件A必出问题，因为软件A没有软链接，而且依赖库也不在系统固定的依赖库内！</p>
<h4 id="解决"> 解决！</h4>
<p>弄明白原因，自然知道应该如何去解决了～</p>
<p>做法其实非常简单，就是先把它需要的且你已经安装好的依赖库都先卸载掉，然后再安装这个出问题的软件，一切自然就会完整解决。如果不巧的是这个依赖好多软件都在用，你可以尝试先记下来这些软件后一个个卸载掉，再尝试安装出问题的软件，最后再装回来那些卸载掉的软件。</p>
<h3 id="manjaro-清理"> Manjaro 清理</h3>
<p>系统用久了总是会产生特别多的垃圾，上周我尝试装DataSpell的时候失败了，原因就是磁盘空间不足，接着我在Filelight里看到<code>~/.cache</code>文件夹占据空间特别大，30G+！又联系到我在计组学到的cache区域的相关知识，我就脑抽了一下，既然cache是那个作用，那我删掉应该是没事的吧？于是我直接执行了</p>
<div><pre><code><span>sudo</span> <span>rm</span> -rf ~/.cache
</code></pre>
<div><span>1</span><br></div></div><p>然后就悲剧了……</p>
<blockquote>
<p>.cache目录存放的不止是缓存文件，它还会包含你设置的个性化页面配置和一些软件内你设定好的配置，删掉这个文件夹意味着这些东西你都要重新再配置一次……</p>
</blockquote>
<p>经过与大佬交流，我再搜索了一些资料，最后整理出了Manjaro的正确清理方案：</p>
<div><pre><code><span>sudo</span> pacman -Scc <span># 清除掉pacman的无用安装包</span>
yay -Scc <span># 清除掉yay的无用安装包</span>
<span>sudo</span> pacman -R <span><span>$(</span>pacman -Qdtq<span>)</span></span> <span># 清除掉无用的依赖</span>
<span>sudo</span> journalctl --vacuum-size<span>=</span>50M <span># 只保留50M大小的日志。</span>
<span># 当然你也可以使用 sudo journalctl --vacuum-time=1w，这样就是只保留最近一周的日志。</span>
<span>sudo</span> <span>rm</span> /var/lib/systemd/coredump/* <span># 清除掉崩溃日志内容</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br></div></div><p>当然如果你经常清理且你很不喜欢每一次都要写这么多指令，你完全可以写一个半自动甚至全自动清理的脚本！</p>
<table><tr><td bgcolor=#FF6347><center><font color="#000000" size=5><strong>注意：</strong>你不应该在确认系统完全稳定不会出现任何问题之前进行清理，<br>否则当你尝试回退版本的时候你会发现事情会变得特别麻烦，<br>甚至有时候似乎就已经<font size=7>无  路  可  走</font>…………</font></center></td></tr></table>
<h2 id="proxychains无法正常代理"> Proxychains无法正常代理</h2>
<p>不知什么时候开始，我就已经无法使用proxychains来给终端走代理，结果yay也好，pacman也罢，都无法正常安装一些软件，搞人心态爆炸。</p>
<p>最终解决方案是编辑/etc/proxychains.conf文件的配置，将<code>proxy_dns</code>这一行直接注释掉，然后一切使用正常，因此可以确定是DNS污染导致的问题。</p>
<h2 id="最近突然发现你的网卡了很多"> 最近突然发现你的网卡了很多</h2>
<p>我目前是一直在使用移动的网，当我和大佬调侃的时候吐槽过移动的网速和华为笔记本的网卡质量，但他在使用我的电脑时居然很惊讶为什么移动网会这么慢，就马上给我看看是怎么回事，然后……就真的发现了问题，是我错怪了移动和华为…………</p>
<table><tr><td bgcolor=#FF6347><center><font color="#000000" size=5>原来问题是出现在镜像源这里的！</font></center></td></tr></table>
<p>于是我们开始进入了修复……</p>
<blockquote>
<p>因为前面已经确认过滚挂不是archlinuxcn的过，我就又把它安装回来了。</p>
</blockquote>
<p>首先查看pacman的配置文件<code>sudo vim /etc/pacman.conf</code>后：</p>
<div><pre><code><span>[</span>core<span>]</span>
SigLevel = PackageRequired
Include = /etc/pacman.d/mirrorlist

<span>[</span>extra<span>]</span>
SigLevel = PackageRequired
Include = /etc/pacman.d/mirrorlist

<span>[</span>community<span>]</span>
SigLevel = PackageRequired
Include = /etc/pacman.d/mirrorlist

<span># If you want to run 32 bit applications on your x86_64 system,</span>
<span># enable the multilib repositories as required here.</span>

<span>[</span>multilib<span>]</span>
SigLevel = PackageRequired
Include = /etc/pacman.d/mirrorlist

<span># An example of a custom package repository.  See the pacman manpage for</span>
<span># tips on creating your own repositories.</span>
<span>#[custom]</span>
<span>#SigLevel = Optional TrustAll</span>
<span>#Server = file:///home/custompkgs</span>

<span>#[archlinuxcn]</span>
<span>#SigLevel = Optional TrustAll</span>
<span>#Server = https://mirrors.aliyun.com/archlinuxcn/$arch</span>

<span>#[archlinuxfr]</span>
<span>#SigLevel = Never</span>
<span>#Server = http://repo.archlinux.fr/$arch</span>

<span>[</span>archlinuxcn<span>]</span>
SigLevel = Optional TrustedOnly
<span>#阿里源</span>
Server = https<span>:</span>//mirrors.aliyun.com/archlinuxcn/$arch
<span>#清华源</span>
Server = http<span>:</span>//mirrors.tuna.tsinghua.edu.cn/archlinuxcn/$arch
<span>#中科大源</span>
Server = https<span>:</span>//mirrors.ustc.edu.cn/archlinuxcn/$arch
<span>#163</span>
Server = http<span>:</span>//mirrors.163.com/archlinux<span>-</span>cn/$arch
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br><span>18</span><br><span>19</span><br><span>20</span><br><span>21</span><br><span>22</span><br><span>23</span><br><span>24</span><br><span>25</span><br><span>26</span><br><span>27</span><br><span>28</span><br><span>29</span><br><span>30</span><br><span>31</span><br><span>32</span><br><span>33</span><br><span>34</span><br><span>35</span><br><span>36</span><br><span>37</span><br><span>38</span><br><span>39</span><br><span>40</span><br><span>41</span><br><span>42</span><br><span>43</span><br></div></div><p>因为我们关注的是pacman源的问题，所以我们又执行<code>sudo vim /etc/pacman.d/mirrorlist</code>来查看内容：</p>
<div><pre><code><span>##</span>
<span>## Manjaro Linux custom mirrorlist</span>
<span>## Generated on 2021-10-21 14:28</span>
<span>##</span>
<span>## Please use 'pacman-mirrors -id' To reset custom mirrorlist</span>
<span>## Please use 'pacman-mirrors -c all' To reset custom mirrorlist</span>
<span>## To remove custom config run  'pacman-mirrors -c all'</span>
<span>##</span>

<span>## Country : China</span>
Server = https<span>:</span>//mirrors.huaweicloud.com/manjaro/stable/$repo/$arch
<span>## Country : China</span>
Server = https<span>:</span>//mirrors.aliyun.com/manjaro/stable/$repo/$arch
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br></div></div><p>于是我们发现，是这里运行的网速太差，于是注释掉了第一个Sever「没注释掉第二个Sever是因为注释掉的话后续进行更新会导致无法找到源」，后面我自己又做了一次整理，最终得到如下的配置信息：</p>
<div><pre><code><span>##</span>
<span>## Manjaro Linux custom mirrorlist</span>
<span>## Generated on 2021-10-21 14:28</span>
<span>##</span>
<span>## Please use 'pacman-mirrors -id' To reset custom mirrorlist</span>
<span>## Please use 'pacman-mirrors -c all' To reset custom mirrorlist</span>
<span>## To remove custom config run  'pacman-mirrors -c all'</span>
<span>##</span>

<span>## Country : China</span>
<span>#Server = https://mirrors.huaweicloud.com/manjaro/stable/$repo/$arch</span>
<span>## Country : China</span>
Server = https<span>:</span>//mirrors.aliyun.com/manjaro/stable/$repo/$arch
<span>## 中科大</span>
Server = https<span>:</span>//mirrors.ustc.edu.cn/manjaro/stable/$repo/$arch
<span>##  清华大学</span>
Server = https<span>:</span>//mirrors.tuna.tsinghua.edu.cn/manjaro/stable/$repo/$arch
<span>## 上海交通大学</span>
Server = https<span>:</span>//mirrors.sjtug.sjtu.edu.cn/manjaro/stable/$repo/$arch
<span>## 浙江大学</span>
Server = https<span>:</span>//mirrors.zju.edu.cn/manjaro/stable/$repo/$arch
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br><span>18</span><br><span>19</span><br><span>20</span><br><span>21</span><br></div></div><p>再接着更换一下yay的aur源，执行<code>yay --aururl &quot;https://aur.tuna.tsinghua.edu.cn&quot; --save</code>。</p>
<h3 id="这里发生了小插曲"> 这里发生了小插曲</h3>
<p>当我尝试使用<code>yay -Ss xxx</code>的时候提示了如下的报错：</p>
<div><pre><code> -<span>></span> error during AUR search: failed to create request: parse <span>"“https://aur.tuna.tsinghua.edu.cn”/rpc.php?arg=icalingua&amp;by=name-desc&amp;type=search&amp;v=5"</span><span>:</span> first path segment <span>in</span> URL cannot contain colon
 -<span>></span> Showing repo packages only
</code></pre>
<div><span>1</span><br><span>2</span><br></div></div><p>我百思不得其解，于是觉得有必要看看文件配置是怎么回事，执行了<code>yay -P -g</code>来查看具体的配置信息：</p>
<div><pre><code><span>{</span>
        <span>"aururl"</span><span>:</span> <span>"“https://aur.tuna.tsinghua.edu.cn”"</span><span>,</span>
        <span>"buildDir"</span><span>:</span> <span>"/home/breeze_shane/.cache/yay"</span><span>,</span>
        <span>"editor"</span><span>:</span> <span>""</span><span>,</span>
        <span>"editorflags"</span><span>:</span> <span>""</span><span>,</span>
        <span>"makepkgbin"</span><span>:</span> <span>"makepkg"</span><span>,</span>
        <span>"makepkgconf"</span><span>:</span> <span>""</span><span>,</span>
        <span>"pacmanbin"</span><span>:</span> <span>"pacman"</span><span>,</span>
        <span>"pacmanconf"</span><span>:</span> <span>"/etc/pacman.conf"</span><span>,</span>
        <span>"redownload"</span><span>:</span> <span>"no"</span><span>,</span>
        <span>"rebuild"</span><span>:</span> <span>"no"</span><span>,</span>
        <span>"answerclean"</span><span>:</span> <span>""</span><span>,</span>
        <span>"answerdiff"</span><span>:</span> <span>""</span><span>,</span>
        <span>"answeredit"</span><span>:</span> <span>""</span><span>,</span>
        <span>"answerupgrade"</span><span>:</span> <span>""</span><span>,</span>
        <span>"gitbin"</span><span>:</span> <span>"git"</span><span>,</span>
        <span>"gpgbin"</span><span>:</span> <span>"gpg"</span><span>,</span>
        <span>"gpgflags"</span><span>:</span> <span>""</span><span>,</span>
        <span>"mflags"</span><span>:</span> <span>""</span><span>,</span>
        <span>"sortby"</span><span>:</span> <span>"votes"</span><span>,</span>
        <span>"searchby"</span><span>:</span> <span>"name-desc"</span><span>,</span>
        <span>"gitflags"</span><span>:</span> <span>""</span><span>,</span>
        <span>"removemake"</span><span>:</span> <span>"ask"</span><span>,</span>
        <span>"sudobin"</span><span>:</span> <span>"sudo"</span><span>,</span>
        <span>"sudoflags"</span><span>:</span> <span>""</span><span>,</span>
        <span>"requestsplitn"</span><span>:</span> <span>150</span><span>,</span>
        <span>"sortmode"</span><span>:</span> <span>0</span><span>,</span>
        <span>"completionrefreshtime"</span><span>:</span> <span>7</span><span>,</span>
        <span>"sudoloop"</span><span>:</span> <span>false</span><span>,</span>
        <span>"timeupdate"</span><span>:</span> <span>false</span><span>,</span>
        <span>"devel"</span><span>:</span> <span>false</span><span>,</span>
        <span>"cleanAfter"</span><span>:</span> <span>false</span><span>,</span>
        <span>"provides"</span><span>:</span> <span>true</span><span>,</span>
        <span>"pgpfetch"</span><span>:</span> <span>true</span><span>,</span>
        <span>"upgrademenu"</span><span>:</span> <span>true</span><span>,</span>
        <span>"cleanmenu"</span><span>:</span> <span>true</span><span>,</span>
        <span>"diffmenu"</span><span>:</span> <span>true</span><span>,</span>
        <span>"editmenu"</span><span>:</span> <span>false</span><span>,</span>
        <span>"combinedupgrade"</span><span>:</span> <span>false</span><span>,</span>
        <span>"useask"</span><span>:</span> <span>false</span><span>,</span>
        <span>"batchinstall"</span><span>:</span> <span>false</span>
<span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br><span>18</span><br><span>19</span><br><span>20</span><br><span>21</span><br><span>22</span><br><span>23</span><br><span>24</span><br><span>25</span><br><span>26</span><br><span>27</span><br><span>28</span><br><span>29</span><br><span>30</span><br><span>31</span><br><span>32</span><br><span>33</span><br><span>34</span><br><span>35</span><br><span>36</span><br><span>37</span><br><span>38</span><br><span>39</span><br><span>40</span><br><span>41</span><br><span>42</span><br></div></div><p>然后……我看到，第二行这里怪怪的，写的是<code>&quot;“https://aur.tuna.tsinghua.edu.cn”&quot;</code>，我立即去查询历史执行命令了，执行<code>history | grep aur</code>，果不其然，我看到了这个历史指令，笑掉大牙：</p>
<div><pre><code>yay --aururl “https://aur.tuna.tsinghua.edu.cn” --save
</code></pre>
<div><span>1</span><br></div></div><p>原来是中文引号混进里面去了……重新修改一下命令执行就好了：</p>
<div><pre><code>yay --aururl <span>"https://aur.tuna.tsinghua.edu.cn"</span> --save
</code></pre>
<div><span>1</span><br></div></div><p>这回yay就可以正常访问AUR源了。</p>
<p>如今我又重回巅峰，由原来的50KB/s左右的速度一下子飙升到10MB/s的速度！在这里非常感谢大佬！</p>
<h2 id="偶尔看到的一些骚操作"> 偶尔看到的一些骚操作</h2>
<p>看见有人针对JB全家桶收费问题提出了一个方案：采用无限期试用</p>
<div><pre><code><span>sudo</span> <span>rm</span> -rf ~/.PhpStorm2019.3/config/eval
<span>sudo</span> <span>rm</span> -rf ~/.WebStorm2019.3/config/eval
<span># 此处以phpstorm为例</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br></div></div><h2 id="近期有感"> 近期有感</h2>
<p>从2021年10月份开始，我就发现原先很好的Manjaro现在感觉变得不好了，近期遇到的问题特别多，基本上每次更新必然滚挂，而且各种各样的奇怪问题都发生了。</p>
<p>第一大问题是<strong>Qv2ray风波</strong>，这个问题目前已基本解决。今年4月份Qv2ray内部就已经产生了矛盾，持续了四个月，到8月份的时候该项目已经停止维护了。我也多少受到了影响，每一次系统更新Qv2ray都必然滚挂一回，具体的解决办法已在前面的<strong>Manjaro Qv2ray滚挂的彻底解决方案</strong>这一章节写过了，此处就不再赘述。如今我已经设置忽略Qv2ray更新了。</p>
<p>第二大问题是<strong>显示器扩展问题</strong>，这个问题我已经忍了很久，到现在一直没办法彻底修复，甚至连问题出现在哪里都没能真正了解清楚。经过我花较长时间使用各种方式排查，已经排除掉硬件问题， 问题已经可以确定是出现在系统配置这里的。每一次的短暂修复都只是治标不治本，我也发现，其中修复的方式多是通过回退系统内核来完成，因此很难不怀疑问题就出现在系统内核这里。个人分析认为和GCC更新有比较大的关系：更新GCC导致重新编译后的系统内核较之前的兼容性要差一些，其他项目软件还未来得及做好适配。其中NVIDIA驱动的问题最突出，经过<code>sudo journalctl -f</code>和<code>nvidia-smi stats</code>这两个命令检查之后发现，有几次是插入HDMI后显卡有一点相应但后来索性没有反应，又有几次是完全无响应，表现的问题很奇怪，但大概率是驱动和内核没有做好兼容性适配。修复的方法也很玄学，是使用一个外来的正常系统接入电脑启动后就表现正常，即使后来再回到本机系统也是如此。无独有偶，VirtualBox也遇到了问题，经过系统更新后无法启动原有的虚拟机，也正是因为内核发生了某种变化导致设备UUID发生了变动，从而导致VirtualBox不能通过权限检查，久久修复无果，只好<code>/remake</code>......</p>
<p>出现的这些问题很耽误工作，也很影响心情，它现在令我很不满，因此我也很快就要弃掉Manjaro转到其它的Linux发行版了。</p>
<p>我是喜欢折腾，但是我不喜欢在有事要忙的时候还不得不为这些问题折腾，我需要的是一个稳定高效的Linux。</p>
]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2021-01-17T11:23:18.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">Manjaro Linux</title>
    <id>https://breezeshane.github.io/Linux/PrivateNetdiskBuilding/</id>
    <link href="https://breezeshane.github.io/Linux/PrivateNetdiskBuilding/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<h2 id="记一次局域网搭建私人云盘的过程"> 记一次局域网搭建私人云盘的过程</h2>
<blockquote>
<p><strong>参考连接</strong>：<a href="https://www.wo66.cc/archives/docker%E9%83%A8%E7%BD%B2nextcloud%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA%E7%A7%81%E6%9C%89%E4%BA%91%E7%9B%98" target="_blank" rel="noopener noreferrer">Docker 部署 Nextcloud，快速搭建私有云盘</a></p>
</blockquote>
<h3 id="过程"> 过程</h3>
<p>在搭建之前应该已经准备好了虚拟内网的相关配置，并且能够保证正常使用。「如果还没有的话请看<a href="./ZeroTier-One安装与使用.html">这篇</a>」另外，本篇搭建私人云需要使用Docker来进行。</p>
<p>搭建基于NextCloud的私人云需要使用docker安装NextCloud、MySQL以及Redis。因此需要在下面执行命令：<code>docker pull nextcloud mysql redis</code>来从官方获取镜像。</p>
<p>这时你要<strong>定好网盘主体的存放位置在哪</strong>，为了便于表述，我们使用<code>$MAIN</code>来表示这个地址。</p>
<div><pre><code><span>cd</span> <span>$MAIN</span>
<span>mkdir</span> MySQL-Database
<span>mkdir</span> Redis
<span>mkdir</span> NextCloud

docker run -d -p <span>33306</span>:3306 <span>\</span>                                                                          
--privileged<span>=</span>true --name mysql <span>\</span>
-v <span>$MAIN</span>/MySQL-Database:/var/lib/mysql <span>\</span>
-e <span>MYSQL_ROOT_PASSWORD</span><span>=</span>XXXXXXX <span>\</span>
mysql

<span>wget</span> -P <span>$MAIN</span>/Redis http://download.redis.io/redis-stable/redis.conf

docker run -d -p <span>65379</span>:6379 <span>\</span>                                                                    
--privileged<span>=</span>true --name redis <span>\</span>
-v <span>$MAIN</span>/Redis/redis.conf:/etc/redis/redis.conf <span>\</span>
-v <span>$MAIN</span>/Redis/data:/data  <span>\</span>                       
redis redis-server /etc/redis/redis.conf --appendonly <span>yes</span>
<span># --requirepass 'redis637 ## 这行代码是用来设定密码的</span>

docker run -d -p <span>8088</span>:80 <span>\</span>                                                                       
--name nextcloud <span>\</span>              
--restart<span>=</span>always <span>\</span>
-v <span>$MAIN</span>/NextCloud/html:/var/www/html <span>\</span>          
-v <span>$MAIN</span>/NextCloud/apps:/var/www/html/custom_apps <span>\</span>
-v <span>$MAIN</span>/NextCloud/config:/var/www/html/config <span>\</span>
-v <span>$MAIN</span>/NextCloud/data:/var/www/html/data <span>\</span>
-v <span>$MAIN</span>/NextCloud/theme:/var/www/html/themes <span>\</span>
--link mysql:mysql <span>\</span>
--link redis:redis <span>\</span>
nextcloud
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br><span>18</span><br><span>19</span><br><span>20</span><br><span>21</span><br><span>22</span><br><span>23</span><br><span>24</span><br><span>25</span><br><span>26</span><br><span>27</span><br><span>28</span><br><span>29</span><br><span>30</span><br><span>31</span><br></div></div><p>执行完以上步骤之后就可以正常使用NextCloud了，通过<code>http://localhost:8088</code>来访问即可。</p>
<p>应该注意的是，第一次使用的时候会提示创建管理员帐号以及配置数据库连接，管理员用户名和密码还好说，数据库连接的话，<strong>第一空</strong>写的是数据库内用户名，在本次安装配置中数据库内用户名是用户root。<strong>第三空</strong>写的是数据库名称，在本次安装配置中应该是nextcloud，这和你设置的参数name有关。<strong>第四空</strong>写的是mysql，因为docker创建nextcloud时已经执行了命令<code>--link mysql:mysql</code>，和<code>:</code>后面的<code>mysql</code>有关。</p>
<h3 id="还没结束"> 还没结束</h3>
<p>仅仅到这里你的设备是无法登录的，因为设备的ip都没有被信任，因而不能直接连接。由于本次配置目的是在局域网中能自由使用。那么可以直接开放访问，因为在家庭中没必要特意部署安全攻防工具。要做的是：</p>
<div><pre><code><span>cd</span> <span>$MAIN</span>
<span>sudo</span> <span>vim</span> ./NextCloud/config/config.php
</code></pre>
<div><span>1</span><br><span>2</span><br></div></div><p>然后在这里需要修改<code>trusted_domains</code>这一项，添加：</p>
<div><pre><code><span>XXX</span> <span>=></span> <span>preg_match</span><span>(</span><span>'/cli/i'</span><span>,</span><span>php_sapi_name</span><span>(</span><span>)</span><span>)</span><span>?</span><span>'127.0.0.1'</span><span>:</span><span>$_SERVER</span><span>[</span><span>'SERVER_NAME'</span><span>]</span><span>,</span>
</code></pre>
<div><span>1</span><br></div></div><p>其中XXX表示代号。添加的这一行也是表示接受任何访问，这个在家里使用是完全够用的。</p>
<p>当然如果不希望这样做，你也可以直接手动添加IP地址，即：</p>
<div><pre><code><span>XXX</span> <span>=></span> <span>'xxx.xxx.xxx.xxx'</span><span>,</span>
</code></pre>
<div><span>1</span><br></div></div><h3 id="「注意」"> 「注意」</h3>
<p>上面的docker命令中各参数的含义如下：</p>
<blockquote>
<ol>
<li>run：创建一个容器并运行。</li>
<li>-d：后台挂起，返回容器ID。</li>
<li>-p：端口映射，从宿主机映射到容器机，<code>:</code>左为宿主机，右为容器机。</li>
<li>--privileged：true/false决定容器内root有无宿主机root权限。</li>
<li>--name：为容器指定名称。</li>
<li>-v：目录映射，格式与参数<code>-p</code>相似，通过该参数可以将数据持久化到指定的宿主机目录下，容器重启时数据不会丢失。</li>
<li>-e：设置环境变量</li>
<li>--link：连接到已安装的容器，使用后可将mysql和redis用作主机名了。</li>
</ol>
</blockquote>
]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2021-01-17T11:23:18.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">Linux Shell 编程学习与实战</title>
    <id>https://breezeshane.github.io/Linux/Shells/</id>
    <link href="https://breezeshane.github.io/Linux/Shells/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<h2 id="模拟输入组合键ctrl-anykey"> 模拟输入组合键<kbd>Ctrl</kbd>+<kbd>AnyKey</kbd></h2>
<p>在<a href="./AutoIAC.html">上一篇笔记</a>中我提到没能将输入内容送入指定的进程PID，但在了解到这一点之前我学到了如下的一些内容：</p>
<div><pre><code><span>echo</span> <span>$$</span> <span># 这个是显示当前进程的PID。</span>
<span>echo</span> <span>$1</span> <span># 这个是表示执行脚本时输入的第1个参数</span>
</code></pre>
<div><span>1</span><br><span>2</span><br></div></div><p>特别地，对于命令<code>echo $'\&lt;CODE&gt;'</code>有如下的对应：</p>
<ul>
<li><code>\001</code> ==&gt; <kbd>Ctrl</kbd>+<kbd>A</kbd></li>
<li><code>\002</code> ==&gt; <kbd>Ctrl</kbd>+<kbd>B</kbd></li>
<li><code>\003</code> ==&gt; <kbd>Ctrl</kbd>+<kbd>C</kbd></li>
<li><code>\004</code> ==&gt; <kbd>Ctrl</kbd>+<kbd>D</kbd></li>
<li><code>\005</code> ==&gt; <kbd>Ctrl</kbd>+<kbd>E</kbd></li>
<li><code>\006</code> ==&gt; <kbd>Ctrl</kbd>+<kbd>F</kbd></li>
<li><code>\007</code> ==&gt; <kbd>Ctrl</kbd>+<kbd>G</kbd></li>
<li><code>\010</code> ==&gt; <kbd>Ctrl</kbd>+<kbd>H</kbd></li>
<li><code>\011</code> ==&gt; <kbd>Ctrl</kbd>+<kbd>I</kbd></li>
<li><code>\012</code> ==&gt; <kbd>Ctrl</kbd>+<kbd>J</kbd></li>
<li><code>\013</code> ==&gt; <kbd>Ctrl</kbd>+<kbd>K</kbd></li>
<li><code>\014</code> ==&gt; <kbd>Ctrl</kbd>+<kbd>L</kbd></li>
<li><code>\015</code> ==&gt; <kbd>Ctrl</kbd>+<kbd>M</kbd></li>
<li><code>\016</code> ==&gt; <kbd>Ctrl</kbd>+<kbd>N</kbd></li>
<li><code>\017</code> ==&gt; <kbd>Ctrl</kbd>+<kbd>O</kbd></li>
<li><code>\020</code> ==&gt; <kbd>Ctrl</kbd>+<kbd>P</kbd></li>
<li><code>\021</code> ==&gt; <kbd>Ctrl</kbd>+<kbd>Q</kbd></li>
<li><code>\022</code> ==&gt; <kbd>Ctrl</kbd>+<kbd>R</kbd></li>
<li><code>\023</code> ==&gt; <kbd>Ctrl</kbd>+<kbd>S</kbd></li>
<li><code>\024</code> ==&gt; <kbd>Ctrl</kbd>+<kbd>T</kbd></li>
<li><code>\025</code> ==&gt; <kbd>Ctrl</kbd>+<kbd>U</kbd></li>
<li><code>\026</code> ==&gt; <kbd>Ctrl</kbd>+<kbd>V</kbd></li>
<li><code>\027</code> ==&gt; <kbd>Ctrl</kbd>+<kbd>W</kbd></li>
<li><code>\030</code> ==&gt; <kbd>Ctrl</kbd>+<kbd>X</kbd></li>
<li><code>\031</code> ==&gt; <kbd>Ctrl</kbd>+<kbd>Y</kbd></li>
<li><code>\032</code> ==&gt; <kbd>Ctrl</kbd>+<kbd>Z</kbd></li>
</ul>
<p>在写上面的映射表时我嫌一个一个打太麻烦，于是搜索了好多资料，最后成功使用了Shell命令来实现循环输出字符，执行：</p>
<div><pre><code><span>paste</span> <span>&lt;</span><span>(</span><span>seq</span> <span>1</span> <span>26</span><span>)</span> <span>&lt;</span><span>(</span><span>echo</span> -e <span>"A<span title="\n">\n</span>B<span title="\n">\n</span>C<span title="\n">\n</span>D<span title="\n">\n</span>E<span title="\n">\n</span>F<span title="\n">\n</span>G<span title="\n">\n</span>H<span title="\n">\n</span>I<span title="\n">\n</span>J<span title="\n">\n</span>K<span title="\n">\n</span>L<span title="\n">\n</span>M<span title="\n">\n</span>N<span title="\n">\n</span>O<span title="\n">\n</span>P<span title="\n">\n</span>Q<span title="\n">\n</span>R<span title="\n">\n</span>S<span title="\n">\n</span>T<span title="\n">\n</span>U<span title="\n">\n</span>V<span title="\n">\n</span>W<span title="\n">\n</span>X<span title="\n">\n</span>Y<span title="\n">\n</span>Z"</span><span>)</span> <span>|</span>  <span>while</span> <span>read</span> num char<span>;</span> <span>do</span> <span>printf</span> <span>" - \<span><span>`</span><span>\</span>%03o<span>\</span><span>`</span></span> ==> &lt;kbd>Ctrl&lt;/kbd>+&lt;kbd><span>$char</span>&lt;/kbd><span title="\n">\n</span>"</span> <span>$num</span><span>;</span> <span>done</span>
</code></pre>
<div><span>1</span><br></div></div><p>该命令的含义是将数字1-26和字母A-Z分别一一绑定，输入到后面的while循环中的两个变量<code>num</code>和<code>char</code>，然后按照该格式打出，执行该命令后会得到这个输出：</p>
<div><pre><code> - <span><span>`</span><span>\</span>001<span>`</span></span> <span>==</span><span>></span> <span>&lt;</span>kbd<span>></span>Ctrl<span>&lt;</span>/kbd<span>></span>+<span>&lt;</span>kbd<span>></span>A<span>&lt;</span>/kbd<span>></span>
 - <span><span>`</span><span>\</span>002<span>`</span></span> <span>==</span><span>></span> <span>&lt;</span>kbd<span>></span>Ctrl<span>&lt;</span>/kbd<span>></span>+<span>&lt;</span>kbd<span>></span>B<span>&lt;</span>/kbd<span>></span>
 - <span><span>`</span><span>\</span>003<span>`</span></span> <span>==</span><span>></span> <span>&lt;</span>kbd<span>></span>Ctrl<span>&lt;</span>/kbd<span>></span>+<span>&lt;</span>kbd<span>></span>C<span>&lt;</span>/kbd<span>></span>
 - <span><span>`</span><span>\</span>004<span>`</span></span> <span>==</span><span>></span> <span>&lt;</span>kbd<span>></span>Ctrl<span>&lt;</span>/kbd<span>></span>+<span>&lt;</span>kbd<span>></span>D<span>&lt;</span>/kbd<span>></span>
 - <span><span>`</span><span>\</span>005<span>`</span></span> <span>==</span><span>></span> <span>&lt;</span>kbd<span>></span>Ctrl<span>&lt;</span>/kbd<span>></span>+<span>&lt;</span>kbd<span>></span>E<span>&lt;</span>/kbd<span>></span>
 - <span><span>`</span><span>\</span>006<span>`</span></span> <span>==</span><span>></span> <span>&lt;</span>kbd<span>></span>Ctrl<span>&lt;</span>/kbd<span>></span>+<span>&lt;</span>kbd<span>></span>F<span>&lt;</span>/kbd<span>></span>
 - <span><span>`</span><span>\</span>007<span>`</span></span> <span>==</span><span>></span> <span>&lt;</span>kbd<span>></span>Ctrl<span>&lt;</span>/kbd<span>></span>+<span>&lt;</span>kbd<span>></span>G<span>&lt;</span>/kbd<span>></span>
 - <span><span>`</span><span>\</span>010<span>`</span></span> <span>==</span><span>></span> <span>&lt;</span>kbd<span>></span>Ctrl<span>&lt;</span>/kbd<span>></span>+<span>&lt;</span>kbd<span>></span>H<span>&lt;</span>/kbd<span>></span>
 - <span><span>`</span><span>\</span>011<span>`</span></span> <span>==</span><span>></span> <span>&lt;</span>kbd<span>></span>Ctrl<span>&lt;</span>/kbd<span>></span>+<span>&lt;</span>kbd<span>></span>I<span>&lt;</span>/kbd<span>></span>
 - <span><span>`</span><span>\</span>012<span>`</span></span> <span>==</span><span>></span> <span>&lt;</span>kbd<span>></span>Ctrl<span>&lt;</span>/kbd<span>></span>+<span>&lt;</span>kbd<span>></span>J<span>&lt;</span>/kbd<span>></span>
 - <span><span>`</span><span>\</span>013<span>`</span></span> <span>==</span><span>></span> <span>&lt;</span>kbd<span>></span>Ctrl<span>&lt;</span>/kbd<span>></span>+<span>&lt;</span>kbd<span>></span>K<span>&lt;</span>/kbd<span>></span>
 - <span><span>`</span><span>\</span>014<span>`</span></span> <span>==</span><span>></span> <span>&lt;</span>kbd<span>></span>Ctrl<span>&lt;</span>/kbd<span>></span>+<span>&lt;</span>kbd<span>></span>L<span>&lt;</span>/kbd<span>></span>
 - <span><span>`</span><span>\</span>015<span>`</span></span> <span>==</span><span>></span> <span>&lt;</span>kbd<span>></span>Ctrl<span>&lt;</span>/kbd<span>></span>+<span>&lt;</span>kbd<span>></span>M<span>&lt;</span>/kbd<span>></span>
 - <span><span>`</span><span>\</span>016<span>`</span></span> <span>==</span><span>></span> <span>&lt;</span>kbd<span>></span>Ctrl<span>&lt;</span>/kbd<span>></span>+<span>&lt;</span>kbd<span>></span>N<span>&lt;</span>/kbd<span>></span>
 - <span><span>`</span><span>\</span>017<span>`</span></span> <span>==</span><span>></span> <span>&lt;</span>kbd<span>></span>Ctrl<span>&lt;</span>/kbd<span>></span>+<span>&lt;</span>kbd<span>></span>O<span>&lt;</span>/kbd<span>></span>
 - <span><span>`</span><span>\</span>020<span>`</span></span> <span>==</span><span>></span> <span>&lt;</span>kbd<span>></span>Ctrl<span>&lt;</span>/kbd<span>></span>+<span>&lt;</span>kbd<span>></span>P<span>&lt;</span>/kbd<span>></span>
 - <span><span>`</span><span>\</span>021<span>`</span></span> <span>==</span><span>></span> <span>&lt;</span>kbd<span>></span>Ctrl<span>&lt;</span>/kbd<span>></span>+<span>&lt;</span>kbd<span>></span>Q<span>&lt;</span>/kbd<span>></span>
 - <span><span>`</span><span>\</span>022<span>`</span></span> <span>==</span><span>></span> <span>&lt;</span>kbd<span>></span>Ctrl<span>&lt;</span>/kbd<span>></span>+<span>&lt;</span>kbd<span>></span>R<span>&lt;</span>/kbd<span>></span>
 - <span><span>`</span><span>\</span>023<span>`</span></span> <span>==</span><span>></span> <span>&lt;</span>kbd<span>></span>Ctrl<span>&lt;</span>/kbd<span>></span>+<span>&lt;</span>kbd<span>></span>S<span>&lt;</span>/kbd<span>></span>
 - <span><span>`</span><span>\</span>024<span>`</span></span> <span>==</span><span>></span> <span>&lt;</span>kbd<span>></span>Ctrl<span>&lt;</span>/kbd<span>></span>+<span>&lt;</span>kbd<span>></span>T<span>&lt;</span>/kbd<span>></span>
 - <span><span>`</span><span>\</span>025<span>`</span></span> <span>==</span><span>></span> <span>&lt;</span>kbd<span>></span>Ctrl<span>&lt;</span>/kbd<span>></span>+<span>&lt;</span>kbd<span>></span>U<span>&lt;</span>/kbd<span>></span>
 - <span><span>`</span><span>\</span>026<span>`</span></span> <span>==</span><span>></span> <span>&lt;</span>kbd<span>></span>Ctrl<span>&lt;</span>/kbd<span>></span>+<span>&lt;</span>kbd<span>></span>V<span>&lt;</span>/kbd<span>></span>
 - <span><span>`</span><span>\</span>027<span>`</span></span> <span>==</span><span>></span> <span>&lt;</span>kbd<span>></span>Ctrl<span>&lt;</span>/kbd<span>></span>+<span>&lt;</span>kbd<span>></span>W<span>&lt;</span>/kbd<span>></span>
 - <span><span>`</span><span>\</span>030<span>`</span></span> <span>==</span><span>></span> <span>&lt;</span>kbd<span>></span>Ctrl<span>&lt;</span>/kbd<span>></span>+<span>&lt;</span>kbd<span>></span>X<span>&lt;</span>/kbd<span>></span>
 - <span><span>`</span><span>\</span>031<span>`</span></span> <span>==</span><span>></span> <span>&lt;</span>kbd<span>></span>Ctrl<span>&lt;</span>/kbd<span>></span>+<span>&lt;</span>kbd<span>></span>Y<span>&lt;</span>/kbd<span>></span>
 - <span><span>`</span><span>\</span>032<span>`</span></span> <span>==</span><span>></span> <span>&lt;</span>kbd<span>></span>Ctrl<span>&lt;</span>/kbd<span>></span>+<span>&lt;</span>kbd<span>></span>Z<span>&lt;</span>/kbd<span>></span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br><span>18</span><br><span>19</span><br><span>20</span><br><span>21</span><br><span>22</span><br><span>23</span><br><span>24</span><br><span>25</span><br><span>26</span><br></div></div><p>同时我也注意到，如果是使用了<code>echo $'\1XX'</code>的话还有如下的映射关系：</p>
<ul>
<li><code>\101</code> ==&gt; A</li>
<li><code>\102</code> ==&gt; B</li>
<li><code>\103</code> ==&gt; C</li>
<li><code>\104</code> ==&gt; D</li>
<li><code>\105</code> ==&gt; E</li>
<li><code>\106</code> ==&gt; F</li>
<li><code>\107</code> ==&gt; G</li>
<li><code>\110</code> ==&gt; H</li>
<li><code>\111</code> ==&gt; I</li>
<li><code>\112</code> ==&gt; J</li>
<li><code>\113</code> ==&gt; K</li>
<li><code>\114</code> ==&gt; L</li>
<li><code>\115</code> ==&gt; M</li>
<li><code>\116</code> ==&gt; N</li>
<li><code>\117</code> ==&gt; O</li>
<li><code>\120</code> ==&gt; P</li>
<li><code>\121</code> ==&gt; Q</li>
<li><code>\122</code> ==&gt; R</li>
<li><code>\123</code> ==&gt; S</li>
<li><code>\124</code> ==&gt; T</li>
<li><code>\125</code> ==&gt; U</li>
<li><code>\126</code> ==&gt; V</li>
<li><code>\127</code> ==&gt; W</li>
<li><code>\130</code> ==&gt; X</li>
<li><code>\131</code> ==&gt; Y</li>
<li><code>\132</code> ==&gt; Z</li>
</ul>
<p>类似地，上面这个映射表我也是使用了这个命令：</p>
<div><pre><code><span>paste</span> <span>&lt;</span><span>(</span><span>seq</span> <span>1</span> <span>26</span><span>)</span> <span>&lt;</span><span>(</span><span>echo</span> -e <span>"A<span title="\n">\n</span>B<span title="\n">\n</span>C<span title="\n">\n</span>D<span title="\n">\n</span>E<span title="\n">\n</span>F<span title="\n">\n</span>G<span title="\n">\n</span>H<span title="\n">\n</span>I<span title="\n">\n</span>J<span title="\n">\n</span>K<span title="\n">\n</span>L<span title="\n">\n</span>M<span title="\n">\n</span>N<span title="\n">\n</span>O<span title="\n">\n</span>P<span title="\n">\n</span>Q<span title="\n">\n</span>R<span title="\n">\n</span>S<span title="\n">\n</span>T<span title="\n">\n</span>U<span title="\n">\n</span>V<span title="\n">\n</span>W<span title="\n">\n</span>X<span title="\n">\n</span>Y<span title="\n">\n</span>Z"</span><span>)</span> <span>|</span>  <span>while</span> <span>read</span> num char<span>;</span> <span>do</span> <span>printf</span> <span>" - \<span><span>`</span><span>\</span><span>\</span><span>\</span><span>1</span>%02o<span>\</span><span>`</span></span> ==> <span>$char</span><span title="\n">\n</span>"</span> <span>$num</span><span>;</span> <span>done</span>
</code></pre>
<div><span>1</span><br></div></div><p>这样有什么用？当你需要完成自动化交互的时候可以使用<code>echo $&lt;CODE&gt; | XXX</code>来将这样的值输入到后面的XXX中。</p>
<h2 id="针对模拟输入组合键ctrl-anykey的思考"> 针对模拟输入组合键<kbd>Ctrl</kbd>+<kbd>AnyKey</kbd>的思考</h2>
<p>经过不断地尝试<code>echo $'\XXX' | $0</code>这个命令来查看终端反应后我发现，上一节这个映射表其实绝非偶然，经过我的查证后才发现，实质上<code>XXX</code>是一个八进制数字，转换为对应的十进制后你应该会发现，每一个字母对应的十进制数值恰恰是我们熟悉的ASCII码，比如<span><span><i>Not supported content</i></span><span aria-hidden="true"><span><span style="height:1em;vertical-align:-0.25em;"></span><span>(</span><span>101</span><span><span>)</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span>8</span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span><span style="margin-right:0.2777777777777778em;"></span><span>=</span><span style="margin-right:0.2777777777777778em;"></span></span><span><span style="height:1em;vertical-align:-0.25em;"></span><span>(</span><span>65</span><span><span>)</span><span><span><span><span style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span style="height:2.7em;"></span><span><span><span>10</span></span></span></span></span><span>​</span></span><span><span style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，这正好就是A的ASCII码。</p>
<p>于是我去查询ASCII码表，并在这给出：</p>
<table>
<thead>
<tr>
<th style="text-align:center">二进制</th>
<th style="text-align:center">八进制</th>
<th style="text-align:center">十进制</th>
<th style="text-align:center">十六进制</th>
<th style="text-align:center">字符/缩写</th>
<th style="text-align:center">解释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">00000000</td>
<td style="text-align:center">000</td>
<td style="text-align:center">0</td>
<td style="text-align:center">00</td>
<td style="text-align:center">NUL (NULL)</td>
<td style="text-align:center">空字符</td>
</tr>
<tr>
<td style="text-align:center">00000001</td>
<td style="text-align:center">001</td>
<td style="text-align:center">1</td>
<td style="text-align:center">01</td>
<td style="text-align:center">SOH (Start Of Headling)</td>
<td style="text-align:center">标题开始</td>
</tr>
<tr>
<td style="text-align:center">00000010</td>
<td style="text-align:center">002</td>
<td style="text-align:center">2</td>
<td style="text-align:center">02</td>
<td style="text-align:center">STX (Start Of Text)</td>
<td style="text-align:center">正文开始</td>
</tr>
<tr>
<td style="text-align:center">00000011</td>
<td style="text-align:center">003</td>
<td style="text-align:center">3</td>
<td style="text-align:center">03</td>
<td style="text-align:center">ETX (End Of Text)</td>
<td style="text-align:center">正文结束</td>
</tr>
<tr>
<td style="text-align:center">00000100</td>
<td style="text-align:center">004</td>
<td style="text-align:center">4</td>
<td style="text-align:center">04</td>
<td style="text-align:center">EOT (End Of Transmission)</td>
<td style="text-align:center">传输结束</td>
</tr>
<tr>
<td style="text-align:center">00000101</td>
<td style="text-align:center">005</td>
<td style="text-align:center">5</td>
<td style="text-align:center">05</td>
<td style="text-align:center">ENQ (Enquiry)</td>
<td style="text-align:center">请求</td>
</tr>
<tr>
<td style="text-align:center">00000110</td>
<td style="text-align:center">006</td>
<td style="text-align:center">6</td>
<td style="text-align:center">06</td>
<td style="text-align:center">ACK (Acknowledge)</td>
<td style="text-align:center">回应/响应/收到通知</td>
</tr>
<tr>
<td style="text-align:center">00000111</td>
<td style="text-align:center">007</td>
<td style="text-align:center">7</td>
<td style="text-align:center">07</td>
<td style="text-align:center">BEL (Bell)</td>
<td style="text-align:center">响铃</td>
</tr>
<tr>
<td style="text-align:center">00001000</td>
<td style="text-align:center">010</td>
<td style="text-align:center">8</td>
<td style="text-align:center">08</td>
<td style="text-align:center">BS (Backspace)</td>
<td style="text-align:center">退格</td>
</tr>
<tr>
<td style="text-align:center">00001001</td>
<td style="text-align:center">011</td>
<td style="text-align:center">9</td>
<td style="text-align:center">09</td>
<td style="text-align:center">HT (Horizontal Tab)</td>
<td style="text-align:center">水平制表符</td>
</tr>
<tr>
<td style="text-align:center">00001010</td>
<td style="text-align:center">012</td>
<td style="text-align:center">10</td>
<td style="text-align:center">0A</td>
<td style="text-align:center">LF/NL(Line Feed/New Line)</td>
<td style="text-align:center">换行键</td>
</tr>
<tr>
<td style="text-align:center">00001011</td>
<td style="text-align:center">013</td>
<td style="text-align:center">11</td>
<td style="text-align:center">0B</td>
<td style="text-align:center">VT (Vertical Tab)</td>
<td style="text-align:center">垂直制表符</td>
</tr>
<tr>
<td style="text-align:center">00001100</td>
<td style="text-align:center">014</td>
<td style="text-align:center">12</td>
<td style="text-align:center">0C</td>
<td style="text-align:center">FF/NP (Form Feed/New Page)</td>
<td style="text-align:center">换页键</td>
</tr>
<tr>
<td style="text-align:center">00001101</td>
<td style="text-align:center">015</td>
<td style="text-align:center">13</td>
<td style="text-align:center">0D</td>
<td style="text-align:center">CR (Carriage Return)</td>
<td style="text-align:center">回车键</td>
</tr>
<tr>
<td style="text-align:center">00001110</td>
<td style="text-align:center">016</td>
<td style="text-align:center">14</td>
<td style="text-align:center">0E</td>
<td style="text-align:center">SO (Shift Out)</td>
<td style="text-align:center">不用切换</td>
</tr>
<tr>
<td style="text-align:center">00001111</td>
<td style="text-align:center">017</td>
<td style="text-align:center">15</td>
<td style="text-align:center">0F</td>
<td style="text-align:center">SI (Shift In)</td>
<td style="text-align:center">启用切换</td>
</tr>
<tr>
<td style="text-align:center">00010000</td>
<td style="text-align:center">020</td>
<td style="text-align:center">16</td>
<td style="text-align:center">10</td>
<td style="text-align:center">DLE (Data Link Escape)</td>
<td style="text-align:center">数据链路转义</td>
</tr>
<tr>
<td style="text-align:center">00010001</td>
<td style="text-align:center">021</td>
<td style="text-align:center">17</td>
<td style="text-align:center">11</td>
<td style="text-align:center">DC1/XON (Device Control 1/Transmission On)</td>
<td style="text-align:center">设备控制1/传输开始</td>
</tr>
<tr>
<td style="text-align:center">00010010</td>
<td style="text-align:center">022</td>
<td style="text-align:center">18</td>
<td style="text-align:center">12</td>
<td style="text-align:center">DC2 (Device Control 2)</td>
<td style="text-align:center">设备控制2</td>
</tr>
<tr>
<td style="text-align:center">00010011</td>
<td style="text-align:center">023</td>
<td style="text-align:center">19</td>
<td style="text-align:center">13</td>
<td style="text-align:center">DC3/XOFF (Device Control 3/Transmission Off)</td>
<td style="text-align:center">设备控制3/传输中断</td>
</tr>
<tr>
<td style="text-align:center">00010100</td>
<td style="text-align:center">024</td>
<td style="text-align:center">20</td>
<td style="text-align:center">14</td>
<td style="text-align:center">DC4 (Device Control 4)</td>
<td style="text-align:center">设备控制4</td>
</tr>
<tr>
<td style="text-align:center">00010101</td>
<td style="text-align:center">025</td>
<td style="text-align:center">21</td>
<td style="text-align:center">15</td>
<td style="text-align:center">NAK (Negative Acknowledge)</td>
<td style="text-align:center">无响应/非正常响应/拒绝接收</td>
</tr>
<tr>
<td style="text-align:center">00010110</td>
<td style="text-align:center">026</td>
<td style="text-align:center">22</td>
<td style="text-align:center">16</td>
<td style="text-align:center">SYN (Synchronous Idle)</td>
<td style="text-align:center">同步空闲</td>
</tr>
<tr>
<td style="text-align:center">00010111</td>
<td style="text-align:center">027</td>
<td style="text-align:center">23</td>
<td style="text-align:center">17</td>
<td style="text-align:center">ETB (End of Transmission Block)</td>
<td style="text-align:center">传输块结束/块传输终止</td>
</tr>
<tr>
<td style="text-align:center">00011000</td>
<td style="text-align:center">030</td>
<td style="text-align:center">24</td>
<td style="text-align:center">18</td>
<td style="text-align:center">CAN (Cancel)</td>
<td style="text-align:center">取消</td>
</tr>
<tr>
<td style="text-align:center">00011001</td>
<td style="text-align:center">031</td>
<td style="text-align:center">25</td>
<td style="text-align:center">19</td>
<td style="text-align:center">EM (End of Medium)</td>
<td style="text-align:center">已到介质末端/介质存储已满/介质中断</td>
</tr>
<tr>
<td style="text-align:center">00011010</td>
<td style="text-align:center">032</td>
<td style="text-align:center">26</td>
<td style="text-align:center">1A</td>
<td style="text-align:center">SUB (Substitute)</td>
<td style="text-align:center">替补/替换</td>
</tr>
<tr>
<td style="text-align:center">00011011</td>
<td style="text-align:center">033</td>
<td style="text-align:center">27</td>
<td style="text-align:center">1B</td>
<td style="text-align:center">ESC (Escape)</td>
<td style="text-align:center">逃离/取消</td>
</tr>
<tr>
<td style="text-align:center">00011100</td>
<td style="text-align:center">034</td>
<td style="text-align:center">28</td>
<td style="text-align:center">1C</td>
<td style="text-align:center">FS (File Separator)</td>
<td style="text-align:center">文件分割符</td>
</tr>
<tr>
<td style="text-align:center">00011101</td>
<td style="text-align:center">035</td>
<td style="text-align:center">29</td>
<td style="text-align:center">1D</td>
<td style="text-align:center">GS (Group Separator)</td>
<td style="text-align:center">组分隔符/分组符</td>
</tr>
<tr>
<td style="text-align:center">00011110</td>
<td style="text-align:center">036</td>
<td style="text-align:center">30</td>
<td style="text-align:center">1E</td>
<td style="text-align:center">RS (Record Separator)</td>
<td style="text-align:center">记录分离符</td>
</tr>
<tr>
<td style="text-align:center">00011111</td>
<td style="text-align:center">037</td>
<td style="text-align:center">31</td>
<td style="text-align:center">1F</td>
<td style="text-align:center">US (Unit Separator)</td>
<td style="text-align:center">单元分隔符</td>
</tr>
<tr>
<td style="text-align:center">00100000</td>
<td style="text-align:center">040</td>
<td style="text-align:center">32</td>
<td style="text-align:center">20</td>
<td style="text-align:center">(Space)</td>
<td style="text-align:center">空格</td>
</tr>
<tr>
<td style="text-align:center">00100001</td>
<td style="text-align:center">041</td>
<td style="text-align:center">33</td>
<td style="text-align:center">21</td>
<td style="text-align:center">!</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">00100010</td>
<td style="text-align:center">042</td>
<td style="text-align:center">34</td>
<td style="text-align:center">22</td>
<td style="text-align:center">&quot;</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">00100011</td>
<td style="text-align:center">043</td>
<td style="text-align:center">35</td>
<td style="text-align:center">23</td>
<td style="text-align:center">#</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">00100100</td>
<td style="text-align:center">044</td>
<td style="text-align:center">36</td>
<td style="text-align:center">24</td>
<td style="text-align:center">$</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">00100101</td>
<td style="text-align:center">045</td>
<td style="text-align:center">37</td>
<td style="text-align:center">25</td>
<td style="text-align:center">%</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">00100110</td>
<td style="text-align:center">046</td>
<td style="text-align:center">38</td>
<td style="text-align:center">26</td>
<td style="text-align:center">&amp;</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">00100111</td>
<td style="text-align:center">047</td>
<td style="text-align:center">39</td>
<td style="text-align:center">27</td>
<td style="text-align:center">'</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">00101000</td>
<td style="text-align:center">050</td>
<td style="text-align:center">40</td>
<td style="text-align:center">28</td>
<td style="text-align:center">(</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">00101001</td>
<td style="text-align:center">051</td>
<td style="text-align:center">41</td>
<td style="text-align:center">29</td>
<td style="text-align:center">)</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">00101010</td>
<td style="text-align:center">052</td>
<td style="text-align:center">42</td>
<td style="text-align:center">2A</td>
<td style="text-align:center">*</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">00101011</td>
<td style="text-align:center">053</td>
<td style="text-align:center">43</td>
<td style="text-align:center">2B</td>
<td style="text-align:center">+</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">00101100</td>
<td style="text-align:center">054</td>
<td style="text-align:center">44</td>
<td style="text-align:center">2C</td>
<td style="text-align:center">,</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">00101101</td>
<td style="text-align:center">055</td>
<td style="text-align:center">45</td>
<td style="text-align:center">2D</td>
<td style="text-align:center">-</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">00101110</td>
<td style="text-align:center">056</td>
<td style="text-align:center">46</td>
<td style="text-align:center">2E</td>
<td style="text-align:center">.</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">00101111</td>
<td style="text-align:center">057</td>
<td style="text-align:center">47</td>
<td style="text-align:center">2F</td>
<td style="text-align:center">/</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">00110000</td>
<td style="text-align:center">060</td>
<td style="text-align:center">48</td>
<td style="text-align:center">30</td>
<td style="text-align:center">0</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">00110001</td>
<td style="text-align:center">061</td>
<td style="text-align:center">49</td>
<td style="text-align:center">31</td>
<td style="text-align:center">1</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">00110010</td>
<td style="text-align:center">062</td>
<td style="text-align:center">50</td>
<td style="text-align:center">32</td>
<td style="text-align:center">2</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">00110011</td>
<td style="text-align:center">063</td>
<td style="text-align:center">51</td>
<td style="text-align:center">33</td>
<td style="text-align:center">3</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">00110100</td>
<td style="text-align:center">064</td>
<td style="text-align:center">52</td>
<td style="text-align:center">34</td>
<td style="text-align:center">4</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">00110101</td>
<td style="text-align:center">065</td>
<td style="text-align:center">53</td>
<td style="text-align:center">35</td>
<td style="text-align:center">5</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">00110110</td>
<td style="text-align:center">066</td>
<td style="text-align:center">54</td>
<td style="text-align:center">36</td>
<td style="text-align:center">6</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">00110111</td>
<td style="text-align:center">067</td>
<td style="text-align:center">55</td>
<td style="text-align:center">37</td>
<td style="text-align:center">7</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">00111000</td>
<td style="text-align:center">070</td>
<td style="text-align:center">56</td>
<td style="text-align:center">38</td>
<td style="text-align:center">8</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">00111001</td>
<td style="text-align:center">071</td>
<td style="text-align:center">57</td>
<td style="text-align:center">39</td>
<td style="text-align:center">9</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">00111010</td>
<td style="text-align:center">072</td>
<td style="text-align:center">58</td>
<td style="text-align:center">3A</td>
<td style="text-align:center">:</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">00111011</td>
<td style="text-align:center">073</td>
<td style="text-align:center">59</td>
<td style="text-align:center">3B</td>
<td style="text-align:center">;</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">00111100</td>
<td style="text-align:center">074</td>
<td style="text-align:center">60</td>
<td style="text-align:center">3C</td>
<td style="text-align:center">&lt;</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">00111101</td>
<td style="text-align:center">075</td>
<td style="text-align:center">61</td>
<td style="text-align:center">3D</td>
<td style="text-align:center">=</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">00111110</td>
<td style="text-align:center">076</td>
<td style="text-align:center">62</td>
<td style="text-align:center">3E</td>
<td style="text-align:center">&gt;</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">00111111</td>
<td style="text-align:center">077</td>
<td style="text-align:center">63</td>
<td style="text-align:center">3F</td>
<td style="text-align:center">?</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01000000</td>
<td style="text-align:center">100</td>
<td style="text-align:center">64</td>
<td style="text-align:center">40</td>
<td style="text-align:center">@</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01000001</td>
<td style="text-align:center">101</td>
<td style="text-align:center">65</td>
<td style="text-align:center">41</td>
<td style="text-align:center">A</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01000010</td>
<td style="text-align:center">102</td>
<td style="text-align:center">66</td>
<td style="text-align:center">42</td>
<td style="text-align:center">B</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01000011</td>
<td style="text-align:center">103</td>
<td style="text-align:center">67</td>
<td style="text-align:center">43</td>
<td style="text-align:center">C</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01000100</td>
<td style="text-align:center">104</td>
<td style="text-align:center">68</td>
<td style="text-align:center">44</td>
<td style="text-align:center">D</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01000101</td>
<td style="text-align:center">105</td>
<td style="text-align:center">69</td>
<td style="text-align:center">45</td>
<td style="text-align:center">E</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01000110</td>
<td style="text-align:center">106</td>
<td style="text-align:center">70</td>
<td style="text-align:center">46</td>
<td style="text-align:center">F</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01000111</td>
<td style="text-align:center">107</td>
<td style="text-align:center">71</td>
<td style="text-align:center">47</td>
<td style="text-align:center">G</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01001000</td>
<td style="text-align:center">110</td>
<td style="text-align:center">72</td>
<td style="text-align:center">48</td>
<td style="text-align:center">H</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01001001</td>
<td style="text-align:center">111</td>
<td style="text-align:center">73</td>
<td style="text-align:center">49</td>
<td style="text-align:center">I</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01001010</td>
<td style="text-align:center">112</td>
<td style="text-align:center">74</td>
<td style="text-align:center">4A</td>
<td style="text-align:center">J</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01001011</td>
<td style="text-align:center">113</td>
<td style="text-align:center">75</td>
<td style="text-align:center">4B</td>
<td style="text-align:center">K</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01001100</td>
<td style="text-align:center">114</td>
<td style="text-align:center">76</td>
<td style="text-align:center">4C</td>
<td style="text-align:center">L</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01001101</td>
<td style="text-align:center">115</td>
<td style="text-align:center">77</td>
<td style="text-align:center">4D</td>
<td style="text-align:center">M</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01001110</td>
<td style="text-align:center">116</td>
<td style="text-align:center">78</td>
<td style="text-align:center">4E</td>
<td style="text-align:center">N</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01001111</td>
<td style="text-align:center">117</td>
<td style="text-align:center">79</td>
<td style="text-align:center">4F</td>
<td style="text-align:center">O</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01010000</td>
<td style="text-align:center">120</td>
<td style="text-align:center">80</td>
<td style="text-align:center">50</td>
<td style="text-align:center">P</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01010001</td>
<td style="text-align:center">121</td>
<td style="text-align:center">81</td>
<td style="text-align:center">51</td>
<td style="text-align:center">Q</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01010010</td>
<td style="text-align:center">122</td>
<td style="text-align:center">82</td>
<td style="text-align:center">52</td>
<td style="text-align:center">R</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01010011</td>
<td style="text-align:center">123</td>
<td style="text-align:center">83</td>
<td style="text-align:center">53</td>
<td style="text-align:center">S</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01010100</td>
<td style="text-align:center">124</td>
<td style="text-align:center">84</td>
<td style="text-align:center">54</td>
<td style="text-align:center">T</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01010101</td>
<td style="text-align:center">125</td>
<td style="text-align:center">85</td>
<td style="text-align:center">55</td>
<td style="text-align:center">U</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01010110</td>
<td style="text-align:center">126</td>
<td style="text-align:center">86</td>
<td style="text-align:center">56</td>
<td style="text-align:center">V</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01010111</td>
<td style="text-align:center">127</td>
<td style="text-align:center">87</td>
<td style="text-align:center">57</td>
<td style="text-align:center">W</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01011000</td>
<td style="text-align:center">130</td>
<td style="text-align:center">88</td>
<td style="text-align:center">58</td>
<td style="text-align:center">X</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01011001</td>
<td style="text-align:center">131</td>
<td style="text-align:center">89</td>
<td style="text-align:center">59</td>
<td style="text-align:center">Y</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01011010</td>
<td style="text-align:center">132</td>
<td style="text-align:center">90</td>
<td style="text-align:center">5A</td>
<td style="text-align:center">Z</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01011011</td>
<td style="text-align:center">133</td>
<td style="text-align:center">91</td>
<td style="text-align:center">5B</td>
<td style="text-align:center">[</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01011100</td>
<td style="text-align:center">134</td>
<td style="text-align:center">92</td>
<td style="text-align:center">5C</td>
<td style="text-align:center">\</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01011101</td>
<td style="text-align:center">135</td>
<td style="text-align:center">93</td>
<td style="text-align:center">5D</td>
<td style="text-align:center">]</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01011110</td>
<td style="text-align:center">136</td>
<td style="text-align:center">94</td>
<td style="text-align:center">5E</td>
<td style="text-align:center">^</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01011111</td>
<td style="text-align:center">137</td>
<td style="text-align:center">95</td>
<td style="text-align:center">5F</td>
<td style="text-align:center">_</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01100000</td>
<td style="text-align:center">140</td>
<td style="text-align:center">96</td>
<td style="text-align:center">60</td>
<td style="text-align:center">`</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01100001</td>
<td style="text-align:center">141</td>
<td style="text-align:center">97</td>
<td style="text-align:center">61</td>
<td style="text-align:center">a</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01100010</td>
<td style="text-align:center">142</td>
<td style="text-align:center">98</td>
<td style="text-align:center">62</td>
<td style="text-align:center">b</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01100011</td>
<td style="text-align:center">143</td>
<td style="text-align:center">99</td>
<td style="text-align:center">63</td>
<td style="text-align:center">c</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01100100</td>
<td style="text-align:center">144</td>
<td style="text-align:center">100</td>
<td style="text-align:center">64</td>
<td style="text-align:center">d</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01100101</td>
<td style="text-align:center">145</td>
<td style="text-align:center">101</td>
<td style="text-align:center">65</td>
<td style="text-align:center">e</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01100110</td>
<td style="text-align:center">146</td>
<td style="text-align:center">102</td>
<td style="text-align:center">66</td>
<td style="text-align:center">f</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01100111</td>
<td style="text-align:center">147</td>
<td style="text-align:center">103</td>
<td style="text-align:center">67</td>
<td style="text-align:center">g</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01101000</td>
<td style="text-align:center">150</td>
<td style="text-align:center">104</td>
<td style="text-align:center">68</td>
<td style="text-align:center">h</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01101001</td>
<td style="text-align:center">151</td>
<td style="text-align:center">105</td>
<td style="text-align:center">69</td>
<td style="text-align:center">i</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01101010</td>
<td style="text-align:center">152</td>
<td style="text-align:center">106</td>
<td style="text-align:center">6A</td>
<td style="text-align:center">j</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01101011</td>
<td style="text-align:center">153</td>
<td style="text-align:center">107</td>
<td style="text-align:center">6B</td>
<td style="text-align:center">k</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01101100</td>
<td style="text-align:center">154</td>
<td style="text-align:center">108</td>
<td style="text-align:center">6C</td>
<td style="text-align:center">l</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01101101</td>
<td style="text-align:center">155</td>
<td style="text-align:center">109</td>
<td style="text-align:center">6D</td>
<td style="text-align:center">m</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01101110</td>
<td style="text-align:center">156</td>
<td style="text-align:center">110</td>
<td style="text-align:center">6E</td>
<td style="text-align:center">n</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01101111</td>
<td style="text-align:center">157</td>
<td style="text-align:center">111</td>
<td style="text-align:center">6F</td>
<td style="text-align:center">o</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01110000</td>
<td style="text-align:center">160</td>
<td style="text-align:center">112</td>
<td style="text-align:center">70</td>
<td style="text-align:center">p</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01110001</td>
<td style="text-align:center">161</td>
<td style="text-align:center">113</td>
<td style="text-align:center">71</td>
<td style="text-align:center">q</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01110010</td>
<td style="text-align:center">162</td>
<td style="text-align:center">114</td>
<td style="text-align:center">72</td>
<td style="text-align:center">r</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01110011</td>
<td style="text-align:center">163</td>
<td style="text-align:center">115</td>
<td style="text-align:center">73</td>
<td style="text-align:center">s</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01110100</td>
<td style="text-align:center">164</td>
<td style="text-align:center">116</td>
<td style="text-align:center">74</td>
<td style="text-align:center">t</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01110101</td>
<td style="text-align:center">165</td>
<td style="text-align:center">117</td>
<td style="text-align:center">75</td>
<td style="text-align:center">u</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01110110</td>
<td style="text-align:center">166</td>
<td style="text-align:center">118</td>
<td style="text-align:center">76</td>
<td style="text-align:center">v</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01110111</td>
<td style="text-align:center">167</td>
<td style="text-align:center">119</td>
<td style="text-align:center">77</td>
<td style="text-align:center">w</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01111000</td>
<td style="text-align:center">170</td>
<td style="text-align:center">120</td>
<td style="text-align:center">78</td>
<td style="text-align:center">x</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01111001</td>
<td style="text-align:center">171</td>
<td style="text-align:center">121</td>
<td style="text-align:center">79</td>
<td style="text-align:center">y</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01111010</td>
<td style="text-align:center">172</td>
<td style="text-align:center">122</td>
<td style="text-align:center">7A</td>
<td style="text-align:center">z</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01111011</td>
<td style="text-align:center">173</td>
<td style="text-align:center">123</td>
<td style="text-align:center">7B</td>
<td style="text-align:center">{</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01111100</td>
<td style="text-align:center">174</td>
<td style="text-align:center">124</td>
<td style="text-align:center">7C</td>
<td style="text-align:center">|</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01111101</td>
<td style="text-align:center">175</td>
<td style="text-align:center">125</td>
<td style="text-align:center">7D</td>
<td style="text-align:center">}</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01111110</td>
<td style="text-align:center">176</td>
<td style="text-align:center">126</td>
<td style="text-align:center">7E</td>
<td style="text-align:center">~</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">01111111</td>
<td style="text-align:center">177</td>
<td style="text-align:center">127</td>
<td style="text-align:center">7F</td>
<td style="text-align:center">DEL (Delete)</td>
<td style="text-align:center">删除</td>
</tr>
</tbody>
</table>
<p>你尽可以自己亲自验证。</p>
<p>关于其中一些控制符号的说明其实可以执行这个命令来查看<code>stty -a</code>，得到的输出是：</p>
<div><pre><code>❯ stty -a
speed <span>38400</span> baud<span>;</span> rows <span>29</span><span>;</span> columns <span>119</span><span>;</span> line <span>=</span> <span>0</span><span>;</span>
intr <span>=</span> ^C<span>;</span> quit <span>=</span> ^<span>\</span><span>;</span> erase <span>=</span> ^?<span>;</span> <span>kill</span> <span>=</span> ^U<span>;</span> eof <span>=</span> ^D<span>;</span> eol <span>=</span> <span>&lt;</span>undef<span>></span><span>;</span> eol2 <span>=</span> <span>&lt;</span>undef<span>></span><span>;</span> swtch <span>=</span> <span>&lt;</span>undef<span>></span><span>;</span> start <span>=</span> ^Q<span>;</span>
stop <span>=</span> ^S<span>;</span> susp <span>=</span> ^Z<span>;</span> rprnt <span>=</span> ^R<span>;</span> werase <span>=</span> ^W<span>;</span> lnext <span>=</span> ^V<span>;</span> discard <span>=</span> ^O<span>;</span> min <span>=</span> <span>1</span><span>;</span> <span>time</span> <span>=</span> <span>0</span><span>;</span>
-parenb -parodd -cmspar cs8 -hupcl -cstopb cread -clocal -crtscts
-ignbrk brkint ignpar -parmrk -inpck -istrip -inlcr -igncr icrnl ixon -ixoff -iuclc -ixany imaxbel iutf8
opost -olcuc -ocrnl onlcr -onocr -onlret -ofill -ofdel nl0 cr0 tab0 bs0 vt0 ff0
isig icanon iexten <span>echo</span> echoe echok -echonl -noflsh -xcase -tostop -echoprt echoctl echoke -flusho -extproc
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br></div></div>]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2021-12-13T04:03:22.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">从Zerotier One安装与配置到Android &amp; Manjaro连接共享控制的一条龙服务问题</title>
    <id>https://breezeshane.github.io/Linux/ZeroTier-One%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/</id>
    <link href="https://breezeshane.github.io/Linux/ZeroTier-One%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<h1 id="从zerotier-one安装与配置到android-manjaro连接共享控制的一条龙服务问题"> 从Zerotier One安装与配置到Android &amp; Manjaro连接共享控制的一条龙服务问题</h1>
<h2 id="zerotier-one安装与配置"> Zerotier One安装与配置</h2>
<p>ZerotierOne是一种内网穿透工具，它的基本原理是通过搭建虚拟内网来连接各设备。为什么会提到连接共享控制的问题？此类的连接共享以及控制，多都是在内网上实现的，这样说你多少该懂了。。。</p>
<blockquote>
<p>「注」：网上与此相关的资料太少了，我觉得很有必要详细记录下来，因此本文看起来繁琐了一些。</p>
</blockquote>
<p>首先在<a href="https://www.zerotier.com/" target="_blank" rel="noopener noreferrer">Zerotier-One官网</a>上注册一个帐号，我选择了使用GitHub登陆。登陆之后会出现这个界面：</p>
<p><img src="/images/2021-04-28_19-13.png" alt="2021-04-28_19-13" /></p>
<p>点击创建网络按钮，即可自动生成新的一栏，这时候你需要点击进去即可</p>
<p><img src="/images/2021-04-28_19-21.png" alt="2021-04-28_19-21" /></p>
<p><strong>IPv4 Auto-Assign</strong>那一栏选什么地址不用我说，随君喜好！Zerotier One就是可以自己定IP地址！</p>
<p><strong>IPv6 Auto-Assign</strong>那一栏选中第二项即可。</p>
<p>往下翻页你会看到这个：</p>
<p><img src="/images/2021-04-28_22-49.png" alt="2021-04-28_22-49" /></p>
<p>这里提示可以添加网络成员，但是需要相应设备安装对应的客户端。</p>
<p><img src="/images/2021-04-28_22-52.png" alt="2021-04-28_22-52" /></p>
<p>由于我使用的是基于Archlinux的系统，因此从AUR安装即可：</p>
<div><pre><code>yay -S zerotier-one
</code></pre>
<div><span>1</span><br></div></div><p>安装之后，需要启动服务，执行：</p>
<div><pre><code><span>sudo</span> systemctl start zerotier-one.service
<span>sudo</span> systemctl <span>enable</span> zerotier-one.service
</code></pre>
<div><span>1</span><br><span>2</span><br></div></div><p>我见网上很多博客写的这个指令：<code>curl -s https://install.zerotier.com | sudo bash</code>，但至少在Manjaro里是不能正常执行的，会提示如下的报错信息——找不到与系统版本匹配的客户端。</p>
<p><img src="/images/2021-04-28_22-58.png" alt="" /></p>
<p>根据<code>sudo zerotier-one -h</code>的返回结果可知，需要接着输入如下指令：</p>
<div><pre><code><span>sudo</span> zerotier-one -pdiq
<span># 如果等了半天没有反应，就终止一下吧。。。我当初就这样做的，实质上执行</span>
<span># 这个只是为了生成相应的配置文件来解决先前执行下一个指令报的错误——找不到配置文件。</span>
<span>sudo</span> zerotier-cli status
<span># 返回200 info *** 1.6.4 ONLINE则正常。</span>
<span>sudo</span> zerotier-listpeers
<span># 用于获取当前的连接情况，不执行也可</span>
<span>sudo</span> zerotier-cli <span>join</span> ******
<span># 这里的******就是前面特意强调的虚拟内网ID</span>
<span>sudo</span> zerotier-listpeers
<span># 确认一下确实成功了，你会看到比原先多出来一行内容，而且最后一个单词是LEAF，其它</span>
<span># 行最后的单词都是PLANET。</span>
<span>sudo</span> systemctl start zerotier-one.service
<span># 启用zerotier-one服务</span>
<span>sudo</span> systemctl <span>enable</span> zerotier-one.service
<span># 开机自启动zerotier-one服务</span>
<span>######</span>
<span>sudo</span> zerotier-cli <span>set</span> 12ac4a1e7101bb86 <span>allowManaged</span><span>=</span><span>1</span>
<span># 注意，关于这条指令网上有两种声音，有主张授权为1的，但没见到谁有给理由，而主张授</span>
<span># 权为0的理由如下：</span>
<span># 这样就不会导致勾选Authorized后，zerotier自动将路由下发到ubuntu，如果</span>
<span># zerotier设置的路由为10.0.1.0/24,会导致本来10.0.1.0/24 dev br-lan</span>
<span># 变成10.0.1.0/24 dev ztxxxxxxxxx,然后你就不能连接路由器了</span>
<span># 作者：fc790 https://www.bilibili.com/read/cv7586063/ 出处： bilibili</span>
<span>## 这种就看着弄，出了问题再改回来就好了。</span>
<span>sudo</span> systemctl restart zerotier-one
<span># 如果你做了刚才那个做法，需要重启一下服务。</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br><span>18</span><br><span>19</span><br><span>20</span><br><span>21</span><br><span>22</span><br><span>23</span><br><span>24</span><br><span>25</span><br><span>26</span><br><span>27</span><br></div></div><p>到此为止，电脑上的ZeroTier One就已经配置得差不多了，我们需要在Android设备上安装客户端了。</p>
<p>如果你有Google Play并且你还能使用，你可以直接在Google商店上下载。但不幸的是，如果你没有，你可以选择去安装，而更不幸的是，你使用的是华为产品，那恭喜恭喜，您跟我一样，没什么可能走这条路了（毕竟国际形势如此紧张。。。也没办法。。。）</p>
<p>走的另一条路在此--&gt;<a href="https://apkpure.com/" target="_blank" rel="noopener noreferrer">ApkPure</a>，在这家网站上你可以下载到许许多多好用实用的外国软件，干净、安全、可靠，我是被吸引着主动下载了他们的客户端，真香了。。。</p>
<p>装好Zerotier One之后，需要新建一个连接配置，点击ADD NETWORK，然后输入虚拟内网ID，完成后点击下方的Add Network，并开启连接，这时候你需要回到电脑上的Zerotier Central，翻到Members这一栏刷新一下，你会发现多出来一个成员，这里需要你点前面的复选框来授权连接（你也可以选择删除或者断开连接并忽略）。然后就可以自己给设备设定名字以及备注了。</p>
<p><img src="/images/2021-04-29_00-25.png" alt="" /></p>
<p>然而如果你希望这台设备能被内网的其它设备发现，需要先后点击这两处：</p>
<p><img src="/images/2021-04-29_00-28.png" alt="" /></p>
<p>大致上如此，这时候你已经搭建好这个虚拟内网了！</p>
<p>如果希望某设备（已知Node ID，在客户端下方一栏出现）也能加入这个虚拟内网，需要在Zerotier Central找到<img src="/images/2021-04-28_21-21.png" alt="" />这里并输入对应设备的Node ID。</p>
<p>另外特意说一下如果希望本机也加入的话，获取Node ID这个问题折磨我好久，最后查到官方文档给的：</p>
<p><img src="/images/2021-04-29_00-37.png" alt="" /></p>
<p>我才到终端输入<code>cat /var/lib/zerotier-one/identity.public</code>，来查看节点信息的（写这篇报告之前是这样做的）然而当我写到刚刚那个安装指令的时候，我才发现，有个最简单的方法：</p>
<div><pre><code><span>sudo</span> zerotier-cli status
</code></pre>
<div><span>1</span><br></div></div><p>返回的200 info后面那个就是本机Node ID。。。谁叫我当时不知道呢。。。</p>
<blockquote>
<p>不过不算白费努力，咱该明白遇到问题相对要好的解决办法其实是去翻一翻官方文档，尤其是当你发现相关资料特别少的时候。这会让你节省不少力气和时间。</p>
</blockquote>
<h2 id="android-arch-linux连接共享控制"> Android &amp; Arch Linux连接共享控制</h2>
<h3 id="vnc远程控制"> VNC远程控制</h3>
<p>安装好虚拟内网了，我们要开始Android &amp; Manjaro连接共享控制了，经过我长时间的搜索与实践，最终选择的还是VNC Viewer。安装网址：<a href="https://www.realvnc.com/en/connect/download/vnc/" target="_blank" rel="noopener noreferrer">VNC Server</a>	<a href="https://www.realvnc.com/en/connect/download/viewer/" target="_blank" rel="noopener noreferrer">VNC Viewer</a></p>
<p>注意两个我是都选了Generic script x64版本，如果你非常清楚应该如何做的话请自行选择。</p>
<p>下载来的这两个压缩包可以解压到指定文件夹，然后从终端这里分别cd到这两个目录。</p>
<p>首先说VNC Server：到这个目录下之后执行</p>
<div><pre><code><span>sudo</span> ./vncinstall
<span>sudo</span> vnclicense -add 3TH6P-DV5AE-BLHY6-PNENS-B3AQA
vncserver :1
<span>ps</span> -ef <span>|</span> <span>grep</span> vnc <span># 查看进程，如果能正常显示vnc进程的话即是安装成功。</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br></div></div><p>接下来再说VNC Viewer：</p>
<div><pre><code><span>sudo</span> ./vncinstall
<span>cd</span> /usr/bin
./vncviewer
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br></div></div><p>这时候弹出窗口，按照要求安装即可正常使用。</p>
<p>***不过得先有账号。。。***注册并登录账号之后就可以添加网络配置了，填入的IP地址应该是你要连接的设备所在的Zerotier One这里的IP地址（不是物理IP地址）。输入主机的用户名和密码，保存后就可以正常连接主机咯。</p>
]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2021-04-25T01:25:14.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">Building Up Servicer</title>
    <id>https://breezeshane.github.io/Linux/%E8%AE%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/</id>
    <link href="https://breezeshane.github.io/Linux/%E8%AE%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<h2 id="背景"> 背景</h2>
<p>在做项目的我正为自己的显卡太小跑不了预测而发愁的时候，由于非常微妙的缘分，我白嫖到一个装有GeForce GTX 1060显卡的主机，更令人高兴的是这个主机装上的系统就是Manjaro！</p>
<h2 id="怎么做"> 怎么做？</h2>
<p>这个系统已经基本把绝大多数事都做好了，因此我们只需要做一点点工作就行。首先要明确一点：这个主机是用作服务器的，不作日常使用。</p>
<h3 id="前期工作"> 前期工作</h3>
<p>由于这个系统有较长时间没有使用，因此需要像刚安装好系统那样做一切前期准备，详细步骤请阅读我之前的<a href="./Manjaro安装与配置.html">文章</a>。</p>
<h3 id="搭建虚拟内网"> 搭建虚拟内网</h3>
<p>为了能在各地自由使用，我决定使用ZeroTier-One来构建一个虚拟内网，然后将我目前使用的两个设备jion到同一个内网即可。服务器上只消执行：</p>
<div><pre><code><span>sudo</span> pacman -S zerotier-one
<span>sudo</span> systemctl <span>enable</span> zerotier-one.service
<span>sudo</span> systemctl start zerotier-one.service
zerotier-cli <span>join</span> <span>{</span>YOUR_NETWORK_ID<span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br></div></div><p>这样就可以搭建好一个虚拟内网了。</p>
<h3 id="建立ssh连接"> 建立SSH连接</h3>
<p>做好上一步之后，可以根据情况自己设定好IP「更具体的内容请移步至<a href="./ZeroTier-One安装与使用.html">这篇文章</a>」，需要记好服务器的IP，并且编辑SSH配置文件：</p>
<div><pre><code><span>sudo</span> <span>vim</span> /etc/ssh/ssh_config
</code></pre>
<div><span>1</span><br></div></div><p>需要将<code>Port 22</code>前的#去掉，当然如果你愿意也可以直接修改Port后面的值。</p>
<p>保存后需要重启一下服务，执行：</p>
<div><pre><code><span>sudo</span> restart sshd.service
</code></pre>
<div><span>1</span><br></div></div><p>但为了保证开机就能使用SSH，还需要执行：</p>
<div><pre><code><span>sudo</span> <span>enable</span> sshd.service
</code></pre>
<div><span>1</span><br></div></div><p>最后你就可以执行：</p>
<div><pre><code><span>ssh</span> USERNAME@IP
</code></pre>
<div><span>1</span><br></div></div><p>来远程连接服务器了。</p>
<p>但这里要注意的是，如果前面你设定的port不是默认值22，则需要使用p参数，即执行：</p>
<div><pre><code><span>ssh</span> -p YOUR_PORT USERNAME@IP
</code></pre>
<div><span>1</span><br></div></div><h3 id="关闭图形桌面"> 关闭图形桌面</h3>
<p>因为我不喜欢总是去插拔鼠标接收器来在两台电脑之间使用，而且服务器我也是只可能使用命令行形式，而最重要的原因是它打开的图形桌面Xorg服务是要占用显卡的，这个就阻挠了我进一步的安装驱动，于是我执行了如下指令来关掉这个多余的东西：</p>
<div><pre><code><span>sudo</span> systemctl set-default multi-user.target
<span>sudo</span> <span>reboot</span>
</code></pre>
<div><span>1</span><br><span>2</span><br></div></div><p>这样你就可以开机就进入命令行模式了，其实就是tty模式。</p>
<p>如果你有一天想用回这个桌面系统，那就执行：</p>
<div><pre><code><span>sudo</span> systemctl set-default graphics.target
<span>sudo</span> <span>reboot</span>
</code></pre>
<div><span>1</span><br><span>2</span><br></div></div><h3 id="安装nvidia驱动"> 安装Nvidia驱动</h3>
<p>依旧根据<code>inxi -G</code>给出的显卡信息到Nvidia官网选择合适的驱动程序下载过来，然后用<code>sudo bash NVIDIA…….sh</code>即可。</p>
<p>但要注意的是如果安装失败并报错提示缺少kernel的话，你需要根据系统内核版本来安装linux-headers，查看系统版本的方法有三个：一是执行<code>username -a</code>来查看内核版本；二是执行<code>neofetch</code>，不过这个需要提前安装好neofetch才行；三则是直接运行系统自带的<code>screenfetch</code>，因此本人最推荐这个方法，当然第一个方法非常简洁，也足够使用。如你所见，Kernel后跟的数字就意味着你要安装的linux-headers的版本，比如我的就是<code>5.11.22-2-MANJARO</code>，那我就要安装linux510-headers，为什么不是511，因为没有啊～安装好Kernel Headers之后再重新安装显卡，就万事大吉了。</p>
<h3 id="安装cuda系列"> 安装cuda系列</h3>
<p>安装之前一定要检查一下你的系统驱动版本是否与你将要安装的cuda版本匹配，由于我这里的版本是470.63.01，对应应该装的CUDA版本要高于11.2（包括11.2）。而我这恰好一切都满足，就很顺利，执行一个语句即可：</p>
<div><pre><code><span>sudo</span> pacman -S cuda cuda-tools cudnn
</code></pre>
<div><span>1</span><br></div></div><h2 id="结束"> 结束</h2>
<p>现在你的服务器已经搭好了，一切都可以正常使用咯～</p>
]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2021-08-13T22:55:00.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">Crawler</title>
    <id>https://breezeshane.github.io/Python/Crawler/</id>
    <link href="https://breezeshane.github.io/Python/Crawler/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<h1 id="网络爬虫学习-updating"> 网络爬虫学习(Updating...)</h1>
<h2 id="前言"> 前言</h2>
<p>入门学习网络爬虫的阶段主要参考的是<a href="https://mofanpy.com/tutorials/data-manipulation/scraping/" target="_blank" rel="noopener noreferrer">莫烦 Python</a>的爬虫基础教程，按照了他的学习路线去学，因为这个教程实在是非常通俗易懂，能让你迅速掌握网络爬虫的相关基础概念。</p>
<p>在学过网络爬虫这一版块的内容之后，我发现网络爬虫本就没有那么神秘，说到底，不过是进入某一网络站点获取源码，再利用其他技术来爬取我们需要的信息。而且，我发现，到目前这个学习阶段为止，网络爬虫只是一种具备针对性的工具，也就是说当你需要获取某种数据时，你要做的工作首先就是要在目标网络站点上“踩点”——剖析目标网站的结构，并在其中找出你希望找到的目标。然后从此设计你的爬虫程序。</p>
<p>写爬虫工具常用的包有requests、beautifulsoup4、Asyncio、Aiohttp和Selenium等，皆可通过pip3安装。另外有看见关于Scrapy爬虫库的介绍，目前还没有学。</p>
<h2 id="beautifulsoup"> BeautifulSoup</h2>
<blockquote>
<p>此处参考的是<a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc.zh/" target="_blank" rel="noopener noreferrer">BeautifulSoup4 官方文档</a></p>
</blockquote>
<p>使用之前要先安装，执行<code>pip install beautifulsoup4 lxml html5lib</code>来完成安装「其中最后两个是解析器，可以选择不安装」。</p>
<p>使用BeautifulSoup时需要提前引用相关的包，并且获取目标网站的网页：</p>
<div><pre><code><span>from</span> bs4 <span>import</span> BeautifulSoup <span>as</span> bs
<span>from</span> urllib<span>.</span>request <span>import</span> urlopen

web_page <span>=</span> urlopen<span>(</span><span>"https://breezeshane.github.io/index.html"</span><span>)</span><span>.</span>read<span>(</span><span>)</span><span>.</span>decode<span>(</span><span>'utf-8'</span><span>)</span>
soup <span>=</span> bs<span>(</span>web_page<span>,</span> features<span>=</span><span>'lxml'</span><span>)</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br></div></div><p>而且对Python友好的是，我们获取来的一切标签，皆可按照Python字典的操作方式操作标签。「而这一点官方文档也再三强调。」</p>
<p>若希望查找所有某名字的标签时，可以使用find_all方法查找，使用样例如下：</p>
<div><pre><code>href <span>=</span> soup<span>.</span>find_all<span>(</span><span>'a'</span><span>)</span>
links <span>=</span> <span>[</span>link<span>[</span><span>'href'</span><span>]</span> <span>for</span> link <span>in</span> href<span>]</span>
<span>print</span><span>(</span>links<span>)</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br></div></div><p>这里的href就可以获取一切标签<code>&lt;a&gt;</code>，而如果只是希望获取其中的链接，则可使用第二行代码来生成只含有链接的列表。</p>
<p>另外，值得注意的是，find_all方法支持正则表达式，但需要引用re包，在第一行插入<code>import re</code>。Example：<code>href = soup.find_all(re.compile(&quot;^li&quot;))</code>，这表示寻找以“li”开头的所有标签，而如果希望寻找包含“li”的标签，则需写成：<code>href = soup.find_all(re.compile(&quot;li&quot;))</code></p>
<p>同时，find_all方法还支持一次性获取多个类型标签，只消用逗号隔开即可。Example：<code>href = soup.find_all([&quot;link&quot;, &quot;script&quot;])</code></p>
<p>如果想查找指定属性以及其对应的值的话，可以使用<code>soup.find_all('link', {&quot;mode&quot; : &quot;dark&quot;})</code>，这表示寻找包含<code>mode=&quot;dark&quot;</code>的link标签。</p>
<p>还有一个比较有用的标签属性——has_attr属性，可以判断该标签是否含有指定属性，是则返回True，否则为False。</p>
<p>更多具体细节可以直接查询官方文档，本文就不作赘述。</p>
<h2 id="requests"> Requests</h2>
<blockquote>
<p>此处参考<a href="https://cn.python-requests.org/zh_CN/latest/" target="_blank" rel="noopener noreferrer">Requests 官方文档</a></p>
</blockquote>
<p>传递URL参数时，可以写如下代码「此处以模拟Bing搜索为例」：</p>
<div><pre><code><span>import</span> requests

r <span>=</span> requests<span>.</span>get<span>(</span><span>'https://www.bing.com/search'</span><span>,</span> params<span>=</span> <span>{</span><span>"q"</span><span>:</span> <span>"BreezeShane"</span><span>}</span><span>)</span>
<span>print</span><span>(</span>r<span>.</span>url<span>)</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br></div></div><p>其他功能相对来说较为复杂并且信息量也挺大，但很完善，因此要经常翻看官方文档，写爬虫时如果有什么需求再来查就好了。</p>
<h2 id="asyncio-在学了在学了-tot"> Asyncio（在学了在学了(ToT)）</h2>
<blockquote>
<p>此处参考<a href="https://docs.python.org/zh-cn/3/library/asyncio.html" target="_blank" rel="noopener noreferrer">Asyncio 官方文档</a></p>
</blockquote>
<p>Asyncio是异步加载库，虽说是单线程，但在较多场合情况下优胜于多线程，而我们如果需要爬取大量数据的话，异步加载还是有必要学的。从官方文档中我们也发现，学到这就已经接触了Python并发编程技术。</p>
<p>官方给出了一个程序示例：</p>
<div><pre><code><span>import</span> asyncio

<span>async</span> <span>def</span> <span>main</span><span>(</span><span>)</span><span>:</span>
    <span>print</span><span>(</span><span>'Hello ...'</span><span>)</span>
    <span>await</span> asyncio<span>.</span>sleep<span>(</span><span>1</span><span>)</span>
    <span>print</span><span>(</span><span>'... World!'</span><span>)</span>

<span># Python 3.7+</span>
asyncio<span>.</span>run<span>(</span>main<span>(</span><span>)</span><span>)</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br></div></div><p>上面的Asyncio Example并不难理解，async表示后面定义的函数是异步加载的模块，await一行表示执行该函数时暂停等待1秒。实际上这个就基本给出了Asyncio的使用模板。如果你希望实现什么功能，自行添加自己的代码即可，就像Movant写的程序：</p>
<div><pre><code><span>import</span> asyncio


<span>async</span> <span>def</span> <span>job</span><span>(</span>t<span>)</span><span>:</span>                   <span># async 形式的功能</span>
    <span>print</span><span>(</span><span>'Start job '</span><span>,</span> t<span>)</span>
    <span>await</span> asyncio<span>.</span>sleep<span>(</span>t<span>)</span>          <span># 等待 "t" 秒, 期间切换其他任务</span>
    <span>print</span><span>(</span><span>'Job '</span><span>,</span> t<span>,</span> <span>' takes '</span><span>,</span> t<span>,</span> <span>' s'</span><span>)</span>


<span>async</span> <span>def</span> <span>main</span><span>(</span>loop<span>)</span><span>:</span>                       <span># async 形式的功能</span>
    tasks <span>=</span> <span>[</span>
    loop<span>.</span>create_task<span>(</span>job<span>(</span>t<span>)</span><span>)</span> <span>for</span> t <span>in</span> <span>range</span><span>(</span><span>1</span><span>,</span> <span>3</span><span>)</span>
    <span>]</span>                                       <span># 创建任务, 但是不执行</span>
    <span>await</span> asyncio<span>.</span>wait<span>(</span>tasks<span>)</span>               <span># 执行并等待所有任务完成</span>

t1 <span>=</span> time<span>.</span>time<span>(</span><span>)</span>
loop <span>=</span> asyncio<span>.</span>get_event_loop<span>(</span><span>)</span>             <span># 建立 loop</span>
loop<span>.</span>run_until_complete<span>(</span>main<span>(</span>loop<span>)</span><span>)</span>         <span># 执行 loop</span>
loop<span>.</span>close<span>(</span><span>)</span>                                <span># 关闭 loop</span>
<span>print</span><span>(</span><span>"Async total time : "</span><span>,</span> time<span>.</span>time<span>(</span><span>)</span> <span>-</span> t1<span>)</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br><span>18</span><br><span>19</span><br><span>20</span><br></div></div><p>写的程序蛮简单，但Asyncio实际上远不止如此。</p>
<p>更多的用法可以直接去阅读文档，本人精力有限，而且意图也不在于深入精通网络爬虫，只是希望满足自己的需求而已，就不会在此继续讨论Asyncio了。如果过后遇到了什么问题，解决之后还是会回来记录一下。</p>
<h2 id="aiohttp-在学了在学了-tot"> Aiohttp（在学了在学了(ToT)）</h2>
<h2 id="selenium-在学了在学了-tot"> Selenium（在学了在学了(ToT)）</h2>
]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2021-06-07T20:47:07.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">关于Vcomputer如何实现循环的哲学问题</title>
    <id>https://breezeshane.github.io/VComputer/</id>
    <link href="https://breezeshane.github.io/VComputer/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<h1 id="关于vcomputer如何实现循环的哲学问题"> 关于Vcomputer如何实现循环的哲学问题</h1>
<hr>
<p>由于种种原因，我的计算机科学导论实验作业少做了第三题，题目如下：</p>
<blockquote>
<p>请使用Vcomputer用循环计算1+2+3+4+5+6+7+8+9+10的结果。</p>
</blockquote>
<p>当时吧，我一看这题，就去找Vcomputer的操作码表了，扫了一下，发现只有操作码8才符合循环的特性。这个特性其实好恶心的......</p>
<blockquote>
<p>8RXY -&gt; 若寄存器R与寄存器0中的值相同，则将数据XY（转移地址）存入程序计数器；否则程序按原来的顺序继续执行。</p>
</blockquote>
<p>以前使用高级编程语言的时候，这个问题都不是问题，for直接秒杀。但是这回是用Vcomputer，这可就难办了......经过长足的思考以及与学长们的讨论,终于找到解决问题的方法了,先放上我的代码~</p>
<div><pre><code>2001
2101
2201
2301
240A
2501
8418
5002
5112
5323
5553
830C
9000
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br></div></div><p>再来说一下想出这个鬼东西的思路:</p>
<ol>
<li>计算这个算式时,首先要知道得有一个寄存器能依次储存1,2,3,4,5,6,7,8,9,10这十个数,既然发现它们依次递增1,那么就可以单独使用一个寄存器做一个迭代运算(如上部代码的<code>5323</code>,也就是相当于<code>i++;</code>),不难发现,必须还要有另一个储存器存放1,否则无法直接使该储存器增加1.</li>
<li>循环这里是重中之重,是代码的最关键之处.要实现循环,我们首先要想,用几个储存器合适?</li>
<li>如果只用一个储存器,那么我们会发现,不论怎么写,这个循环总是不会顺利执行,因为总会还没到预期停止的时间就已经和储存器0的值不一样了,无法满足循环条件.</li>
<li>如果只用两个储存器(其中有一个是储存器0),你会发现,不论怎么做,都不能在需要的地方停下来,因为你总是能够构造出死循环.你既然要循环,就得要求这两个储存器的值始终相同,当你执行代码到应该停下的时候你会发现,你没有任何代码去跳出这个循环,也就是说这个循环是没法终止的,是个死循环.</li>
<li>那么用三个储存器如何?我们在原来两个储存器的基础上继续思考,你会发现,如果再来一个储存器用来存放你想停下的终点(对于这题来说是10),说到这你很可能就明白了:当你的储存器0执行到与第三个储存器的值相同时,你这时候就有这个条件且能够跳出循环啦!就是用操作码8直接跳到9000的地址即可.</li>
</ol>
<hr>
<p>不得不吐槽的是,机器代码真的好烦人好恶心,但是当我做成这个东西的时候,我会发现,它是这么地有意思,这么地有魅力,这份快乐简直无法替代!</p>
]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2020-11-10T09:25:00.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">𝕬𝖇𝖔𝖚𝖙</title>
    <id>https://breezeshane.github.io/about/</id>
    <link href="https://breezeshane.github.io/about/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<h2 id="基础档案"> 基础档案</h2>
<p>【代号】和风曦日</p>
<p>【本体】Bug</p>
<p>【性别】男</p>
<p>【战斗经验】没有战斗经验</p>
<p>【出身地】不明</p>
<p>【生日】本人表示遗忘</p>
<p>【种族】萨卡兹</p>
<p>【身高】163cm</p>
<p>【矿石病感染情况】</p>
<p>体表有源石结晶分布，参照医学检测报告，确认为感染者。</p>
<h2 id="综合体检测试"> 综合体检测试</h2>
<p>【物理强度】普通</p>
<p>【战场机动】普通</p>
<p>【生理耐受】普通</p>
<p>【战术规划】普通</p>
<p>【战斗技巧】普通</p>
<p>【源石技艺适应性】卓越</p>
<h2 id="客观履历"> 客观履历</h2>
<p>和风曦日，人工智障和智械学习的研究员实习生，来自四大电子科技大学的G字号大学，目前就读本科。</p>
<h2 id="临床诊断分析"> 临床诊断分析</h2>
<p>造影检测结果显示，该干员体内脏器轮廓模糊，可见异常阴影，循环系统内源石颗粒检测异常，有矿石病感染迹象，现阶段可确认为是矿石病感染者。</p>
<p>【体细胞与源石融合率】12%</p>
<p>患者和风曦日有着明显的感染迹象，且伴随一定程度的失聪。</p>
<p>【血液源石结晶密度】0.5µ/L</p>
<p>患者和风曦日的内循环结晶水平处于较高位置。</p>
]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T00:51:11.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">Intro Page</title>
    <id>https://breezeshane.github.io/intro/</id>
    <link href="https://breezeshane.github.io/intro/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<h1 id="intro-page"> Intro Page</h1>
<p>Place your introducation and profile here.</p>
]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T00:51:11.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">Custom Layout</title>
    <id>https://breezeshane.github.io/layout/</id>
    <link href="https://breezeshane.github.io/layout/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<p>You can use slots with markdown and component support to custom page layout.</p>
<div><p>注意</p>
<p>This is just a demo, you should add styles according to your own needs.</p>


</div>
<template #page-top><p>Page top content</p>
</template><template #page-bottom><p>Page bottom content</p>
</template><template #content-top><p>Content top content</p>
</template><template #content-bottom><p>Content bottom content</p>
</template><template #navbar-start><p>Navbar start content</p>
</template><template #navbar-center><p>Navbar center content</p>
</template><template #navbar-end><p>Navbar end content</p>
</template><template #sidebar-top><p>Sidebar top content</p>
</template><template #sidebar-center><p>Sidebar center content</p>
</template><template #sidebar-bottom><p>Sidebar bottom content</p>
</template><p>For details, see <a href="https://vuepress-theme-hope.github.io/guide/layout/custom/" target="_blank" rel="noopener noreferrer">Custom layout</a>.</p>
]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T00:51:11.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">友情链接</title>
    <id>https://breezeshane.github.io/links/</id>
    <link href="https://breezeshane.github.io/links/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<div id="Main" style="display: flex;justify-content: space-between;flex-wrap: wrap;">
<div id="1" style="width:128px;height:256px;">
<a href="https://blog.keter.top"><img src="/images/coronaPolvo.jpg" alt="coronaPolvo Blog" width="128px" height="128px"></img></a>
<p><center><font color="red">专业人士，来自专业团队！</font></center></p>
</div>
<div id="2" style="width:128px;height:256px;">
<a href="https://blog.zerorains.top"><img src="/images/zerorains.png" alt="ZeroRains Blog" width="128px" height="128px"></img></a>
<p><center><font color="orange">在远方守护我们的一方霸主佬！</font></center></p>
</div>
<div id="3" style="width:128px;height:256px;">
<a href="https://focus.akasaki.space/"><img src="/images/akasaki.png" alt="Akasaki Blog" width="128px" height="128px"></img></a>
<p><center><font color="#c93756">日渐消瘦仍！修！仙！的向熊猫进化的工具箱大佬</font></center></p>
</div>
<div id="4" style="width:128px;height:256px;">
<a href="https://blog.pommespeter.com"><img src="/images/54879512.png" alt="PommesPeter Blog" width="128px" height="128px"></img></a>
<p><center><font color="blue">举世闻名的蟹佬板为你解决一切！</font></center></p>
</div>
<div id="5" style="width:128px;height:256px;">
<a href="https://asthestarsfalll.icu"><img src="/images/asthestarsfall.jpg" alt="As the Stars Fall Blog" width="128px" height="128px"></img></a>
<p><center><font color="indigo">砸人很疼！的流星雨大佬</font></center></p>
</div>
<div id="6" style="width:128px;height:256px;">
<a href="https://fly-pluche.github.io"><img src="/images/Fly_Pluche.jpg" alt="FlyPluche Blog" width="128px" height="128px"></img></a>
<p><center><font color="violet">大佬菜想找菜狗！</font></center></p>
</div>
</div>]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T00:51:11.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">𝕼𝖚𝖔𝖙𝖆𝖙𝖎𝖔𝖓 𝖆𝖓𝖉 𝕻𝖔𝖊𝖓</title>
    <id>https://breezeshane.github.io/qap/</id>
    <link href="https://breezeshane.github.io/qap/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<center>
    <font color="#fa8c35" size="5">
    𝓦𝓮𝓵𝓬𝓸𝓶𝓮 𝓽𝓸 𝓶𝔂 𝓸𝔀𝓷 <br><br><br>
    𝓹𝓻𝓲𝓿𝓪𝓽𝓮 𝓫𝓵𝓸𝓰 𝓪𝓷𝓭 𝔀𝓸𝓻𝓵𝓭!<br><br><br>
    𝓗𝓮𝓻𝓮 𝓻𝓮𝓬𝓸𝓻𝓭𝓼 𝔀𝓱𝓪𝓽 𝓘'𝓿𝓮 𝓵𝓮𝓪𝓻𝓷𝓽 𝓪𝓷𝓭 <br><br><br>
    𝔀𝓱𝓪𝓽 𝓘'𝓶 𝓵𝓮𝓪𝓻𝓷𝓲𝓷𝓰. 𝓗𝓸𝓹𝓮 𝔀𝓮 𝓪𝓻𝓮 𝓪𝓫𝓵𝓮 𝓽𝓸 <br><br><br>
    𝓱𝓪𝓿𝓮 𝓪 𝓼𝓶𝓸𝓸𝓽𝓱 𝓫𝓮𝓪𝓾𝓽𝓲𝓯𝓾𝓵 𝓵𝓲𝓯𝓮 𝓲𝓷 𝓽𝓱𝓮 𝓯𝓾𝓽𝓾𝓻𝓮!<br><br><br>
    𝓘 𝓱𝓪𝓻𝓫𝓸𝓻 𝓽𝓱𝓮 𝔀𝓲𝓼𝓱 𝓽𝓸 𝓫𝓮 𝓽𝓱𝓮 𝓫𝓻𝓮𝓮𝔃𝓮 𝓽𝓸 𝓼𝓽𝓻𝓸𝓴𝓮 𝔂𝓸𝓾, <br><br><br>
    𝔀𝓪𝓷𝓷𝓪 𝓫𝓮 𝓽𝓱𝓮 𝓼𝓾𝓷 𝓽𝓸 𝓼𝓱𝓲𝓷𝓮 𝓾𝓹𝓸𝓷 𝔂𝓸𝓾, <br><br><br>
    𝓪𝓷𝓭 𝓭𝓮𝓵𝓲𝓿𝓮𝓻 𝓽𝓱𝓮 𝔀𝓪𝓻𝓶𝓽𝓱 𝓪𝓷𝓭 <br><br><br>
    𝓬𝓸𝓼𝓲𝓷𝓮𝓼𝓼 𝓽𝓸 𝓨𝓞𝓤, 𝓶𝔂 𝓯𝓻𝓲𝓮𝓷𝓭𝓼!
    </font>
</center>
<style>
.page{
margin:0 auto;
background-image: url(/images/Wallpapers/morning-sunrise-wallpaper-1638x1024.jpg);
background-position: center center;
background-attachment: fixed;
background-size: cover;
}
</style>
]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2021-05-06T20:47:08.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">Blog Home</title>
    <id>https://breezeshane.github.io/</id>
    <link href="https://breezeshane.github.io/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<center><p><font color="#ff4c00" size=6>等等，觉得好的话<br>不点一下<a href="https://github.com/BreezeShane?tab=repositories">✨🌟star🌟✨</a>再走吗？</font><br><font color="#4b5cc4" size=5>😯😯😯如果觉得不好也不要紧😯😯😯<br>🤗🤗🤗还烦请各位<a href="https://github.com/BreezeShane/BreezeShane.github.io/issues">批评指正</a>，一定洗耳恭听🤗🤗🤗</font></p></center>
]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T00:51:11.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">Slide page</title>
    <id>https://breezeshane.github.io/slides/</id>
    <link href="https://breezeshane.github.io/slides/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[
<i>Not supported content</i>]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2022-01-23T00:51:11.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">Windows10 快捷键大全</title>
    <id>https://breezeshane.github.io/Windows10%E5%BF%AB%E6%8D%B7%E9%94%AE%E5%A4%A7%E5%85%A8/</id>
    <link href="https://breezeshane.github.io/Windows10%E5%BF%AB%E6%8D%B7%E9%94%AE%E5%A4%A7%E5%85%A8/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<h1 id="windows10-快捷键大全"> Windows10 快捷键大全</h1>
<h2 id="_2020-11-19"> 2020/11/19</h2>
<hr>
<p>今年高考结束后的暑假，我买来笔记本电脑。从此我开始使用了Win10，以我个人的使用习惯，我喜欢且经常使用快捷键，因此在初次使用系统的时候我都会花时间了解并尽力记住快捷键。个人认为，经常使用快捷键会提高你的工作效率，而且也会为你增加不少逼格！说不定你随便敲敲快捷键，就真的有人把你当成大佬咯~以下是Windows10的快捷键的列举讲解：</p>
<hr>
<hr>
<hr>
<blockquote>
<p>贴靠窗口：Win + 左/右 &gt;  Win + 上/下 &gt; 窗口可以变为 1/4 大小放置在屏幕 4 个角落。</p>
</blockquote>
<blockquote>
<p>创建新的虚拟桌面：Win + Ctrl + D。</p>
</blockquote>
<blockquote>
<p>关闭当前虚拟桌面：Win + Ctrl + F4。</p>
</blockquote>
<blockquote>
<p>切换虚拟桌面：Win + Ctrl + 左/右。</p>
</blockquote>
<blockquote>
<p>Win + R 打开运行对话框</p>
</blockquote>
<blockquote>
<p>Win + Q 快速打开搜索</p>
</blockquote>
<blockquote>
<p>Win + I 快速打开Win10设置栏</p>
</blockquote>
<blockquote>
<p>Win+ ↑：最大化窗口（与开始屏幕应用无关）Win+ ↓：最小化窗口（与开始屏幕应用无关）</p>
</blockquote>
<blockquote>
<p>Win+ SHIFT +↑：垂直拉伸窗口，宽度不变（与开始屏幕应用无关）Win+ SHIFT +↓：垂直缩小窗口，宽度不变（与开始屏幕应用无关）</p>
</blockquote>
<blockquote>
<p>Win+SHIFT+←：将活动窗口移至左侧显示器 （与开始屏幕应用无关）Win+SHIFT+→：将活动窗口移至右侧显示器（与开始屏幕应用无关）</p>
</blockquote>
<blockquote>
<p>Win+ P：演示设置</p>
</blockquote>
<blockquote>
<p>Win+ Home：最小化所有窗口，第二次键击恢复窗口（不恢复开始屏幕应用）</p>
</blockquote>
<blockquote>
<p>Win+ 数字键：打开或切换位于任务栏指定位置的程序</p>
</blockquote>
<blockquote>
<p>Win+Shift+数字键：打开位于任务栏指定位置程序的新实例</p>
</blockquote>
<blockquote>
<p>Win+B：光标移至通知区域</p>
</blockquote>
<blockquote>
<p>Win+Break：显示“系统属性”对话框</p>
</blockquote>
<blockquote>
<p>Win+Ctrl+F：搜索计算机（如果你在网络上）</p>
</blockquote>
<blockquote>
<p>Win+G：打开游戏屏幕录制</p>
</blockquote>
<blockquote>
<p>Win+L：锁住电脑或切换用户</p>
</blockquote>
<blockquote>
<p>Win+M：最小化所有窗口</p>
</blockquote>
<blockquote>
<p>Win+Shift+M：在桌面恢复所有最小化窗口（不恢复开始屏幕应用）</p>
</blockquote>
<blockquote>
<p>Win+R：打开“运行”对话框</p>
</blockquote>
<blockquote>
<p>Win+T：切换任务栏上的程序</p>
</blockquote>
<blockquote>
<p>Win+U：打开轻松使用</p>
</blockquote>
<blockquote>
<p>Win+F1：打开Windows帮助和支持</p>
</blockquote>
<blockquote>
<p>Win+N：插件新笔记（OneNote）</p>
</blockquote>
<blockquote>
<p>Win+S：打开屏幕截图工具（OneNote）</p>
</blockquote>
<blockquote>
<p>Win+空格键：切换输入语言和键盘布局</p>
</blockquote>
<blockquote>
<p>Win+O：禁用屏幕翻转</p>
</blockquote>
<blockquote>
<p>Win+，：临时查看桌面</p>
</blockquote>
<blockquote>
<p>Win+V：打开剪贴板</p>
</blockquote>
<blockquote>
<p>Win+PgUp：将开始屏幕或开始屏幕应用移至左侧显示器</p>
</blockquote>
<blockquote>
<p>Win+PgDown：将开始屏幕或开始屏幕应用移至右侧显示器</p>
</blockquote>
<blockquote>
<p>Win+.：打开表情输入</p>
</blockquote>
<blockquote>
<p>Win+K：打开蓝牙连接设备</p>
</blockquote>
<blockquote>
<p>Win+H：（与麦克风有关的未知功能）</p>
</blockquote>
<blockquote>
<p>Win+W：打开附加功能（截图、手写板）</p>
</blockquote>
<blockquote>
<p>Win+X：快捷菜单</p>
</blockquote>
<blockquote>
<p>Win键 + Home 最小化除活动窗口之外的所有窗口(传统桌面)</p>
</blockquote>
<blockquote>
<p>开始屏幕直接输入任何字符，开始屏幕下可直接搜索进行搜索</p>
</blockquote>
<blockquote>
<p>Win键 + Pause 显示“系统属性”对话框</p>
</blockquote>
<blockquote>
<p>Win键 + Page Up 在多监视器设置中将开始屏幕移动至左监视器</p>
</blockquote>
<blockquote>
<p>Win键 + Page Down 在多监视器设置中将开始屏幕移动至右监视器</p>
</blockquote>
<blockquote>
<p>Win键 + W 打开所选设置的“搜索”个性分类</p>
</blockquote>
<blockquote>
<p>Alt + Win键 + 数字 打开锁定到任务栏中的由该数字所表示位置处的程序的右键菜单</p>
</blockquote>
<blockquote>
<p>Ctrl+向右键 将光标移动到下一个字符的起始处</p>
</blockquote>
<blockquote>
<p>Ctrl+向左键 将光标移动到上一个字词的起始处</p>
</blockquote>
<blockquote>
<p>Ctrl+向下键 将光标移动到下一个段落的起始处</p>
</blockquote>
<blockquote>
<p>Ctrl+向上键 将光标移动到上一个段落的起始处</p>
</blockquote>
<blockquote>
<p>Ctrl+Shift 加某个箭头键 选择一块文本Shift 加任意箭头键 在窗口中或桌面上选择多个项目，或者在文档中选择文本</p>
</blockquote>
<blockquote>
<p>F3 搜索文件或文件夹</p>
</blockquote>
<blockquote>
<p>Alt+Enter 显示所选项的属性</p>
</blockquote>
<blockquote>
<p>Alt+空格键 为活动窗口打开快捷方式菜单</p>
</blockquote>
<blockquote>
<p>Ctrl+F4 关闭活动文档(在允许同时打开多个文档的程序中)</p>
</blockquote>
<blockquote>
<p>Ctrl+鼠标滚轮 更改图标大小</p>
</blockquote>
<blockquote>
<p>Alt+Esc 以项目打开的顺序循环切换项目</p>
</blockquote>
<blockquote>
<p>F6 在窗口中或桌面上循环切换屏幕元素</p>
</blockquote>
<blockquote>
<p>F4 在 Win资源管理器中显示地址栏列表</p>
</blockquote>
<blockquote>
<p>Shift+F10 显示选定项目的快捷菜单</p>
</blockquote>
<blockquote>
<p>Ctrl+Esc 打开“开始”菜单</p>
</blockquote>
<blockquote>
<p>Alt+加下划线的字母 显示相应的菜单</p>
</blockquote>
<blockquote>
<p>Alt+加下划线的字母 执行菜单命令(或其他有下划线的命令)</p>
</blockquote>
<blockquote>
<p>F10 激活活动程序中的菜单栏向右键 打开右侧的下一个菜单或者打开子菜单向左键 打开左侧.的下一个菜单或者关闭子菜单</p>
</blockquote>
<blockquote>
<p>F5(或 Ctrl+R) 刷新活动窗口</p>
</blockquote>
<blockquote>
<p>Alt+向上键 在 Win资源管理器中查看上一级文件夹</p>
</blockquote>
<blockquote>
<p>Esc 取消当前任务</p>
</blockquote>
<blockquote>
<p>插入 CD 时按住 Shift 阻止 CD 自动播放</p>
</blockquote>
<blockquote>
<p>左 Alt+Shift 在启用多种输入语言时切换输入语言</p>
</blockquote>
<blockquote>
<p>Ctrl+Shift 在启用多个键盘布局时切换键盘布局 右或左</p>
</blockquote>
<blockquote>
<p>Ctrl+Shift 更改从右到左阅读语言的文本阅读方向</p>
</blockquote>
<blockquote>
<p>Win资源管理器中的快捷键</p>
</blockquote>
<blockquote>
<p>Ctrl+N 打开新窗口</p>
</blockquote>
<blockquote>
<p>Ctrl+W 关闭当前窗口</p>
</blockquote>
<blockquote>
<p>Ctrl+Shift+N 新建文件夹</p>
</blockquote>
<blockquote>
<p>End 显示活动窗口的底端</p>
</blockquote>
<blockquote>
<p>Home 显示活动窗口的顶端</p>
</blockquote>
<blockquote>
<p>F11 最大化或最小化活动窗口</p>
</blockquote>
<blockquote>
<p>Ctrl+句点 顺时针旋转图片</p>
</blockquote>
<blockquote>
<p>Ctrl+逗号 逆时针旋转图片</p>
</blockquote>
<blockquote>
<p>Num Lock+数字键盘上的星号 (*) 显示所选文件夹下的所有子文件夹</p>
</blockquote>
<blockquote>
<p>Num Lock+数字键盘上的加号 (+) 显示所选文件夹的内容</p>
</blockquote>
<blockquote>
<p>Num Lock+数字键盘上的减号 (-) 折叠选定的文件夹 向左键 折叠当前选项(如果它处于展开状态)，或者选择其父文件夹</p>
</blockquote>
<blockquote>
<p>Alt+Enter 打开所选项目的“属性”对话框Alt+P 显示预览窗格Alt+向左键 查看上一个文件夹</p>
</blockquote>
<blockquote>
<p>Backspace (退格键) 向上，返回父文件夹</p>
</blockquote>
<blockquote>
<p>向右键 显示当前选项(如果它处于折叠状态)，或者选择第一个子文件夹</p>
</blockquote>
<blockquote>
<p>Alt+向右键 查看下一个文件夹</p>
</blockquote>
<blockquote>
<p>Alt+向上键 查看父文件夹</p>
</blockquote>
<blockquote>
<p>Ctrl+Shift+E 显示所选文件夹上面的所有文件夹</p>
</blockquote>
<blockquote>
<p>Ctrl+鼠标滚轮 更改文件和文件夹图标的大小和外观</p>
</blockquote>
<blockquote>
<p>Alt+D 选择地址栏</p>
</blockquote>
<blockquote>
<p>Ctrl+E 选择搜索框</p>
</blockquote>
<blockquote>
<p>Ctrl+F 选择搜索框</p>
</blockquote>
<blockquote>
<p>在对话框中使用的快捷键</p>
</blockquote>
<blockquote>
<p>Ctrl+Tab 在选项卡上向前移动</p>
</blockquote>
<blockquote>
<p>Ctrl+Shift+Tab 在选项卡上向后移动</p>
</blockquote>
<blockquote>
<p>Tab 在选项上向前移动</p>
</blockquote>
<blockquote>
<p>Shift+Tab 在选项上向后移动</p>
</blockquote>
<blockquote>
<p>Alt+加下划线的字母 执行与该字母匹配的命令(或选择选项)Enter</p>
</blockquote>
<blockquote>
<p>对于许多选定命令代替单击鼠标</p>
</blockquote>
<blockquote>
<p>空格键 如果活动选项是复选框，则选中或清除该复选框 箭头键 如果活动选项是一组选项按钮，则选择某个按钮F1 显示帮助F4 显示活动列表中的项目Backspace 如果在“另存为”或“打开”对话框中选中了某个文件夹，则打开上一级文件夹</p>
</blockquote>
<hr>
<hr>
<hr>
<p>未完待续.     .    .   .  . .</p>
]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2020-11-19T14:33:27.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">在受限的网站里强制复制粘贴</title>
    <id>https://breezeshane.github.io/Web/HowtoForceCVWhenBanned/</id>
    <link href="https://breezeshane.github.io/Web/HowtoForceCVWhenBanned/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<h1 id="在受限的网站里强制复制粘贴"> 在受限的网站里强制复制粘贴</h1>
<blockquote>
<p>参考：</p>
<p><a href="https://segmentfault.com/a/1190000039087909" target="_blank" rel="noopener noreferrer">功能实现-解除页面禁止复制功能</a></p>
<p><a href="https://blog.csdn.net/facecrazy/article/details/46791443" target="_blank" rel="noopener noreferrer">Chrome下如何复制禁止复制网页上的文字</a></p>
<p><a href="https://news.mydrivers.com/1/651/651484.htm" target="_blank" rel="noopener noreferrer">网页禁止复制粘贴怎么办？教你六招轻松搞定</a></p>
<p><a href="https://www.jianshu.com/p/5550da3fad49" target="_blank" rel="noopener noreferrer">网页禁止复制的实现方法</a></p>
</blockquote>
<h2 id="背景"> 背景</h2>
<p>像我这样“睿智”儿童，天天上网扒人家……博客，然后各种复制白嫖写报告，结果这样的事做多了，官方都看不下去了，就开始打压俺了，设置了各种障碍，说什么也不让我愉快地学（fù）习（zhì）了，不是让我去登陆，就是让我去付费，价钱还不便宜「🤬🤬🤬最重要的是根本不值这个价🤬🤬🤬」，哎，我就学习一下，稍微用亿点点，不行咯？😢😢😢</p>
<p>难道我就没有办法了吗？不行，说什么也得想个办法把在眼前的资料白嫖到手！</p>
<h2 id="实现方法"> 实现方法</h2>
<h3 id="插件大法"> 插件大法</h3>
<p>我选择的是Enable Copy插件，不过似乎在一些网站发挥的作用不是很好，有的网站要在未加载完之前就要复制文字，否则就失效，不过这没啥，不影响用，只要手速快，浏览器就反应不过来🤣🤣🤣</p>
<p>Chrome浏览器请点<a href="https://chrome.google.com/webstore/detail/enable-copy/lmnganadkecefnhncokdlaohlkneihio/related?sid=MbjBMX" target="_blank" rel="noopener noreferrer">这里</a>安装插件。</p>
<p>Firefox浏览器请点<a href="">这里</a>安装插件。</p>
<h3 id="查看源码大法"> 查看源码大法</h3>
<p>在浏览器的菜单里找到开发者工具的一项并点击（也可以使用快捷键<kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>I</kbd>），然后搜索<code>&lt;p&gt;</code>的关键词，这时候就可以看到你希望复制的正文了。</p>
<blockquote>
<p>不同浏览器打开开发者工具的方法都不太一样，总之是个正常的浏览器都会有开发者工具这一项的，找一找总会有的。</p>
</blockquote>
<h3 id="console操作大法"> Console操作大法</h3>
<h4 id="全文复制"> 全文复制</h4>
<p>打开开发者工具，在Console控制台中输入<code>document.body.innerText</code>就会得到它当前页面的所有文字信息「不仅限于文章」。</p>
<p>如果你遇到如下形式的输出：</p>
<p><img src="/images/2021-05-14_17-26.png" alt="" /></p>
<p>也不要深恶痛绝，我们还有一个好东西可以直接消除这些转义字符——echo。</p>
<p>写Shell文件，输入如下代码：</p>
<div><pre><code><span>echo</span> -e <span>"你复制的所有内容"</span> <span>>></span> new.txt <span>#后面的文件名是任取的。</span>
</code></pre>
<div><span>1</span><br></div></div><p>执行完这个脚本文件，文章显示一切正常！</p>
<p><img src="/images/2021-05-14_17-30.png" alt="" /></p>
<h4 id="选中区域复制"> 选中区域复制</h4>
<p>如果你只是想复制一段文字，那么采用上一个方法太过笨拙，其实我们还有更高效的做法：</p>
<ol>
<li>打开开发者工具</li>
<li>选中网页中要复制的文字</li>
<li>在Console控制台输入<code>window.getSelection(0).toString();</code></li>
</ol>
<p>这时候你就可以看到你希望的文字出现在控制台内了！</p>
<h3 id="打印预览大法"> 打印预览大法</h3>
<p>按下<kbd>Ctrl</kbd>+<kbd>P</kbd>来打印该网页，在打印预览中再进行选中复制即可。</p>
<h3 id="领进家门再拆大法"> 领进家门再拆大法</h3>
<p>按下<kbd>Ctrl</kbd>+<kbd>S</kbd>来保存该网页，注意仅保存HTML文件。下载完后再打开复制。</p>
<h3 id="终极杀招"> 终极杀招</h3>
<table><tr><td bgcolor=#FF6347><center><font color="#000000"><strong>没什么说的，直接禁用加载js就万事大吉……</strong></font></center></td></tr></table>
<h2 id="补充的小知识"> 补充的小知识</h2>
<p>知其然，也要知其所以然。我一直都很奇怪为什么这些网站能限制我的操作，虽说大致能想到是用了JS或者其他写了判断来禁用我的对应操作。这回我总算了解到是如何实现的了：</p>
<h3 id="javascript实现方式"> JavaScript实现方式</h3>
<div><pre><code><span>// 禁用右键菜单、复制、选择</span>
<span>$</span><span>(</span>document<span>)</span><span>.</span><span>bind</span><span>(</span><span>"contextmenu copy selectstart"</span><span>,</span> <span>function</span><span>(</span><span>)</span> <span>{</span>
  <span>return</span> <span>false</span><span>;</span>
<span>}</span><span>)</span><span>;</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br></div></div><div><pre><code><span>// 禁用Ctrl+C和Ctrl+V（所有浏览器均支持）</span>
<span>$</span><span>(</span>document<span>)</span><span>.</span><span>keydown</span><span>(</span><span>function</span><span>(</span><span>e</span><span>)</span> <span>{</span>
  <span>if</span><span>(</span>e<span>.</span>ctrlKey <span>&amp;&amp;</span> <span>(</span>e<span>.</span>keyCode <span>==</span> <span>65</span> <span>||</span> e<span>.</span>keyCode <span>==</span> <span>67</span><span>)</span><span>)</span> <span>{</span>
    <span>return</span> <span>false</span><span>;</span>
  <span>}</span>
<span>}</span><span>)</span><span>;</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br></div></div><h3 id="css实现方式"> CSS实现方式</h3>
<div><pre><code><span>body</span> <span>{</span>
  <span>-moz-user-select</span><span>:</span>none<span>;</span> <span>/* Firefox私有属性 */</span>
  <span>-webkit-user-select</span><span>:</span>none<span>;</span> <span>/* WebKit内核私有属性 */</span>
  <span>-ms-user-select</span><span>:</span>none<span>;</span> <span>/* IE私有属性(IE10及以后) */</span>
  <span>-khtml-user-select</span><span>:</span>none<span>;</span> <span>/* KHTML内核私有属性 */</span>
  <span>-o-user-select</span><span>:</span>none<span>;</span> <span>/* Opera私有属性 */</span>
  <span>user-select</span><span>:</span>none<span>;</span> <span>/* CSS3属性 */</span>
<span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br></div></div><h3 id="html实现方式"> HTML实现方式</h3>
<div><pre><code><span><span><span>&lt;</span>body</span> <span>oncopy</span><span><span>=</span><span>"</span>return false<span>"</span></span> <span>oncut</span><span><span>=</span><span>"</span>return false;<span>"</span></span> <span>onselectstart</span><span><span>=</span><span>"</span>return false<span>"</span></span> <span>></span></span>
</code></pre>
<div><span>1</span><br></div></div>]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2021-05-14T17:11:00.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
  <entry>
    <title type="html">简单的网页前后端搭建过程</title>
    <id>https://breezeshane.github.io/Web/Frontbackend/</id>
    <link href="https://breezeshane.github.io/Web/Frontbackend/"/>
    <updated>2022-01-23T00:51:11.000Z</updated>
    <content type="html"><![CDATA[<h2 id="前端-html-css-javascript"> 前端(HTML + CSS + JavaScript)</h2>
<h3 id="html"> HTML</h3>
<p><strong>HTML设置字体：</strong></p>
<div><pre><code><span><span><span>&lt;</span>font</span> <span>size</span><span><span>=</span><span>"</span>6<span>"</span></span> <span>color</span><span><span>=</span><span>"</span>snow<span>"</span></span><span>></span></span><span><span><span>&lt;</span>strong</span><span>></span></span>......<span><span><span>&lt;/</span>strong</span><span>></span></span><span><span><span>&lt;/</span>font</span><span>></span></span>
</code></pre>
<div><span>1</span><br></div></div><p>这类写法已经过时，如今已被丢弃，但大多浏览器仍能支持显示。现今的写法应为如下CSS类写法：</p>
<div><pre><code><span><span><span>&lt;</span>span</span> <span><span>style</span><span><span>=</span><span>"</span><span><span>font-size</span><span>:</span> 25px<span>;</span> <span>color</span><span>:</span> snow<span>;</span> <span>font-weight</span><span>:</span> bolder<span>;</span> </span><span>"</span></span></span><span>></span></span>......<span><span><span>&lt;/</span>span</span><span>></span></span>
</code></pre>
<div><span>1</span><br></div></div><p><strong>HTML设置上传控件：</strong></p>
<div><pre><code><span><span><span>&lt;</span>form</span> <span>id</span><span><span>=</span><span>"</span>test<span>"</span></span> <span>enctype</span><span><span>=</span><span>"</span>multipart/form-data<span>"</span></span> <span><span>style</span><span><span>=</span><span>"</span><span><span>text-align</span><span>:</span> center<span>;</span> </span><span>"</span></span></span><span>></span></span>
    <span><span><span>&lt;</span>input</span> <span>type</span><span><span>=</span><span>"</span>button<span>"</span></span> <span>id</span><span><span>=</span><span>"</span>upload<span>"</span></span> <span>value</span><span><span>=</span><span>"</span>上传图片<span>"</span></span> <span><span>style</span><span><span>=</span><span>"</span><span><span>font-size</span><span>:</span> 25px<span>;</span> <span>font-weight</span><span>:</span> bold<span>;</span> </span><span>"</span></span></span><span>></span></span><span><span><span>&lt;</span>br</span><span>></span></span>
    <span><span><span>&lt;</span>input</span> <span>type</span><span><span>=</span><span>"</span>file<span>"</span></span> <span>id</span><span><span>=</span><span>"</span>files<span>"</span></span> <span>name</span><span><span>=</span><span>"</span>upload_files<span>"</span></span> <span><span>style</span><span><span>=</span><span>"</span><span><span>visibility</span><span>:</span> hidden</span><span>"</span></span></span> <span>multiple</span><span><span>=</span><span>"</span>multiple<span>"</span></span><span>></span></span>
<span><span><span>&lt;/</span>form</span><span>></span></span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br></div></div><p>这样就可以显示一个button，点击后即可打开文件对话框选择多个文件，另外应该注意的是你选择好文件并确认之后，上传的数据是会暂时存到这个form标签里的，而这也是为了后续的传输方便。</p>
<h3 id="css"> CSS</h3>
<p>HTML的head标签内可以写入<code>&lt;style&gt;</code>标签，在<code>&lt;style&gt;</code>内定义CSS样式；另外也可直接在其他标签内编写属性<code>style=&quot;xxxxxx&quot;</code>。</p>
<p>CSS选择器：</p>
<div><pre><code><span>.Image</span> <span>{</span><span>}</span> <span>/*这里是表示使用类选择器，选中类名为Image的所有标签*/</span>
<span>body</span> <span>{</span><span>}</span> <span>/*这里表示直接选中body标签*/</span>
<span>#main</span> <span>{</span><span>}</span> <span>/*这里是表示使用ID选择器，选中Id名为main的标签*/</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br></div></div><p>CSS实现背景图片自动缩放大小：</p>
<div><pre><code><span>background-image</span><span>:</span> <span><span>url</span><span>(</span><span>"Path/to/your/background/image"</span><span>)</span></span><span>;</span>
<span>background-position</span><span>:</span> center center<span>;</span>
<span>background-attachment</span><span>:</span> fixed<span>;</span>
<span>background-size</span><span>:</span> cover<span>;</span>
<span>margin</span><span>:</span> 0<span>;</span>
<span>position</span><span>:</span> relative<span>;</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br></div></div><p>CSS实现某标签垂直水平居中：</p>
<div><pre><code><span>position</span><span>:</span> fixed<span>;</span>
<span>top</span><span>:</span> 50%<span>;</span>
<span>left</span><span>:</span> 50%<span>;</span>
<span>-webkit-transform</span><span>:</span> <span>translate</span><span>(</span>-50%<span>,</span> -50%<span>)</span><span>;</span>
<span>-moz-transform</span><span>:</span> <span>translate</span><span>(</span>-50%<span>,</span> -50%<span>)</span><span>;</span>
<span>transform</span><span>:</span> <span>translate</span><span>(</span>-50%<span>,</span> -50%<span>)</span><span>;</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br></div></div><p>CSS设置标签可视与否：<code>visibility: hidden;</code></p>
<p>CSS实现水平居中间隔排列：<code>text-align: center; display: flex;justify-content: space-around;</code></p>
<p>CSS设置图片透明度：<code>opacity: 0.75; filter: alpha(opacity=75);</code>带上这两语句就可以支持绝大多数浏览器。</p>
<h3 id="javascript"> JavaScript</h3>
<p>JS代码将写在<code>&lt;script&gt;</code>标签内：</p>
<div><pre><code>    <span>var</span> formData <span>=</span> <span>new</span> <span>FormData</span><span>(</span><span>)</span><span>;</span> 
    <span>var</span> file_num <span>=</span> <span>0</span><span>;</span>
    <span>var</span> d<span>,</span> <span>D</span><span>;</span>
    <span>var</span> index <span>=</span> <span>0</span><span>;</span>
	<span>//因为要在多个函数使用该实例，因此直接在全局内声明较为方便，可以避开过多传参。</span>

    <span>$</span><span>(</span><span>"#upload"</span><span>)</span><span>.</span><span>on</span><span>(</span><span>"click"</span><span>,</span> file_open<span>)</span><span>;</span>
	<span>//这两行分别为upload按钮和start按钮绑定了file_open和start_predict两个事件。</span>

    <span>$</span><span>(</span><span>'#files'</span><span>)</span><span>.</span><span>on</span><span>(</span><span>"change"</span><span>,</span> <span>function</span> <span>(</span><span>)</span> <span>{</span> 
        <span>//当files标签内数据发生变动时，将发生以下事件。</span>
        <span>var</span> fileList <span>=</span> <span>this</span><span>.</span>files
        <span>for</span> <span>(</span><span>var</span> i <span>=</span> <span>0</span><span>;</span> i <span>&lt;</span> fileList<span>.</span>length<span>;</span> i<span>++</span><span>)</span> <span>{</span>
            formData<span>.</span><span>append</span><span>(</span><span>'file'</span><span>,</span> fileList<span>[</span>i<span>]</span><span>)</span><span>;</span>
            <span>//选取的多个文件需要依次遍历并加入到formData实例中。</span>
        <span>}</span>
        file_num <span>=</span> fileList<span>.</span>length
        <span>if</span> <span>(</span>file_num <span>===</span> <span>0</span><span>)</span> <span>{</span>
            <span>alert</span><span>(</span><span>"请选择文件！"</span><span>)</span>
        <span>}</span> <span>else</span> <span>{</span>
            <span>if</span> <span>(</span>file_num <span>></span> <span>1</span><span>)</span> <span>{</span>
                <span>$</span><span>(</span><span>".change"</span><span>)</span><span>.</span><span>attr</span><span>(</span><span>'style'</span><span>,</span> <span>'height: 50px;width: 100px;font-size: 25px; visibility: visible;'</span><span>)</span>
            <span>}</span>
            <span>// 以下定义了前端传输的相关信息。</span>
            $<span>.</span><span>ajax</span><span>(</span><span>{</span>
                url<span>:</span> <span>"/upload_files"</span><span>,</span> <span>//定义当前路由，这里需要和后端内路由的定义保持一致。</span>
                type<span>:</span> <span>"POST"</span><span>,</span> <span>//定义传输的类型。</span>
                data<span>:</span> formData<span>,</span> <span>// 定义传输的内容</span>
                processData<span>:</span> <span>false</span><span>,</span> 
                <span>// 取消ajax对数据的预处理，因为传输的数据是图片，如果不设为false的话ajax会将数据转化为字符串类型，就会导致图片二进制流被误处理，因此必须要设置为false。</span>
                contentType<span>:</span> <span>false</span><span>,</span>
                <span>// 表示不使用发送至服务器的内容编码类型，因为已经试过直接设置为'multipart/form-data'，但依旧会报错，只有在设置为false的时候才会正常处理。</span>
                <span>success</span><span>:</span> <span>function</span> <span>(</span><span>data</span><span>)</span> <span>{</span>
                    <span>// 表示发送数据成功时执行的事件。由于AJAX传输数据会将其转化为JSON，因此需要用JSON包的parse方法来解析数据。</span>
                    <span>// 另外应该注意的是，读代码的顺序应该是在读这个函数之前先读后端对数据的处理，然后再回来读这个success function。因为是后端接受到数据并处理之后会有一个return来返回要显示的数据，这个数据就会输入到函数的data参数内。</span>
                    d <span>=</span> <span>JSON</span><span>.</span><span>parse</span><span>(</span>data<span>)</span>
                    <span>$</span><span>(</span><span>'#Before'</span><span>)</span><span>.</span><span>attr</span><span>(</span><span>'src'</span><span>,</span> d<span>.</span>file_url<span>[</span><span>0</span><span>]</span><span>)</span><span>;</span>
                    <span>$</span><span>(</span><span>'#Before'</span><span>)</span><span>.</span><span>attr</span><span>(</span><span>'style'</span><span>,</span> <span>''</span><span>)</span><span>;</span>
                    <span>//后续的两行代码则是修改相应控件的数据。</span>
                <span>}</span><span>,</span>
                <span>error</span><span>:</span> <span>function</span> <span>(</span><span>)</span> <span>{</span>
                    <span>// 表示发送数据失败时将执行的事件，这里只是简单地弹出对话框提示错误。</span>
                    <span>alert</span><span>(</span><span>"上传失败"</span><span>)</span><span>;</span>
                <span>}</span>
            <span>}</span><span>)</span>
        <span>}</span>
    <span>}</span><span>)</span><span>;</span>

    <span>function</span> <span>file_open</span><span>(</span><span>)</span> <span>{</span>
        <span>$</span><span>(</span><span>"#files"</span><span>)</span><span>.</span><span>click</span><span>(</span><span>)</span>
        <span>// 直接触发选择文件的点击事件。</span>
    <span>}</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br><span>18</span><br><span>19</span><br><span>20</span><br><span>21</span><br><span>22</span><br><span>23</span><br><span>24</span><br><span>25</span><br><span>26</span><br><span>27</span><br><span>28</span><br><span>29</span><br><span>30</span><br><span>31</span><br><span>32</span><br><span>33</span><br><span>34</span><br><span>35</span><br><span>36</span><br><span>37</span><br><span>38</span><br><span>39</span><br><span>40</span><br><span>41</span><br><span>42</span><br><span>43</span><br><span>44</span><br><span>45</span><br><span>46</span><br><span>47</span><br><span>48</span><br><span>49</span><br><span>50</span><br><span>51</span><br><span>52</span><br></div></div><h2 id="后端-flask-flask-uploads"> 后端(Flask + Flask_uploads)</h2>
<p>使用后端flask之前需要先做好配置：</p>
<div><pre><code><span>from</span> flask <span>import</span> Flask<span>,</span> render_template<span>,</span> request
<span>from</span> flask_uploads <span>import</span> UploadSet<span>,</span> IMAGES<span>,</span> configure_uploads<span>,</span> patch_request_class

app <span>=</span> Flask<span>(</span>__name__<span>,</span> template_folder<span>=</span><span>'front-end'</span><span>,</span> static_folder<span>=</span><span>'front-end/Static_Files'</span><span>)</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br></div></div><p>其中<code>template_folder</code>参数是设定你的前端主页所在目录，而<code>static_folder</code>参数是用来设定你的前端静态资源所在目录，包括图片、视频、音乐、外部脚本文件以及外部CSS文件等等。</p>
<div><pre><code><span>@app<span>.</span>route</span><span>(</span><span>'/'</span><span>,</span> methods<span>=</span><span>[</span><span>"GET"</span><span>]</span><span>)</span>
<span>def</span> <span>index</span><span>(</span><span>)</span><span>:</span>
    <span>return</span> render_template<span>(</span><span>'index.html'</span><span>)</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br></div></div><p>这段代码表示的就是后端在接受到'/'的路由请求时要做的反应，具体内容是由这里的函数定义。</p>
<blockquote>
<p>值得一提的是<code>app.config['UPLOADED_PHOTOS_DEST']</code>表示的是图片资源存放的目录。</p>
</blockquote>
<p>调用flask_uploads包后要做如下的配置：</p>
<div><pre><code>images <span>=</span> UploadSet<span>(</span><span>'photos'</span><span>,</span> IMAGES<span>)</span>
configure_uploads<span>(</span>app<span>,</span> images<span>)</span>
patch_request_class<span>(</span>app<span>)</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br></div></div><p>这样就可以设置好你上传图片的前期配置准备了。</p>
<p>上面三段代码其实在各项目内是相对固定的，而接下来将要个性化一些了：</p>
<div><pre><code><span>@app<span>.</span>route</span><span>(</span><span>'/upload_files'</span><span>,</span> methods<span>=</span><span>[</span><span>'GET'</span><span>,</span> <span>'POST'</span><span>]</span><span>)</span>
<span># 定义路由upload_files，并声明使用的方法是GET和POST方法。</span>
<span>def</span> <span>upload</span><span>(</span><span>)</span><span>:</span>
    <span># 定义函数内具体需要做的数据处理之类的事情，下面的例子是动态加载接收到的图片集。</span>
    file_urls <span>=</span> <span>[</span><span>]</span>
    file_list <span>=</span> request<span>.</span>files<span>.</span>getlist<span>(</span><span>'file'</span><span>)</span>
    <span>for</span> <span>file</span> <span>in</span> file_list<span>:</span>
        filename <span>=</span> images<span>.</span>save<span>(</span><span>file</span><span>)</span>
        fileList<span>.</span>append<span>(</span>filename<span>)</span>
        file_urls<span>.</span>append<span>(</span>images<span>.</span>url<span>(</span>filename<span>)</span><span>)</span>
    data <span>=</span> <span>{</span><span>'file_url'</span><span>:</span> <span>sorted</span><span>(</span>file_urls<span>)</span><span>}</span>
    data <span>=</span> json<span>.</span>dumps<span>(</span>data<span>)</span> <span># 在这里将字典data转化为json数据传输过去。</span>
    <span>return</span> data <span># 读到这里就要回到前端ajax的success function内继续读了。</span>
</code></pre>
<div><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br></div></div><blockquote>
<p>「注」：以上所有代码都是项目的主要部分。</p>
</blockquote>
<p>最后将整个前后端写好之后，就可以正常执行了！</p>
]]></content>
    <author>
      <name>Breeze Shane</name>
    </author>
    <contributor>
      <name>Breeze Shane</name>
    </contributor>
    <published>2021-08-15T15:02:00.000Z</published>
    <rights>Copyright by Breeze Shane</rights>
  </entry>
</feed>