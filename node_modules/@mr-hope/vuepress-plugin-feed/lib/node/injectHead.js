"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.injectLinkstoHead = void 0;
const utils_1 = require("./utils");
const options_1 = require("./options");
const injectLinkstoHead = (options, context) => {
    const output = options_1.getOutput(options.output);
    const { base, siteConfig } = context;
    const getHeadItem = (name, fileName, type) => {
        return [
            "link",
            {
                rel: "alternate",
                type,
                href: utils_1.resolveUrl(options.hostname, base, fileName),
                title: `${siteConfig.title || ""} ${name} Feed`,
            },
        ];
    };
    if (!siteConfig.head)
        siteConfig.head = [];
    // add atom link
    if (output.atom.enable)
        siteConfig.head.push(getHeadItem("Atom", output.atom.path, "application/atom+xml"));
    // add json link
    if (output.json.enable)
        siteConfig.head.push(getHeadItem("JSON", output.json.path, "application/json"));
    // add rss link
    if (output.rss.enable)
        siteConfig.head.push(getHeadItem("RSS", output.rss.path, "application/rss+xml"));
};
exports.injectLinkstoHead = injectLinkstoHead;
//# sourceMappingURL=injectHead.js.map