{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{523:function(s,t,a){\"use strict\";a.r(t);var i=a(1),n=Object(i.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":s.$parent.slotKey}},[a(\"h1\",{attrs:{id:\"wgan-with-gradient-penalty\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#wgan-with-gradient-penalty\"}},[s._v(\"#\")]),s._v(\" WGAN with Gradient Penalty\")]),s._v(\" \"),a(\"h2\",{attrs:{id:\"结果\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#结果\"}},[s._v(\"#\")]),s._v(\" 结果\")]),s._v(\" \"),a(\"p\",[s._v(\"WGAN-gp运行效果比上回的WGAN和Original GAN要好多了，不是一点！\")]),s._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"/images/2021-04-26_01-11.png\",alt:\"\"}})]),s._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"/images/2021-04-26_10-54.png\",alt:\"\"}})]),s._v(\" \"),a(\"p\",[s._v(\"可以看得出来它表现优良，绝大部分点都聚集在各自给定的黄点周围，足见WGAN-GP表现的优异。\")]),s._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"/images/newplot.png\",alt:\"\"}})]),s._v(\" \"),a(\"p\",[s._v(\"从图像中可以看出来，Loss-D损失函数值不断上升，这说明生成器已经开始成功欺骗了判别器，并且Loss-G损失函数值也在不断下降，说明生成器的仿真度越来越高，生成的数据越来越逼真，也越来越容易欺骗判别器。\")]),s._v(\" \"),a(\"p\",[s._v(\"上一篇文章比较详细系统地剖析了WGAN，这里就不多做赘述。WGAN以切片形式处理数据时出现了一些问题，比如训练不稳定、准确率不高、梯度爆炸或消失，还有切片参数设置困难等问题。「切片参数设置困难指的是切片上下限难以合适设定，过小则容易将网络转化成二值网络，过大则不起作用。」为了解决这些，有人提出了改良WGAN的一种方法——增加惩罚项。\")]),s._v(\" \"),a(\"h2\",{attrs:{id:\"解决\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#解决\"}},[s._v(\"#\")]),s._v(\" 解决～\")]),s._v(\" \"),a(\"p\",[s._v(\"为了解决以上的问题，WGAN又有了新的进展，这个新版WGAN不需要权重裁切，采取了加入惩罚项的方式。新版WGAN目标函数定义如下：\")]),s._v(\" \"),a(\"p\",{staticClass:\"katex-block\"},[a(\"span\",{staticClass:\"katex-display\"},[a(\"span\",{staticClass:\"katex\"},[a(\"span\",{staticClass:\"katex-mathml\"},[a(\"math\",{attrs:{xmlns:\"http://www.w3.org/1998/Math/MathML\",display:\"block\"}},[a(\"semantics\",[a(\"mrow\",[a(\"mi\",[s._v(\"W\")]),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\"(\")]),a(\"msub\",[a(\"mi\",[s._v(\"P\")]),a(\"mi\",[s._v(\"r\")])],1),a(\"mo\",{attrs:{separator:\"true\"}},[s._v(\",\")]),a(\"msub\",[a(\"mi\",[s._v(\"P\")]),a(\"mi\",[s._v(\"g\")])],1),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\")\")]),a(\"mo\",[s._v(\"=\")]),a(\"munder\",[a(\"mrow\",[a(\"mi\",[s._v(\"max\")]),a(\"mo\",[s._v(\"⁡\")])],1),a(\"mi\",[s._v(\"D\")])],1),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\"{\")]),a(\"msub\",[a(\"mi\",[s._v(\"E\")]),a(\"mrow\",[a(\"mi\",[s._v(\"x\")]),a(\"mo\",[s._v(\"∼\")]),a(\"msub\",[a(\"mi\",[s._v(\"P\")]),a(\"mi\",[s._v(\"r\")])],1)],1)],1),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\"[\")]),a(\"mi\",[s._v(\"D\")]),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\"(\")]),a(\"mi\",[s._v(\"x\")]),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\")\")]),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\"]\")]),a(\"mo\",[s._v(\"−\")]),a(\"msub\",[a(\"mi\",[s._v(\"E\")]),a(\"mrow\",[a(\"mi\",[s._v(\"x\")]),a(\"mo\",[s._v(\"∼\")]),a(\"msub\",[a(\"mi\",[s._v(\"P\")]),a(\"mi\",[s._v(\"g\")])],1),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\"(\")]),a(\"mi\",[s._v(\"x\")]),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\")\")])],1)],1),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\"[\")]),a(\"mi\",[s._v(\"D\")]),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\"(\")]),a(\"mi\",[s._v(\"x\")]),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\")\")]),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\"]\")]),a(\"mo\",[s._v(\"−\")]),a(\"mi\",[s._v(\"λ\")]),a(\"msub\",[a(\"mo\",[s._v(\"∫\")]),a(\"mi\",[s._v(\"x\")])],1),a(\"mi\",[s._v(\"max\")]),a(\"mo\",[s._v(\"⁡\")]),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\"(\")]),a(\"mn\",[s._v(\"0\")]),a(\"mo\",{attrs:{separator:\"true\"}},[s._v(\",\")]),a(\"mi\",{attrs:{mathvariant:\"normal\"}},[s._v(\"∣\")]),a(\"mi\",{attrs:{mathvariant:\"normal\"}},[s._v(\"∣\")]),a(\"msub\",[a(\"mi\",{attrs:{mathvariant:\"normal\"}},[s._v(\"∇\")]),a(\"mi\",[s._v(\"x\")])],1),a(\"mi\",[s._v(\"D\")]),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\"(\")]),a(\"mi\",[s._v(\"x\")]),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\")\")]),a(\"mi\",{attrs:{mathvariant:\"normal\"}},[s._v(\"∣\")]),a(\"mi\",{attrs:{mathvariant:\"normal\"}},[s._v(\"∣\")]),a(\"mo\",[s._v(\"−\")]),a(\"mn\",[s._v(\"1\")]),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\")\")]),a(\"mi\",[s._v(\"d\")]),a(\"mi\",[s._v(\"x\")]),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\"}\")])],1),a(\"annotation\",{attrs:{encoding:\"application/x-tex\"}},[s._v(\"W(P_r, P_g)=\\\\max_{D} \\\\{E_{x \\\\sim P_r}[D(x)]-E_{x\\\\sim P_g(x)}[D(x)]-\\\\lambda\\\\int_x\\\\max(0,||\\\\nabla_x D(x)||-1)dx \\\\}\\n\")])],1)],1)],1),a(\"span\",{staticClass:\"katex-html\",attrs:{\"aria-hidden\":\"true\"}},[a(\"span\",{staticClass:\"base\"},[a(\"span\",{staticClass:\"strut\",staticStyle:{height:\"1.036108em\",\"vertical-align\":\"-0.286108em\"}}),a(\"span\",{staticClass:\"mord mathnormal\",staticStyle:{\"margin-right\":\"0.13889em\"}},[s._v(\"W\")]),a(\"span\",{staticClass:\"mopen\"},[s._v(\"(\")]),a(\"span\",{staticClass:\"mord\"},[a(\"span\",{staticClass:\"mord mathnormal\",staticStyle:{\"margin-right\":\"0.13889em\"}},[s._v(\"P\")]),a(\"span\",{staticClass:\"msupsub\"},[a(\"span\",{staticClass:\"vlist-t vlist-t2\"},[a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.151392em\"}},[a(\"span\",{staticStyle:{top:\"-2.5500000000000003em\",\"margin-left\":\"-0.13889em\",\"margin-right\":\"0.05em\"}},[a(\"span\",{staticClass:\"pstrut\",staticStyle:{height:\"2.7em\"}}),a(\"span\",{staticClass:\"sizing reset-size6 size3 mtight\"},[a(\"span\",{staticClass:\"mord mathnormal mtight\",staticStyle:{\"margin-right\":\"0.02778em\"}},[s._v(\"r\")])])])]),a(\"span\",{staticClass:\"vlist-s\"},[s._v(\"​\")])]),a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.15em\"}},[a(\"span\")])])])])]),a(\"span\",{staticClass:\"mpunct\"},[s._v(\",\")]),a(\"span\",{staticClass:\"mspace\",staticStyle:{\"margin-right\":\"0.16666666666666666em\"}}),a(\"span\",{staticClass:\"mord\"},[a(\"span\",{staticClass:\"mord mathnormal\",staticStyle:{\"margin-right\":\"0.13889em\"}},[s._v(\"P\")]),a(\"span\",{staticClass:\"msupsub\"},[a(\"span\",{staticClass:\"vlist-t vlist-t2\"},[a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.15139200000000003em\"}},[a(\"span\",{staticStyle:{top:\"-2.5500000000000003em\",\"margin-left\":\"-0.13889em\",\"margin-right\":\"0.05em\"}},[a(\"span\",{staticClass:\"pstrut\",staticStyle:{height:\"2.7em\"}}),a(\"span\",{staticClass:\"sizing reset-size6 size3 mtight\"},[a(\"span\",{staticClass:\"mord mathnormal mtight\",staticStyle:{\"margin-right\":\"0.03588em\"}},[s._v(\"g\")])])])]),a(\"span\",{staticClass:\"vlist-s\"},[s._v(\"​\")])]),a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.286108em\"}},[a(\"span\")])])])])]),a(\"span\",{staticClass:\"mclose\"},[s._v(\")\")]),a(\"span\",{staticClass:\"mspace\",staticStyle:{\"margin-right\":\"0.2777777777777778em\"}}),a(\"span\",{staticClass:\"mrel\"},[s._v(\"=\")]),a(\"span\",{staticClass:\"mspace\",staticStyle:{\"margin-right\":\"0.2777777777777778em\"}})]),a(\"span\",{staticClass:\"base\"},[a(\"span\",{staticClass:\"strut\",staticStyle:{height:\"1.494331em\",\"vertical-align\":\"-0.7443310000000001em\"}}),a(\"span\",{staticClass:\"mop op-limits\"},[a(\"span\",{staticClass:\"vlist-t vlist-t2\"},[a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.43055999999999983em\"}},[a(\"span\",{staticStyle:{top:\"-2.355669em\",\"margin-left\":\"0em\"}},[a(\"span\",{staticClass:\"pstrut\",staticStyle:{height:\"3em\"}}),a(\"span\",{staticClass:\"sizing reset-size6 size3 mtight\"},[a(\"span\",{staticClass:\"mord mtight\"},[a(\"span\",{staticClass:\"mord mathnormal mtight\",staticStyle:{\"margin-right\":\"0.02778em\"}},[s._v(\"D\")])])])]),a(\"span\",{staticStyle:{top:\"-3em\"}},[a(\"span\",{staticClass:\"pstrut\",staticStyle:{height:\"3em\"}}),a(\"span\",[a(\"span\",{staticClass:\"mop\"},[s._v(\"max\")])])])]),a(\"span\",{staticClass:\"vlist-s\"},[s._v(\"​\")])]),a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.7443310000000001em\"}},[a(\"span\")])])])]),a(\"span\",{staticClass:\"mopen\"},[s._v(\"{\")]),a(\"span\",{staticClass:\"mord\"},[a(\"span\",{staticClass:\"mord mathnormal\",staticStyle:{\"margin-right\":\"0.05764em\"}},[s._v(\"E\")]),a(\"span\",{staticClass:\"msupsub\"},[a(\"span\",{staticClass:\"vlist-t vlist-t2\"},[a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.32833099999999993em\"}},[a(\"span\",{staticStyle:{top:\"-2.5500000000000003em\",\"margin-left\":\"-0.05764em\",\"margin-right\":\"0.05em\"}},[a(\"span\",{staticClass:\"pstrut\",staticStyle:{height:\"2.7em\"}}),a(\"span\",{staticClass:\"sizing reset-size6 size3 mtight\"},[a(\"span\",{staticClass:\"mord mtight\"},[a(\"span\",{staticClass:\"mord mathnormal mtight\"},[s._v(\"x\")]),a(\"span\",{staticClass:\"mrel mtight\"},[s._v(\"∼\")]),a(\"span\",{staticClass:\"mord mtight\"},[a(\"span\",{staticClass:\"mord mathnormal mtight\",staticStyle:{\"margin-right\":\"0.13889em\"}},[s._v(\"P\")]),a(\"span\",{staticClass:\"msupsub\"},[a(\"span\",{staticClass:\"vlist-t vlist-t2\"},[a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.16454285714285719em\"}},[a(\"span\",{staticStyle:{top:\"-2.357em\",\"margin-left\":\"-0.13889em\",\"margin-right\":\"0.07142857142857144em\"}},[a(\"span\",{staticClass:\"pstrut\",staticStyle:{height:\"2.5em\"}}),a(\"span\",{staticClass:\"sizing reset-size3 size1 mtight\"},[a(\"span\",{staticClass:\"mord mathnormal mtight\",staticStyle:{\"margin-right\":\"0.02778em\"}},[s._v(\"r\")])])])]),a(\"span\",{staticClass:\"vlist-s\"},[s._v(\"​\")])]),a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.143em\"}},[a(\"span\")])])])])])])])])]),a(\"span\",{staticClass:\"vlist-s\"},[s._v(\"​\")])]),a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.2501em\"}},[a(\"span\")])])])])]),a(\"span\",{staticClass:\"mopen\"},[s._v(\"[\")]),a(\"span\",{staticClass:\"mord mathnormal\",staticStyle:{\"margin-right\":\"0.02778em\"}},[s._v(\"D\")]),a(\"span\",{staticClass:\"mopen\"},[s._v(\"(\")]),a(\"span\",{staticClass:\"mord mathnormal\"},[s._v(\"x\")]),a(\"span\",{staticClass:\"mclose\"},[s._v(\")]\")]),a(\"span\",{staticClass:\"mspace\",staticStyle:{\"margin-right\":\"0.2222222222222222em\"}}),a(\"span\",{staticClass:\"mbin\"},[s._v(\"−\")]),a(\"span\",{staticClass:\"mspace\",staticStyle:{\"margin-right\":\"0.2222222222222222em\"}})]),a(\"span\",{staticClass:\"base\"},[a(\"span\",{staticClass:\"strut\",staticStyle:{height:\"1.1275199999999999em\",\"vertical-align\":\"-0.3775199999999999em\"}}),a(\"span\",{staticClass:\"mord\"},[a(\"span\",{staticClass:\"mord mathnormal\",staticStyle:{\"margin-right\":\"0.05764em\"}},[s._v(\"E\")]),a(\"span\",{staticClass:\"msupsub\"},[a(\"span\",{staticClass:\"vlist-t vlist-t2\"},[a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.34479999999999994em\"}},[a(\"span\",{staticStyle:{top:\"-2.5198em\",\"margin-left\":\"-0.05764em\",\"margin-right\":\"0.05em\"}},[a(\"span\",{staticClass:\"pstrut\",staticStyle:{height:\"2.7em\"}}),a(\"span\",{staticClass:\"sizing reset-size6 size3 mtight\"},[a(\"span\",{staticClass:\"mord mtight\"},[a(\"span\",{staticClass:\"mord mathnormal mtight\"},[s._v(\"x\")]),a(\"span\",{staticClass:\"mrel mtight\"},[s._v(\"∼\")]),a(\"span\",{staticClass:\"mord mtight\"},[a(\"span\",{staticClass:\"mord mathnormal mtight\",staticStyle:{\"margin-right\":\"0.13889em\"}},[s._v(\"P\")]),a(\"span\",{staticClass:\"msupsub\"},[a(\"span\",{staticClass:\"vlist-t vlist-t2\"},[a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.16454285714285716em\"}},[a(\"span\",{staticStyle:{top:\"-2.357em\",\"margin-left\":\"-0.13889em\",\"margin-right\":\"0.07142857142857144em\"}},[a(\"span\",{staticClass:\"pstrut\",staticStyle:{height:\"2.5em\"}}),a(\"span\",{staticClass:\"sizing reset-size3 size1 mtight\"},[a(\"span\",{staticClass:\"mord mathnormal mtight\",staticStyle:{\"margin-right\":\"0.03588em\"}},[s._v(\"g\")])])])]),a(\"span\",{staticClass:\"vlist-s\"},[s._v(\"​\")])]),a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.2818857142857143em\"}},[a(\"span\")])])])])]),a(\"span\",{staticClass:\"mopen mtight\"},[s._v(\"(\")]),a(\"span\",{staticClass:\"mord mathnormal mtight\"},[s._v(\"x\")]),a(\"span\",{staticClass:\"mclose mtight\"},[s._v(\")\")])])])])]),a(\"span\",{staticClass:\"vlist-s\"},[s._v(\"​\")])]),a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.3775199999999999em\"}},[a(\"span\")])])])])]),a(\"span\",{staticClass:\"mopen\"},[s._v(\"[\")]),a(\"span\",{staticClass:\"mord mathnormal\",staticStyle:{\"margin-right\":\"0.02778em\"}},[s._v(\"D\")]),a(\"span\",{staticClass:\"mopen\"},[s._v(\"(\")]),a(\"span\",{staticClass:\"mord mathnormal\"},[s._v(\"x\")]),a(\"span\",{staticClass:\"mclose\"},[s._v(\")]\")]),a(\"span\",{staticClass:\"mspace\",staticStyle:{\"margin-right\":\"0.2222222222222222em\"}}),a(\"span\",{staticClass:\"mbin\"},[s._v(\"−\")]),a(\"span\",{staticClass:\"mspace\",staticStyle:{\"margin-right\":\"0.2222222222222222em\"}})]),a(\"span\",{staticClass:\"base\"},[a(\"span\",{staticClass:\"strut\",staticStyle:{height:\"2.27195em\",\"vertical-align\":\"-0.9119499999999999em\"}}),a(\"span\",{staticClass:\"mord mathnormal\"},[s._v(\"λ\")]),a(\"span\",{staticClass:\"mspace\",staticStyle:{\"margin-right\":\"0.16666666666666666em\"}}),a(\"span\",{staticClass:\"mop\"},[a(\"span\",{staticClass:\"mop op-symbol large-op\",staticStyle:{\"margin-right\":\"0.44445em\",position:\"relative\",top:\"-0.0011249999999999316em\"}},[s._v(\"∫\")]),a(\"span\",{staticClass:\"msupsub\"},[a(\"span\",{staticClass:\"vlist-t vlist-t2\"},[a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"-0.6105579999999999em\"}},[a(\"span\",{staticStyle:{top:\"-1.7880500000000001em\",\"margin-left\":\"-0.44445em\",\"margin-right\":\"0.05em\"}},[a(\"span\",{staticClass:\"pstrut\",staticStyle:{height:\"2.7em\"}}),a(\"span\",{staticClass:\"sizing reset-size6 size3 mtight\"},[a(\"span\",{staticClass:\"mord mathnormal mtight\"},[s._v(\"x\")])])])]),a(\"span\",{staticClass:\"vlist-s\"},[s._v(\"​\")])]),a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.9119499999999999em\"}},[a(\"span\")])])])])]),a(\"span\",{staticClass:\"mspace\",staticStyle:{\"margin-right\":\"0.16666666666666666em\"}}),a(\"span\",{staticClass:\"mop\"},[s._v(\"max\")]),a(\"span\",{staticClass:\"mopen\"},[s._v(\"(\")]),a(\"span\",{staticClass:\"mord\"},[s._v(\"0\")]),a(\"span\",{staticClass:\"mpunct\"},[s._v(\",\")]),a(\"span\",{staticClass:\"mspace\",staticStyle:{\"margin-right\":\"0.16666666666666666em\"}}),a(\"span\",{staticClass:\"mord\"},[s._v(\"∣∣\")]),a(\"span\",{staticClass:\"mord\"},[a(\"span\",{staticClass:\"mord\"},[s._v(\"∇\")]),a(\"span\",{staticClass:\"msupsub\"},[a(\"span\",{staticClass:\"vlist-t vlist-t2\"},[a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.151392em\"}},[a(\"span\",{staticStyle:{top:\"-2.5500000000000003em\",\"margin-left\":\"0em\",\"margin-right\":\"0.05em\"}},[a(\"span\",{staticClass:\"pstrut\",staticStyle:{height:\"2.7em\"}}),a(\"span\",{staticClass:\"sizing reset-size6 size3 mtight\"},[a(\"span\",{staticClass:\"mord mathnormal mtight\"},[s._v(\"x\")])])])]),a(\"span\",{staticClass:\"vlist-s\"},[s._v(\"​\")])]),a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.15em\"}},[a(\"span\")])])])])]),a(\"span\",{staticClass:\"mord mathnormal\",staticStyle:{\"margin-right\":\"0.02778em\"}},[s._v(\"D\")]),a(\"span\",{staticClass:\"mopen\"},[s._v(\"(\")]),a(\"span\",{staticClass:\"mord mathnormal\"},[s._v(\"x\")]),a(\"span\",{staticClass:\"mclose\"},[s._v(\")\")]),a(\"span\",{staticClass:\"mord\"},[s._v(\"∣∣\")]),a(\"span\",{staticClass:\"mspace\",staticStyle:{\"margin-right\":\"0.2222222222222222em\"}}),a(\"span\",{staticClass:\"mbin\"},[s._v(\"−\")]),a(\"span\",{staticClass:\"mspace\",staticStyle:{\"margin-right\":\"0.2222222222222222em\"}})]),a(\"span\",{staticClass:\"base\"},[a(\"span\",{staticClass:\"strut\",staticStyle:{height:\"1em\",\"vertical-align\":\"-0.25em\"}}),a(\"span\",{staticClass:\"mord\"},[s._v(\"1\")]),a(\"span\",{staticClass:\"mclose\"},[s._v(\")\")]),a(\"span\",{staticClass:\"mord mathnormal\"},[s._v(\"d\")]),a(\"span\",{staticClass:\"mord mathnormal\"},[s._v(\"x\")]),a(\"span\",{staticClass:\"mclose\"},[s._v(\"}\")])])])])])]),s._v(\" \"),a(\"p\",[s._v(\"根据$$D(x)$$的定义显然有$$D(x)\\\\in[0,1]$$成立，因此对于$$\\\\forall x,\\\\quad||\\\\nabla_x D(x)||\\\\leq1$$。求积分的形式又可以写成期望的形式，因此该公式又可以写成：\")]),s._v(\" \"),a(\"p\",{staticClass:\"katex-block\"},[a(\"span\",{staticClass:\"katex-display\"},[a(\"span\",{staticClass:\"katex\"},[a(\"span\",{staticClass:\"katex-mathml\"},[a(\"math\",{attrs:{xmlns:\"http://www.w3.org/1998/Math/MathML\",display:\"block\"}},[a(\"semantics\",[a(\"mrow\",[a(\"mi\",[s._v(\"W\")]),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\"(\")]),a(\"msub\",[a(\"mi\",[s._v(\"P\")]),a(\"mi\",[s._v(\"r\")])],1),a(\"mo\",{attrs:{separator:\"true\"}},[s._v(\",\")]),a(\"msub\",[a(\"mi\",[s._v(\"P\")]),a(\"mi\",[s._v(\"g\")])],1),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\")\")]),a(\"mo\",[s._v(\"=\")]),a(\"munder\",[a(\"mrow\",[a(\"mi\",[s._v(\"max\")]),a(\"mo\",[s._v(\"⁡\")])],1),a(\"mi\",[s._v(\"D\")])],1),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\"{\")]),a(\"msub\",[a(\"mi\",[s._v(\"E\")]),a(\"mrow\",[a(\"mi\",[s._v(\"x\")]),a(\"mo\",[s._v(\"∼\")]),a(\"msub\",[a(\"mi\",[s._v(\"P\")]),a(\"mi\",[s._v(\"r\")])],1)],1)],1),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\"[\")]),a(\"mi\",[s._v(\"D\")]),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\"(\")]),a(\"mi\",[s._v(\"x\")]),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\")\")]),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\"]\")]),a(\"mo\",[s._v(\"−\")]),a(\"msub\",[a(\"mi\",[s._v(\"E\")]),a(\"mrow\",[a(\"mi\",[s._v(\"x\")]),a(\"mo\",[s._v(\"∼\")]),a(\"msub\",[a(\"mi\",[s._v(\"P\")]),a(\"mi\",[s._v(\"g\")])],1),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\"(\")]),a(\"mi\",[s._v(\"x\")]),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\")\")])],1)],1),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\"[\")]),a(\"mi\",[s._v(\"D\")]),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\"(\")]),a(\"mi\",[s._v(\"x\")]),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\")\")]),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\"]\")]),a(\"mo\",[s._v(\"−\")]),a(\"mi\",[s._v(\"λ\")]),a(\"msub\",[a(\"mi\",[s._v(\"E\")]),a(\"mrow\",[a(\"mi\",[s._v(\"x\")]),a(\"mo\",[s._v(\"∼\")]),a(\"msub\",[a(\"mi\",[s._v(\"P\")]),a(\"mrow\",[a(\"mi\",[s._v(\"i\")]),a(\"mi\",[s._v(\"n\")]),a(\"mi\",[s._v(\"p\")]),a(\"mi\",[s._v(\"u\")]),a(\"mi\",[s._v(\"t\")])],1)],1),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\"(\")]),a(\"mi\",[s._v(\"x\")]),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\")\")])],1)],1),a(\"mi\",[s._v(\"max\")]),a(\"mo\",[s._v(\"⁡\")]),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\"(\")]),a(\"mn\",[s._v(\"0\")]),a(\"mo\",{attrs:{separator:\"true\"}},[s._v(\",\")]),a(\"mi\",{attrs:{mathvariant:\"normal\"}},[s._v(\"∣\")]),a(\"mi\",{attrs:{mathvariant:\"normal\"}},[s._v(\"∣\")]),a(\"msub\",[a(\"mi\",{attrs:{mathvariant:\"normal\"}},[s._v(\"∇\")]),a(\"mi\",[s._v(\"x\")])],1),a(\"mi\",[s._v(\"D\")]),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\"(\")]),a(\"mi\",[s._v(\"x\")]),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\")\")]),a(\"mi\",{attrs:{mathvariant:\"normal\"}},[s._v(\"∣\")]),a(\"mi\",{attrs:{mathvariant:\"normal\"}},[s._v(\"∣\")]),a(\"mo\",[s._v(\"−\")]),a(\"mn\",[s._v(\"1\")]),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\")\")]),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\"}\")])],1),a(\"annotation\",{attrs:{encoding:\"application/x-tex\"}},[s._v(\"W(P_r, P_g)=\\\\max_{D} \\\\{E_{x \\\\sim P_r}[D(x)]-E_{x\\\\sim P_g(x)}[D(x)]-\\\\lambda E_{x\\\\sim P_{input}(x)}\\\\max(0,||\\\\nabla_x D(x)||-1) \\\\}\\n\")])],1)],1)],1),a(\"span\",{staticClass:\"katex-html\",attrs:{\"aria-hidden\":\"true\"}},[a(\"span\",{staticClass:\"base\"},[a(\"span\",{staticClass:\"strut\",staticStyle:{height:\"1.036108em\",\"vertical-align\":\"-0.286108em\"}}),a(\"span\",{staticClass:\"mord mathnormal\",staticStyle:{\"margin-right\":\"0.13889em\"}},[s._v(\"W\")]),a(\"span\",{staticClass:\"mopen\"},[s._v(\"(\")]),a(\"span\",{staticClass:\"mord\"},[a(\"span\",{staticClass:\"mord mathnormal\",staticStyle:{\"margin-right\":\"0.13889em\"}},[s._v(\"P\")]),a(\"span\",{staticClass:\"msupsub\"},[a(\"span\",{staticClass:\"vlist-t vlist-t2\"},[a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.151392em\"}},[a(\"span\",{staticStyle:{top:\"-2.5500000000000003em\",\"margin-left\":\"-0.13889em\",\"margin-right\":\"0.05em\"}},[a(\"span\",{staticClass:\"pstrut\",staticStyle:{height:\"2.7em\"}}),a(\"span\",{staticClass:\"sizing reset-size6 size3 mtight\"},[a(\"span\",{staticClass:\"mord mathnormal mtight\",staticStyle:{\"margin-right\":\"0.02778em\"}},[s._v(\"r\")])])])]),a(\"span\",{staticClass:\"vlist-s\"},[s._v(\"​\")])]),a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.15em\"}},[a(\"span\")])])])])]),a(\"span\",{staticClass:\"mpunct\"},[s._v(\",\")]),a(\"span\",{staticClass:\"mspace\",staticStyle:{\"margin-right\":\"0.16666666666666666em\"}}),a(\"span\",{staticClass:\"mord\"},[a(\"span\",{staticClass:\"mord mathnormal\",staticStyle:{\"margin-right\":\"0.13889em\"}},[s._v(\"P\")]),a(\"span\",{staticClass:\"msupsub\"},[a(\"span\",{staticClass:\"vlist-t vlist-t2\"},[a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.15139200000000003em\"}},[a(\"span\",{staticStyle:{top:\"-2.5500000000000003em\",\"margin-left\":\"-0.13889em\",\"margin-right\":\"0.05em\"}},[a(\"span\",{staticClass:\"pstrut\",staticStyle:{height:\"2.7em\"}}),a(\"span\",{staticClass:\"sizing reset-size6 size3 mtight\"},[a(\"span\",{staticClass:\"mord mathnormal mtight\",staticStyle:{\"margin-right\":\"0.03588em\"}},[s._v(\"g\")])])])]),a(\"span\",{staticClass:\"vlist-s\"},[s._v(\"​\")])]),a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.286108em\"}},[a(\"span\")])])])])]),a(\"span\",{staticClass:\"mclose\"},[s._v(\")\")]),a(\"span\",{staticClass:\"mspace\",staticStyle:{\"margin-right\":\"0.2777777777777778em\"}}),a(\"span\",{staticClass:\"mrel\"},[s._v(\"=\")]),a(\"span\",{staticClass:\"mspace\",staticStyle:{\"margin-right\":\"0.2777777777777778em\"}})]),a(\"span\",{staticClass:\"base\"},[a(\"span\",{staticClass:\"strut\",staticStyle:{height:\"1.494331em\",\"vertical-align\":\"-0.7443310000000001em\"}}),a(\"span\",{staticClass:\"mop op-limits\"},[a(\"span\",{staticClass:\"vlist-t vlist-t2\"},[a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.43055999999999983em\"}},[a(\"span\",{staticStyle:{top:\"-2.355669em\",\"margin-left\":\"0em\"}},[a(\"span\",{staticClass:\"pstrut\",staticStyle:{height:\"3em\"}}),a(\"span\",{staticClass:\"sizing reset-size6 size3 mtight\"},[a(\"span\",{staticClass:\"mord mtight\"},[a(\"span\",{staticClass:\"mord mathnormal mtight\",staticStyle:{\"margin-right\":\"0.02778em\"}},[s._v(\"D\")])])])]),a(\"span\",{staticStyle:{top:\"-3em\"}},[a(\"span\",{staticClass:\"pstrut\",staticStyle:{height:\"3em\"}}),a(\"span\",[a(\"span\",{staticClass:\"mop\"},[s._v(\"max\")])])])]),a(\"span\",{staticClass:\"vlist-s\"},[s._v(\"​\")])]),a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.7443310000000001em\"}},[a(\"span\")])])])]),a(\"span\",{staticClass:\"mopen\"},[s._v(\"{\")]),a(\"span\",{staticClass:\"mord\"},[a(\"span\",{staticClass:\"mord mathnormal\",staticStyle:{\"margin-right\":\"0.05764em\"}},[s._v(\"E\")]),a(\"span\",{staticClass:\"msupsub\"},[a(\"span\",{staticClass:\"vlist-t vlist-t2\"},[a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.32833099999999993em\"}},[a(\"span\",{staticStyle:{top:\"-2.5500000000000003em\",\"margin-left\":\"-0.05764em\",\"margin-right\":\"0.05em\"}},[a(\"span\",{staticClass:\"pstrut\",staticStyle:{height:\"2.7em\"}}),a(\"span\",{staticClass:\"sizing reset-size6 size3 mtight\"},[a(\"span\",{staticClass:\"mord mtight\"},[a(\"span\",{staticClass:\"mord mathnormal mtight\"},[s._v(\"x\")]),a(\"span\",{staticClass:\"mrel mtight\"},[s._v(\"∼\")]),a(\"span\",{staticClass:\"mord mtight\"},[a(\"span\",{staticClass:\"mord mathnormal mtight\",staticStyle:{\"margin-right\":\"0.13889em\"}},[s._v(\"P\")]),a(\"span\",{staticClass:\"msupsub\"},[a(\"span\",{staticClass:\"vlist-t vlist-t2\"},[a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.16454285714285719em\"}},[a(\"span\",{staticStyle:{top:\"-2.357em\",\"margin-left\":\"-0.13889em\",\"margin-right\":\"0.07142857142857144em\"}},[a(\"span\",{staticClass:\"pstrut\",staticStyle:{height:\"2.5em\"}}),a(\"span\",{staticClass:\"sizing reset-size3 size1 mtight\"},[a(\"span\",{staticClass:\"mord mathnormal mtight\",staticStyle:{\"margin-right\":\"0.02778em\"}},[s._v(\"r\")])])])]),a(\"span\",{staticClass:\"vlist-s\"},[s._v(\"​\")])]),a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.143em\"}},[a(\"span\")])])])])])])])])]),a(\"span\",{staticClass:\"vlist-s\"},[s._v(\"​\")])]),a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.2501em\"}},[a(\"span\")])])])])]),a(\"span\",{staticClass:\"mopen\"},[s._v(\"[\")]),a(\"span\",{staticClass:\"mord mathnormal\",staticStyle:{\"margin-right\":\"0.02778em\"}},[s._v(\"D\")]),a(\"span\",{staticClass:\"mopen\"},[s._v(\"(\")]),a(\"span\",{staticClass:\"mord mathnormal\"},[s._v(\"x\")]),a(\"span\",{staticClass:\"mclose\"},[s._v(\")]\")]),a(\"span\",{staticClass:\"mspace\",staticStyle:{\"margin-right\":\"0.2222222222222222em\"}}),a(\"span\",{staticClass:\"mbin\"},[s._v(\"−\")]),a(\"span\",{staticClass:\"mspace\",staticStyle:{\"margin-right\":\"0.2222222222222222em\"}})]),a(\"span\",{staticClass:\"base\"},[a(\"span\",{staticClass:\"strut\",staticStyle:{height:\"1.1275199999999999em\",\"vertical-align\":\"-0.3775199999999999em\"}}),a(\"span\",{staticClass:\"mord\"},[a(\"span\",{staticClass:\"mord mathnormal\",staticStyle:{\"margin-right\":\"0.05764em\"}},[s._v(\"E\")]),a(\"span\",{staticClass:\"msupsub\"},[a(\"span\",{staticClass:\"vlist-t vlist-t2\"},[a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.34479999999999994em\"}},[a(\"span\",{staticStyle:{top:\"-2.5198em\",\"margin-left\":\"-0.05764em\",\"margin-right\":\"0.05em\"}},[a(\"span\",{staticClass:\"pstrut\",staticStyle:{height:\"2.7em\"}}),a(\"span\",{staticClass:\"sizing reset-size6 size3 mtight\"},[a(\"span\",{staticClass:\"mord mtight\"},[a(\"span\",{staticClass:\"mord mathnormal mtight\"},[s._v(\"x\")]),a(\"span\",{staticClass:\"mrel mtight\"},[s._v(\"∼\")]),a(\"span\",{staticClass:\"mord mtight\"},[a(\"span\",{staticClass:\"mord mathnormal mtight\",staticStyle:{\"margin-right\":\"0.13889em\"}},[s._v(\"P\")]),a(\"span\",{staticClass:\"msupsub\"},[a(\"span\",{staticClass:\"vlist-t vlist-t2\"},[a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.16454285714285716em\"}},[a(\"span\",{staticStyle:{top:\"-2.357em\",\"margin-left\":\"-0.13889em\",\"margin-right\":\"0.07142857142857144em\"}},[a(\"span\",{staticClass:\"pstrut\",staticStyle:{height:\"2.5em\"}}),a(\"span\",{staticClass:\"sizing reset-size3 size1 mtight\"},[a(\"span\",{staticClass:\"mord mathnormal mtight\",staticStyle:{\"margin-right\":\"0.03588em\"}},[s._v(\"g\")])])])]),a(\"span\",{staticClass:\"vlist-s\"},[s._v(\"​\")])]),a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.2818857142857143em\"}},[a(\"span\")])])])])]),a(\"span\",{staticClass:\"mopen mtight\"},[s._v(\"(\")]),a(\"span\",{staticClass:\"mord mathnormal mtight\"},[s._v(\"x\")]),a(\"span\",{staticClass:\"mclose mtight\"},[s._v(\")\")])])])])]),a(\"span\",{staticClass:\"vlist-s\"},[s._v(\"​\")])]),a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.3775199999999999em\"}},[a(\"span\")])])])])]),a(\"span\",{staticClass:\"mopen\"},[s._v(\"[\")]),a(\"span\",{staticClass:\"mord mathnormal\",staticStyle:{\"margin-right\":\"0.02778em\"}},[s._v(\"D\")]),a(\"span\",{staticClass:\"mopen\"},[s._v(\"(\")]),a(\"span\",{staticClass:\"mord mathnormal\"},[s._v(\"x\")]),a(\"span\",{staticClass:\"mclose\"},[s._v(\")]\")]),a(\"span\",{staticClass:\"mspace\",staticStyle:{\"margin-right\":\"0.2222222222222222em\"}}),a(\"span\",{staticClass:\"mbin\"},[s._v(\"−\")]),a(\"span\",{staticClass:\"mspace\",staticStyle:{\"margin-right\":\"0.2222222222222222em\"}})]),a(\"span\",{staticClass:\"base\"},[a(\"span\",{staticClass:\"strut\",staticStyle:{height:\"1.1275199999999999em\",\"vertical-align\":\"-0.3775199999999999em\"}}),a(\"span\",{staticClass:\"mord mathnormal\"},[s._v(\"λ\")]),a(\"span\",{staticClass:\"mord\"},[a(\"span\",{staticClass:\"mord mathnormal\",staticStyle:{\"margin-right\":\"0.05764em\"}},[s._v(\"E\")]),a(\"span\",{staticClass:\"msupsub\"},[a(\"span\",{staticClass:\"vlist-t vlist-t2\"},[a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.34479999999999994em\"}},[a(\"span\",{staticStyle:{top:\"-2.5198em\",\"margin-left\":\"-0.05764em\",\"margin-right\":\"0.05em\"}},[a(\"span\",{staticClass:\"pstrut\",staticStyle:{height:\"2.7em\"}}),a(\"span\",{staticClass:\"sizing reset-size6 size3 mtight\"},[a(\"span\",{staticClass:\"mord mtight\"},[a(\"span\",{staticClass:\"mord mathnormal mtight\"},[s._v(\"x\")]),a(\"span\",{staticClass:\"mrel mtight\"},[s._v(\"∼\")]),a(\"span\",{staticClass:\"mord mtight\"},[a(\"span\",{staticClass:\"mord mathnormal mtight\",staticStyle:{\"margin-right\":\"0.13889em\"}},[s._v(\"P\")]),a(\"span\",{staticClass:\"msupsub\"},[a(\"span\",{staticClass:\"vlist-t vlist-t2\"},[a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.3280857142857143em\"}},[a(\"span\",{staticStyle:{top:\"-2.357em\",\"margin-left\":\"-0.13889em\",\"margin-right\":\"0.07142857142857144em\"}},[a(\"span\",{staticClass:\"pstrut\",staticStyle:{height:\"2.5em\"}}),a(\"span\",{staticClass:\"sizing reset-size3 size1 mtight\"},[a(\"span\",{staticClass:\"mord mtight\"},[a(\"span\",{staticClass:\"mord mathnormal mtight\"},[s._v(\"in\")]),a(\"span\",{staticClass:\"mord mathnormal mtight\"},[s._v(\"p\")]),a(\"span\",{staticClass:\"mord mathnormal mtight\"},[s._v(\"u\")]),a(\"span\",{staticClass:\"mord mathnormal mtight\"},[s._v(\"t\")])])])])]),a(\"span\",{staticClass:\"vlist-s\"},[s._v(\"​\")])]),a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.2818857142857143em\"}},[a(\"span\")])])])])]),a(\"span\",{staticClass:\"mopen mtight\"},[s._v(\"(\")]),a(\"span\",{staticClass:\"mord mathnormal mtight\"},[s._v(\"x\")]),a(\"span\",{staticClass:\"mclose mtight\"},[s._v(\")\")])])])])]),a(\"span\",{staticClass:\"vlist-s\"},[s._v(\"​\")])]),a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.3775199999999999em\"}},[a(\"span\")])])])])]),a(\"span\",{staticClass:\"mspace\",staticStyle:{\"margin-right\":\"0.16666666666666666em\"}}),a(\"span\",{staticClass:\"mop\"},[s._v(\"max\")]),a(\"span\",{staticClass:\"mopen\"},[s._v(\"(\")]),a(\"span\",{staticClass:\"mord\"},[s._v(\"0\")]),a(\"span\",{staticClass:\"mpunct\"},[s._v(\",\")]),a(\"span\",{staticClass:\"mspace\",staticStyle:{\"margin-right\":\"0.16666666666666666em\"}}),a(\"span\",{staticClass:\"mord\"},[s._v(\"∣∣\")]),a(\"span\",{staticClass:\"mord\"},[a(\"span\",{staticClass:\"mord\"},[s._v(\"∇\")]),a(\"span\",{staticClass:\"msupsub\"},[a(\"span\",{staticClass:\"vlist-t vlist-t2\"},[a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.151392em\"}},[a(\"span\",{staticStyle:{top:\"-2.5500000000000003em\",\"margin-left\":\"0em\",\"margin-right\":\"0.05em\"}},[a(\"span\",{staticClass:\"pstrut\",staticStyle:{height:\"2.7em\"}}),a(\"span\",{staticClass:\"sizing reset-size6 size3 mtight\"},[a(\"span\",{staticClass:\"mord mathnormal mtight\"},[s._v(\"x\")])])])]),a(\"span\",{staticClass:\"vlist-s\"},[s._v(\"​\")])]),a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.15em\"}},[a(\"span\")])])])])]),a(\"span\",{staticClass:\"mord mathnormal\",staticStyle:{\"margin-right\":\"0.02778em\"}},[s._v(\"D\")]),a(\"span\",{staticClass:\"mopen\"},[s._v(\"(\")]),a(\"span\",{staticClass:\"mord mathnormal\"},[s._v(\"x\")]),a(\"span\",{staticClass:\"mclose\"},[s._v(\")\")]),a(\"span\",{staticClass:\"mord\"},[s._v(\"∣∣\")]),a(\"span\",{staticClass:\"mspace\",staticStyle:{\"margin-right\":\"0.2222222222222222em\"}}),a(\"span\",{staticClass:\"mbin\"},[s._v(\"−\")]),a(\"span\",{staticClass:\"mspace\",staticStyle:{\"margin-right\":\"0.2222222222222222em\"}})]),a(\"span\",{staticClass:\"base\"},[a(\"span\",{staticClass:\"strut\",staticStyle:{height:\"1em\",\"vertical-align\":\"-0.25em\"}}),a(\"span\",{staticClass:\"mord\"},[s._v(\"1\")]),a(\"span\",{staticClass:\"mclose\"},[s._v(\")}\")])])])])])]),s._v(\" \"),a(\"p\",[s._v(\"其中$$P_{input}(x)$$是输入数据的分布。\")]),s._v(\" \"),a(\"p\",[s._v(\"而对于采样的过程，新版WGAN给出的方案是依次从两个分布中各选取一个样本，然后连接两个样本，并在该线段上任意采取一点作为$$P_{input}(x)$$。正是有$$P_{input}(x)$$的存在，梯度变化就被约束而平缓变化了。\")]),s._v(\" \"),a(\"p\",[s._v(\"不过在实现中我们没有直接使用$$\\\\max(0,||\\\\nabla_x D(x)||-1)$$的形式，因为这个无法直接计算，我们采用的是$$(||\\\\nabla_xD(x)||-1)^2$$。这意味着我们正要求$$\\\\nabla_xD(x)$$尽可能接近1，到这里你可能还不明白为什么这样。\")]),s._v(\" \"),a(\"p\",[s._v(\"首先一定要清晰的是\"),a(\"span\",{staticClass:\"katex\"},[a(\"span\",{staticClass:\"katex-mathml\"},[a(\"math\",{attrs:{xmlns:\"http://www.w3.org/1998/Math/MathML\"}},[a(\"semantics\",[a(\"mrow\",[a(\"mi\",[s._v(\"D\")]),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\"(\")]),a(\"mi\",[s._v(\"x\")]),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\")\")])],1),a(\"annotation\",{attrs:{encoding:\"application/x-tex\"}},[s._v(\"D(x)\")])],1)],1)],1),a(\"span\",{staticClass:\"katex-html\",attrs:{\"aria-hidden\":\"true\"}},[a(\"span\",{staticClass:\"base\"},[a(\"span\",{staticClass:\"strut\",staticStyle:{height:\"1em\",\"vertical-align\":\"-0.25em\"}}),a(\"span\",{staticClass:\"mord mathnormal\",staticStyle:{\"margin-right\":\"0.02778em\"}},[s._v(\"D\")]),a(\"span\",{staticClass:\"mopen\"},[s._v(\"(\")]),a(\"span\",{staticClass:\"mord mathnormal\"},[s._v(\"x\")]),a(\"span\",{staticClass:\"mclose\"},[s._v(\")\")])])])]),s._v(\"的存在就是为了增大损失函数的值，那么根据上面给的表达式，不难看出，当\"),a(\"span\",{staticClass:\"katex\"},[a(\"span\",{staticClass:\"katex-mathml\"},[a(\"math\",{attrs:{xmlns:\"http://www.w3.org/1998/Math/MathML\"}},[a(\"semantics\",[a(\"mrow\",[a(\"msub\",[a(\"mi\",[s._v(\"P\")]),a(\"mi\",[s._v(\"r\")])],1)],1),a(\"annotation\",{attrs:{encoding:\"application/x-tex\"}},[s._v(\"P_r\")])],1)],1)],1),a(\"span\",{staticClass:\"katex-html\",attrs:{\"aria-hidden\":\"true\"}},[a(\"span\",{staticClass:\"base\"},[a(\"span\",{staticClass:\"strut\",staticStyle:{height:\"0.83333em\",\"vertical-align\":\"-0.15em\"}}),a(\"span\",{staticClass:\"mord\"},[a(\"span\",{staticClass:\"mord mathnormal\",staticStyle:{\"margin-right\":\"0.13889em\"}},[s._v(\"P\")]),a(\"span\",{staticClass:\"msupsub\"},[a(\"span\",{staticClass:\"vlist-t vlist-t2\"},[a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.151392em\"}},[a(\"span\",{staticStyle:{top:\"-2.5500000000000003em\",\"margin-left\":\"-0.13889em\",\"margin-right\":\"0.05em\"}},[a(\"span\",{staticClass:\"pstrut\",staticStyle:{height:\"2.7em\"}}),a(\"span\",{staticClass:\"sizing reset-size6 size3 mtight\"},[a(\"span\",{staticClass:\"mord mathnormal mtight\",staticStyle:{\"margin-right\":\"0.02778em\"}},[s._v(\"r\")])])])]),a(\"span\",{staticClass:\"vlist-s\"},[s._v(\"​\")])]),a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.15em\"}},[a(\"span\")])])])])])])])]),s._v(\"尽可能大，而$$P_g$$尽可能小的时候损失函数的值必然会尽可能大。这时再回顾\"),a(\"span\",{staticClass:\"katex\"},[a(\"span\",{staticClass:\"katex-mathml\"},[a(\"math\",{attrs:{xmlns:\"http://www.w3.org/1998/Math/MathML\"}},[a(\"semantics\",[a(\"mrow\",[a(\"mi\",[s._v(\"D\")]),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\"(\")]),a(\"mi\",[s._v(\"x\")]),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\")\")])],1),a(\"annotation\",{attrs:{encoding:\"application/x-tex\"}},[s._v(\"D(x)\")])],1)],1)],1),a(\"span\",{staticClass:\"katex-html\",attrs:{\"aria-hidden\":\"true\"}},[a(\"span\",{staticClass:\"base\"},[a(\"span\",{staticClass:\"strut\",staticStyle:{height:\"1em\",\"vertical-align\":\"-0.25em\"}}),a(\"span\",{staticClass:\"mord mathnormal\",staticStyle:{\"margin-right\":\"0.02778em\"}},[s._v(\"D\")]),a(\"span\",{staticClass:\"mopen\"},[s._v(\"(\")]),a(\"span\",{staticClass:\"mord mathnormal\"},[s._v(\"x\")]),a(\"span\",{staticClass:\"mclose\"},[s._v(\")\")])])])]),s._v(\"的定义，我们会发现这样的变化会导致\"),a(\"span\",{staticClass:\"katex\"},[a(\"span\",{staticClass:\"katex-mathml\"},[a(\"math\",{attrs:{xmlns:\"http://www.w3.org/1998/Math/MathML\"}},[a(\"semantics\",[a(\"mrow\",[a(\"mi\",[s._v(\"D\")]),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\"(\")]),a(\"mi\",[s._v(\"x\")]),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\")\")])],1),a(\"annotation\",{attrs:{encoding:\"application/x-tex\"}},[s._v(\"D(x)\")])],1)],1)],1),a(\"span\",{staticClass:\"katex-html\",attrs:{\"aria-hidden\":\"true\"}},[a(\"span\",{staticClass:\"base\"},[a(\"span\",{staticClass:\"strut\",staticStyle:{height:\"1em\",\"vertical-align\":\"-0.25em\"}}),a(\"span\",{staticClass:\"mord mathnormal\",staticStyle:{\"margin-right\":\"0.02778em\"}},[s._v(\"D\")]),a(\"span\",{staticClass:\"mopen\"},[s._v(\"(\")]),a(\"span\",{staticClass:\"mord mathnormal\"},[s._v(\"x\")]),a(\"span\",{staticClass:\"mclose\"},[s._v(\")\")])])])]),s._v(\"尽可能接近1。到此为止，我们总算清楚为何要如此做法了。\")]),s._v(\" \"),a(\"p\",[s._v(\"于是我们最终的损失函数就出炉了：\")]),s._v(\" \"),a(\"p\",{staticClass:\"katex-block\"},[a(\"span\",{staticClass:\"katex-display\"},[a(\"span\",{staticClass:\"katex\"},[a(\"span\",{staticClass:\"katex-mathml\"},[a(\"math\",{attrs:{xmlns:\"http://www.w3.org/1998/Math/MathML\",display:\"block\"}},[a(\"semantics\",[a(\"mrow\",[a(\"mi\",[s._v(\"W\")]),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\"(\")]),a(\"msub\",[a(\"mi\",[s._v(\"P\")]),a(\"mi\",[s._v(\"r\")])],1),a(\"mo\",{attrs:{separator:\"true\"}},[s._v(\",\")]),a(\"msub\",[a(\"mi\",[s._v(\"P\")]),a(\"mi\",[s._v(\"g\")])],1),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\")\")]),a(\"mo\",[s._v(\"=\")]),a(\"munder\",[a(\"mrow\",[a(\"mi\",[s._v(\"max\")]),a(\"mo\",[s._v(\"⁡\")])],1),a(\"mi\",[s._v(\"D\")])],1),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\"{\")]),a(\"msub\",[a(\"mi\",[s._v(\"E\")]),a(\"mrow\",[a(\"mi\",[s._v(\"x\")]),a(\"mo\",[s._v(\"∼\")]),a(\"msub\",[a(\"mi\",[s._v(\"P\")]),a(\"mi\",[s._v(\"r\")])],1)],1)],1),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\"[\")]),a(\"mi\",[s._v(\"D\")]),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\"(\")]),a(\"mi\",[s._v(\"x\")]),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\")\")]),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\"]\")]),a(\"mo\",[s._v(\"−\")]),a(\"msub\",[a(\"mi\",[s._v(\"E\")]),a(\"mrow\",[a(\"mi\",[s._v(\"x\")]),a(\"mo\",[s._v(\"∼\")]),a(\"msub\",[a(\"mi\",[s._v(\"P\")]),a(\"mi\",[s._v(\"g\")])],1),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\"(\")]),a(\"mi\",[s._v(\"x\")]),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\")\")])],1)],1),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\"[\")]),a(\"mi\",[s._v(\"D\")]),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\"(\")]),a(\"mi\",[s._v(\"x\")]),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\")\")]),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\"]\")]),a(\"mo\",[s._v(\"−\")]),a(\"mi\",[s._v(\"λ\")]),a(\"msub\",[a(\"mi\",[s._v(\"E\")]),a(\"mrow\",[a(\"mi\",[s._v(\"x\")]),a(\"mo\",[s._v(\"∼\")]),a(\"msub\",[a(\"mi\",[s._v(\"P\")]),a(\"mrow\",[a(\"mi\",[s._v(\"i\")]),a(\"mi\",[s._v(\"n\")]),a(\"mi\",[s._v(\"p\")]),a(\"mi\",[s._v(\"u\")]),a(\"mi\",[s._v(\"t\")])],1)],1),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\"(\")]),a(\"mi\",[s._v(\"x\")]),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\")\")])],1)],1),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\"[\")]),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\"(\")]),a(\"mi\",{attrs:{mathvariant:\"normal\"}},[s._v(\"∣\")]),a(\"mi\",{attrs:{mathvariant:\"normal\"}},[s._v(\"∣\")]),a(\"msub\",[a(\"mi\",{attrs:{mathvariant:\"normal\"}},[s._v(\"∇\")]),a(\"mi\",[s._v(\"x\")])],1),a(\"mi\",[s._v(\"D\")]),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\"(\")]),a(\"mi\",[s._v(\"x\")]),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\")\")]),a(\"mi\",{attrs:{mathvariant:\"normal\"}},[s._v(\"∣\")]),a(\"mi\",{attrs:{mathvariant:\"normal\"}},[s._v(\"∣\")]),a(\"mo\",[s._v(\"−\")]),a(\"mn\",[s._v(\"1\")]),a(\"msup\",[a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\")\")]),a(\"mn\",[s._v(\"2\")])],1),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\"]\")]),a(\"mo\",{attrs:{stretchy:\"false\"}},[s._v(\"}\")])],1),a(\"annotation\",{attrs:{encoding:\"application/x-tex\"}},[s._v(\"W(P_r, P_g)=\\\\max_{D} \\\\{E_{x \\\\sim P_r}[D(x)]-E_{x\\\\sim P_g(x)}[D(x)]-\\\\lambda E_{x\\\\sim P_{input}(x)}[(||\\\\nabla_x D(x)||-1)^2] \\\\}\\n\")])],1)],1)],1),a(\"span\",{staticClass:\"katex-html\",attrs:{\"aria-hidden\":\"true\"}},[a(\"span\",{staticClass:\"base\"},[a(\"span\",{staticClass:\"strut\",staticStyle:{height:\"1.036108em\",\"vertical-align\":\"-0.286108em\"}}),a(\"span\",{staticClass:\"mord mathnormal\",staticStyle:{\"margin-right\":\"0.13889em\"}},[s._v(\"W\")]),a(\"span\",{staticClass:\"mopen\"},[s._v(\"(\")]),a(\"span\",{staticClass:\"mord\"},[a(\"span\",{staticClass:\"mord mathnormal\",staticStyle:{\"margin-right\":\"0.13889em\"}},[s._v(\"P\")]),a(\"span\",{staticClass:\"msupsub\"},[a(\"span\",{staticClass:\"vlist-t vlist-t2\"},[a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.151392em\"}},[a(\"span\",{staticStyle:{top:\"-2.5500000000000003em\",\"margin-left\":\"-0.13889em\",\"margin-right\":\"0.05em\"}},[a(\"span\",{staticClass:\"pstrut\",staticStyle:{height:\"2.7em\"}}),a(\"span\",{staticClass:\"sizing reset-size6 size3 mtight\"},[a(\"span\",{staticClass:\"mord mathnormal mtight\",staticStyle:{\"margin-right\":\"0.02778em\"}},[s._v(\"r\")])])])]),a(\"span\",{staticClass:\"vlist-s\"},[s._v(\"​\")])]),a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.15em\"}},[a(\"span\")])])])])]),a(\"span\",{staticClass:\"mpunct\"},[s._v(\",\")]),a(\"span\",{staticClass:\"mspace\",staticStyle:{\"margin-right\":\"0.16666666666666666em\"}}),a(\"span\",{staticClass:\"mord\"},[a(\"span\",{staticClass:\"mord mathnormal\",staticStyle:{\"margin-right\":\"0.13889em\"}},[s._v(\"P\")]),a(\"span\",{staticClass:\"msupsub\"},[a(\"span\",{staticClass:\"vlist-t vlist-t2\"},[a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.15139200000000003em\"}},[a(\"span\",{staticStyle:{top:\"-2.5500000000000003em\",\"margin-left\":\"-0.13889em\",\"margin-right\":\"0.05em\"}},[a(\"span\",{staticClass:\"pstrut\",staticStyle:{height:\"2.7em\"}}),a(\"span\",{staticClass:\"sizing reset-size6 size3 mtight\"},[a(\"span\",{staticClass:\"mord mathnormal mtight\",staticStyle:{\"margin-right\":\"0.03588em\"}},[s._v(\"g\")])])])]),a(\"span\",{staticClass:\"vlist-s\"},[s._v(\"​\")])]),a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.286108em\"}},[a(\"span\")])])])])]),a(\"span\",{staticClass:\"mclose\"},[s._v(\")\")]),a(\"span\",{staticClass:\"mspace\",staticStyle:{\"margin-right\":\"0.2777777777777778em\"}}),a(\"span\",{staticClass:\"mrel\"},[s._v(\"=\")]),a(\"span\",{staticClass:\"mspace\",staticStyle:{\"margin-right\":\"0.2777777777777778em\"}})]),a(\"span\",{staticClass:\"base\"},[a(\"span\",{staticClass:\"strut\",staticStyle:{height:\"1.494331em\",\"vertical-align\":\"-0.7443310000000001em\"}}),a(\"span\",{staticClass:\"mop op-limits\"},[a(\"span\",{staticClass:\"vlist-t vlist-t2\"},[a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.43055999999999983em\"}},[a(\"span\",{staticStyle:{top:\"-2.355669em\",\"margin-left\":\"0em\"}},[a(\"span\",{staticClass:\"pstrut\",staticStyle:{height:\"3em\"}}),a(\"span\",{staticClass:\"sizing reset-size6 size3 mtight\"},[a(\"span\",{staticClass:\"mord mtight\"},[a(\"span\",{staticClass:\"mord mathnormal mtight\",staticStyle:{\"margin-right\":\"0.02778em\"}},[s._v(\"D\")])])])]),a(\"span\",{staticStyle:{top:\"-3em\"}},[a(\"span\",{staticClass:\"pstrut\",staticStyle:{height:\"3em\"}}),a(\"span\",[a(\"span\",{staticClass:\"mop\"},[s._v(\"max\")])])])]),a(\"span\",{staticClass:\"vlist-s\"},[s._v(\"​\")])]),a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.7443310000000001em\"}},[a(\"span\")])])])]),a(\"span\",{staticClass:\"mopen\"},[s._v(\"{\")]),a(\"span\",{staticClass:\"mord\"},[a(\"span\",{staticClass:\"mord mathnormal\",staticStyle:{\"margin-right\":\"0.05764em\"}},[s._v(\"E\")]),a(\"span\",{staticClass:\"msupsub\"},[a(\"span\",{staticClass:\"vlist-t vlist-t2\"},[a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.32833099999999993em\"}},[a(\"span\",{staticStyle:{top:\"-2.5500000000000003em\",\"margin-left\":\"-0.05764em\",\"margin-right\":\"0.05em\"}},[a(\"span\",{staticClass:\"pstrut\",staticStyle:{height:\"2.7em\"}}),a(\"span\",{staticClass:\"sizing reset-size6 size3 mtight\"},[a(\"span\",{staticClass:\"mord mtight\"},[a(\"span\",{staticClass:\"mord mathnormal mtight\"},[s._v(\"x\")]),a(\"span\",{staticClass:\"mrel mtight\"},[s._v(\"∼\")]),a(\"span\",{staticClass:\"mord mtight\"},[a(\"span\",{staticClass:\"mord mathnormal mtight\",staticStyle:{\"margin-right\":\"0.13889em\"}},[s._v(\"P\")]),a(\"span\",{staticClass:\"msupsub\"},[a(\"span\",{staticClass:\"vlist-t vlist-t2\"},[a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.16454285714285719em\"}},[a(\"span\",{staticStyle:{top:\"-2.357em\",\"margin-left\":\"-0.13889em\",\"margin-right\":\"0.07142857142857144em\"}},[a(\"span\",{staticClass:\"pstrut\",staticStyle:{height:\"2.5em\"}}),a(\"span\",{staticClass:\"sizing reset-size3 size1 mtight\"},[a(\"span\",{staticClass:\"mord mathnormal mtight\",staticStyle:{\"margin-right\":\"0.02778em\"}},[s._v(\"r\")])])])]),a(\"span\",{staticClass:\"vlist-s\"},[s._v(\"​\")])]),a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.143em\"}},[a(\"span\")])])])])])])])])]),a(\"span\",{staticClass:\"vlist-s\"},[s._v(\"​\")])]),a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.2501em\"}},[a(\"span\")])])])])]),a(\"span\",{staticClass:\"mopen\"},[s._v(\"[\")]),a(\"span\",{staticClass:\"mord mathnormal\",staticStyle:{\"margin-right\":\"0.02778em\"}},[s._v(\"D\")]),a(\"span\",{staticClass:\"mopen\"},[s._v(\"(\")]),a(\"span\",{staticClass:\"mord mathnormal\"},[s._v(\"x\")]),a(\"span\",{staticClass:\"mclose\"},[s._v(\")]\")]),a(\"span\",{staticClass:\"mspace\",staticStyle:{\"margin-right\":\"0.2222222222222222em\"}}),a(\"span\",{staticClass:\"mbin\"},[s._v(\"−\")]),a(\"span\",{staticClass:\"mspace\",staticStyle:{\"margin-right\":\"0.2222222222222222em\"}})]),a(\"span\",{staticClass:\"base\"},[a(\"span\",{staticClass:\"strut\",staticStyle:{height:\"1.1275199999999999em\",\"vertical-align\":\"-0.3775199999999999em\"}}),a(\"span\",{staticClass:\"mord\"},[a(\"span\",{staticClass:\"mord mathnormal\",staticStyle:{\"margin-right\":\"0.05764em\"}},[s._v(\"E\")]),a(\"span\",{staticClass:\"msupsub\"},[a(\"span\",{staticClass:\"vlist-t vlist-t2\"},[a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.34479999999999994em\"}},[a(\"span\",{staticStyle:{top:\"-2.5198em\",\"margin-left\":\"-0.05764em\",\"margin-right\":\"0.05em\"}},[a(\"span\",{staticClass:\"pstrut\",staticStyle:{height:\"2.7em\"}}),a(\"span\",{staticClass:\"sizing reset-size6 size3 mtight\"},[a(\"span\",{staticClass:\"mord mtight\"},[a(\"span\",{staticClass:\"mord mathnormal mtight\"},[s._v(\"x\")]),a(\"span\",{staticClass:\"mrel mtight\"},[s._v(\"∼\")]),a(\"span\",{staticClass:\"mord mtight\"},[a(\"span\",{staticClass:\"mord mathnormal mtight\",staticStyle:{\"margin-right\":\"0.13889em\"}},[s._v(\"P\")]),a(\"span\",{staticClass:\"msupsub\"},[a(\"span\",{staticClass:\"vlist-t vlist-t2\"},[a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.16454285714285716em\"}},[a(\"span\",{staticStyle:{top:\"-2.357em\",\"margin-left\":\"-0.13889em\",\"margin-right\":\"0.07142857142857144em\"}},[a(\"span\",{staticClass:\"pstrut\",staticStyle:{height:\"2.5em\"}}),a(\"span\",{staticClass:\"sizing reset-size3 size1 mtight\"},[a(\"span\",{staticClass:\"mord mathnormal mtight\",staticStyle:{\"margin-right\":\"0.03588em\"}},[s._v(\"g\")])])])]),a(\"span\",{staticClass:\"vlist-s\"},[s._v(\"​\")])]),a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.2818857142857143em\"}},[a(\"span\")])])])])]),a(\"span\",{staticClass:\"mopen mtight\"},[s._v(\"(\")]),a(\"span\",{staticClass:\"mord mathnormal mtight\"},[s._v(\"x\")]),a(\"span\",{staticClass:\"mclose mtight\"},[s._v(\")\")])])])])]),a(\"span\",{staticClass:\"vlist-s\"},[s._v(\"​\")])]),a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.3775199999999999em\"}},[a(\"span\")])])])])]),a(\"span\",{staticClass:\"mopen\"},[s._v(\"[\")]),a(\"span\",{staticClass:\"mord mathnormal\",staticStyle:{\"margin-right\":\"0.02778em\"}},[s._v(\"D\")]),a(\"span\",{staticClass:\"mopen\"},[s._v(\"(\")]),a(\"span\",{staticClass:\"mord mathnormal\"},[s._v(\"x\")]),a(\"span\",{staticClass:\"mclose\"},[s._v(\")]\")]),a(\"span\",{staticClass:\"mspace\",staticStyle:{\"margin-right\":\"0.2222222222222222em\"}}),a(\"span\",{staticClass:\"mbin\"},[s._v(\"−\")]),a(\"span\",{staticClass:\"mspace\",staticStyle:{\"margin-right\":\"0.2222222222222222em\"}})]),a(\"span\",{staticClass:\"base\"},[a(\"span\",{staticClass:\"strut\",staticStyle:{height:\"1.1275199999999999em\",\"vertical-align\":\"-0.3775199999999999em\"}}),a(\"span\",{staticClass:\"mord mathnormal\"},[s._v(\"λ\")]),a(\"span\",{staticClass:\"mord\"},[a(\"span\",{staticClass:\"mord mathnormal\",staticStyle:{\"margin-right\":\"0.05764em\"}},[s._v(\"E\")]),a(\"span\",{staticClass:\"msupsub\"},[a(\"span\",{staticClass:\"vlist-t vlist-t2\"},[a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.34479999999999994em\"}},[a(\"span\",{staticStyle:{top:\"-2.5198em\",\"margin-left\":\"-0.05764em\",\"margin-right\":\"0.05em\"}},[a(\"span\",{staticClass:\"pstrut\",staticStyle:{height:\"2.7em\"}}),a(\"span\",{staticClass:\"sizing reset-size6 size3 mtight\"},[a(\"span\",{staticClass:\"mord mtight\"},[a(\"span\",{staticClass:\"mord mathnormal mtight\"},[s._v(\"x\")]),a(\"span\",{staticClass:\"mrel mtight\"},[s._v(\"∼\")]),a(\"span\",{staticClass:\"mord mtight\"},[a(\"span\",{staticClass:\"mord mathnormal mtight\",staticStyle:{\"margin-right\":\"0.13889em\"}},[s._v(\"P\")]),a(\"span\",{staticClass:\"msupsub\"},[a(\"span\",{staticClass:\"vlist-t vlist-t2\"},[a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.3280857142857143em\"}},[a(\"span\",{staticStyle:{top:\"-2.357em\",\"margin-left\":\"-0.13889em\",\"margin-right\":\"0.07142857142857144em\"}},[a(\"span\",{staticClass:\"pstrut\",staticStyle:{height:\"2.5em\"}}),a(\"span\",{staticClass:\"sizing reset-size3 size1 mtight\"},[a(\"span\",{staticClass:\"mord mtight\"},[a(\"span\",{staticClass:\"mord mathnormal mtight\"},[s._v(\"in\")]),a(\"span\",{staticClass:\"mord mathnormal mtight\"},[s._v(\"p\")]),a(\"span\",{staticClass:\"mord mathnormal mtight\"},[s._v(\"u\")]),a(\"span\",{staticClass:\"mord mathnormal mtight\"},[s._v(\"t\")])])])])]),a(\"span\",{staticClass:\"vlist-s\"},[s._v(\"​\")])]),a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.2818857142857143em\"}},[a(\"span\")])])])])]),a(\"span\",{staticClass:\"mopen mtight\"},[s._v(\"(\")]),a(\"span\",{staticClass:\"mord mathnormal mtight\"},[s._v(\"x\")]),a(\"span\",{staticClass:\"mclose mtight\"},[s._v(\")\")])])])])]),a(\"span\",{staticClass:\"vlist-s\"},[s._v(\"​\")])]),a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.3775199999999999em\"}},[a(\"span\")])])])])]),a(\"span\",{staticClass:\"mopen\"},[s._v(\"[(\")]),a(\"span\",{staticClass:\"mord\"},[s._v(\"∣∣\")]),a(\"span\",{staticClass:\"mord\"},[a(\"span\",{staticClass:\"mord\"},[s._v(\"∇\")]),a(\"span\",{staticClass:\"msupsub\"},[a(\"span\",{staticClass:\"vlist-t vlist-t2\"},[a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.151392em\"}},[a(\"span\",{staticStyle:{top:\"-2.5500000000000003em\",\"margin-left\":\"0em\",\"margin-right\":\"0.05em\"}},[a(\"span\",{staticClass:\"pstrut\",staticStyle:{height:\"2.7em\"}}),a(\"span\",{staticClass:\"sizing reset-size6 size3 mtight\"},[a(\"span\",{staticClass:\"mord mathnormal mtight\"},[s._v(\"x\")])])])]),a(\"span\",{staticClass:\"vlist-s\"},[s._v(\"​\")])]),a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.15em\"}},[a(\"span\")])])])])]),a(\"span\",{staticClass:\"mord mathnormal\",staticStyle:{\"margin-right\":\"0.02778em\"}},[s._v(\"D\")]),a(\"span\",{staticClass:\"mopen\"},[s._v(\"(\")]),a(\"span\",{staticClass:\"mord mathnormal\"},[s._v(\"x\")]),a(\"span\",{staticClass:\"mclose\"},[s._v(\")\")]),a(\"span\",{staticClass:\"mord\"},[s._v(\"∣∣\")]),a(\"span\",{staticClass:\"mspace\",staticStyle:{\"margin-right\":\"0.2222222222222222em\"}}),a(\"span\",{staticClass:\"mbin\"},[s._v(\"−\")]),a(\"span\",{staticClass:\"mspace\",staticStyle:{\"margin-right\":\"0.2222222222222222em\"}})]),a(\"span\",{staticClass:\"base\"},[a(\"span\",{staticClass:\"strut\",staticStyle:{height:\"1.1141079999999999em\",\"vertical-align\":\"-0.25em\"}}),a(\"span\",{staticClass:\"mord\"},[s._v(\"1\")]),a(\"span\",{staticClass:\"mclose\"},[a(\"span\",{staticClass:\"mclose\"},[s._v(\")\")]),a(\"span\",{staticClass:\"msupsub\"},[a(\"span\",{staticClass:\"vlist-t\"},[a(\"span\",{staticClass:\"vlist-r\"},[a(\"span\",{staticClass:\"vlist\",staticStyle:{height:\"0.8641079999999999em\"}},[a(\"span\",{staticStyle:{top:\"-3.113em\",\"margin-right\":\"0.05em\"}},[a(\"span\",{staticClass:\"pstrut\",staticStyle:{height:\"2.7em\"}}),a(\"span\",{staticClass:\"sizing reset-size6 size3 mtight\"},[a(\"span\",{staticClass:\"mord mtight\"},[s._v(\"2\")])])])])])])])]),a(\"span\",{staticClass:\"mclose\"},[s._v(\"]}\")])])])])])]),s._v(\" \"),a(\"hr\"),s._v(\" \"),a(\"h2\",{attrs:{id:\"实现\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#实现\"}},[s._v(\"#\")]),s._v(\" 实现！\")]),s._v(\" \"),a(\"p\",[a(\"strong\",[s._v(\"「注」：以下一切操作均基于Original GAN而修改！\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language-python line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-python\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[s._v(\"def\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"weights_init\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"(\")]),s._v(\"m\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[s._v(\"if\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token builtin\"}},[s._v(\"isinstance\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"(\")]),s._v(\"m\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\",\")]),s._v(\" nn\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\".\")]),s._v(\"Linear\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\"\\n        \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# m.weight.data.normal_(0.0, 0.02)\")]),s._v(\"\\n        nn\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\".\")]),s._v(\"init\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\".\")]),s._v(\"kaiming_normal_\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"(\")]),s._v(\"m\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\".\")]),s._v(\"weight\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\")\")]),s._v(\"\\n        m\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\".\")]),s._v(\"bias\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\".\")]),s._v(\"data\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\".\")]),s._v(\"fill_\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"0\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\")\")]),s._v(\"\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\")])]),a(\"div\",{staticClass:\"language-python line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-python\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[s._v(\"def\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"gradient_penalty\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"(\")]),s._v(\"D\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\",\")]),s._v(\" x_r\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\",\")]),s._v(\" x_f\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\"\\n    t \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\" torch\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\".\")]),s._v(\"rand\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"(\")]),s._v(\"batchsz\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\",\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"1\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\".\")]),s._v(\"cuda\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\")\")]),s._v(\"\\n    t \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\" t\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\".\")]),s._v(\"expand_as\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"(\")]),s._v(\"x_r\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\")\")]),s._v(\"\\n    mid \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\" t \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"*\")]),s._v(\" x_r \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"+\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"1\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"-\")]),s._v(\" t\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\")\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"*\")]),s._v(\" x_f\\n    mid\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\".\")]),s._v(\"requires_grad_\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\")\")]),s._v(\"\\n    \\n    pred \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\" D\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"(\")]),s._v(\"mid\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\")\")]),s._v(\"\\n    grads \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\" autograd\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\".\")]),s._v(\"grad\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"(\")]),s._v(\"outputs\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"pred\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\",\")]),s._v(\" \\\\\\n                          inputs\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"mid\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\",\")]),s._v(\" \\\\\\n                          grad_outputs\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"torch\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\".\")]),s._v(\"ones_like\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"(\")]),s._v(\"pred\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\",\")]),s._v(\" \\\\\\n                          create_graph\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),a(\"span\",{pre:!0,attrs:{class:\"token boolean\"}},[s._v(\"True\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\",\")]),s._v(\" \\\\\\n                          retain_graph\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),a(\"span\",{pre:!0,attrs:{class:\"token boolean\"}},[s._v(\"True\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\",\")]),s._v(\" \\\\\\n                          only_inputs\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),a(\"span\",{pre:!0,attrs:{class:\"token boolean\"}},[s._v(\"True\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"[\")]),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"0\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"]\")]),s._v(\"\\n    \\n    gp \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\" torch\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\".\")]),a(\"span\",{pre:!0,attrs:{class:\"token builtin\"}},[s._v(\"pow\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"(\")]),s._v(\"grads\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\".\")]),s._v(\"norm\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"2\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\",\")]),s._v(\" dim\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"1\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\")\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"-\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"1\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\",\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"2\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\".\")]),s._v(\"mean\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\")\")]),s._v(\"\\n    \\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[s._v(\"return\")]),s._v(\" gp\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"13\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"14\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"15\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"16\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"17\")]),a(\"br\")])]),a(\"p\",[s._v(\"定义完这两个函数之后需要在main()中\"),a(\"code\",[s._v(\"loss_D = loss_r + loss_f\")]),s._v(\"改成\"),a(\"code\",[s._v(\"loss_D = loss_r + loss_f + 0.2 * gp\")]),s._v(\"，其中0.2是一种超参数，可以自行调整；并且在这行代码前面加上\"),a(\"code\",[s._v(\"gp = gradient_penalty(D, x_r, x_f.detach())\")]),s._v(\"，并且在定义G、D变量的后面加上\"),a(\"code\",[s._v(\"G.apply(weights_init\")]),s._v(\"和\"),a(\"code\",[s._v(\"D.apply(weights_init)\")]),s._v(\"这两行代码。\")]),s._v(\" \"),a(\"p\",[s._v(\"这样我们就完成了WGAN-gp的实现，完整代码请点击这里--\\x3e\"),a(\"a\",{attrs:{href:\"https://github.com/BreezeShane/Unsupervised-Learning/blob/master/WGAN-gp.py\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s._v(\"·\"),a(\"OutboundLink\")],1)])])}),[],!1,null,null,null);t.default=n.exports}}]);","extractedComments":[]}