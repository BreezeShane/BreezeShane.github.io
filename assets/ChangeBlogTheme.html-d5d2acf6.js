import{_ as i,W as u,X as r,Y as n,Z as s,$ as a,a2 as p,a1 as o,C as l}from"./framework-68a75bb9.js";const k="/images/2021-06-03_09-27.png",d="/images/2021-06-03_09-15.png",g={},v=n("h1",{id:"to-change-my-blog-theme",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#to-change-my-blog-theme","aria-hidden":"true"},"#"),s(" To Change My Blog Theme")],-1),m=n("p",null,"参考文档：",-1),b={href:"https://www.izhaoo.com/2020/05/05/hexo-theme-zhaoo-doc/",target:"_blank",rel:"noopener noreferrer"},h={href:"https://yk1062008412.github.io/2017/02/20/hexo%E5%AF%BC%E5%85%A5%E8%87%AA%E5%AE%9A%E4%B9%89css%E6%96%87%E4%BB%B6/",target:"_blank",rel:"noopener noreferrer"},q={href:"https://blog.csdn.net/qq_41426117/article/details/105416911",target:"_blank",rel:"noopener noreferrer"},y={href:"http://zhoulvjun.github.io/2016/02/07/hexo-tag-echarts/",target:"_blank",rel:"noopener noreferrer"},f={href:"https://echarts.apache.org/zh/tutorial.html#5%20%E5%88%86%E9%92%9F%E4%B8%8A%E6%89%8B%20ECharts",target:"_blank",rel:"noopener noreferrer"},_={href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Document/getElementById",target:"_blank",rel:"noopener noreferrer"},j={href:"https://echarts.apache.org/zh/option.html#title",target:"_blank",rel:"noopener noreferrer"},w=n("h2",{id:"声明",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#声明","aria-hidden":"true"},"#"),s(" 声明")],-1),x=n("strong",null,[s("首先要强调的是本人在前端这"),n("br"),s("只是有能看懂HTML和JavaScript的一点点代码的程度，"),n("br"),s("其它一概不知！")],-1),E=n("h2",{id:"原因",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#原因","aria-hidden":"true"},"#"),s(" 原因？")],-1),S={href:"https://github.com/zhaoo/hexo-theme-zhaoo",target:"_blank",rel:"noopener noreferrer"},C=o(`<h2 id="过程" tabindex="-1"><a class="header-anchor" href="#过程" aria-hidden="true">#</a> 过程！</h2><p>首先是直接把我原来的博客文件夹另外复制了一份，这样就可以直接跳过配好SSH的过程以及一些初始化操作。然后我就开始折腾起来了：</p><hr><p>首先打开终端进入根目录下，输入<code>git clone https://github.com/zhaoo/hexo-theme-zhaoo theme/zhaoo </code>来下载主题。</p><p>然后在_config.yml文件中修改theme一项，改为zhaoo。</p><hr><p>在根目录下创建_config.zhaoo.yml配置文件。</p><p>执行<code>npm i</code>来安装一下依赖。「当时我发现好些东西被删掉了，但不用担心，需要的话确实还会再装回来。」</p><p>另外，由于原来的Fluid主题是内嵌LaTeX渲染器的，而新主题没有，因此我就又要去折腾渲染器的事。</p><p>不过还好，执行下两个指令就可以解决：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>npm uninstall hexo-renderer-marked
npm install hexo-renderer-kramed --save
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>然后在_config.zhaoo.yml配置文件中添加：</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">kramed</span><span class="token punctuation">:</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">gfm</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">pedantic</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
  <span class="token key atrule">sanitize</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
  <span class="token key atrule">tables</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">breaks</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">smartLists</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">smartypants</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>

<span class="token key atrule">mathjax</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><p>接着需要重建SSH链接，需要安装hexo-deployer-git，执行<code>npm i hexo-deployer-git --save</code>，成功后执行<code>ssh -T git@github.com</code>来重建链接。</p><hr><p>_config.zhaoo.yml配置文件中的copyright一项可以修改，使用HTML标记语言，最终效果是页面底部显示内容。另外，gray一项的功能挺有心意，是哀悼模式。pjax一项可以选择true。而主题中的gallery模块照配置文档来做即可，本篇不必赘述。另外切换主题的话，文章的Front-matter也相应发生了变化，具体看配置文档即可。不过提一句：这个主题也一样支持excerpt，可以在文章头添加<code>excerpt:</code>。</p><hr><p>如果你的某些文章需要嵌入pdf文件，需要安装一下hexo-pdf，执行：</p><p><code>npm i --save hexo-pdf</code></p><hr><p>注意，如果你有绘制思维导图甚至是动态图表需求的话，且听我接下来的讲述：</p><blockquote><p>以下一大部分总结就一句话：在Hexo中JsMind就别想用了！不想了解详细情况的话可直接跳过这一部分，看我最终成功的取代方案。</p><p>另外，此时我的source文件夹下已经有：</p><ul><li>css</li><li>js</li></ul><p>其中css文件夹下有jsmind.css文件，js文件夹下有jquery.js、jsmind.js和jsmind.min.js文件。</p></blockquote><p>起初尝试使用原来在用的hexo-markmap和hexo-simple-mindmap，但是发现这两个东西根本用不了「后来再回顾过来，如果当时再加入jQuery是不是就能正常了？」，渲染不出来我预期的效果，要不就是干脆直接空白，再加之早在先前就觉得很简陋，不太喜欢，于是我果断执行了：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>npm un hexo-markmap
npm un hexo-simple-mindmap
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,25),z={href:"https://github.com/hizzgdev/jsmind/blob/master/docs/zh/index.md",target:"_blank",rel:"noopener noreferrer"},B=n("p",null,"使用JsMind，就要下载好对应的JS文件和CSS文件，",-1),M=n("p",null,[s("查过"),n("span",{class:"katex"},[n("span",{class:"katex-mathml"},[n("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[n("semantics",null,[n("mrow",null,[n("mi",{mathvariant:"normal"},"∞")]),n("annotation",{encoding:"application/x-tex"},"\\infty")])])]),n("span",{class:"katex-html","aria-hidden":"true"},[n("span",{class:"base"},[n("span",{class:"strut",style:{height:"0.4306em"}}),n("span",{class:"mord"},"∞")])])]),s("个文档之后我总结一下有这四种方案，先说明白了，都不行！")],-1),H=o(`<p><strong>方案一</strong>：直接写入JavaScript代码</p><p>最简单粗暴的方法，直接在md文件中加入如下代码「为了避开自己写可能出现错误，我下方特意使用官方文档的示例代码来写」：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token operator">&lt;</span>link type<span class="token operator">=</span><span class="token string">&quot;text/css&quot;</span> rel<span class="token operator">=</span><span class="token string">&quot;stylesheet&quot;</span> href<span class="token operator">=</span><span class="token string">&quot;/css/jsmind.css&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span> src<span class="token operator">=</span><span class="token string">&quot;/js/jsmind.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span> src<span class="token operator">=</span><span class="token string">&quot;/js/jsmind.draggable.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;jsmind_container&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span><span class="token operator">&gt;</span>
    <span class="token keyword">var</span> mind <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;meta&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token string-property property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;jsMind-demo-tree&quot;</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;author&quot;</span><span class="token operator">:</span><span class="token string">&quot;hizzgdev@163.com&quot;</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;version&quot;</span><span class="token operator">:</span><span class="token string">&quot;0.2&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;format&quot;</span><span class="token operator">:</span><span class="token string">&quot;node_tree&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token string-property property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">,</span><span class="token string-property property">&quot;topic&quot;</span><span class="token operator">:</span><span class="token string">&quot;jsMind&quot;</span><span class="token punctuation">,</span><span class="token string-property property">&quot;children&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token punctuation">{</span><span class="token string-property property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;easy&quot;</span><span class="token punctuation">,</span><span class="token string-property property">&quot;topic&quot;</span><span class="token operator">:</span><span class="token string">&quot;Easy&quot;</span><span class="token punctuation">,</span><span class="token string-property property">&quot;direction&quot;</span><span class="token operator">:</span><span class="token string">&quot;left&quot;</span><span class="token punctuation">,</span><span class="token string-property property">&quot;expanded&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token string-property property">&quot;children&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
            <span class="token punctuation">{</span><span class="token string-property property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;easy1&quot;</span><span class="token punctuation">,</span><span class="token string-property property">&quot;topic&quot;</span><span class="token operator">:</span><span class="token string">&quot;Easy to show&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span><span class="token string-property property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;easy2&quot;</span><span class="token punctuation">,</span><span class="token string-property property">&quot;topic&quot;</span><span class="token operator">:</span><span class="token string">&quot;Easy to edit&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span><span class="token string-property property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;easy3&quot;</span><span class="token punctuation">,</span><span class="token string-property property">&quot;topic&quot;</span><span class="token operator">:</span><span class="token string">&quot;Easy to store&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span><span class="token string-property property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;easy4&quot;</span><span class="token punctuation">,</span><span class="token string-property property">&quot;topic&quot;</span><span class="token operator">:</span><span class="token string">&quot;Easy to embed&quot;</span><span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span><span class="token string-property property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;open&quot;</span><span class="token punctuation">,</span><span class="token string-property property">&quot;topic&quot;</span><span class="token operator">:</span><span class="token string">&quot;Open Source&quot;</span><span class="token punctuation">,</span><span class="token string-property property">&quot;direction&quot;</span><span class="token operator">:</span><span class="token string">&quot;right&quot;</span><span class="token punctuation">,</span><span class="token string-property property">&quot;expanded&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token string-property property">&quot;children&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
            <span class="token punctuation">{</span><span class="token string-property property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;open1&quot;</span><span class="token punctuation">,</span><span class="token string-property property">&quot;topic&quot;</span><span class="token operator">:</span><span class="token string">&quot;on GitHub&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span><span class="token string-property property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;open2&quot;</span><span class="token punctuation">,</span><span class="token string-property property">&quot;topic&quot;</span><span class="token operator">:</span><span class="token string">&quot;BSD License&quot;</span><span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span><span class="token string-property property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;powerful&quot;</span><span class="token punctuation">,</span><span class="token string-property property">&quot;topic&quot;</span><span class="token operator">:</span><span class="token string">&quot;Powerful&quot;</span><span class="token punctuation">,</span><span class="token string-property property">&quot;direction&quot;</span><span class="token operator">:</span><span class="token string">&quot;right&quot;</span><span class="token punctuation">,</span><span class="token string-property property">&quot;children&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
            <span class="token punctuation">{</span><span class="token string-property property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;powerful1&quot;</span><span class="token punctuation">,</span><span class="token string-property property">&quot;topic&quot;</span><span class="token operator">:</span><span class="token string">&quot;Base on Javascript&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span><span class="token string-property property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;powerful2&quot;</span><span class="token punctuation">,</span><span class="token string-property property">&quot;topic&quot;</span><span class="token operator">:</span><span class="token string">&quot;Base on HTML5&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span><span class="token string-property property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;powerful3&quot;</span><span class="token punctuation">,</span><span class="token string-property property">&quot;topic&quot;</span><span class="token operator">:</span><span class="token string">&quot;Depends on you&quot;</span><span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span><span class="token string-property property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;other&quot;</span><span class="token punctuation">,</span><span class="token string-property property">&quot;topic&quot;</span><span class="token operator">:</span><span class="token string">&quot;test node&quot;</span><span class="token punctuation">,</span><span class="token string-property property">&quot;direction&quot;</span><span class="token operator">:</span><span class="token string">&quot;left&quot;</span><span class="token punctuation">,</span><span class="token string-property property">&quot;children&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
            <span class="token punctuation">{</span><span class="token string-property property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;other1&quot;</span><span class="token punctuation">,</span><span class="token string-property property">&quot;topic&quot;</span><span class="token operator">:</span><span class="token string">&quot;I&#39;m from local variable&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span><span class="token string-property property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;other2&quot;</span><span class="token punctuation">,</span><span class="token string-property property">&quot;topic&quot;</span><span class="token operator">:</span><span class="token string">&quot;I can do everything&quot;</span><span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">container</span><span class="token operator">:</span><span class="token string">&#39;jsmind_container&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">editable</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token literal-property property">theme</span><span class="token operator">:</span><span class="token string">&#39;orange&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> jm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">jsMind</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span>
    jm<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>测试后，发现不行，什么也没显示。</p><p><strong>方案二</strong>：Hexo脚本注入机制引入CSS</p><p>「这个其实不是自己查的，是在先前已经了解过Hexo5的新特性，就知道如何操作注入JS脚本」</p><p>在根目录下创建scripts文件夹，并在该文件夹下新建injector.js文件，写入如下代码：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>hexo<span class="token punctuation">.</span>extend<span class="token punctuation">.</span>injector<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">&#39;head_begin&#39;</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;/css/jsmind.css&quot; /&gt;</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span> <span class="token string">&#39;default&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 括号中第一个参数可选head_begin、head_end、body_begin、body_end这四个选项。</span>
<span class="token comment">// 括号中第二个参数要用\`\`来括上，不要用错了！这里就是为了注入link标签</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>代码部分和方案一一致，但经过测试，还是什么也没显示。</p><p><strong>方案三</strong>：HTML文件嵌入</p><p>新建一个HTML文本文件，将方案一中的JS代码写入这个文件「要符合HTML语法要求」，然后在md文件中写入：</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>PATH_TO_YOUR_HTML<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>但除了套娃的效果，其余什么也没看到。。。</p><p><strong>方案四</strong>：使用JavaScript动态引入CSS</p><p>在根目录下，进入js文件夹，新建include_css.js文件，写入如下代码：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ready</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> url <span class="token operator">=</span> <span class="token string">&#39;/css/my/test.css&#39;</span><span class="token punctuation">;</span>
	<span class="token keyword">var</span> doc <span class="token operator">=</span> document<span class="token punctuation">;</span>
	<span class="token keyword">var</span> link <span class="token operator">=</span> doc<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;link&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	link<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;rel&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;stylesheet&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	link<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;type&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;text/css&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	link<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;href&quot;</span><span class="token punctuation">,</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">var</span> heads <span class="token operator">=</span> doc<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;head&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>heads<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		heads<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>link<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
		doc<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>link<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后在md文件中添加</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span> src<span class="token operator">=</span><span class="token string">&quot;/js/jquery-3.6.0.min.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span> src<span class="token operator">=</span><span class="token string">&quot;/js/include_css.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>然后剩余部分和方案一的代码相同。</p><p>这一方法其实相当于Hexo注入，但依旧无效。</p><p>经过无数次尝试，我也在实践中发现，问题的根源在于这个CSS文件上，当我只引入js脚本时，页面倒也能渲染，但是所有的方框不能被渲染，就只剩下一群虫子般扭曲的线条了。。。而当我成功引入CSS文件时，该渲染区域就直接消失，什么也见不到。综上所述，最大的问题来自于CSS文件，而这直接在HTML文件中渲染一切正常，但我是使用了Hexo编译，由于其中的一些机制，本地代码和网页中的代码不一样，才会出现异常，但到底哪里有问题，我就不知道了。。。</p>`,21),T={href:"https://echarts.apache.org/examples/zh/index.html#chart-type-line",target:"_blank",rel:"noopener noreferrer"},I=n("p",null,"这个echarts给我带来了惊喜，非常意外！于是我立马研究如何使用了。",-1),A=n("p",null,[s("首先要说的是，如果你只是希望画简单的一些图，安装插件hexo-tag-echarts3就可以正常使用了，在md文件中用"),n("code",null,"{% echarts 400 '81%' %}"),s("和"),n("code",null,"{% endecharts %}"),s("括上你的代码就可以了。")],-1),L=n("p",null,"然而我需要绘制一些比较复杂的，或者比较美观一些的，就不能用这个东西了。",-1),J={href:"https://blog.csdn.net/qq_41426117/article/details/105416911",target:"_blank",rel:"noopener noreferrer"},F=o(`<p>我们只需要在根目录下的source文件夹中新建一个json文件夹，这就用来存放dataset文件「json文件」。</p><p>然后在md文件中写如下代码：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;chart-print&quot;</span> style<span class="token operator">=</span><span class="token string">&quot;width:100%;height:800px;&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;https://cdn.jsdelivr.net/npm/echarts@4.8.0/dist/echarts.min.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;https://cdn.jsdelivr.net/npm/echarts-gl@1.1.1/dist/echarts-gl.min.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;https://code.jquery.com/jquery-3.6.0.min.js&quot;</span> integrity<span class="token operator">=</span><span class="token string">&quot;sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=&quot;</span> crossorigin<span class="token operator">=</span><span class="token string">&quot;anonymous&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">var</span> chartDom <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;chart-print&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> myChart <span class="token operator">=</span> echarts<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>chartDom<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> option<span class="token punctuation">;</span>
myChart<span class="token punctuation">.</span><span class="token function">showLoading</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
$<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/json/&#39;</span> <span class="token operator">+</span> <span class="token string">&#39;data.json&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    myChart<span class="token punctuation">.</span><span class="token function">hideLoading</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    myChart<span class="token punctuation">.</span><span class="token function">setOption</span><span class="token punctuation">(</span>option <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">tooltip</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">trigger</span><span class="token operator">:</span> <span class="token string">&#39;item&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">triggerOn</span><span class="token operator">:</span> <span class="token string">&#39;mousemove&#39;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">series</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;tree&#39;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">[</span>data<span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token string">&#39;18%&#39;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">bottom</span><span class="token operator">:</span> <span class="token string">&#39;14%&#39;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">layout</span><span class="token operator">:</span> <span class="token string">&#39;radial&#39;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">symbol</span><span class="token operator">:</span> <span class="token string">&#39;emptyCircle&#39;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">symbolSize</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
                <span class="token literal-property property">initialTreeDepth</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
                <span class="token literal-property property">animationDurationUpdate</span><span class="token operator">:</span> <span class="token number">750</span><span class="token punctuation">,</span>
                <span class="token literal-property property">emphasis</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token literal-property property">focus</span><span class="token operator">:</span> <span class="token string">&#39;descendant&#39;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,3),D={href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Document/getElementById",target:"_blank",rel:"noopener noreferrer"},N=n("code",null,'<div id="chart-print" style="width:100%;height:800px;"></div>',-1),W=n("p",null,[s("后来上传到GitHub Page时发现有个地方不稳定，有时候页面会显示不出来图表，调试一下发现是路径这里加载异常，本地代码写的都是对的，但加载异常。后来发现代码第10行的路径需要修改成"),n("code",null,"‘路径’+‘文件名’"),s("的形式才能稳定。")],-1),O=n("h2",{id:"插曲",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#插曲","aria-hidden":"true"},"#"),s(" 插曲")],-1),P=n("p",null,"随着使用时间的加长，我发现这个主题……什么？没有友链‽我直接……(?。?)？",-1),G=n("figure",null,[n("img",{src:k,alt:"",tabindex:"0",loading:"lazy"}),n("figcaption")],-1),U=n("figure",null,[n("img",{src:d,alt:"",tabindex:"0",loading:"lazy"}),n("figcaption")],-1),V=n("p",null,"这个Issue都开了5天多了，还是没人回，我现在甚至都认为这没人维护了，于是我便开始自己动手添加吧……没想到啊，最后求人还是不如求己……于是根据我丰富的踩坑经验，我开始着手造轮子……",-1),X=n("code",null,"hexo new page links",-1),Y={href:"http://xn--index-fg1hyj4ip0ex6j6thui4pp80tdxybkg8f.md",target:"_blank",rel:"noopener noreferrer"},$=o(`<li><p>编辑index.md的Front-matter，修改为如下形式并保存：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>---
title: 友链
type: &quot;links&quot;
layout: &quot;links&quot;
---
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li>`,1),Q=n("code",null,"link: /links/ || 友链",-1),R=n("code",null,"links.ejs",-1),Z=o(`<div class="language-ejs line-numbers-mode" data-ext="ejs"><pre class="language-ejs"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>linkpage<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript">
page<span class="token punctuation">.</span>layout <span class="token operator">=</span> <span class="token string">&quot;links&quot;</span>
page<span class="token punctuation">.</span>title <span class="token operator">=</span> theme<span class="token punctuation">.</span>links<span class="token punctuation">.</span>title <span class="token operator">||</span> <span class="token function">__</span><span class="token punctuation">(</span><span class="token string">&#39;links.title&#39;</span><span class="token punctuation">)</span>
page<span class="token punctuation">.</span>subtitle <span class="token operator">=</span> theme<span class="token punctuation">.</span>links<span class="token punctuation">.</span>subtitle <span class="token operator">||</span> <span class="token function">__</span><span class="token punctuation">(</span><span class="token string">&#39;links.subtitle&#39;</span><span class="token punctuation">)</span>
page<span class="token punctuation">.</span>image <span class="token operator">=</span> theme<span class="token punctuation">.</span>links<span class="token punctuation">.</span>image <span class="token operator">||</span> <span class="token function">__</span><span class="token punctuation">(</span><span class="token string">&#39;/images/theme/post-image.jpg&#39;</span><span class="token punctuation">)</span>
</span><span class="token delimiter punctuation">%&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>linkpagemain<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>article-wrap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>row container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>col-xl-3<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>col-xl-6<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>article</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>article<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                                <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">&#39;_partial/post/head&#39;</span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%&gt;</span></span>
                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>main<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>extra<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>row links<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                                                <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">const</span> each <span class="token keyword">of</span> theme<span class="token punctuation">.</span>links<span class="token punctuation">.</span>items <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> </span><span class="token delimiter punctuation">%&gt;</span></span>
                                                    <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>each<span class="token punctuation">.</span>title <span class="token operator">||</span> <span class="token operator">!</span>each<span class="token punctuation">.</span>link<span class="token punctuation">)</span> <span class="token keyword">continue</span> </span><span class="token delimiter punctuation">%&gt;</span></span>
                                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>card col-lg-4 col-md-6 col-sm-12<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%=</span><span class="token language-javascript"> <span class="token function">url_for</span><span class="token punctuation">(</span>each<span class="token punctuation">.</span>link<span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%&gt;</span></span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>card-body hover-with-bg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>_blank<span class="token punctuation">&quot;</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>noopener<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                                                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>card-content<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                                                                    <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token keyword">if</span> <span class="token punctuation">(</span>each<span class="token punctuation">.</span>avatar <span class="token operator">||</span> each<span class="token punctuation">.</span>image<span class="token punctuation">)</span> <span class="token punctuation">{</span> </span><span class="token delimiter punctuation">%&gt;</span></span>
                                                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>link-avatar my-auto<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                                                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%=</span><span class="token language-javascript"> each<span class="token punctuation">.</span>avatar <span class="token operator">||</span> each<span class="token punctuation">.</span>image </span><span class="token delimiter punctuation">%&gt;</span></span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%=</span><span class="token language-javascript"> each<span class="token punctuation">.</span>title </span><span class="token delimiter punctuation">%&gt;</span></span><span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">onerror</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value javascript language-javascript"><span class="token keyword">this</span><span class="token punctuation">.</span>onerror<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>src<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>srcset<span class="token operator">=</span><span class="token string">&#39;<span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%=</span><span class="token language-javascript"> theme<span class="token punctuation">.</span>links<span class="token punctuation">.</span>onerror_avatar </span><span class="token delimiter punctuation">%&gt;</span></span>&#39;</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token punctuation">/&gt;</span></span>
                                                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                                                                        <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token punctuation">}</span> </span><span class="token delimiter punctuation">%&gt;</span></span>
                                                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>link-text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                                                                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>link-title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                                                                                    <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> each<span class="token punctuation">.</span>title </span><span class="token delimiter punctuation">%&gt;</span></span>
                                                                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                                                                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>link-intro<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                                                                                    <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> each<span class="token punctuation">.</span>intro <span class="token operator">||</span> <span class="token string">&#39;&#39;</span> </span><span class="token delimiter punctuation">%&gt;</span></span>
                                                                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                                                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                                                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
                                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                                                        <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token punctuation">}</span> </span><span class="token delimiter punctuation">%&gt;</span></span>
                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                                            <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token keyword">if</span><span class="token punctuation">(</span>theme<span class="token punctuation">.</span>links<span class="token punctuation">.</span>custom<span class="token punctuation">.</span>enable <span class="token operator">&amp;&amp;</span> theme<span class="token punctuation">.</span>links<span class="token punctuation">.</span>custom<span class="token punctuation">.</span>content<span class="token punctuation">)</span> <span class="token punctuation">{</span> </span><span class="token delimiter punctuation">%&gt;</span></span>
                                                <span class="token comment">&lt;!-- Custom --&gt;</span>
                                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>custom mx-auto<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                                                    <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> theme<span class="token punctuation">.</span>links<span class="token punctuation">.</span>custom<span class="token punctuation">.</span>content </span><span class="token delimiter punctuation">%&gt;</span></span>
                                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                                                <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token punctuation">}</span> </span><span class="token delimiter punctuation">%&gt;</span></span>
                                                    <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token keyword">if</span> <span class="token punctuation">(</span>theme<span class="token punctuation">.</span>donate<span class="token punctuation">.</span>enable <span class="token operator">&amp;&amp;</span> page<span class="token punctuation">.</span>donate <span class="token operator">!==</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> </span><span class="token delimiter punctuation">%&gt;</span></span>
                                                        <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">&#39;_partial/post/donate&#39;</span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%&gt;</span></span>
                                                            <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token punctuation">}</span> </span><span class="token delimiter punctuation">%&gt;</span></span>
                                                                <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">&#39;_partial/post/tag&#39;</span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%&gt;</span></span>
                                                                    <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">&#39;_partial/post/nav&#39;</span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%&gt;</span></span>
                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">&gt;</span></span>
                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>article</span><span class="token punctuation">&gt;</span></span>
                        <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token keyword">if</span> <span class="token punctuation">(</span>theme<span class="token punctuation">.</span>comments<span class="token punctuation">.</span>enable<span class="token punctuation">)</span> <span class="token punctuation">{</span> </span><span class="token delimiter punctuation">%&gt;</span></span>
                            <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">&#39;_partial/post/comments&#39;</span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%&gt;</span></span>
                                <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token punctuation">}</span> </span><span class="token delimiter punctuation">%&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>其实这里是有参考之前我在用的fluid主题下的模板的，我拿过来做好移植的处理了。</p>`,2),K=o(`<li><p>最后就可以回到刚才的<code>_config.zhaoo.yml</code>文件中添加如下的配置信息了：</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">links</span><span class="token punctuation">:</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">image</span><span class="token punctuation">:</span> 
  <span class="token key atrule">title</span><span class="token punctuation">:</span> 友情链接
  <span class="token key atrule">subtitle</span><span class="token punctuation">:</span> 
  <span class="token comment"># 友链的成员项</span>
  <span class="token comment"># Member item of page</span>
  <span class="token key atrule">items</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token punctuation">{</span>
      <span class="token key atrule">title</span><span class="token punctuation">:</span> 
      <span class="token key atrule">intro</span><span class="token punctuation">:</span> 
      <span class="token key atrule">link</span><span class="token punctuation">:</span> 
      <span class="token key atrule">avatar</span><span class="token punctuation">:</span> 
    <span class="token punctuation">}</span>
  <span class="token comment"># 当成员头像加载失败时，替换为指定图片</span>
  <span class="token comment"># When the member avatar fails to load, replace the specified image</span>
  <span class="token key atrule">onerror_avatar</span><span class="token punctuation">:</span> /images/avatar.png

  <span class="token comment"># 友链下方自定义区域，支持 HTML，可插入例如申请友链的文字</span>
  <span class="token comment"># Custom content at the bottom of the links</span>
  <span class="token key atrule">custom</span><span class="token punctuation">:</span>
    <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">content</span><span class="token punctuation">:</span> <span class="token string">&#39;&lt;hr&gt;&lt;p&gt;通过联系我申请加入我的友链，按如下格式提供信息：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;博客名：&lt;/li&gt;&lt;li&gt;简介：&lt;/li&gt;&lt;li&gt;链接：&lt;/li&gt;&lt;li&gt;图片：&lt;/li&gt;&lt;/ul&gt;&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>添加友链的操作到此结束，请放心食用。</strong></p></li>`,1),nn=n("hr",null,null,-1),sn=n("p",null,"然后接下来，我就发现一个问题，当我配置好亮色模式下的主题时，一旦我点了切换亮暗模式的按钮，就会发现，亮色模式下的图片没发生变动，于是在整个暗色主题当中，亮色图片显得分外扎眼……我真挺想吐槽这一点的，既然您开发出这个主题，开设这个功能的时候，能想到要换页面的配色方案，那您为啥没想到要换背景的事呢？？？于是我开始着手处理这件非常棘手的事「开头已经声明，我没有任何前端基础。」。",-1),an=n("p",null,"我花了大量精力以及大量时间去研究、学习与理解，最终发现，这个主题的外观配置居然直接拿CSS定义就载入的，这意味着什么？你在页面下是无法通过代码直接访问到这个属性的，页面下一切有关定义都是undefined，但现在我希望它能改动，那我就有两种方式，一是使用JS直接动态修改CSS，但这方法迄今为止我依旧没能找到。另一个方案是使用JS动态载入CSS文件，用新的CSS文件写覆盖原来的样式，我自然是采取后者的做法。",-1),tn=n("code",null,"lightbg.css",-1),pn=n("code",null,"darkbg.css",-1),on=o(`<div class="language-css line-numbers-mode" data-ext="css"><pre class="language-css"><code><span class="token atrule"><span class="token rule">@charset</span> <span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">;</span></span>
<span class="token selector">body</span> <span class="token punctuation">{</span>
    <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">&quot;.../×××.jpg&quot;</span><span class="token punctuation">)</span></span><span class="token punctuation">;</span> //这要指定你的图片路径，包括但不限于jpg图片格式。
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1),en=n("code",null,"color-mode.js",-1),cn=n("code",null,"color-mode.js",-1),ln=o(`<div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>    window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> head <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&#39;head&#39;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> link <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;link&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        link<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string">&quot;bgimg&quot;</span><span class="token punctuation">;</span>
        link<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">&quot;text/css&quot;</span><span class="token punctuation">;</span>
        link<span class="token punctuation">.</span>rel <span class="token operator">=</span> <span class="token string">&quot;stylesheet&quot;</span><span class="token punctuation">;</span>
        link<span class="token punctuation">.</span>href <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;color-toggle&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&#39;color-toggle&#39;</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;light&quot;</span> <span class="token operator">?</span> <span class="token string">&quot;/css/lightbg.css&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;/css/darkbg.css&quot;</span><span class="token punctuation">;</span>
        head<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>link<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后找到switchColorMode这个函数变量，在其中添加代码，最后这里的样子应该如此：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>    <span class="token keyword">var</span> <span class="token function-variable function">switchColorMode</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>toggleElement<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
        toggleElement<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">var</span> mode <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span>toggleAttribute<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&#39;light&#39;</span> <span class="token operator">?</span> <span class="token string">&#39;dark&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;light&#39;</span><span class="token punctuation">;</span>
            <span class="token function">setColorMode</span><span class="token punctuation">(</span>mode<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">setIcon</span><span class="token punctuation">(</span>mode<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">setHighlightStyle</span><span class="token punctuation">(</span>mode<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//以下是新加的代码：</span>
            document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;bgimg&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&#39;href&#39;</span><span class="token punctuation">,</span> mode <span class="token operator">===</span> <span class="token string">&#39;light&#39;</span> <span class="token operator">?</span> <span class="token string">&quot;/css/lightbg.css&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;/css/darkbg.css&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使用window.onload方法的原因在于：如果不使用这个方法，而是直接写的话，当你进入其中某一文章后又退回主页时，你会发现这背景竟然变回去了，检查一下，你会发现连自己创建出来的标签都消失了，但经过我长时间的排查考证，其实这个脚本就是只加载一次，在最开始加载页面的时候加载的，进入其他界面时这个脚本一直都在，因此退回主页之后脚本并不会直接重新执行那一段代码，根据以往我的C#经验，我给出的解决方案就是将这段代码定义为页面加载时触发的事件即可解决。</p><hr><p>由于本人喜欢水墨风，亮色主题下设置出水墨风的搭配后，发现进入文章就会感觉文章版块所在位置遮挡了较大一部分，有些影响美观，由发现我手里还有一个水墨图片适合这个界面，但放在主页面就感觉不太好看，于是我决定想个办法让它在两个视图中加载不同的背景。然而折腾到最后，还是做做写覆盖的操作了。</p>`,6),un=n("code",null,"post_bg_img.js",-1),rn=o(`<div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>onload <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">var</span> f1 <span class="token operator">=</span> window<span class="token punctuation">.</span>onload<span class="token punctuation">;</span> <span class="token punctuation">}</span>
window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&#39;article&#39;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> head <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&#39;head&#39;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> style <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;style&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        style<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string">&quot;postbgimg&quot;</span><span class="token punctuation">;</span>
        style<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">&quot;text/css&quot;</span>
        style<span class="token punctuation">.</span>rel <span class="token operator">=</span> <span class="token string">&quot;stylesheet&quot;</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> code <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;color-toggle&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&#39;color-toggle&#39;</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;light&quot;</span> <span class="token operator">?</span> <span class="token string">&quot;@charset \\&quot;utf-8\\&quot;;body { background-image: url(\\&quot;/images/Wallpapers/shanshui_guohua-004.jpg\\&quot;) !important; }&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;@charset \\&quot;utf-8\\&quot;;body { background-image: url(\\&quot;/images/Wallpapers/galaxy_apple_technology_hd_macbook.jpg\\&quot;) !important; }&quot;</span><span class="token punctuation">;</span> 
        style<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> code<span class="token punctuation">;</span>
        head<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>style<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>f1 <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>而刚才编辑过的<code>color-mode.js</code>也需要修改一下，将上面的代码改成如下形式：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>onload <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">var</span> f2 <span class="token operator">=</span> window<span class="token punctuation">.</span>onload<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> head <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&#39;head&#39;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> link <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;link&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        link<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string">&quot;bgimg&quot;</span><span class="token punctuation">;</span>
        link<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">&quot;text/css&quot;</span><span class="token punctuation">;</span>
        link<span class="token punctuation">.</span>rel <span class="token operator">=</span> <span class="token string">&quot;stylesheet&quot;</span><span class="token punctuation">;</span>
        link<span class="token punctuation">.</span>href <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;color-toggle&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&#39;color-toggle&#39;</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;light&quot;</span> <span class="token operator">?</span> <span class="token string">&quot;/css/lightbg.css&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;/css/darkbg.css&quot;</span><span class="token punctuation">;</span>
        head<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>link<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>f2 <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">f2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>后面的switchColorMode函数变量也要再添加新的东西：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>    <span class="token keyword">var</span> <span class="token function-variable function">switchColorMode</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>toggleElement<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
        toggleElement<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">var</span> mode <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span>toggleAttribute<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&#39;light&#39;</span> <span class="token operator">?</span> <span class="token string">&#39;dark&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;light&#39;</span><span class="token punctuation">;</span>
            <span class="token function">setColorMode</span><span class="token punctuation">(</span>mode<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">setIcon</span><span class="token punctuation">(</span>mode<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">setHighlightStyle</span><span class="token punctuation">(</span>mode<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//以下是相对最开始时所添加的代码：</span>
            document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;bgimg&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&#39;href&#39;</span><span class="token punctuation">,</span> mode <span class="token operator">===</span> <span class="token string">&#39;light&#39;</span> <span class="token operator">?</span> <span class="token string">&quot;/css/lightbg.css&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;/css/darkbg.css&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">var</span> stylelabel <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;postbgimg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">var</span> code <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;color-toggle&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&#39;color-toggle&#39;</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;light&quot;</span> <span class="token operator">?</span> <span class="token string">&quot;@charset \\&quot;utf-8\\&quot;;body { background-image: url(\\&quot;/images/Wallpapers/shanshui_guohua-004.jpg\\&quot;) !important; }&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;@charset \\&quot;utf-8\\&quot;;body { background-image: url(\\&quot;/images/Wallpapers/galaxy_apple_technology_hd_macbook.jpg\\&quot;) !important; }&quot;</span><span class="token punctuation">;</span>
            stylelabel<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> code<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可能你在奇怪为啥会出现这个形式：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>onload <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">var</span> f1 <span class="token operator">=</span> window<span class="token punctuation">.</span>onload<span class="token punctuation">;</span> <span class="token punctuation">}</span>
window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span><span class="token operator">...</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>f1 <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这是因为，在多个文件中定义window.onload方法后，而在执行时实际上只会执行最后加入的一种定义，前面添加的一概作废，因此为了能让这些定义都同时采用，就写成了以上的形式。</p><p>最终，我是终于完成了博客的小改动，现在感觉更加舒服了……</p><h2 id="结果" tabindex="-1"><a class="header-anchor" href="#结果" aria-hidden="true">#</a> 结果～</h2>`,10),kn={href:"https://breezeshane.github.io/",target:"_blank",rel:"noopener noreferrer"},dn=n("p",null,"🥺🥺🥺如果可以的话，能给个star吗？🥺🥺🥺",-1),gn=n("h2",{id:"睿智-作者的话「不重要」",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#睿智-作者的话「不重要」","aria-hidden":"true"},"#"),s(" “睿智”作者的话「不重要」")],-1),vn=n("p",null,"搭建博客这一过程非常艰辛，尤其对于我这种没学习过前端的人来说更是如此，虽然我用Hexo搭的博客，感觉上好像可能会是有手就行，别人都给你写好了，但至少我遇到的这位主虽然写了很不错、有意思的主题，但对于我来说缺了一些东西。通过这次改动，我也学到了不少前端知识，收获还真的不小！",-1);function mn(bn,hn){const t=l("ExternalLinkIcon"),e=l("font"),c=l("center");return u(),r("div",null,[v,n("blockquote",null,[m,n("p",null,[s("强烈建议先看看"),n("a",b,[s("配置文档"),a(t)]),s("！！！看完配置文档再食用本篇效果最佳！")]),n("p",null,[n("a",h,[s("hexo引入自定义css文件"),a(t)])]),n("p",null,[n("a",q,[s("如何在hexo主题里用echarts写思维导图"),a(t)])]),n("p",null,[n("a",y,[s("hexo-tag-echarts插件"),a(t)])]),n("p",null,[n("a",f,[s("5 分钟上手 ECharts"),a(t)])]),n("p",null,[n("a",_,[s("document.getElementById"),a(t)])]),n("p",null,[n("a",j,[s("echarts dataset"),a(t)])])]),w,a(c,null,{default:p(()=>[a(e,{color:"#00FFFF",size:"6"},{default:p(()=>[x]),_:1})]),_:1}),a(c,null,{default:p(()=>[s("本篇文章所描述的根目录都是指博客文件夹下的目录，一概标记为`/`。")]),_:1}),E,n("p",null,[s("原来一直在使用Fluid主题，虽然使用过程没出什么问题，但是主页没有侧边栏就真的一直很介意，查过不知多少文档依旧无从下手解决添加侧边栏问题。又由于某种契机，我看到GitHub上的"),n("a",S,[s("Hexo-theme-zhaoo"),a(t)]),s("，便心动不已，二话不说就git clone过来了，然后在“有空”的时候修改一下主题。。。")]),C,n("p",null,[s("然后我转去搜索取代的方案，终于我找到JsMind的方案，看了JsMind文档，正觉得这个还不错，渲染挺好看的，就想着拿来用，我重点参考了"),n("a",z,[s("JsMind文档"),a(t)]),s("，然后照做一番，结果发现渲染失败。。。而且typora对代码处理的真不怎么好，要注意一下的是不要空四个格，因为这样会被解析为代码块，不能执行的那种。。。")]),B,M,H,a(c,null,{default:p(()=>[n("strong",null,[a(e,{color:"#00FFFF",size:"6"},{default:p(()=>[s("那么问题来了，就没有可行方案了吗？")]),_:1})])]),_:1}),n("p",null,[s("终于就在今天「2021-5-29」，我找到了"),n("a",T,[s("echarts"),a(t)]),s("，看到这个就仿佛看到了胜利的曙光。")]),I,A,L,n("p",null,[s("我们不需要像"),n("a",J,[s("如何在hexo主题里用echarts写思维导图"),a(t)]),s("这位博主说的那样下载什么echarts.min.js和jquery.js「当然你也可以直接下载」，我们用CDN来处理就好了。")]),F,n("p",null,[s("其实这段已经改好的代码中间还遇到了小挫折，就是在调试的时候发现页面消失，我就觉得很奇怪，将这段代码移植到HTML文件中再看一切正常，这就更奇怪了，又考虑到在这篇博客中有很多地方可能名称就是main，于是我把第6行代码随便改了个名称，就发现页面正常了，但是图形没渲染出来，我去排查一下发现，是charDom变量为空，然后我就去查看代码，并不能解决什么问题，又查了这个文档——"),n("a",D,[s("document.getElementById"),a(t)]),s("就了解到，原来document.getElementById()这个方法是用来查找特定元素的ID的，于是我再去查看代码，发现那个ID就是"),N,s("中的id，再把名称改一下，页面渲染成功，一切大功告成！")]),W,O,P,G,U,V,n("ul",null,[n("li",null,[n("p",null,[s("首先在终端输入"),X,s("来创建友链页，进入"),n("strong",null,[a(e,{color:"#70f3ff"},{default:p(()=>[s("博客目录文件夹")]),_:1})]),s("下的source文件夹，你会发现多了一个links的文件夹，"),n("a",Y,[s("进入之后会发现只有一个index.md"),a(t)]),s("，这就是我们要改的东西了。")])]),$,n("li",null,[n("p",null,[s("然后你需要在_config.zhaoo.yml文件中的menu下添加："),Q,s("，接着就需要修改主题模板了。是的，这就涉及到主题文件的直接修改了。因为你通过观察"),n("strong",null,[a(e,{color:"#ff3300"},{default:p(()=>[s("主题目录文件夹")]),_:1})]),s("下的layouts文件夹就可以发现，每一个ejs文件「嵌入式JavaScript模板引擎文件」的文件名其实都是有同名文件夹与之对应着的。")])]),n("li",null,[n("p",null,[s("我们在"),n("strong",null,[a(e,{color:"#ff3300"},{default:p(()=>[s("主题目录文件夹")]),_:1})]),s("下layouts文件夹中新建一个文件，名为"),R,s("，由于我们预期的界面应该是与文章视图相同的，所以我为了省力，继续在这个目录下寻找有关post、article的模板文件了，最后东拼西凑，总算可以凑出来了。")]),Z]),K]),nn,sn,an,n("p",null,[s("首先要在"),n("strong",null,[a(e,{color:"#70f3ff"},{default:p(()=>[s("博客目录文件夹")]),_:1})]),s("下的source文件夹中创建css文件夹「为了以后方便快速管理css文件」，并在里面新建"),tn,s("和"),pn,s("两个文件，并都使用如下的代码模板：")]),on,n("p",null,[s("然后重点来了，我们要开始修改"),en,s("文件了，因为我们希望在点击切换按钮的时候能触发切换壁纸的事件。打开在"),n("strong",null,[a(e,{color:"#ff3300"},{default:p(()=>[s("主题目录文件夹")]),_:1})]),s("下的source文件夹中的js文件夹，找到并编辑"),cn,s("，在定义变量的区域后插入如下代码：")]),ln,n("p",null,[s("在"),n("strong",null,[a(e,{color:"#70f3ff"},{default:p(()=>[s("博客目录文件夹")]),_:1})]),s("下的source文件夹中创建js文件夹「同样也是便于日后直接快速管理我的js文件」，并在其中新建"),un,s("，写入如下代码：")]),rn,n("p",null,[s("来看看我的博客？-->"),n("a",kn,[s("·"),a(t)])]),dn,gn,vn])}const yn=i(g,[["render",mn],["__file","ChangeBlogTheme.html.vue"]]);export{yn as default};
