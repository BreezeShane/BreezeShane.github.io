(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{815:function(s,t,e){"use strict";e.r(t);var n=e(1),a=Object(n.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h2",{attrs:{id:"前言"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[s._v("#")]),s._v(" 前言")]),s._v(" "),e("p",[s._v("这几次使用Linux系统的经历让我明白了一件事：用这用那别人帮你配好的系统，基本上都是刚用的时候好好的，到后面就直接G掉了，还远不如从一开始就自己配置自己搞起来。")]),s._v(" "),e("p",[s._v("所以现在我正式进军Arch Linux了！")]),s._v(" "),e("p",[s._v("因为绝大多数操作，在"),e("a",{attrs:{href:"https://breezeshane.github.io/Linux/Manjaro%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Manjaro"),e("OutboundLink")],1),s._v("、"),e("a",{attrs:{href:"https://breezeshane.github.io/Linux/ArcolinuxAndAwesomeWM/",target:"_blank",rel:"noopener noreferrer"}},[s._v("ArcoLinux"),e("OutboundLink")],1),s._v("这两个系统上其实大同小异，所以这篇就略去许多细节了，发现有什么缺的去前面的记录找找罢。")]),s._v(" "),e("p",[s._v("安装系统（按照"),e("a",{attrs:{href:"https://wiki.archlinux.org/title/Installation_guide_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)",target:"_blank",rel:"noopener noreferrer"}},[s._v("Wiki"),e("OutboundLink")],1),s._v("的安装就好，这里不再赘述），之后直接安装Awesome桌面环境和SDDM即可。")]),s._v(" "),e("p",[s._v("刚开始的Awesome相当精简，这时候可以开始进行配置了。")]),s._v(" "),e("h2",{attrs:{id:"修改默认应用程序"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#修改默认应用程序"}},[s._v("#")]),s._v(" 修改默认应用程序")]),s._v(" "),e("blockquote",[e("p",[s._v("参考资料：\n"),e("a",{attrs:{href:"https://blog.csdn.net/iteye_6393/article/details/82231282",target:"_blank",rel:"noopener noreferrer"}},[s._v("ArchLinux如何设值文件的默认打开程序"),e("OutboundLink")],1)])]),s._v(" "),e("p",[s._v("随着使用时间增长，有些文件可以由许多应用打开，这难免会发生冲突，尤其在习惯以某个应用打开之后在近期装了新软件把默认配置覆盖掉的时候，就会直接高血压。但还好有办法解决这个问题。")]),s._v(" "),e("p",[s._v("首先要知道系统依靠什么来设定文件到应用的映射：通过"),e("code",[s._v("/usr/share/applications")]),s._v("下的"),e("code",[s._v("desktop")]),s._v("文件来设定关联。可以通过"),e("code",[s._v("ls /usr/share/applications")]),s._v("来查看当前可以设定的关联。")]),s._v(" "),e("p",[s._v("因此修改的流程应该是：")]),s._v(" "),e("ol",[e("li",[s._v("先通过"),e("code",[s._v("ls /usr/share/applications")]),s._v("找到要找的关联desktop文件")]),s._v(" "),e("li",[s._v("执行命令"),e("code",[s._v("xdg-mime query filetype <你要查看文件的文件名>")]),s._v("，比如当前目录有"),e("code",[s._v("file.md")]),s._v("，我就可以执行"),e("code",[s._v("xdg-mime query filetype file.md")]),s._v("，这样就可以查询这个文件类型当前设置的默认应用程序是什么")]),s._v(" "),e("li",[s._v("（可以不做）也可以执行命令"),e("code",[s._v("xdg-mime query default application/<文件后缀>")]),s._v("来查看这个文件类型当前设置的默认应用程序。")]),s._v(" "),e("li",[s._v("执行命令"),e("code",[s._v("xdg-mime default <第一步你选择的结果> application/<文件后缀>")]),s._v("来设定应用与文件类型的关联。")])]),s._v(" "),e("p",[s._v("修改是立即生效的，因此不用重启计算机。")]),s._v(" "),e("h2",{attrs:{id:"调节屏幕亮度问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#调节屏幕亮度问题"}},[s._v("#")]),s._v(" 调节屏幕亮度问题")]),s._v(" "),e("blockquote",[e("p",[s._v("参考资料：")]),s._v(" "),e("ol",[e("li",[e("a",{attrs:{href:"https://blog.51cto.com/u_15065851/4581547",target:"_blank",rel:"noopener noreferrer"}},[s._v("键盘键码对照 - 51CTO"),e("OutboundLink")],1)]),s._v(" "),e("li",[e("a",{attrs:{href:"https://wiki.archlinux.org/title/Keyboard_input#Identifying_scancodes",target:"_blank",rel:"noopener noreferrer"}},[s._v("Keyboard input - Archlinux Wiki"),e("OutboundLink")],1)]),s._v(" "),e("li",[e("a",{attrs:{href:"https://www.bilibili.com/read/cv5156572",target:"_blank",rel:"noopener noreferrer"}},[s._v("Linux通用键位修改（中）-实际操作"),e("OutboundLink")],1)]),s._v(" "),e("li",[e("a",{attrs:{href:"https://discourse.coreelec.org/t/what-to-name-the-hwdb-file/8341",target:"_blank",rel:"noopener noreferrer"}},[s._v("what to name the hwdb file - CoreELEC"),e("OutboundLink")],1)])])]),s._v(" "),e("p",[s._v("我的笔记本内嵌键盘上有一些功能键不能正常响应，本节以屏幕亮度调节功能键为例，当我通过journalctl查询发现是系统不认识这两个键是什么，于是我根据所学想：键盘在按下按键的时候会产生扫描码(Scan Code)，然后发送给系统内核根据映射表得到按键码(Key Code)，最后做相应的响应。系统既然是不认识，那就说明是中间的映射有些问题，少了这两个功能键的映射。于是解决这个问题的第一步就是要先创建起来这个映射。")]),s._v(" "),e("p",[s._v("首先需要知道这两个按键的扫描码是多少，所以需要先使用root权限运行"),e("code",[s._v("showkey -s")]),s._v("来看：")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("Arknights% "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" showkey -s\nkb mode was ?UNKNOWN?\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" you are trying this under X, it might not work\nsince the X server is also reading /dev/console "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\npress any key "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("program terminates 10s after last keypress"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n0x9c\n0xe0 0x4c 0xe0 0xcc\n0xe0 0x54 0xe0 0xd4\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br")])]),e("p",[s._v("要知道，这里输出的十六进制码是一个事件对应两段的，因此按下按键是"),e("code",[s._v("0xe0 0x4c")]),s._v("和"),e("code",[s._v("0xe0 0x54")]),s._v("，松开按键是"),e("code",[s._v("0xe0 0xcc")]),s._v("和"),e("code",[s._v("0xe0 0xd4")]),s._v("，我们只需要关心按下按键这里。")]),s._v(" "),e("p",[s._v("虽然我参照了"),e("a",{attrs:{href:"https://www.bilibili.com/read/cv5156572",target:"_blank",rel:"noopener noreferrer"}},[s._v("Linux通用键位修改（中）-实际操作"),e("OutboundLink")],1),s._v("这个教程，但是我发现不能完全按照他的步骤来执行，但是依旧可以参考他的思路：找出按键的扫描码，找出按键的键位码，然后自己编写扫描码-键位码的映射文件，再做一次更新。")]),s._v(" "),e("details",{staticClass:"custom-block details"},[e("summary",[s._v("参照失败的部分")]),s._v(" "),e("p",[s._v("搞清楚扫描码之后，我们需要关注设备的event文件，执行"),e("code",[s._v("sudo evtest")]),s._v("来列出系统目前在使用的输入设备，如下是我执行之后的结果：")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("base"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" Arknights% evtest\nNo device specified, trying to scan all of /dev/input/event*\nNot running as root, no devices may be available.\nAvailable devices:\nSelect the device event number "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("-0"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": ^C\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("base"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" Arknights% "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" evtest\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("sudo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" password "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" breezeshane:\nNo device specified, trying to scan all of /dev/input/event*\nAvailable devices:\n/dev/input/event0:\tPower Button\n/dev/input/event1:\tLid Switch\n/dev/input/event10:\tHDA Intel PCH Headphone\n/dev/input/event11:\tPC Speaker\n/dev/input/event12:\tVideo Bus\n/dev/input/event13:\tVideo Bus\n/dev/input/event14:\tHDA Intel PCH HDMI/DP,pcm"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n/dev/input/event15:\tHDA Intel PCH HDMI/DP,pcm"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("\n/dev/input/event16:\tLogitech MX Master "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n/dev/input/event17:\tEDFIER EDIFIER W820NB\n/dev/input/event2:\tPower Button\n/dev/input/event3:\tAT Translated Set "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" keyboard\n/dev/input/event4:\tov9734_azurewave_camera: ov9734\n/dev/input/event5:\tHDA Intel PCH HDMI/DP,pcm"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("\n/dev/input/event6:\tELAN2204:00 04F3:30F5 Mouse\n/dev/input/event7:\tELAN2204:00 04F3:30F5 Touchpad\n/dev/input/event8:\tIQUNIX OG80 BT1\n/dev/input/event9:\tHuawei WMI hotkeys\nSelect the device event number "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("-17"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(":\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br")])]),e("p",[s._v("因为我要修改的是笔记本键盘，所以应该找"),e("code",[s._v("AT Translated Set 2 keyboard")]),s._v("，因此可以直接响应这个"),e("code",[s._v("Select the device event number [0-17]:")]),s._v("的请求，输入3，也可以直接执行命令"),e("code",[s._v("sudo evtest /dev/input/event3")]),s._v("，从此进入了这个键盘的test mode。")]),s._v(" "),e("p",[s._v("接下来会看到这里的输出信息：")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("base"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" Arknights% "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" evtest /dev/input/event3\nInput driver version is "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.0")]),s._v(".1\nInput device ID: bus 0x11 vendor 0x1 product 0x1 version 0xab83\nInput device name: "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"AT Translated Set 2 keyboard"')]),s._v("\nSupported events:\n  Event "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("EV_SYN"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  Event "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("EV_KEY"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    Event code "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("KEY_ESC"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ......")]),s._v("\n  Event "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("EV_MSC"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    Event code "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("MSC_SCAN"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  Event "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("EV_LED"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    Event code "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("LED_NUML"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" state "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    Event code "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("LED_CAPSL"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" state "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    Event code "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("LED_SCROLLL"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" state "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nKey repeat handling:\n  Repeat "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("EV_REP"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    Repeat code "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("REP_DELAY"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      Value    "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("250")]),s._v("\n    Repeat code "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("REP_PERIOD"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      Value     "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("33")]),s._v("\nProperties:\nTesting "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("interrupt to "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nEvent: "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("time")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1673126309.355515")]),s._v(", "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("EV_MSC"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", code "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("MSC_SCAN"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", value f8\nEvent: "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("time")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1673126309.355515")]),s._v(", -------------- SYN_REPORT ------------\nEvent: "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("time")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1673126309.471303")]),s._v(", "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("EV_MSC"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", code "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("MSC_SCAN"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", value f8\nEvent: "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("time")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1673126309.471303")]),s._v(", -------------- SYN_REPORT ------------\nEvent: "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("time")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1673126310.343339")]),s._v(", "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("EV_MSC"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", code "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("MSC_SCAN"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", value f8\nEvent: "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("time")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1673126310.343339")]),s._v(", -------------- SYN_REPORT ------------\nEvent: "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("time")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1673126310.428278")]),s._v(", "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("EV_MSC"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", code "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("MSC_SCAN"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", value f8\nEvent: "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("time")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1673126310.428278")]),s._v(", -------------- SYN_REPORT ------------\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br"),e("span",{staticClass:"line-number"},[s._v("30")]),e("br"),e("span",{staticClass:"line-number"},[s._v("31")]),e("br")])]),e("p",[s._v("这里我们通常关心"),e("code",[s._v("Properties: Testing ... (interrupt to exit)")]),s._v("之后的部分，但是如果有兴趣，可以看这个"),e("a",{attrs:{href:"https://www.kernel.org/doc/Documentation/input/event-codes.txt",target:"_blank",rel:"noopener noreferrer"}},[s._v("文档"),e("OutboundLink")],1),s._v("来了解"),e("code",[s._v("Event types")]),s._v("的具体作用。")]),s._v(" "),e("p",[s._v("但是，我发现，这两个按键其实都被置成同一个值f8了，显然这个不应该是我们要找的，可能教程没有错误而是我的设备并不适合这个情景，但是教程给出的思路依旧是正确的，很有参考价值，考虑到这部分内容对实际我要解决的问题相关度不高，因此将这部分折叠掉了。")])]),s._v(" "),e("p",[s._v("根据Archwiki的对应文档"),e("code",[s._v("Keyboard input")]),s._v("我们可以在"),e("code",[s._v("/usr/include/linux/input-event-codes.h")]),s._v("中找到我们要找的屏幕亮度对应的键位码：")]),s._v(" "),e("div",{staticClass:"language-c line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-c"}},[e("code",[e("span",{pre:!0,attrs:{class:"token macro property"}},[e("span",{pre:!0,attrs:{class:"token directive-hash"}},[s._v("#")]),e("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("define")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token macro-name"}},[s._v("KEY_BRIGHTNESSDOWN")]),s._v("\t"),e("span",{pre:!0,attrs:{class:"token expression"}},[e("span",{pre:!0,attrs:{class:"token number"}},[s._v("224")])])]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token macro property"}},[e("span",{pre:!0,attrs:{class:"token directive-hash"}},[s._v("#")]),e("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("define")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token macro-name"}},[s._v("KEY_BRIGHTNESSUP")]),s._v("\t"),e("span",{pre:!0,attrs:{class:"token expression"}},[e("span",{pre:!0,attrs:{class:"token number"}},[s._v("225")])])]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("接下来就应该去写规则了，需要注意的是，根据"),e("a",{attrs:{href:"https://www.bilibili.com/read/cv5156572",target:"_blank",rel:"noopener noreferrer"}},[s._v("Linux通用键位修改（中）-实际操作"),e("OutboundLink")],1),s._v("这个教程所说，"),e("code",[s._v("/usr/lib/udev/hwdb.d/")]),s._v("这个目录是硬件厂商和操作系统共同维护的硬件数据库，一般不修改这下面的文件；而本机管理员维护的自定义硬件数据库位于"),e("code",[s._v("/etc/udev/hwdb.d/")]),s._v("目录，显然我们做的自定义规则就要写在这里。")]),s._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[s._v("重要")]),s._v(" "),e("p",[e("code",[s._v("/usr/lib/udev/hwdb.d/")]),s._v("目录下规则为默认规则，"),e("code",[s._v("/etc/udev/hwdb.d/")]),s._v("目录下对设备定义的规则如果和默认规则有冲突，会覆盖默认规则。这两个目录下的文件都遵守同一个命名规则"),e("code",[s._v("<num>-<word>.hwdb")]),s._v("，而且这两个目录在加载的时候都会按照数字从小到大的顺序进行加载。")])]),s._v(" "),e("p",[s._v("我们在"),e("code",[s._v("/etc/udev/hwdb.d/")]),s._v("下创建一个新文件"),e("code",[s._v("99-custom-kbd.hwdb")]),s._v("，在里面填写如下内容：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("evdev:atkdb:dim:*\n# KEYBOARD_KEY_4C=brightnessdown\n# KEYBOARD_KEY_54=brightnessup\n KEYBOARD_KEY_4C=224\n KEYBOARD_KEY_54=225\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("p",[s._v("因为这里面遵循写法是按照这个规则写的"),e("code",[s._v("KEYBOARD_KEY_<Scan Code>=<Key Code>")]),s._v("，这就是我们前面要花时间确定扫描码与键位码的原因。"),e("code",[s._v("4C")]),s._v("和"),e("code",[s._v("54")]),s._v("哪里来的？回到前面我们用"),e("code",[s._v("showkey -s")]),s._v("的部分，我们找出的按下的扫描码是"),e("code",[s._v("0xe0 0x4c")]),s._v("和"),e("code",[s._v("0xe0 0x54")]),s._v("，其中"),e("code",[s._v("0xe0")]),s._v("是固定前缀，后面的才是我们真正需要的扫描码。")]),s._v(" "),e("p",[s._v("最后我们再更新一下配置，执行：")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" udevadm hwdb --update "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重新编译二进制的数据库内容")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" udevadm trigger "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 立刻重新触发所有输入设备，让更改立刻生效")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),e("p",[s._v("如果删除其中某个规则，直到重启计算机之前，原有规则都会依然保留在内核中，该规则仍会生效。")])]),s._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[s._v("知识补充")]),s._v(" "),e("p",[s._v("要精准匹配键盘设备，应按照如下规则完整填写：")]),s._v(" "),e("p",[s._v("根据id精确匹配："),e("code",[s._v("evdev:input:b<bus_id>v<vendor_id>p<product_id>v<version_id>")])]),s._v(" "),e("p",[s._v("根据设备名匹配："),e("code",[s._v("evdev:name:<input_device_name>:dmi:bvn*:bvr*:bd*:svn<vendor>:pn*")])]),s._v(" "),e("p",[s._v("其中的"),e("code",[s._v("<bus_id>")]),s._v("、"),e("code",[s._v("<vendor_id>")]),s._v("、"),e("code",[s._v("<product_id>")]),s._v("、"),e("code",[s._v("<vension_id>")]),s._v("需要替换成刚刚记录的设备信息。"),e("code",[s._v("<vendor>")]),s._v("需要另一个软件包"),e("code",[s._v("evemu")]),s._v("提供的工具"),e("code",[s._v("evemu-describe")]),s._v("得到。")]),s._v(" "),e("p",[e("strong",[s._v("填写时应该注意不够4位的数需要在前补0到4位，16进制数的a～f需要小写。")])])]),s._v(" "),e("h2",{attrs:{id:"minecraft"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#minecraft"}},[s._v("#")]),s._v(" Minecraft")]),s._v(" "),e("p",[s._v("我没想到Archlinux系也能直接下载安装Minecraft，但也不意外。下载安装"),e("code",[s._v("hmcl")]),s._v("和"),e("code",[s._v("jre8-openjdk")]),s._v("这两个包即可。")])])}),[],!1,null,null,null);t.default=a.exports}}]);