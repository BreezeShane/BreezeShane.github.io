(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{857:function(t,s,e){"use strict";e.r(s);var a=e(1),r=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("details",{staticClass:"custom-block details"},[e("summary",[t._v("参考")]),t._v(" "),e("ol",[e("li",[e("a",{attrs:{href:"https://www.modb.pro/db/116651",target:"_blank",rel:"noopener noreferrer"}},[t._v("Linux系统安全隐患及加强安全管理的方法"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://cloud.tencent.com/developer/article/1670754",target:"_blank",rel:"noopener noreferrer"}},[t._v("14个Linux系统安全小妙招，总有一招用的上"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://www.linuxquestions.org/questions/linux-newbie-8/what-is-the-systemd-equivalent-of-chkconfig-list-4175547184/",target:"_blank",rel:"noopener noreferrer"}},[t._v("[SOLVED] What is the systemd equivalent of chkconfig --list?"),e("OutboundLink")],1)]),t._v(" "),e("li")])]),t._v(" "),e("h2",{attrs:{id:"有防必先攻-有攻才有防"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#有防必先攻-有攻才有防"}},[t._v("#")]),t._v(" 有防必先攻，有攻才有防")]),t._v(" "),e("p",[t._v("黑客通常会以下列的方式入侵系统：")]),t._v(" "),e("details",{staticClass:"custom-block details"},[e("summary",[t._v("入侵方法")]),t._v(" "),e("ol",[e("li",[t._v("直接窃听取得root密码,或者取得某位特殊User的密码，而该位User可能为root，再获取任意一位User的密码，因为取得一般用户密码通常很容易。")]),t._v(" "),e("li",[t._v("黑客们经常用一些常用字来破解密码。曾经有一位美国黑客表示，只要用“password”这个字，就可以打开全美多数的计算机。其它常用的单词还有：account、ald、alpha、beta、computer、dead、demo、dollar、games、bod、hello、help、intro、kill、love、no、ok、okay、please、sex、secret、superuser、system、test、work、yes等。")]),t._v(" "),e("li",[t._v("使用命令：finger@some.cracked.host，就可以知道该台计算机上面的用户名称。然后找这些用户下手，并通过这些容易入侵的用户取得系统的密码文件/etc/passwd，再用密码字典文件搭配密码猜测工具猜出root的密码。")]),t._v(" "),e("li",[t._v("利用一般用户在/tmp目录放置着的SetUID的文件或者执行着SetUID程序，让root去执行，以产生安全漏洞。")]),t._v(" "),e("li",[t._v("利用系统上需要SetUID root权限的程序的安全漏洞，取得root的权限，例如:pppd。")]),t._v(" "),e("li",[t._v("从.rhost的主机入侵。因为当用户执行rlogin登录时，rlogin程序会锁定.rhost定义的主机及账号，并且不需要密码登录。")]),t._v(" "),e("li",[t._v("修改用户的.login、cshrc、.profile等Shell设置文件，加入一些破坏程序。用户只要登录就会执行，例如"),e("code",[t._v("if tmp/backdoor exists run tmp/backdoor")]),t._v("。")]),t._v(" "),e("li",[t._v("只要用户登录系统，就会不知不觉地执行Backdoor程序（可能是Crack程序），它会破坏系统或者提供更进一步的系统信息，以利Hacker渗透系统。")]),t._v(" "),e("li",[t._v("如果公司的重要主机可能有网络防火墙的层层防护，Hacker有时先找该子网的任何一台容易入侵的主机下手，再慢慢向重要主机伸出魔掌。例如：使用NIS共同联机，可以利用"),e("code",[t._v("remote")]),t._v("命令不需要密码即可登录等，这样黑客就很容易得手了。")]),t._v(" "),e("li",[t._v("Hacker会通过中间主机联机，再寻找攻击目标，避免被用逆查法抓到其所在的真正IP地址。")]),t._v(" "),e("li",[t._v("Hacker进入主机有好几种方式，可以经由Telnet（Port 23）、Sendmail（Port25）、FTP（Port 21）或WWW（Port 80）的方式进入。一台主机虽然只有一个地址，但是它可能同时进行多项服务，而这些Port都是黑客进入该主机很好的方式。")]),t._v(" "),e("li",[t._v("Hacker通常利用NIS（IP）、NFS这些RPC Service截获信息。只要通过简单的命令（例如"),e("code",[t._v("showmount")]),t._v("），便能让远方的主机自动报告它所提供的服务。当这些信息被截获时，即使装有tcp_wrapper等安全防护软件，管理员依然会在毫不知情的情况下被借用了NIS Server上的文件系统，而导致/etc/passwd外流。")]),t._v(" "),e("li",[t._v("发E-mail给anonymous账号，从FTP站取得/etc/passwd密码文件，或直接下载FTP站/etc目录的passwd文件。")]),t._v(" "),e("li",[t._v("网络窃听，使用sniffer程序监视网络Packet，捕捉Telnet，FTP和Rlogin一开始的会话信息，便可顺手截获root密码，所以sniffer是造成今日Internet非法入侵的主要原因之一。")]),t._v(" "),e("li",[t._v("利用一些系统安全漏洞入侵主机，例如：Sendmail、Imapd、Pop3d、DNS等程序，经常发现安全漏洞，这对于入侵不勤于修补系统漏洞的主机相当容易得手。")]),t._v(" "),e("li",[t._v("被Hacker入侵计算机，系统的Telnet程序可能被掉包，所有用户Telnet session的账号和密码均被记录下，并发E-mail给Hacker，进行更进一步的入侵。")]),t._v(" "),e("li",[t._v("Hacker会清除系统记录。一些厉害的Hacker都会把记录它们进入的时间、IP地址消除掉，诸如清除：syslog、lastlog、messages、wtmp、utmp的内容，以及Shell历史文件.history。")]),t._v(" "),e("li",[t._v("入侵者经常将如"),e("code",[t._v("ifconfig")]),t._v("、"),e("code",[t._v("tcpdump")]),t._v("这类的检查命令更换，以避免被发觉。")]),t._v(" "),e("li",[t._v("系统家贼偷偷复制/etc/passwd，然后利用字典文件去解密码。")]),t._v(" "),e("li",[t._v("家贼通过su或sudo之类的Super User程序觊觎root的权限。")]),t._v(" "),e("li",[t._v("黑客经常使用Buffer overflow（缓冲区溢位）手动入侵系统。")]),t._v(" "),e("li",[t._v("cron是Linux操作系统用来自动执行命令的工具，如定时备份或删除过期文件等等。入侵者常会用cron来留后门，除了可以定时执行破译码来入侵系统外，又可避免被管理员发现的危险。")]),t._v(" "),e("li",[t._v("利用IP spoof（IP诈骗）技术入侵Linux主机。")])])]),t._v(" "),e("h2",{attrs:{id:"布线设防的宏观理念"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#布线设防的宏观理念"}},[t._v("#")]),t._v(" 布线设防的宏观理念")]),t._v(" "),e("p",[t._v("如果能采用以上方式入侵你的电脑，这已经说明当前电脑的安全性十分令人担忧。但我们不是一点办法都没有，而要未雨绸缪，做好日常的安全防护军备：")]),t._v(" "),e("ol",[e("li",[t._v("提前关闭所有可能的系统后门，以防止入侵者利用系统中的漏洞入侵。例如用"),e("code",[t._v("rpcinfo -p")]),t._v("来检查机器上是否运行了一些不必要的远程服务。一旦发现，立即停掉，以免给非法用户留下系统的后门。")]),t._v(" "),e("li",[t._v("确认系统当中运行的是较新的Linux、Unix守护程序。因为老的守护程序允许其它机器远程运行一些非法的命令。")]),t._v(" "),e("li",[t._v("定期从操作系统生产商那里获得安全补丁程序。")]),t._v(" "),e("li",[t._v("安装加强系统安全的程序，如：Shadow password、TCP wrappet、SSH、PGP等。")]),t._v(" "),e("li",[t._v("可以搭建网络防火墙，防止网络受到攻击。")]),t._v(" "),e("li",[t._v("利用扫描工具对系统进行漏洞检测，来考验主机容易受攻击的程度。")]),t._v(" "),e("li",[t._v("多订阅一些安全通报，多访问安全站点，以获得及时的安全信息来修补系统软硬件的漏洞。")])]),t._v(" "),e("p",[t._v("设防的基本思路应该是都包含在内了，接着我们谈一下具体的做法。")]),t._v(" "),e("h2",{attrs:{id:"巡逻检查"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#巡逻检查"}},[t._v("#")]),t._v(" 巡逻检查")]),t._v(" "),e("h3",{attrs:{id:"充分利用linux和unix系统中内置的检查命令来检测系统"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#充分利用linux和unix系统中内置的检查命令来检测系统"}},[t._v("#")]),t._v(" 充分利用Linux和Unix系统中内置的检查命令来检测系统")]),t._v(" "),e("ul",[e("li",[t._v("使用"),e("code",[t._v("who")]),t._v("来查看谁登陆到系统中。")]),t._v(" "),e("li",[t._v("使用"),e("code",[t._v("w")]),t._v("来查看谁登陆到系统中，且在做什么操作。")]),t._v(" "),e("li",[t._v("使用"),e("code",[t._v("last")]),t._v("显示系统曾经被登陆的用户和ttys。")]),t._v(" "),e("li",[t._v("使用"),e("code",[t._v("history")]),t._v("显示系统过去被运行的命令。")]),t._v(" "),e("li",[t._v("使用"),e("code",[t._v("netstat")]),t._v("来查看现在的网络状态。")]),t._v(" "),e("li",[t._v("使用"),e("code",[t._v("top")]),t._v("动态实时查看系统进程。")]),t._v(" "),e("li",[t._v("使用"),e("code",[t._v("finger")]),t._v("查看所有的登陆用户。")])]),t._v(" "),e("h3",{attrs:{id:"定期检查系统中的日志、文件、时间和进程信息"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#定期检查系统中的日志、文件、时间和进程信息"}},[t._v("#")]),t._v(" 定期检查系统中的日志、文件、时间和进程信息")]),t._v(" "),e("ul",[e("li",[t._v("检查"),e("code",[t._v("/var/log/messages")]),t._v("日志文件查看外部用户的登陆状况。")]),t._v(" "),e("li",[t._v("检查用户目录下"),e("code",[t._v("/home/username")]),t._v("下的登陆历史文件(如：.history 文件)。")]),t._v(" "),e("li",[t._v("检查用户目录下"),e("code",[t._v("/home/username")]),t._v("的"),e("code",[t._v(".rhosts")]),t._v("、"),e("code",[t._v(".forward")]),t._v("远程登陆文件。")]),t._v(" "),e("li",[t._v("用"),e("code",[t._v("find / -ctime -2 -ctime +1 -ls")]),t._v("命令来查看不到两天以内修改的一些文件。")]),t._v(" "),e("li",[t._v("用"),e("code",[t._v("ls -lac")]),t._v("命令去查看文件真正的修改时间。")]),t._v(" "),e("li",[t._v("用"),e("code",[t._v("cmp file1 file2")]),t._v("命令来比较文件大小的变化。")])]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),e("p",[t._v("为了保证系统的绝对安全，除了做好预防和进行安全检查工作外，还要养成一个保证系统、网络安全的好习惯：定期定时做好完整的数据备份。有了完整的数据备份，在遭到攻击或系统出现故障时也能迅速恢复系统。")])]),t._v(" "),e("h2",{attrs:{id:"安全防线加强巩固"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安全防线加强巩固"}},[t._v("#")]),t._v(" 安全防线加强巩固")]),t._v(" "),e("h3",{attrs:{id:"物理层面的安全问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#物理层面的安全问题"}},[t._v("#")]),t._v(" 物理层面的安全问题")]),t._v(" "),e("p",[t._v("硬件服务器，首先得专业人的来做专业的维护。其次就是关闭从CD/DVD等这些方面的软启动方式。同时也可以设置BIOS密码，并且要有限制访问的策略与各类流程管控。")]),t._v(" "),e("p",[t._v("还可以禁用USB设备来达到安全的目的，方法如下：")]),t._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("vim")]),t._v(" /etc/modprobe.d/stopusb\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[t._v("并向其中写入"),e("code",[t._v("install usb-storage /bin/true")]),t._v("。")]),t._v(" "),e("p",[t._v("还有另外的方式，不过不建议采用：")]),t._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("mv")]),t._v(" /lib/modules/"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("KernelVersion"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("/kernel/drivers/usb/storage/usb-storage.ko.zst /lib/modules/"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("KernelVersion"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("/kernel/drivers/usb/storage/usb-storage.ko.zst.backup\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("h3",{attrs:{id:"系统版本相关的安全问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#系统版本相关的安全问题"}},[t._v("#")]),t._v(" 系统版本相关的安全问题")]),t._v(" "),e("p",[t._v("要常做系统更新，及时下载安装更新补丁，要保证已经有的漏洞要及时的修复，系统内无其它漏洞存在。还要保证系统包含了最新版本的补丁、安全修复和可用内核。")]),t._v(" "),e("h3",{attrs:{id:"软件应用相关的安全问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#软件应用相关的安全问题"}},[t._v("#")]),t._v(" 软件应用相关的安全问题")]),t._v(" "),e("p",[t._v("不论安装系统还是安装常用软件，请遵循最小化处理原则。因为软件越多，也意味着潜在的漏洞越多。")]),t._v(" "),e("p",[t._v("对于一些不必要开放的系统服务及端口，建议关闭：")]),t._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("chkconfig")]),t._v(" --list "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 用于查看当前开放的服务与端口")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("chkconfig")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("ServerName"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" off "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 用于关闭端口")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br")])]),e("p",[t._v("然后当我尝试使用的时候发现系统没有"),e("code",[t._v("chkconfig")]),t._v("命令。相应地在现在基于"),e("code",[t._v("systemctl")]),t._v("命令管理系统进程及服务的Linux系统应该使用以下命令来代替：")]),t._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[t._v("systemctl -a "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 用于查看当前所有的服务进程")]),t._v("\nsystemctl stop "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("ServerName"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 用于终止服务进程运行")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br")])]),e("h3",{attrs:{id:"远程连接相关的安全问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#远程连接相关的安全问题"}},[t._v("#")]),t._v(" 远程连接相关的安全问题")]),t._v(" "),e("p",[t._v("非必要情况下不能允许使用root用户远程登录，root具有系统的最高权限，如果允许的话就会存在将最高权限暴露给他人的风险。因此我们需要修改SSH的配置文件"),e("code",[t._v("/etc/ssh/sshd_config")]),t._v("，将其中的"),e("code",[t._v("PermitRootLogin")]),t._v("字段修改为"),e("code",[t._v("no")]),t._v("，如果有需要，可以根据实际情况修改"),e("code",[t._v("Port")]),t._v("属性（表示端口号）、"),e("code",[t._v("PermitEmptyPasswords")]),t._v("属性（表示是否允许密码为空）、"),e("code",[t._v("AllowUsers")]),t._v("属性（表示允许使用SSH协议进行远程连接的用户）等。")]),t._v(" "),e("h3",{attrs:{id:"用户管理相关的安全问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#用户管理相关的安全问题"}},[t._v("#")]),t._v(" 用户管理相关的安全问题")]),t._v(" "),e("ol",[e("li",[t._v("使用"),e("code",[t._v("passwd")]),t._v("命令来管理用户的密码")]),t._v(" "),e("li",[t._v("使用"),e("code",[t._v("userdel")]),t._v("命令删除不需要的用户")]),t._v(" "),e("li",[t._v("使用"),e("code",[t._v("usermod -L")]),t._v("命令来锁定用户的属性，如需要解锁的话使用"),e("code",[t._v("usermod -U")]),t._v("命令即可。")])]),t._v(" "),e("p",[e("strong",[t._v("设置只允许该组账号使用")]),e("code",[t._v("su")]),e("strong",[t._v("命令切换至root用户")]),t._v("：")]),t._v(" "),e("h3",{attrs:{id:"文件管理相关的安全问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#文件管理相关的安全问题"}},[t._v("#")]),t._v(" 文件管理相关的安全问题")]),t._v(" "),e("p",[t._v("建议"),e("code",[t._v("/etc/passwd")]),t._v("和"),e("code",[t._v("/etc/shadow")]),t._v("两个文件都要限定锁死，只限root管理员能查看。并且平日注意防止该类文件外泄。")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("更多")]),t._v(" "),e("p",[t._v("关于用户管理和文件管理相关的更多详细知识，可以点击"),e("RouterLink",{attrs:{to:"/Linux/UUA.html"}},[t._v("这里")]),t._v("跳转来查看详情。")],1)]),t._v(" "),e("h3",{attrs:{id:"禁用快捷键重启的安全问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#禁用快捷键重启的安全问题"}},[t._v("#")]),t._v(" 禁用快捷键重启的安全问题")]),t._v(" "),e("p",[t._v("在使用Linux系统中，按下"),e("kbd",[t._v("Ctrl")]),t._v("+"),e("kbd",[t._v("Alt")]),t._v("+"),e("kbd",[t._v("Del")]),t._v("会触发重启事件，在一些情况下可能会产生不良影响甚至会带来不小的损失，因此需要考虑禁用这一组危险的快捷键。")]),t._v(" "),e("p",[t._v("但应该注意到，这个快捷键其实是让systemd来按照"),e("code",[t._v("ctrl-alt-del.target")]),t._v("的文件配置进行活动的，而该文件的性质其实是一个软链接：")]),t._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[t._v("❯ ll /usr/lib/systemd/system/ctrl-alt-del.target\nlrwxrwxrwx "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" root root "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("13")]),t._v("  "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("月 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v(" 03:24 /usr/lib/systemd/system/ctrl-alt-del.target -"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" reboot.target\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br")])]),e("p",[t._v("因此如果尝试直接去修改这个文件的话，实际上改动的是reboot.target文件，这样可能会导致reboot命令不能正常执行甚至直接失效。所以我们应该改的是这个软链接，做法也比较简单，只需要将这个软链接重命名为其他名称即可（最好是能方便自己直接还原的名称）。")]),t._v(" "),e("h3",{attrs:{id:"监控用户行为相关的安全问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#监控用户行为相关的安全问题"}},[t._v("#")]),t._v(" 监控用户行为相关的安全问题")]),t._v(" "),e("p",[t._v("如果有需要监视用户的具体活动的话，需要安装工具"),e("code",[t._v("acct")]),t._v("，如果是使用yum包管理器的话可以"),e("code",[t._v("psacct")]),t._v("和"),e("code",[t._v("acct")]),t._v("二选一；如果是Arch系的Linux则需要从AUR源下载"),e("code",[t._v("acct")]),t._v("工具。接着这个工具的相关简单使用如下：")]),t._v(" "),e("ol",[e("li",[e("strong",[e("code",[t._v("ac")]),t._v("系列")]),t._v("：")])]),t._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[t._v("ac "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#显示所有用户连接总时间")]),t._v("\nac -p "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#显示每个用户连接时间")]),t._v("\nac -d "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#显示每天所有用户连接总时间")]),t._v("\nac silence "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#显示指定用户连接时间")]),t._v("\nac -d silence "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#显示指定用户每天连接时间")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br")])]),e("ol",{attrs:{start:"2"}},[e("li",[e("strong",[e("code",[t._v("sa")]),t._v("系列")]),t._v("：")])]),t._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[t._v("sa 输出用户活动信息\nsa "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#显示所有用户执行命令情况")]),t._v("\nsa -u "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#按用户显示执行命令情况")]),t._v("\nsa -m "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#按进程显示执行命令情况")]),t._v("\nsa -p "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#按使用率显示执行命令情况")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br")])]),e("ol",{attrs:{start:"3"}},[e("li",[e("strong",[e("code",[t._v("lastcomm")]),t._v("系列")]),t._v("：")])]),t._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[t._v("lastcomm "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#输出最近执行命令信息")]),t._v("\nlastcomm "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#显示所有执行命令")]),t._v("\nlastcomm silence "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#显示指定用户执行命令")]),t._v("\nlastcomm "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("ls")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#显示指定命令执行情况")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br")])]),e("ol",{attrs:{start:"4"}},[e("li",[e("strong",[t._v("其他")]),t._v("：")])]),t._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[t._v("last "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#查看最近用户登录成功列表")]),t._v("\nlast -x "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#显示系统关机、重新开启等信息")]),t._v("\nlast -a "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#将IP显示在最后一列")]),t._v("\nlast -d "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#对IP进行域名解析")]),t._v("\nlast -R "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#不显示IP列")]),t._v("\nlast -n "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#显示最近3条")]),t._v("\nlastb "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#查看最近用户登录失败的列表")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br")])]),e("h3",{attrs:{id:"日志相关的安全问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#日志相关的安全问题"}},[t._v("#")]),t._v(" 日志相关的安全问题")]),t._v(" "),e("p",[t._v("定期检查日志文件是一件必要的事，这样也方便你第一时间掌握一些情况，在CentOS Linux中以下常用的日志文件的功能如表所示：")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("日志文件")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("作用")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("/var/log/message")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("记录系统日志或当前活动日志")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("/var/log/auth.log")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("身份认证日志")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("/var/log/kern.log")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("内核日志")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("/var/log/cron.log")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Crond日志，cron任务")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("/var/log/maillog")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("邮件服务器日志")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("/var/log/boot.log")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("系统启动日志")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("/var/log/mysqld.log")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("MySQL数据库服务器日志")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("/var/log/secure")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("认证日志")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("/var/log/utmp")]),t._v("或"),e("code",[t._v("/var/log/wtmp")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("登录日志")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("/var/log/yum.log")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Yum日志")])])])]),t._v(" "),e("h3",{attrs:{id:"安全工具相关的安全问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安全工具相关的安全问题"}},[t._v("#")]),t._v(" 安全工具相关的安全问题")]),t._v(" "),e("p",[t._v("对于系统来说，常用的安全扫描工具是必备的，比如：扫描开放端口nmap。对于系统中的WEB应用等来说，可以使用一些开源的工具：IBM AppScan、SQL Map等。")]),t._v(" "),e("h3",{attrs:{id:"管理方法相关的安全问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#管理方法相关的安全问题"}},[t._v("#")]),t._v(" 管理方法相关的安全问题")]),t._v(" "),e("p",[t._v("对于安全管理来说，好的流程与管理制度同样也是必须的，否则，谈上述各方面的作用基本为0，有方法，没有制度去让方法落地执行。")]),t._v(" "),e("p",[t._v("由于我没有在公司内待过，所以这一点也写不了什么。")])])}),[],!1,null,null,null);s.default=r.exports}}]);