(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{858:function(t,s,a){"use strict";a.r(s);var e=a(1),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("details",{staticClass:"custom-block details"},[a("summary",[t._v("参考")]),t._v(" "),a("ol",[a("li",[a("a",{attrs:{href:"https://jiabaoer.github.io/2019/11/21/013.Linux-%E7%94%A8%E6%88%B7%E5%92%8C%E7%BB%84%E7%AE%A1%E7%90%86/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Linux 用户和组管理"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/105482468",target:"_blank",rel:"noopener noreferrer"}},[t._v("一篇读懂 Linux 用户管理与操作"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://www.runoob.com/linux/linux-user-manage.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Linux 用户和用户组管理"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://blog.csdn.net/py_method/article/details/103364504",target:"_blank",rel:"noopener noreferrer"}},[t._v("linux -----创建用户 , 群组, 权限"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"http://c.biancheng.net/linux_tutorial/60/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Linux用户和用户组管理详解"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://www.cjavapy.com/article/2294/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Linux 用户和组管理"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/38136194",target:"_blank",rel:"noopener noreferrer"}},[t._v("三分钟教你理清Linux 用户与用户组关系~"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://blog.csdn.net/u013197629/article/details/73608613",target:"_blank",rel:"noopener noreferrer"}},[t._v("Linux权限详解（chmod、600、644、700、711、755、777、4755、6755、7755）"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://segmentfault.com/a/1190000039202476",target:"_blank",rel:"noopener noreferrer"}},[t._v("一文带你彻底搞懂Linux 文件权限管理"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://www.jianshu.com/p/d27016653f1d",target:"_blank",rel:"noopener noreferrer"}},[t._v("Linux 文件权限管理"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"http://c.biancheng.net/linux_tutorial/70/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Linux权限管理详解"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/61196860",target:"_blank",rel:"noopener noreferrer"}},[t._v("Linux 权限管理"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://www.cnblogs.com/f-ck-need-u/p/7011971.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("第3章 Linux上文件的权限管理"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://cloud.tencent.com/developer/article/1517793",target:"_blank",rel:"noopener noreferrer"}},[t._v("【Linux】聊聊Linux的文件权限管理"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://zou8944.com/2022/01/10/Linux%E7%94%A8%E6%88%B7%E5%92%8C%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Linux用户和权限管理"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://www.linuxbase.org/betaspecs/fhs/fhs/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Filesystem Hierarchy Standard"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://www.zhihu.com/question/21265424?sort=created",target:"_blank",rel:"noopener noreferrer"}},[t._v("Linux文件系统中/bin、/sbin、/usr/bin、/usr/sbin、/usr/local/bin、/usr/local/sbin文件夹的区别是什么？"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://yanglei253.github.io/2021/03/17/linux/linux4-permission/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Linux 文件权限"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://blog.csdn.net/solaraceboy/article/details/78758251",target:"_blank",rel:"noopener noreferrer"}},[t._v("再议Linux文件、目录的隐藏属性（lsattr、chattr）"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://blog.csdn.net/u011341352/article/details/103901164",target:"_blank",rel:"noopener noreferrer"}},[t._v("总结-Linux 文件隐藏属性"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://www.cnblogs.com/sparkdev/p/5536868.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Linux ACL 权限"),a("OutboundLink")],1)])])]),t._v(" "),a("h2",{attrs:{id:"概念"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#概念"}},[t._v("#")]),t._v(" 概念")]),t._v(" "),a("p",[t._v("Linux允许多个不同用户同时登录一台主机并同时使用主机资源, 因此为了保护各用户隐私, 规范化各用户的权限管理等, Linux有着独特的用户管理与操作机制. 我们在了解具体命令之前需要站在宏观角度来看待这个过程:")]),t._v(" "),a("p",[t._v("在这个机制中, 实际上只分两个层次, 一是用户组, 二是用户. 而用户又分root用户和非root用户. Linux通过建立这个机制建立起用户与文件权限之间的联系, 并保证系统能充分考虑到各用户的隐私保护, 在很大程度上保障了Linux作为多用户系统的可行性.")]),t._v(" "),a("p",[t._v("我们如果从文件权限的角度出发, 那么用户与用户组又可以延伸出三个对象: 文件所有者(User), 用户组成员(Group), 其他人(Others).")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),a("p",[t._v("文件所有者(User), 用户组成员(Group)两者权限具有排他性, 这是Linux隐私保护的关键.")])]),t._v(" "),a("p",[t._v("当一个用户创建某个文件时, 这个文件的属性信息中文件所有者就是该用户, 该用户拥有管理这个文件的最高权限, 且具有排他性, 除非开放权限, 否则其他用户不能查看修改和执行这个文件.")]),t._v(" "),a("p",[t._v("当用户希望只对部分用户开放权限的话, 就需要用户组(Group)了. 通过规划合适恰当的用户组, 可以实现这个效果: 同组成员之间可以共享文件, 但对非组内成员保持私有.")]),t._v(" "),a("p",[t._v("而其他人(Others)的含义是指与文件没有联系的其他用户.")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),a("p",[t._v("一个用户至少有一个用户组. 即一个用户组可以有多个用户也可以没有用户, 每个用户又可以有多个用户组, 但不能没有用户组, 不能孤立.")])]),t._v(" "),a("h2",{attrs:{id:"上帝"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#上帝"}},[t._v("#")]),t._v(" 上帝")]),t._v(" "),a("p",[t._v("在Linux系统中, 有这样的一个用户担任上帝的角色, 那就是root用户.")]),t._v(" "),a("p",[t._v("root用户是系统中的唯一的超级管理员, 它拥有系统的所有权限, 可以执行任何想做的操作, 但高度的自由往往也意味危险. 因此出于安全考虑, 日常使用我们是不使用root用户的.")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),a("p",[t._v("root用户所在的用户组就是root用户组. 处于root用户组的用户都能通过sudo命令来获取管理员权限.")])]),t._v(" "),a("h2",{attrs:{id:"相关的系统文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#相关的系统文件"}},[t._v("#")]),t._v(" 相关的系统文件")]),t._v(" "),a("p",[t._v("在庞大的用户群中权限问题必然是纷杂错乱的, 那么系统会如何对这些用户进行管理?")]),t._v(" "),a("p",[t._v("系统是通过以下四个文件夹来记录用户信息(帐号密码等)的:")]),t._v(" "),a("ul",[a("li",[t._v("/etc/passwd")]),t._v(" "),a("li",[t._v("/etc/shadow")]),t._v(" "),a("li",[t._v("/etc/group")]),t._v(" "),a("li",[t._v("/etc/gshadow")])]),t._v(" "),a("h3",{attrs:{id:"etc-passwd"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#etc-passwd"}},[t._v("#")]),t._v(" /etc/passwd")]),t._v(" "),a("p",[t._v("该文件是管理用户UID/GID重要参数的文件, 每一行的存储格式为:")]),t._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[t._v("用户名"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("口令"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("用户标识号"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("组标识号"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("注释性描述"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("主目录"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("登录Shell\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("details",{staticClass:"custom-block details"},[a("summary",[t._v("参数详解")]),t._v(" "),a("p",[a("strong",[t._v("用户名")]),t._v("是代表用户帐号的字符串, 通常长度不会超过8字符, 由大小写字母或数字构成, 显然用户名中间是不可以带"),a("code",[t._v(":")]),t._v("字符的, 因为它是作为该文件的分隔符.")]),t._v(" "),a("p",[a("strong",[t._v("口令")]),t._v('存放着加密后的口令字. 虽然这里存放着的不是明文, 但对所有用户都可读, 这是一个安全隐患, 因此许多系统使用shadow技术, 将真正的加密后的口令字存放在/etc/shadow文件中, 而在这里只留下一个特殊字符, 如"x"或者"*".')]),t._v(" "),a("p",[a("strong",[t._v("用户标识号")]),t._v("是一个整数, 系统内部用它来标识用户. 通常它与用户名一一对应, 若几个用户名的用户标识号是一样的, 系统内部会将它们视作同一个用户, 而它们却可以有不同的口令、主目录和登陆Shell. 通常取值范围是[0, 65535], 其中0是上帝的标识号, [1, 99]由系统保留, 作为管理账号, 普通用户的标识号从100开始, 但在Linux中是从500开始的.")]),t._v(" "),a("p",[a("strong",[t._v("组标识号")]),t._v("字段记录的是用户所在的用户组, 这里的信息在/etc/group文件中有对应的记录.")]),t._v(" "),a("p",[a("strong",[t._v("注释性描述")]),t._v("记录着用户的一些个人情况, 没有什么实际用途, 没有具体规定的统一格式, 它将用作finger命令的输出.")]),t._v(" "),a("p",[a("strong",[t._v("主目录")]),t._v("是用户的起始工作目录, 是用户登录系统之后所在的位置, 大多系统中各用户的主目录是组织在同一个特定目录下的, 而用户主目录的名称就是该用户的登录名. 用户具有对自己主目录的读写执行搜索权限, 而其他用户对此目录的访问权限依情况而定.")]),t._v(" "),a("p",[a("strong",[t._v("登录Shell")]),t._v("是用户登录后启动的一个进程. 这个进程负责将用户的操作传递给内核, 是用户登录到系统后运行的命令解释器或某个特定程序, 即Shell.")])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("伪用户")]),t._v(" "),a("p",[t._v("伪用户是系统中独有的一类用户, 在/etc/passwd文件中也占有记录, 但都不能登录, 因为登录Shell为空. 它们的存在主要是为了方便系统进行管理, 满足相应系统进程对文件属主的要求.")]),t._v(" "),a("p",[t._v("我们常见的伪用户有:")]),t._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[t._v("bin "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#拥有可执行的用户命令文件")]),t._v("\nsys "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#拥有系统文件")]),t._v("\nadm "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#拥有帐户文件")]),t._v("\nuucp "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#UUCP使用")]),t._v("\nlp "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#lp或lpd子系统使用")]),t._v("\nnobody "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#NFS使用")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])]),a("p",[t._v("除了上面列出的伪用户外, 还有许多标准的伪用户, 例如：audit, cron, mail, usenet等, 它们也都各自为相关的进程和文件所需要.")])]),t._v(" "),a("h3",{attrs:{id:"etc-shadow"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#etc-shadow"}},[t._v("#")]),t._v(" /etc/shadow")]),t._v(" "),a("p",[t._v("前面说到, /etc/passwd是所有用户可读的, 如果用户的密码过于简单或者规律性比较明显的话, 很容易被破解, 因此大多Linux系统都选择将加密后的口令字分离出来, 单独存放在一个文件中, 这个文件就是/etc/shadow. 只有超级用户才拥有该文件的阅读权限, 这就保证了用户密码的安全性.")]),t._v(" "),a("p",[t._v("它的文件格式和/etc/passwd类似, 字段格式如下:")]),t._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[t._v("登录名"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("加密口令"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("最后一次修改时间"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("最小时间间隔"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("最大时间间隔"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("警告时间"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("不活动时间"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("失效时间"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("标志\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("details",{staticClass:"custom-block details"},[a("summary",[t._v("参数详解")]),t._v(" "),a("p",[a("strong",[t._v("登录名")]),t._v("是与/etc/passwd文件中的登录名相一致的用户账号")]),t._v(" "),a("p",[a("strong",[t._v("口令")]),t._v("字段存放的是加密后的用户口令字, 长度为13个字符. 如果为空, 则对应用户没有口令, 登录时不需要口令；如果含有不属于集合{ . / 0-9 A-Z a-z }中的字符, 则对应的用户不能登录.")]),t._v(" "),a("p",[a("strong",[t._v("最后一次修改时间")]),t._v("字段表示的是从某个时刻起, 到用户最后一次修改口令时的天数. 时间起点对不同的系统可能不一样. 例如在SCO Linux 中, 这个时间起点是1970年1月1日.")]),t._v(" "),a("p",[a("strong",[t._v("最小时间间隔")]),t._v("字段指的是两次修改口令之间所需的最小天数.")]),t._v(" "),a("p",[a("strong",[t._v("最大时间间隔")]),t._v("字段指的是口令保持有效的最大天数.")]),t._v(" "),a("p",[a("strong",[t._v("警告时间")]),t._v("字段表示的是从系统开始警告用户到用户密码正式失效之间的天数.")]),t._v(" "),a("p",[a("strong",[t._v("不活动时间")]),t._v("表示的是用户没有登录活动但账号仍能保持有效的最大天数.")]),t._v(" "),a("p",[a("strong",[t._v("失效时间")]),t._v("字段给出的是一个绝对的天数, 如果使用了这个字段, 那么就给出相应账号的生存期. 期满后, 该账号就不再是一个合法的账号, 也就不能再用来登录了.")])]),t._v(" "),a("h3",{attrs:{id:"etc-group"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#etc-group"}},[t._v("#")]),t._v(" /etc/group")]),t._v(" "),a("p",[t._v("在/etc/passwd中提到过/etc/group, 这个文件就是用来记录各用户与各用户组之间的关系, 用户组的所有信息都存放在/etc/group文件中.")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),a("p",[t._v("当一个用户同时是多个组中的成员时, 在/etc/passwd文件中记录的是用户所属的主组, 也就是登录时所属的默认组, 而其他组称为附加组.")]),t._v(" "),a("p",[t._v("用户要访问属于附加组的文件时, 必须首先使用newgrp命令使自己成为所要访问的组中的成员.")])]),t._v(" "),a("p",[t._v("此文件的格式也类似于/etc/passwd文件, 字段结构如下:")]),t._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[t._v("组名"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("口令"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("组标识号"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("组内用户列表\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("details",{staticClass:"custom-block details"},[a("summary",[t._v("参数详解")]),t._v(" "),a("p",[a("strong",[t._v("组名")]),t._v("是用户组的名称, 由字母或数字构成. 与/etc/passwd中的登录名一样, 组名不应重复.")]),t._v(" "),a("p",[a("strong",[t._v("口令")]),t._v("字段存放的是用户组加密后的口令字. 一般Linux系统的用户组都没有口令, 即这个字段一般为空, 或者是*.")]),t._v(" "),a("p",[a("strong",[t._v("组标识号")]),t._v("与用户标识号类似, 也是一个整数, 被系统内部用来标识组.")]),t._v(" "),a("p",[a("strong",[t._v("组内用户列表")]),t._v("是属于这个组的所有用户的列表, 不同用户之间用逗号(,)分隔. 这个用户组可能是用户的主组, 也可能是附加组.")])]),t._v(" "),a("h3",{attrs:{id:"etc-gshadow"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#etc-gshadow"}},[t._v("#")]),t._v(" /etc/gshadow")]),t._v(" "),a("p",[t._v("这个文件目前比较少见了, 因为这个文件的作用是管理群组管理员. 但类sudo的工具相继出现, 这个功能已经很少使用了. 起初设置这个的考虑是: 当Linux系统中帐号过多, 而root又可能没有时间, 这时若有用户想加入某群组的时候, root是来不及作出回应的. 这样的情况下, 设立群组管理员来帮他处理这样的事就可以解决这样的问题, 就免去麻烦root了.")]),t._v(" "),a("p",[t._v("该文件的字段结构如下:")]),t._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[t._v("组名：加密密码：组管理员：组附加用户列表\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("details",{staticClass:"custom-block details"},[a("summary",[t._v("参数详解")]),t._v(" "),a("p",[a("strong",[t._v("组名")]),t._v("同/etc/group文件中的组名相对应.")]),t._v(" "),a("p",[a("strong",[t._v("组密码")]),t._v('通常是不设置的, 因此该字段常为空, 但有时为"!", 指的是该群组没有组密码, 也不设有群组管理员.')]),t._v(" "),a("p",[a("strong",[t._v("组管理员")]),t._v("从系统管理员的角度来说, 该文件最大的功能就是创建群组管理员.")]),t._v(" "),a("p",[a("strong",[t._v("组中的附加用户")]),t._v("该字段显示这个用户组中有哪些附加用户, 和/etc/group文件中附加组显示内容相同.")])]),t._v(" "),a("h2",{attrs:{id:"用户管理操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#用户管理操作"}},[t._v("#")]),t._v(" 用户管理操作")]),t._v(" "),a("h3",{attrs:{id:"增加用户"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#增加用户"}},[t._v("#")]),t._v(" 增加用户")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("useradd")]),t._v(" 用户名\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("useradd")]),t._v(" -u "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("UID")]),t._v("号"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("useradd")]),t._v(" -p "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("口令"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("useradd")]),t._v(" -g "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("分组"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("useradd")]),t._v(" -s "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("SHELL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("useradd")]),t._v(" -d "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("用户目录"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])]),a("h3",{attrs:{id:"修改用户"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改用户"}},[t._v("#")]),t._v(" 修改用户")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("usermod")]),t._v(" -u "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("新"),a("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("UID")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("usermod")]),t._v(" -d "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("用户目录"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("usermod")]),t._v(" -g "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("组名"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("usermod")]),t._v(" -s "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("SHELL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("usermod")]),t._v(" -p "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("新口令"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("usermod")]),t._v(" -l "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("新登录名"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("usermod")]),t._v(" -L "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("锁定用户账号密码"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("usermod")]),t._v(" -U "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("解锁用户账号"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br")])]),a("h3",{attrs:{id:"删除用户"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#删除用户"}},[t._v("#")]),t._v(" 删除用户")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("userdel")]),t._v(" 用户名 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("删除用户账号"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("userdel")]),t._v(" -r 删除账号时同时删除目录\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("h3",{attrs:{id:"组账户维护"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#组账户维护"}},[t._v("#")]),t._v(" 组账户维护")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("groupadd")]),t._v(" 组账户名 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("创建新组"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("groupadd")]),t._v(" -g 指定组GID\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("groupmod")]),t._v(" -g 更改组的GID\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("groupmod")]),t._v(" -n 更改组账户名\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("groupdel")]),t._v(" 组账户名 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("删除指定组账户"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("h3",{attrs:{id:"口令维护"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#口令维护"}},[t._v("#")]),t._v(" 口令维护")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("passwd")]),t._v(" 用户账户名 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("设置用户口令"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("passwd")]),t._v(" -l 用户账户名 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("锁定用户账户"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("passwd")]),t._v(" -u 用户账户名 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("解锁用户账户"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("passwd")]),t._v(" -d 用户账户名 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("删除账户口令"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ngpasswd -a 用户账户名 组账户名 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("将指定用户添加到指定组"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ngpasswd -d 用户账户名 组账户名 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("将用户从指定组中删除"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ngpasswd -A 用户账户名 组账户名 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("将用户指定为组的管理员"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("h3",{attrs:{id:"用户和组状态"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#用户和组状态"}},[t._v("#")]),t._v(" 用户和组状态")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("su")]),t._v(" 用户名"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("切换用户账户"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("id")]),t._v(" 用户名"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("显示用户的"),a("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("UID")]),t._v(", GID"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("whoami")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("显示当前用户名称"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("groups")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("显示用户所属组"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("h2",{attrs:{id:"文件权限管理操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文件权限管理操作"}},[t._v("#")]),t._v(" 文件权限管理操作")]),t._v(" "),a("p",[t._v("在任意一个目录下执行"),a("code",[t._v("ls -lb")]),t._v("可以看到如下的输出:")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("❯ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ls")]),t._v(" -lb ./\ntotal "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("90988")]),t._v("\ndrwxrwxrwx "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("35")]),t._v(" mysql       breezeshane     "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4096")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("29")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),t._v(":55 AppData\ndrwxr-xr-x  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" breezeshane breezeshane        "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v(":03 Desktop\ndrwxr-xr-x  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" breezeshane breezeshane      "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("498")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("月  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("17")]),t._v(":54 Documents\ndrwxr-xr-x  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" breezeshane breezeshane     "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2686")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("月  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v(":06 Downloads\n-rw-r--r--  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" breezeshane breezeshane  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5624166")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("25")]),t._v(" 01:07 EnlightenGAN_Results.zip\ndrwxr-xr-x  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" breezeshane breezeshane       "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("48")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("27")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),t._v(":08 Music\ndrwxr-xr-x  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" breezeshane breezeshane      "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("664")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("月  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),t._v(":05 Pictures\ndrwxr-xr-x  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" breezeshane breezeshane        "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v(":03 Public\ndrwxr-xr-x  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" breezeshane breezeshane        "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("月  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("21")]),t._v(":26 Scripts\ndrwxr-xr-x  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" breezeshane breezeshane        "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v(":03 Templates\n-rw-r--r--  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" breezeshane breezeshane       "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("月  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(":24 temp.md\ndrwxr-xr-x  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" breezeshane breezeshane        "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v(":03 Videos\ndrwxr-xr-x  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" breezeshane breezeshane        "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("24")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":44 WinSys\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br")])]),a("p",[t._v("类似"),a("code",[t._v("drwxr-xr-x")]),t._v("和"),a("code",[t._v("-rw-r--r--")]),t._v("这样的串就是在描述相关的权限信息, 左侧的第一位有如下对应的字符表示:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("-")]),t._v(" : 代表普通文件")]),t._v(" "),a("li",[a("code",[t._v("d")]),t._v(" : 代表目录")]),t._v(" "),a("li",[a("code",[t._v("c")]),t._v(" : 代表字符型文件")]),t._v(" "),a("li",[a("code",[t._v("l")]),t._v(" : 代表链接文件")]),t._v(" "),a("li",[a("code",[t._v("s")]),t._v(" : 代表socket")]),t._v(" "),a("li",[a("code",[t._v("b")]),t._v(" : 代表块设备")]),t._v(" "),a("li",[a("code",[t._v("p")]),t._v(" : 代表管道")])]),t._v(" "),a("p",[t._v("后面九位中每一位字符所代表的含义如下:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("r")]),t._v(" : 代表允许查看文件内容, 显示目录列表.")]),t._v(" "),a("li",[a("code",[t._v("w")]),t._v(" : 代表允许修改文件内容, 允许在目录中新建删除文件或子目录.")]),t._v(" "),a("li",[a("code",[t._v("x")]),t._v(" : 代表允许运行程序, 切换目录.")]),t._v(" "),a("li",[a("code",[t._v("-")]),t._v(" : 代表没有相应的权限.")])]),t._v(" "),a("p",[t._v("那么重复三次"),a("code",[t._v("rwx")]),t._v("有什么含义? 实际上这九位是分成三小组的, 每组有三位字符. 从左到右三小组分别对应: 文件所有者, 用户组, 其他人. 对于每一组中, 三位从左到右则表示能否读取, 能否改写和能否执行.")]),t._v(" "),a("p",[t._v("也就是说, 对于"),a("code",[t._v("EnlightenGAN_Results.zip")]),t._v(", 它是一个普通文件, 文件所有者有读写权限, 而用户组内其他用户和其他人只有读取权限.")]),t._v(" "),a("p",[t._v("实际上"),a("code",[t._v("r")]),t._v(" "),a("code",[t._v("w")]),t._v(" "),a("code",[t._v("x")]),t._v("三个字符都对应数字1, "),a("code",[t._v("-")]),t._v("对应数字0, 这样看"),a("code",[t._v("rwx")]),t._v("就表示二进制码"),a("code",[t._v("111")]),t._v(", 对应的十进制数字是7. 这也是为什么你会经常看见以下类似的命令:")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("chmod")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("777")]),t._v(" -R "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("AnyFileOrFolder"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("chmod")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("770")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("AnyFileOrFolder"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("chmod")]),t._v(" u+x "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("AnyFileOrFolder"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("chmod")]),t._v(" g+w "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("AnyFileOrFolder"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("chmod")]),t._v(" og+r "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("AnyFileOrFolder"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("chmod")]),t._v(" +x "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("AnyFileOrFolder"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("chmod")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("a")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("rwx "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("AnyFileOrFolder"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),a("p",[a("code",[t._v("+")]),t._v("前面的所写字母有三个: "),a("code",[t._v("u")]),t._v(" "),a("code",[t._v("g")]),t._v(" "),a("code",[t._v("o")]),t._v(", 正是分别对应着文件所有者(User), 用户组成员(Group), 其他人(Others). 如果"),a("code",[t._v("+")]),t._v("前面不写任何字母, 表示三者都赋予"),a("code",[t._v("+")]),t._v("后面的权限. 相应地你也可以把"),a("code",[t._v("+")]),t._v("改成"),a("code",[t._v("-")]),t._v(", 这样意味着去除某种权限. 如果是写成"),a("code",[t._v("a=")]),t._v("的形式, 则是表示将等号后边的值赋给所有人, 即"),a("code",[t._v("ugo")]),t._v(".")]),t._v(" "),a("p",[t._v("另外, 一个目录同时具有读权限和执行权限才可以打开并查看内部文件, 而一个目录要有写权限才允许在其中创建其它文件, 这是因为目录文件实际保存着该目录里面的文件的列表等信息.")])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("冷知识")]),t._v(" "),a("ol",[a("li",[t._v("决定用户能否进行sudo是通过文件"),a("code",[t._v("/etc/sudoers")]),t._v("来控制, 可以查看该文件内具体内容了解详情.")]),t._v(" "),a("li",[t._v("如果需要禁止一个用户ssh登录, 则有两种做法:")]),t._v(" "),a("li",[t._v("锁定账号"),a("code",[t._v("usermod -L <UserName>")]),t._v("然后修改用户shell为不可登录"),a("code",[t._v("/sbin/nologin")]),t._v(".")]),t._v(" "),a("li",[t._v("修改"),a("code",[t._v("/etc/ssh/sshd_config")]),t._v(", 找到"),a("code",[t._v("DenyUsers")]),t._v("字样, 后面写上要禁止的用户名即可. 顺便一提, 如果想禁止root用户登录, 只需要找"),a("code",[t._v("PermitRootLogin")]),t._v("字样并将后面的字段改为"),a("code",[t._v("no")]),t._v(".")]),t._v(" "),a("li",[t._v("我们可以限制ssh账号密码登录, 修改"),a("code",[t._v("/etc/ssh/sshd_config")]),t._v(", 找到"),a("code",[t._v("Match User")]),t._v("字样后将"),a("code",[t._v("PasswordAuthentication")]),t._v("后面的值改为"),a("code",[t._v("no")]),t._v("即可; 另外如果是限制所有用户的话, 找的字样就应该是"),a("code",[t._v("Match all")]),t._v("了.")])])]),t._v(" "),a("h2",{attrs:{id:"创建文件的默认权限"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建文件的默认权限"}},[t._v("#")]),t._v(" 创建文件的默认权限")]),t._v(" "),a("p",[a("code",[t._v("umask")]),t._v("值用于设置用户在创建文件时的默认权限. 默认设置是写在"),a("code",[t._v("/etc/profile")]),t._v("和"),a("code",[t._v("/etc/bashrc")]),t._v("两个环境配置文件中的.")]),t._v(" "),a("p",[t._v("执行"),a("code",[t._v("umask")]),t._v("可以看到当前用户的值. 执行"),a("code",[t._v("umask <NUM>")]),t._v("可以临时修改umask值, 但如果想永久生效的话, 就要写入到"),a("code",[t._v("/etc/profile")]),t._v("、"),a("code",[t._v("/etc/bashrc")]),t._v("、"),a("code",[t._v("~/.bashrc")]),t._v("和"),a("code",[t._v("~/.bash_profile")]),t._v("这四个文件之一了, 具体写入哪里是看需求的.")]),t._v(" "),a("p",[t._v("umask决定创建文件的默认权限是这样做的:")]),t._v(" "),a("ul",[a("li",[t._v("如果创建的是目录, 则使用777-umask值.")]),t._v(" "),a("li",[t._v("如果创建的是文件, 而如果umask的三位都为偶数的话, 则直接使用666去减掉umask值;  而如果umask值某一位为奇数, 则666减去umask值后再在奇数位上加1.")])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("为什么创建文件时会这样麻烦?")]),t._v(" "),a("p",[t._v("因为在Linux中, 深入贯彻了一点：文件默认不应该有执行权限, 否则是危险的,")])]),t._v(" "),a("h2",{attrs:{id:"一些目录的权限分配"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一些目录的权限分配"}},[t._v("#")]),t._v(" 一些目录的权限分配")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("路径")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("作用")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("/usr/local/sbin")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("自己编译的、根用户才能访问的目录")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("/usr/local/bin")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("自己编译的、大家都能访问的目录")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("/usr/sbin、/sbin"),a("br"),t._v("（只是/usr/sbin的链接, 至少ubuntu是如此）")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("系统的或安装的、根用户才能访问的目录")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("/usr/bin、/bin"),a("br"),t._v("（它只是/usr/bin的链接, 至少ubuntu是如此）")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("系统的或安装的、大家都能访问的目录")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("/usr/share")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("存放一些共享数据, 如文档等")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("/usr/lib")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("存放软件所需的库文件")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("/etc")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("存放配置文件")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("/opt")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("一些可选的软件会安装在这里, 可选就是用户自己安装的一些无足轻重与系统无关的应用比如tomcat")])])])]),t._v(" "),a("ul",[a("li",[t._v("系统级的组件放在/bin、/lib")]),t._v(" "),a("li",[t._v("根用户才能访问的放在/sbin")]),t._v(" "),a("li",[t._v("系统repository提供的应用程序放在/usr/bin、/usr/lib")]),t._v(" "),a("li",[t._v("用户自己编译的放在/usr/local/XXX")]),t._v(" "),a("li",[t._v("所有用户皆可用的系统程序放在/bin")]),t._v(" "),a("li",[t._v("超级用户才能使用的系统程序放在/sbin")]),t._v(" "),a("li",[t._v("所有用户都可用的应用程序放在/usr/bin")]),t._v(" "),a("li",[t._v("超级用户才能使用的应用程序放在/usr/sbin")]),t._v(" "),a("li",[t._v("所有用户都可用的与本地机器无关的程序存放在/usr/local/bin")]),t._v(" "),a("li",[t._v("超级用户才能使用的与本地机器无关的程序存放在/usr/local/sbin")])]),t._v(" "),a("h2",{attrs:{id:"隐藏权限"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#隐藏权限"}},[t._v("#")]),t._v(" 隐藏权限")]),t._v(" "),a("p",[t._v("隐藏权限涉及到两个命令: "),a("code",[t._v("chattr")]),t._v("和"),a("code",[t._v("lsattr")]),t._v(".")]),t._v(" "),a("h3",{attrs:{id:"chattr"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#chattr"}},[t._v("#")]),t._v(" chattr")]),t._v(" "),a("p",[a("code",[t._v("chattr")]),t._v("的用法为:")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("chattr "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("+-"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("OPTION"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" FileOrFolder\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("其中"),a("code",[t._v("+")]),t._v(", "),a("code",[t._v("-")]),t._v(", "),a("code",[t._v("=")]),t._v("分别表示添加, 去除, 赋值为后面的属性. OPTION可支持的参数如下表:")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("属性")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("strong",[t._v("a")])]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[a("strong",[t._v("append, 只允许在文件中进行追加操作, 不能删减原文件内容, 只有root用户拥有该属性的设置权限")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("A")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("不允许更新文件的访问时间")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("c")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("compressed, 文件在磁盘上会自动压缩, 在读取的时候将会自动解压缩. 存储时, 先压缩再存储, 对大文件非常有用")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("d")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("dump, 不能使用dump命令备份文件")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("D")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("更改会同步保存在磁盘上")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("e")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("extent format, 表明该文件使用磁盘上块的映射扩展")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("strong",[t._v("i")])]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[a("strong",[t._v("immutable, 不能更改, 重命名或者删除该文件, 只有root用户拥有该属性的设置权限")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("j")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("journaling, 文件的数据先保存在日志中, 然后再写入文件")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("S")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("synchronous, 变更或更改同步保存在磁盘上")])])])]),t._v(" "),a("h3",{attrs:{id:"lsattr"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lsattr"}},[t._v("#")]),t._v(" lsattr")]),t._v(" "),a("p",[a("code",[t._v("lsattr")]),t._v("的用法为:")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("lsattr "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("-a"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("d"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("R"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" Directory"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("File\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("其中:")]),t._v(" "),a("ul",[a("li",[t._v("a表示显示所有的隐形属性")]),t._v(" "),a("li",[t._v("d表示显示目录")]),t._v(" "),a("li",[t._v("R表示递归显示")])]),t._v(" "),a("div",{staticClass:"custom-block info"},[a("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),a("p",[t._v("据说只能在ext2, ext3, ext4和xfs等文件系统上生效, 目前我还没做过相关实验, 暂不能确定.")])]),t._v(" "),a("h2",{attrs:{id:"特殊权限"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#特殊权限"}},[t._v("#")]),t._v(" 特殊权限")]),t._v(" "),a("h3",{attrs:{id:"suid"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#suid"}},[t._v("#")]),t._v(" SUID")]),t._v(" "),a("p",[a("strong",[t._v("该权限出现于文件拥有者的")]),a("code",[t._v("x")]),a("strong",[t._v("权限之上")]),t._v(", 它具有如下使用限制和功能：")]),t._v(" "),a("ol",[a("li",[t._v("该权限仅对于二进制程序有效,")]),t._v(" "),a("li",[t._v("使用者对于该程序需具有"),a("code",[t._v("x")]),t._v("执行权限,")]),t._v(" "),a("li",[t._v("程序执行过程中, 使用者暂时具有程序拥有者的所有权限,")])]),t._v(" "),a("p",[t._v("换言之, 如果使用者有权执行某程序, 且此程序具有 SUID 权限, 则程序执行时是以程序拥有者的身份执行的,")]),t._v(" "),a("h3",{attrs:{id:"sgid"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sgid"}},[t._v("#")]),t._v(" SGID")]),t._v(" "),a("p",[a("strong",[t._v("该权限出现于文件所在群组的")]),a("code",[t._v("x")]),a("strong",[t._v("权限之上")]),t._v(", 它具有如下使用限制和功能：")]),t._v(" "),a("ol",[a("li",[t._v("该权限仅对二进制程序和目录有效,")]),t._v(" "),a("li",[t._v("如果该权限作用于二进制程序, 且使用者对于该程序具有"),a("code",[t._v("x")]),t._v("执行权限, 则程序执行过程中, 使用者暂时具有该程序所在群组的群组身份,")]),t._v(" "),a("li",[t._v("如果该权限作用于目录, 且使用者对于该目录具有"),a("code",[t._v("wx")]),t._v("权限, 则使用者在此目录下的有效群组暂时变更为该程序所在群组,")])]),t._v(" "),a("h3",{attrs:{id:"sbit"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sbit"}},[t._v("#")]),t._v(" SBIT")]),t._v(" "),a("p",[a("strong",[t._v("该权限出现于其他人的")]),a("code",[t._v("x")]),a("strong",[t._v("权限之上")]),t._v(", 它具有如下使用限制和功能：")]),t._v(" "),a("ol",[a("li",[t._v("该权限仅对目录有效,")]),t._v(" "),a("li",[t._v("如果使用者对于该目录具有"),a("code",[t._v("wx")]),t._v("权限, 则使用者在此目录下创建的文件, 只能由使用者自己或 root 删除, 即该目录下某文件的删除权利仅限于文件拥有者和"),a("code",[t._v("root")]),t._v("用户,")])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),a("p",[t._v("如果某文件拥有 SUID 权限, 则表明此文件拥有者同时具有"),a("code",[t._v("x")]),t._v("权限, 同理可得"),a("code",[t._v("SGID")]),t._v("和"),a("code",[t._v("SBIT")]),t._v(".")])]),t._v(" "),a("p",[t._v("与普通"),a("code",[t._v("rwx")]),t._v("权限类似, 同样存在两种设置特殊权限的写法：")]),t._v(" "),a("ul",[a("li",[t._v("数字类型表示特殊权限: "),a("code",[t._v("100")]),t._v("表示 SUID, "),a("code",[t._v("010")]),t._v("表示 SGID, "),a("code",[t._v("001")]),t._v("表示 SBIT, 此时设置命令可表示为: "),a("code",[t._v("chmod 7*** fileName")]),t._v("("),a("code",[t._v("*")]),t._v("表示"),a("code",[t._v("r")]),t._v(", "),a("code",[t._v("w")]),t._v(", "),a("code",[t._v("x")]),t._v(", "),a("code",[t._v("-")]),t._v("四个字符中的任意一个).")]),t._v(" "),a("li",[t._v("符号类型表示特殊权限: 如果是三个特殊权限都要设置, 此时命令应该是: "),a("code",[t._v("chmod ug+s,o+t fileName")]),t._v(".")])]),t._v(" "),a("h2",{attrs:{id:"acl权限"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#acl权限"}},[t._v("#")]),t._v(" ACL权限")]),t._v(" "),a("h3",{attrs:{id:"acl的概念是什么"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#acl的概念是什么"}},[t._v("#")]),t._v(" ACL的概念是什么")]),t._v(" "),a("p",[t._v("ACL的全称是 Access Control List (访问控制列表) , 一个针对文件/目录的访问控制列表, 它在UGO权限管理的基础上为文件系统提供一个额外的、更灵活的权限管理机制, 它被设计为UNIX文件权限管理的一个补充, ACL允许你给任何的用户或用户组设置任何文件/目录的访问权限,")]),t._v(" "),a("h3",{attrs:{id:"acl的用处有什么"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#acl的用处有什么"}},[t._v("#")]),t._v(" ACL的用处有什么")]),t._v(" "),a("p",[t._v("既然是作为UGO权限管理的补充, ACL自然要有UGO办不到或者很难办到的本事, 例如：")]),t._v(" "),a("ol",[a("li",[t._v("可以针对用户来设置权限")]),t._v(" "),a("li",[t._v("可以针对用户组来设置权限")]),t._v(" "),a("li",[t._v("子文件/目录继承父目录的权限")])]),t._v(" "),a("h3",{attrs:{id:"acl要怎么用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#acl要怎么用"}},[t._v("#")]),t._v(" ACL要怎么用")]),t._v(" "),a("h4",{attrs:{id:"getfacl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#getfacl"}},[t._v("#")]),t._v(" getfacl")]),t._v(" "),a("p",[t._v("该命令的用法为: "),a("code",[t._v("getfacl <FileNameOrDirectoryName>")])]),t._v(" "),a("h4",{attrs:{id:"setfacl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#setfacl"}},[t._v("#")]),t._v(" setfacl")]),t._v(" "),a("p",[t._v("该命令的用法为:")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("setfacl "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("-bkRd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("-m"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("-x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" acl参数"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" 文件/目录名\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("ul",[a("li",[a("code",[t._v("-m")]),t._v("：设定ACL权限(modify)")]),t._v(" "),a("li",[a("code",[t._v("-x")]),t._v("：删除指定的ACL权限, 可以指定用户、组和文件来删除(remove)")]),t._v(" "),a("li",[a("code",[t._v("-M")]),t._v("：写了ACL条目的文件, 将从此文件中读取ACL条目, 需要配合-m, 所以-M指定的是modify file")]),t._v(" "),a("li",[a("code",[t._v("-X")]),t._v("：写了ACL条目的文件, 将从此文件中读取ACL条目, 需要配合-x, 所以-X指定的是remove file")]),t._v(" "),a("li",[a("code",[t._v("-n")]),t._v("：不重置mask")]),t._v(" "),a("li",[a("code",[t._v("-b")]),t._v("：删除所有的ACL权限")]),t._v(" "),a("li",[a("code",[t._v("-d")]),t._v("：设定默认ACL权限, 只对目录有效, 设置后子目录(文件)继承默认ACL, 只对未来文件 有效")]),t._v(" "),a("li",[a("code",[t._v("-k")]),t._v("：删除默认ACL权限")]),t._v(" "),a("li",[a("code",[t._v("-R")]),t._v("：递归设定ACL权限, 只对目录有效, 只对已有文件有效")])]),t._v(" "),a("p",[t._v("acl参数的写法是: "),a("code",[t._v("*:UserName:xxx")]),t._v(", 其中"),a("code",[t._v("*")]),t._v("表示"),a("code",[t._v("u")]),t._v(" "),a("code",[t._v("g")]),t._v(" "),a("code",[t._v("o")]),t._v("三者的任意组合, "),a("code",[t._v("xxx")]),t._v("表示授予的权限, 是"),a("code",[t._v("r")]),t._v(" "),a("code",[t._v("w")]),t._v(" "),a("code",[t._v("x")]),t._v("的任意组合之一. 如果想实现子文件或目录继承父目录权限的话, 需要在"),a("code",[t._v("*")]),t._v("前面加上"),a("code",[t._v("d:")]),t._v(", 表示设定默认值, 但这个参数只能给目录设定, 文件显然是不合法的.")]),t._v(" "),a("div",{staticClass:"custom-block info"},[a("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),a("p",[t._v("参数"),a("code",[t._v("-m")]),t._v("实际上是更改文件或目录的权限, 是一种写覆盖操作, 而不是增量更新操作.")])]),t._v(" "),a("p",[t._v("如果使用了"),a("code",[t._v("setfacl --set")]),t._v("的话, 后面不能只描述ACL权限, 而是要描述完整的UGO权限. 另外, 如果设置权限时打算不授予任何权限的话, "),a("code",[t._v("-")]),t._v("至少保留一个; 其他情况下"),a("code",[t._v("-")]),t._v("都可以省略不写.")]),t._v(" "),a("p",[t._v("值得一提的是, ACL权限是可以"),a("strong",[t._v("备份恢复")]),t._v("的, 我们要做的是使用"),a("code",[t._v("getfacl")]),t._v("来递归描述文件结构中各文件或目录的权限信息, 并写入到一个备份档案(就是任意一个新建的文件)中, 然后通过"),a("code",[t._v("setfacl --restore <PATH/TO/FILE>")]),t._v("来实现恢复整个文件结构的权限.")]),t._v(" "),a("p",[a("strong",[t._v("例")]),t._v(":")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("getfacl -R "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("YourDirectory"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\nsetfacl --restore "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("YourDirectory"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("p",[t._v("针对文件的话调整一下参数即可, 这里不作赘述.")]),t._v(" "),a("h3",{attrs:{id:"acl也有mask"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#acl也有mask"}},[t._v("#")]),t._v(" ACL也有mask!")]),t._v(" "),a("p",[t._v("ACL的mask设定方式为:")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("setfacl -m m:"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("rwx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("YourFileOrDirectory"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("设置mask后会将mask权限与已有的acl权限进行按位与计算, 计算后的结果会成为新的ACL权限,")]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),a("p",[t._v("默认每次设置文件的acl都会重置mask为此次给定的用户的值, 也就是说当你修改某一对象的权限时, 与它有关的所有mask都会重新进行计算, 接连地更改其他文件的权限. 这样的话, 若一个文件上要设置多个用户的acl, 重置mask后就会对已有用户的acl重新计算, 而使得acl权限得不到有效的控制. 因此"),a("code",[t._v("setfacl")]),t._v("就提供了参数"),a("code",[t._v("-n")]),t._v(", 表示此次设置不会重置mask值.")])])])}),[],!1,null,null,null);s.default=n.exports}}]);