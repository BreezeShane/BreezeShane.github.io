(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{620:function(s,t,a){"use strict";a.r(t);var e=a(1),r=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("details",{staticClass:"custom-block details"},[a("summary",[s._v("参考")]),s._v(" "),a("ol",[a("li",[a("a",{attrs:{href:"https://www.runoob.com/mysql/mysql-create-database.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("MySQL 创建数据库"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://www.runoob.com/mysql/mysql-create-tables.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("MySQL 创建数据表"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"http://c.biancheng.net/view/2430.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("MySQL创建数据表（CREATE TABLE语句）"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://www.runoob.com/mysql/mysql-data-types.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("MySQL 数据类型"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://www.cnblogs.com/Braveliu/p/10728162.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("Mysql 导入文件提示 --secure-file-priv option 问题"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://blog.csdn.net/fdipzone/article/details/52705507",target:"_blank",rel:"noopener noreferrer"}},[s._v("mysql 查看当前使用的配置文件my.cnf的方法"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://stackoverflow.com/questions/8020297/mysql-my-cnf-file-found-option-without-preceding-group",target:"_blank",rel:"noopener noreferrer"}},[s._v("MySQL my.cnf file - Found option without preceding group"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://blog.csdn.net/qq_32834005/article/details/110443574",target:"_blank",rel:"noopener noreferrer"}},[s._v("解决方法MySQL ERROR 3948 (42000): Loading local data is disabled； this must be enabled on both the"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/26964403",target:"_blank",rel:"noopener noreferrer"}},[s._v("Mysql——将CSV文件导入表中"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://blog.csdn.net/qq_29229567/article/details/82743645",target:"_blank",rel:"noopener noreferrer"}},[s._v("MYSQL：如何清空表中的数据"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://www.runoob.com/mysql/mysql-drop-tables.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("MySQL 删除数据表"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://blog.csdn.net/weiliangliang111/article/details/51333169",target:"_blank",rel:"noopener noreferrer"}},[s._v("数据库索引到底是什么，是怎样工作的？"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/23624390",target:"_blank",rel:"noopener noreferrer"}},[s._v("深入浅出数据库索引原理"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://juejin.cn/post/6844903845554814983",target:"_blank",rel:"noopener noreferrer"}},[s._v("说一下聚簇索引 & 非聚簇索引"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/388252001",target:"_blank",rel:"noopener noreferrer"}},[s._v("MySQL：聚簇索引的优缺点"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://www.liaoxuefeng.com/wiki/1177760294764384/1218728442198976",target:"_blank",rel:"noopener noreferrer"}},[s._v("索引 - 廖雪峰的官方网站"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://segmentfault.com/a/1190000023314270",target:"_blank",rel:"noopener noreferrer"}},[s._v("数据库索引的知识点，你所需要了解的都在这儿了"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://developer.huawei.com/consumer/cn/forum/topic/0202699338499720961?fid=0101592429757310384",target:"_blank",rel:"noopener noreferrer"}},[s._v("你真的会使用数据库的索引吗？"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://www.51cto.com/article/696360.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("16 个该搞定的数据库索引问题！"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://www.modb.pro/db/134175",target:"_blank",rel:"noopener noreferrer"}},[s._v("数据库索引原理，读懂这篇文章就可以跟面试官掰掰手腕了！"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://blog.csdn.net/buhuikanjian/article/details/53105416",target:"_blank",rel:"noopener noreferrer"}},[s._v("数据库--视图的基本概念以及作用"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/372569011",target:"_blank",rel:"noopener noreferrer"}},[s._v("数据库视图是什么？视图的作用？"),a("OutboundLink")],1)])])]),s._v(" "),a("h2",{attrs:{id:"mysql安装与配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mysql安装与配置"}},[s._v("#")]),s._v(" MySQL安装与配置")]),s._v(" "),a("p",[s._v("近期上课需要使用MySQL，因此我需要提前做好配置，特此一记：")]),s._v(" "),a("p",[s._v("安装仅需一步：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" pacman -S mysql\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("然后就可以开始进行配置，按照其输出的内容，我们执行：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" mysqld --initialize --user"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("mysql --basedir"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr --datadir"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/var/lib/mysql\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),a("p",[s._v("如果遇到如下报错：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("mysqld: Can"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'t create directory '")]),s._v("/var/lib/mysql/"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("' (OS errno 17 - File exists)\n2022-03-03T00:15:00.207164Z 0 [Warning] [MY-010915] [Server] '")]),s._v("NO_ZERO_DATE"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("', '")]),s._v("NO_ZERO_IN_DATE"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("' and '")]),s._v("ERROR_FOR_DIVISION_BY_ZERO' sql modes should be used with strict mode. They will be merged with strict mode "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" a future release.\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2022")]),s._v("-03-03T00:15:00.207238Z "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("System"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("MY-013169"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Server"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" /usr/bin/mysqld "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("mysqld "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.0")]),s._v(".28"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" initializing of server "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" progress as process "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("283212")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2022")]),s._v("-03-03T00:15:00.209622Z "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ERROR"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("MY-013236"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Server"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" The designated data directory /var/lib/mysql/ is unusable. You can remove all files that the server added to it.\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2022")]),s._v("-03-03T00:15:00.209733Z "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ERROR"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("MY-010119"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Server"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" Aborting\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2022")]),s._v("-03-03T00:15:00.209929Z "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("System"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("MY-010910"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Server"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" /usr/bin/mysqld: Shutdown complete "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("mysqld "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.0")]),s._v(".28"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  Source distribution.\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("什么也不用考虑，删除掉"),a("code",[s._v("/var/lib/mysql/")]),s._v("这个文件夹即可")])]),s._v(" "),a("p",[s._v("命令执行成功后请留意一下输出的内容，这里会给你默认的MySQL用户及其密码，我们需要特别记下这两个。")]),s._v(" "),a("p",[s._v("然后就需要启动MySQL服务，执行这两个命令：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" mysqld\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl start mysqld\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("以普遍的理性而言，这类的密码是反人类的，因此我们需要修改一下登录密码，先执行这个命令来连接数据库：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("mysql -uroot -p\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("然后输入刚才记下的那个复杂的密码，便可成功连接。")]),s._v(" "),a("p",[s._v("在这时你执行命令"),a("code",[s._v("use mysql;")]),s._v("会得到类似这样的提示：")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("ERROR 1820 (HY000): You must reset your password using ALTER USER statement before executing this statement.\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("所以我们可以根据提示执行这个命令：")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY '新密码';\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("这样就可以成功修改密码了，MySQL的安装与配置也到此结束了。")]),s._v(" "),a("h2",{attrs:{id:"mysql初步使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mysql初步使用"}},[s._v("#")]),s._v(" MySQL初步使用")]),s._v(" "),a("p",[s._v("首先我们先连接数据库。要使用数据库，就需要先从新建数据库开始，搜过之后，就知道要使用下面一系列命令：")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("CREATE DATABASE <NAME_OF_DB>; # 创建新数据库\nuse <NAME_OF_DB>; # 此处开始指定使用的数据库，这是每次连接数据库需要做的一步。\nCREATE TABLE <NAME_OF_TB> （ COL_1 TYPE_1, COL_2 TYPE_2 ... ）; # 创建新数据表，并分别指定COL_1和COL_2等的数据类型分别为TYPE_1和TYPE_2等。\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h2",{attrs:{id:"mysql导入本地文件数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mysql导入本地文件数据"}},[s._v("#")]),s._v(" MySQL导入本地文件数据")]),s._v(" "),a("p",[s._v("本来这件事应该很简单的，执行这个语句就应该结束一切的：")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("LOAD DATA INFILE 'PATH_TO_MY_FILE' INTO TABLE <NAME_OF_TB> FIELDS TERM INATED BY ',' LINES TERMINATED BY '\\n'  GNORE 1 ROWS;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("但就在这里报了错：")]),s._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[s._v("警告")]),s._v(" "),a("p",[s._v("The MySQL server is running with the --secure-file-priv option so it cannot execute this statement.")])]),s._v(" "),a("p",[s._v("然后经过我的长时间搜索之后了解到：MySQL在安装的时候是会限制导入和导出的目录权限的，仅在规定的目录下才可以导入。我们可以用"),a("code",[s._v('SHOW VARIABLES LIKE "secure_file_priv";')]),s._v("来查看这个变量的值应该是什么，结果果然能看到这时的状态是NULL。")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("secure_file_priv各值代表的意义")]),s._v(" "),a("p",[s._v("NULL：表示禁止，不接受任何形式的导入。")]),s._v(" "),a("p",[s._v("某目录：仅接受该目录下的文件，甚至不接受其子文件夹与其内含的文件。")]),s._v(" "),a("p",[s._v("空：不做限制，接受任何目录的导入。")])]),s._v(" "),a("p",[s._v("那么我要解决这个问题就必须要去修改配置文件了。这里又花了我较长时间才找到其配置文件所在的路径：")]),s._v(" "),a("ol",[a("li",[s._v("/etc/my.cnf")]),s._v(" "),a("li",[s._v("/etc/mysql/my.cnf")]),s._v(" "),a("li",[s._v("/usr/local/etc/my.cnf")]),s._v(" "),a("li",[s._v("~/.my.cnf")])]),s._v(" "),a("p",[s._v("这四个是MySQL默认会搜寻的路径，并且从上到下优先级是逐级降低。")]),s._v(" "),a("p",[s._v("于是我二话不说直接用管理员身份创建了"),a("code",[s._v("/etc/my.cnf")]),s._v("文件，正满怀期待地保存希望能够成功，当我执行"),a("code",[s._v("sudo systemctl restart mysqld")]),s._v("命令来重启MySQL服务的时候，它挂了……")]),s._v(" "),a("p",[s._v("当我执行"),a("code",[s._v("mysql -uroot -p")]),s._v("的时候它给出了如下报错：")]),s._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[s._v("警告")]),s._v(" "),a("p",[s._v("ERROR 2002 (HY000): Can't connect to local MySQL server through socket '/run/mysqld/mysqld.sock' (2)")])]),s._v(" "),a("p",[s._v("简单搜索了一下，这个其实意思就是MySQL服务启动失败，因此无法建立联接。当我尝试使用"),a("code",[s._v("systemctl status mysqld")]),s._v("来查看日志，接着看到了下面的报错：")]),s._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[s._v("警告")]),s._v(" "),a("p",[s._v("ERROR Found option without preceding group in config file /etc/my.cnf.")])]),s._v(" "),a("p",[s._v("搜索了几下后我才发现，原来是缺少了"),a("code",[s._v("[mysqld]")]),s._v("这个内容，粗略地看了一下，应该就是Group的一种标志，这个mysqld应该是Group的名字。于是这个文件最后长的样子应该是下面的：")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[mysqld]\nsecure_file_priv = \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("这里等号后面不写东西是对应上面提到的空的情况。最后重启服务果然能成了。")]),s._v(" "),a("p",[s._v("我想这下应该能解决了吧，于是重新开始执行了下面的语句：")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("LOAD DATA INFILE 'PATH_TO_MY_FILE' INTO TABLE <NAME_OF_TB> FIELDS TERM INATED BY ',' LINES TERMINATED BY '\\n'  GNORE 1 ROWS;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("这回又给出了报错：")]),s._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[s._v("警告")]),s._v(" "),a("p",[s._v("ERROR 3948 (42000): Loading local data is disabled; this must be enabled on both the client and server sides.")])]),s._v(" "),a("p",[s._v("搜索了一下，看到有用修改环境变量的方法解决的：")]),s._v(" "),a("p",[s._v("要修改的关键的环境变量是"),a("code",[s._v("local_infile")]),s._v("，可以使用"),a("code",[s._v("show variables like 'local_infile';")]),s._v("来查看该环境变量的值。果然执行后发现它的值是OFF。因此我需要修改这个环境变量来达到读取文件的目的，执行："),a("code",[s._v("SET GLOBAL local_infile=on;")]),s._v("这样就可以了，于是我再次执行上面的LOAD命令的时候，又遭遇了报错：")]),s._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[s._v("警告")]),s._v(" "),a("p",[s._v("ERROR 13 (HY000): Can't get stat of '/home/breezeshane/AppData/Subjects/Database/product.csv' (OS errno 13 - Permission denied)")])]),s._v(" "),a("p",[s._v("这个问题是我遇到的所有问题当中耗时最久的问题了……四下搜索无果，后来去找周围的大佬请教，终于才知道，是我缺少了LOCAL这个关键词，难怪它总是提示没有权限，我首先就打开方式不对……")]),s._v(" "),a("p",[s._v("命令的正确写法应该是：")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("LOAD DATA LOCAL INFILE '/home/breezeshane/AppData/Subjects/Database/product.csv' INTO TABLE <NAME_OF_TB> FIELDS TERMINATED BY ',' LINES TERMINATED BY '\\n' IGNORE 1 ROWS;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("这里的命令含义是：通过给出的路径获取本地文件并从中加载数据到表"),a("code",[s._v("<NAME_OF_TB>")]),s._v("里("),a("code",[s._v("LOAD DATA LOCAL INFILE '/home/breezeshane/AppData/Subjects/Database/product.csv' INTO TABLE <NAME_OF_TB>")]),s._v(")，数据的分隔符是"),a("code",[s._v(",")]),s._v("("),a("code",[s._v("FIELDS TERMINATED BY ','")]),s._v(")，行分隔符是"),a("code",[s._v("\\n")]),s._v("("),a("code",[s._v("LINES TERMINATED BY '\\n'")]),s._v(")，最后忽略掉第一行的内容("),a("code",[s._v("IGNORE 1 ROWS")]),s._v(")。")]),s._v(" "),a("h2",{attrs:{id:"mysql的一些命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mysql的一些命令"}},[s._v("#")]),s._v(" MySQL的一些命令")]),s._v(" "),a("p",[s._v("SQL语句我第一次接触，因此打算记录下来（因为我知道我大有可能不打算常用它，总会忘掉的）。")]),s._v(" "),a("ol",[a("li",[a("strong",[s._v("删除数据表/数据库")]),s._v("："),a("code",[s._v("DROP TABLE <NAME_OF_TB>")]),s._v("/"),a("code",[s._v("DROP DATABASE <NAME_OF_DB>")]),s._v("。")]),s._v(" "),a("li",[a("strong",[s._v("查看表的属性及类型")]),s._v("："),a("code",[s._v("DESCRIBE <NAME_OF_TB>")]),s._v("/"),a("code",[s._v("SHOW COLUMNS FROM <NAME_OF_TB>")]),s._v("。")]),s._v(" "),a("li",[a("strong",[s._v("查看整表")]),s._v("："),a("code",[s._v("SELECT * FROM <NAME_OF_TB>")]),s._v("。")]),s._v(" "),a("li",[a("strong",[s._v("清空数据表")]),s._v("："),a("code",[s._v("truncate <NAME_OF_TB>")]),s._v("/"),a("code",[s._v("DELETE FROM <NAME_OF_TB>")]),s._v("。")]),s._v(" "),a("li",[a("strong",[s._v("删除表中指定行")]),s._v("："),a("code",[s._v("DELETE FROM <NAME_OF_TB> WHERE <Options>")]),s._v("。")])]),s._v(" "),a("p",[s._v("实际上需要用什么去查官方文档就好了。下面给出常见语句的模板:")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("RowName"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("expr"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("agfunc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("RowName"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("RowName"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("expr"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("agfunc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("RowName"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("From")]),s._v(" TableName1 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" TableName2 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Where")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("SearchingConditions"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Group")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("GroupingConditions"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Having")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("FilteringConditions"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("其中"),a("code",[s._v("expr")]),s._v("可以是常量, 列名或由常量, 列名, 特殊函数及算术运算符构成的算数运算式. 特殊函数的使用需要结合DBMS的文档. "),a("code",[s._v("agfunc()")]),s._v("是一些聚集函数.")]),s._v(" "),a("h2",{attrs:{id:"schema的浅析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#schema的浅析"}},[s._v("#")]),s._v(" Schema的浅析")]),s._v(" "),a("p",[a("strong",[s._v("模式与数据库、表的关系")]),s._v(": 一个数据库(Database)内有多个模式(Schema), 一个模式有多个表(Table).")]),s._v(" "),a("p",[s._v("定义模式实际上定义了一个命名空间, 在这个空间中可以定义该模式包含的数据库对象，例如基本表、视图、索引等.")]),s._v(" "),a("p",[s._v("创建方法:")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SCHEMA")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("Name"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AUTHORIZATION")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("UserName"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("这个命令需要用户具有DBA的权限, 否则失败.")]),s._v(" "),a("p",[s._v("删除方法:")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DROP")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SCHEMA")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("Name"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CASCADE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("RESTRICT")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[a("code",[s._v("CASCADE")]),s._v("(级联)：删除模式的同时把该模式中所有的数据库对象全部删除；")]),s._v(" "),a("li",[a("code",[s._v("RESTRICT")]),s._v("(限制)：如果该模式中定义了下属的数据库对象（如表、视图等），则拒绝该删除语句的执行。即当该模式中没有任何下属对象时, 才可以删除。")])]),s._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[s._v("警告")]),s._v(" "),a("p",[s._v("不管任何时候删除操作都是一个需要非常慎重考虑, 仔细琢磨并小心执行的危险行为, 如果你选择要做这样的操作, 就要做好应对损失这些数据的准备, 或许可能还要做好损失其他数据的准备(大都是误删......).")])]),s._v(" "),a("h2",{attrs:{id:"索引的建立与删除"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#索引的建立与删除"}},[s._v("#")]),s._v(" 索引的建立与删除")]),s._v(" "),a("p",[s._v("DBMS中索引一般采用B+树、HASH索引来实现, B+树索引具有动态平衡的优点, HASH索引具有查找速度快的特点. 索引是关系数据库的内部实现技术，属于内模式的范畴.")]),s._v(" "),a("p",[s._v("应该知道, 索引会占用额外的存储空间，并且降低插入、删除和更新行的速度，但会提高查询速度; 应在频繁进行查询操作的列上建立索引; 系统在查询数据时自动选择合适的索引作为存储路径，用户不必也不能选择索引。")]),s._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[s._v("坑")]),s._v(" "),a("p",[s._v("(这里是施工现场, 我正在填坑了, 您先等等, 别着急......ToT)")]),s._v(" "),a("p",[s._v("我在这里先埋下大坑, 等我学完B+树和HASH表检索算法之后再回来写写这两个策略的优异性和劣势性.")])]),s._v(" "),a("p",[s._v("索引有两种类型:")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("聚簇索引")]),s._v(": 表中数据的物理存储顺序按照索引键的排序次序存储; 一个数据表只能建立一个聚簇索引")]),s._v(" "),a("li",[a("strong",[s._v("非聚簇索引")])])]),s._v(" "),a("details",{staticClass:"custom-block details"},[a("summary",[s._v("浅谈聚簇索引和非聚簇索引")]),s._v(" "),a("p",[s._v("(这里是施工现场, 我正在填坑了, 您先等等, 别着急......ToT)")])]),s._v(" "),a("p",[s._v("创建方法:")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UNIQUE")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CLUSTERED")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("NONCLUSTERED")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INDEX")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("IndexName"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("TableName"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("RowName"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Order")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("RowName"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Order")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[a("code",[s._v("<Order>")]),s._v("有两个值: "),a("code",[s._v("ASC")]),s._v("和"),a("code",[s._v("DESC")]),s._v(".")]),s._v(" "),a("p",[s._v("删除方法:")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DROP")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INDEX")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("IndexName"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),a("p",[s._v("索引也存在失效的情况, 比如在使用"),a("code",[s._v("where")]),s._v("语句时使用了负向查询.")]),s._v(" "),a("blockquote",[a("p",[s._v("负向查询包括: "),a("code",[s._v("NOT")]),s._v(", "),a("code",[s._v("!=")]),s._v(", "),a("code",[s._v("<>")]),s._v(", "),a("code",[s._v("!<")]),s._v(", "),a("code",[s._v("!>")]),s._v(", "),a("code",[s._v("NOT IN")]),s._v(", "),a("code",[s._v("NOT LIKE")]),s._v(", "),a("code",[s._v("NOT BETWEEN ... AND ...")]),s._v("等.")])]),s._v(" "),a("p",[s._v("在允许为"),a("code",[s._v("null")]),s._v("的列上建立索引也会导致这样的问题.")]),s._v(" "),a("p",[s._v("还有在使用"),a("code",[s._v("A OR B")]),s._v("语句中, 有一个是没有索引的这种情况也是如此.")]),s._v(" "),a("p",[s._v("另外, 如果对索引列进行运算, 索引一定会失效.")])]),s._v(" "),a("h2",{attrs:{id:"视图"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#视图"}},[s._v("#")]),s._v(" 视图")]),s._v(" "),a("p",[a("strong",[s._v("定义")]),s._v(": 是从一个或多个表导出的虚拟的表，其内容由查询定义. 它具有普通表的结构, 但是不实现数据存储.")]),s._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),a("p",[s._v("视图定义约束要求:")]),s._v(" "),a("ol",[a("li",[s._v("组成视图的属性列名要么是全部省略, 要么就是全部指定.")]),s._v(" "),a("li",[s._v("子查询不允许使用"),a("code",[s._v("order by")]),s._v("子句和"),a("code",[s._v("distinct")]),s._v("短语.")])])]),s._v(" "),a("p",[a("strong",[s._v("作用")]),s._v(":")]),s._v(" "),a("ol",[a("li",[s._v("视图能够简化用户的操作，适当的用视图可以更清晰地表达查询.")]),s._v(" "),a("li",[s._v("视图使用户能以多种角度看待同一数据.")]),s._v(" "),a("li",[s._v("视图对重构数据库提供了一定程度的逻辑独立性, 屏蔽了真实表的结构带来的影响.")]),s._v(" "),a("li",[s._v("视图能够对机密数据提供安全防护, 用户只能查询和修改能看到的数据.")])]),s._v(" "),a("p",[a("strong",[s._v("缺点")]),s._v(":")]),s._v(" "),a("ol",[a("li",[s._v("性能差: 数据库必须把视图查询转化成对基本表的查询，如果这个视图是由一个复杂的多表查询所定义，那么，即使是视图的一个简单查询，数据库也要把它变成一个复杂的结合体，需要花费一定的时间。")]),s._v(" "),a("li",[s._v("修改受限: 当用户试图修改视图的某些信息时，数据库必须把它转化为对基本表的某些信息的修改，对于简单的视图来说，这是很方便的，但是，对于比较复杂的试图，可能是不可修改的。")])])])}),[],!1,null,null,null);t.default=r.exports}}]);