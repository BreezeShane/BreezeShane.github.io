<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.20" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.79" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"ArchLinux 安装与配置","image":[""],"dateModified":"2025-04-29T09:43:59.000Z","author":[{"@type":"Person","name":"𝕭𝖗𝖊𝖊𝖟𝖊 𝕾𝖍𝖆𝖓𝖊","url":"https://github.com/BreezeShane"}]}</script><meta property="og:url" content="https://breezeshane.github.io/Diverse-Essays/Linux/Linux.html"><meta property="og:site_name" content="𝕭𝖗𝖊𝖊𝖟𝖊 𝕾𝖍𝖆𝖓𝖊 𝕭𝖑𝖔𝖌"><meta property="og:title" content="ArchLinux 安装与配置"><meta property="og:description" content="梦前要备床 参考资料 nvme硬盘的断电保护是否有用，是噱头、智商税还是真的有需要？购买DOCKCASE智能M2固态硬盘盒10秒保护 在今年1月初，正逢固态价格较低的时候，我用￥578.98的价格买下了 SOLIDIGM P44 PRO 海力士固态硬盘，并另外购置了一个高端硬盘盒 DOCKCASE Type-C 3.2, 该硬盘盒附带屏幕，还具备断电保..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2025-04-29T09:43:59.000Z"><meta property="article:tag" content="Journal"><meta property="article:tag" content="Linux"><meta property="article:tag" content="Eclectic"><meta property="article:modified_time" content="2025-04-29T09:43:59.000Z"><link rel="icon" href="/logos/site-logo.svg"><title>ArchLinux 安装与配置 | 𝕭𝖗𝖊𝖊𝖟𝖊 𝕾𝖍𝖆𝖓𝖊 𝕭𝖑𝖔𝖌</title><meta name="description" content="梦前要备床 参考资料 nvme硬盘的断电保护是否有用，是噱头、智商税还是真的有需要？购买DOCKCASE智能M2固态硬盘盒10秒保护 在今年1月初，正逢固态价格较低的时候，我用￥578.98的价格买下了 SOLIDIGM P44 PRO 海力士固态硬盘，并另外购置了一个高端硬盘盒 DOCKCASE Type-C 3.2, 该硬盘盒附带屏幕，还具备断电保...">
    <link rel="preload" href="/assets/style-BO5eW5NS.css" as="style"><link rel="stylesheet" href="/assets/style-BO5eW5NS.css">
    <link rel="modulepreload" href="/assets/app-8-ql20LB.js"><link rel="modulepreload" href="/assets/Linux.html-_yowxmwT.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-DlAUqK2U.js">
    <link rel="prefetch" href="/assets/index.html-BkV9MWxk.js" as="script"><link rel="prefetch" href="/assets/resume.html-Coyw3Zwh.js" as="script"><link rel="prefetch" href="/assets/GPU.html-CVJRpEAB.js" as="script"><link rel="prefetch" href="/assets/index.html-B1kjX4Vz.js" as="script"><link rel="prefetch" href="/assets/Crawler.html-DnhbNDpR.js" as="script"><link rel="prefetch" href="/assets/Database.html-CxxHu7w5.js" as="script"><link rel="prefetch" href="/assets/Git_Commands.html-DOcNr0iR.js" as="script"><link rel="prefetch" href="/assets/LaTeX.html-CWtyw1Y2.js" as="script"><link rel="prefetch" href="/assets/index.html-Cd0XLpfC.js" as="script"><link rel="prefetch" href="/assets/BrokenThoughts.html-B8IMcMV3.js" as="script"><link rel="prefetch" href="/assets/CongruenceExpression.html-Crpnq5BM.js" as="script"><link rel="prefetch" href="/assets/ConjugateFunction.html-QHWh5LF7.js" as="script"><link rel="prefetch" href="/assets/Convex.html-ClojJZmX.js" as="script"><link rel="prefetch" href="/assets/LipschitzContinuity.html-_tsCN52p.js" as="script"><link rel="prefetch" href="/assets/index.html-3quEXl-U.js" as="script"><link rel="prefetch" href="/assets/index.html-DvDr7mvi.js" as="script"><link rel="prefetch" href="/assets/FGAN.html-DML8soCM.js" as="script"><link rel="prefetch" href="/assets/LowLightMetrics.html-CjLSzY_X.js" as="script"><link rel="prefetch" href="/assets/StandardGAN.html-C66veYLr.js" as="script"><link rel="prefetch" href="/assets/WGAN-div.html-DSNZL9MA.js" as="script"><link rel="prefetch" href="/assets/WGAN-gp.html-CuxDexrn.js" as="script"><link rel="prefetch" href="/assets/WGAN.html-B-S6sH8n.js" as="script"><link rel="prefetch" href="/assets/index.html-D6jU6tgb.js" as="script"><link rel="prefetch" href="/assets/SystemSafety.html-BDyTvR9A.js" as="script"><link rel="prefetch" href="/assets/UUA.html-tAOzGejc.js" as="script"><link rel="prefetch" href="/assets/ISDN.html-BdieBf3Z.js" as="script"><link rel="prefetch" href="/assets/SDN.html-DXCGzHzy.js" as="script"><link rel="prefetch" href="/assets/404.html-rMVL5mSb.js" as="script"><link rel="prefetch" href="/assets/index.html-DuMdT68I.js" as="script"><link rel="prefetch" href="/assets/index.html-B0Q6YL1u.js" as="script"><link rel="prefetch" href="/assets/index.html-BBfelXjJ.js" as="script"><link rel="prefetch" href="/assets/index.html-01aDmjNz.js" as="script"><link rel="prefetch" href="/assets/index.html-CrrVJ_pu.js" as="script"><link rel="prefetch" href="/assets/index.html-DCsOh6gn.js" as="script"><link rel="prefetch" href="/assets/index.html-Bi0iATNW.js" as="script"><link rel="prefetch" href="/assets/index.html-izWGX-BA.js" as="script"><link rel="prefetch" href="/assets/index.html-Ckts2DXz.js" as="script"><link rel="prefetch" href="/assets/index.html-DIWyKrjo.js" as="script"><link rel="prefetch" href="/assets/index.html-HWsKzFTp.js" as="script"><link rel="prefetch" href="/assets/index.html-D6f4CQy2.js" as="script"><link rel="prefetch" href="/assets/index.html-pZCEWT8A.js" as="script"><link rel="prefetch" href="/assets/index.html-hJUVodKV.js" as="script"><link rel="prefetch" href="/assets/index.html-Bj9QmZaz.js" as="script"><link rel="prefetch" href="/assets/index.html-DdoMqQ8z.js" as="script"><link rel="prefetch" href="/assets/index.html-UMqOm-Lc.js" as="script"><link rel="prefetch" href="/assets/index.html-Bec4rz8g.js" as="script"><link rel="prefetch" href="/assets/index.html-D19QpsmB.js" as="script"><link rel="prefetch" href="/assets/index.html-DjuHSuex.js" as="script"><link rel="prefetch" href="/assets/index.html-CcgL6c1h.js" as="script"><link rel="prefetch" href="/assets/index.html-CASMTrTs.js" as="script"><link rel="prefetch" href="/assets/index.html-w0hW4qqx.js" as="script"><link rel="prefetch" href="/assets/index.html-BTV4OQty.js" as="script"><link rel="prefetch" href="/assets/index.html-CjPnaNnD.js" as="script"><link rel="prefetch" href="/assets/index.html-Cj0d0t1S.js" as="script"><link rel="prefetch" href="/assets/index.html-f3EusKAe.js" as="script"><link rel="prefetch" href="/assets/index.html-BWsejZs3.js" as="script"><link rel="prefetch" href="/assets/index.html-BuLlHIyg.js" as="script"><link rel="prefetch" href="/assets/index.html-DzLCeXtv.js" as="script"><link rel="prefetch" href="/assets/index.html-Dogubnp8.js" as="script"><link rel="prefetch" href="/assets/index.html-gO57J6V2.js" as="script"><link rel="prefetch" href="/assets/index.html-cRr115lG.js" as="script"><link rel="prefetch" href="/assets/index.html-BxCtuYca.js" as="script"><link rel="prefetch" href="/assets/index.html-CfpGtE4G.js" as="script"><link rel="prefetch" href="/assets/index.html-D0HPMrLZ.js" as="script"><link rel="prefetch" href="/assets/index.html-7GdpiZfS.js" as="script"><link rel="prefetch" href="/assets/index.html-H5_PMqN2.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-DXWKOczD.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">跳至主要內容</a><!--]--><!--[--><div class="theme-container external-link-icon has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><a class="route-link vp-brand" href="/" aria-label="带我回家"><img class="vp-nav-logo" src="/logos/navbar-logo.svg" alt><!----><span class="vp-site-name hide-in-pad">𝕭𝖗𝖊𝖊𝖟𝖊 𝕾𝖍𝖆𝖓𝖊 𝕭𝖑𝖔𝖌</span></a><!--]--></div><div class="vp-navbar-center"><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/" aria-label="𝕭𝖗𝖊𝖊𝖟𝖊 𝕾𝖍𝖆𝖓𝖊 𝕭𝖑𝖔𝖌" iconsizing="height"><!--[--><img class="vp-icon" src="/logos/house-solid.svg" alt aria-hidden no-view height="1em" sizing="height"><!--]-->𝕭𝖗𝖊𝖊𝖟𝖊 𝕾𝖍𝖆𝖓𝖊 𝕭𝖑𝖔𝖌<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/Mathematics/" aria-label="Mathematics" iconsizing="height"><!--[--><img class="vp-icon" src="/logos/infinity-solid.svg" alt aria-hidden no-view height="1em" sizing="height"><!--]-->Mathematics<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/Artificial-Intelligence/" aria-label="Artificial Intelligence" iconsizing="height"><!--[--><img class="vp-icon" src="/logos/hexagon-nodes-solid.svg" alt aria-hidden no-view height="1em" sizing="height"><!--]-->Artificial Intelligence<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/Paper-Reviews/" aria-label="Paper Reviews" iconsizing="height"><!--[--><img class="vp-icon" src="/logos/pen-to-square-solid.svg" alt aria-hidden no-view height="1em" sizing="height"><!--]-->Paper Reviews<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link route-link-active auto-link" href="/Diverse-Essays/" aria-label="Diverse Essays" iconsizing="height"><!--[--><img class="vp-icon" src="/logos/swatchbook-solid.svg" alt aria-hidden no-view height="1em" sizing="height"><!--]-->Diverse Essays<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="auto-link external-link" href="https://breezeshane.github.io/YuuJinChou/" aria-label="友人帳" rel="noopener noreferrer" target="_blank" iconsizing="height"><!--[--><img class="vp-icon" src="/logos/address-book-solid.svg" alt aria-hidden no-view height="1em" sizing="height"><!--]-->友人帳<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/resume.html" aria-label="𝕬𝖇𝖔𝖚𝖙" iconsizing="height"><!--[--><img class="vp-icon" src="/logos/circle-info-solid.svg" alt aria-hidden no-view height="1em" sizing="height"><!--]-->𝕬𝖇𝖔𝖚𝖙<!----></a></div></nav><!--]--></div><div class="vp-navbar-end"><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/BreezeShane/BreezeShane.github.io" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-color-mode-switch" id="color-mode-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" name="auto" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" name="dark" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" name="light" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/" aria-label="𝕭𝖗𝖊𝖊𝖟𝖊 𝕾𝖍𝖆𝖓𝖊 𝕭𝖑𝖔𝖌" iconsizing="both"><!--[--><img class="vp-icon" src="/logos/house-solid.svg" alt aria-hidden no-view width="1em" height="1em" sizing="both"><!--]-->𝕭𝖗𝖊𝖊𝖟𝖊 𝕾𝖍𝖆𝖓𝖊 𝕭𝖑𝖔𝖌<!----></a></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><img class="vp-icon" src="/logos/infinity-solid.svg" alt aria-hidden no-view width="1em" height="1em" sizing="both"><span class="vp-sidebar-title">Mathematics</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><img class="vp-icon" src="/logos/hexagon-nodes-solid.svg" alt aria-hidden no-view width="1em" height="1em" sizing="both"><span class="vp-sidebar-title">Artificial Intelligence</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><img class="vp-icon" src="/logos/pen-to-square-solid.svg" alt aria-hidden no-view width="1em" height="1em" sizing="both"><span class="vp-sidebar-title">Paper Reviews</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><img class="vp-icon" src="/logos/swatchbook-solid.svg" alt aria-hidden no-view width="1em" height="1em" sizing="both"><span class="vp-sidebar-title">Diverse Essays</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/Diverse-Essays/" aria-label="专题导览" iconsizing="both"><!---->专题导览<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/Diverse-Essays/Crawler.html" aria-label="Crawler" iconsizing="both"><!---->Crawler<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/Diverse-Essays/Git_Commands.html" aria-label="Git Commands" iconsizing="both"><!---->Git Commands<!----></a></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">Linux 专题目录</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/Diverse-Essays/Linux/" aria-label="Linux 专题目录" iconsizing="both"><!---->Linux 专题目录<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/Diverse-Essays/Linux/Linux.html" aria-label="ArchLinux 安装与配置" iconsizing="both"><!---->ArchLinux 安装与配置<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/Diverse-Essays/Linux/UUA.html" aria-label="Linux 用户与组和权限分配杂谈" iconsizing="both"><!---->Linux 用户与组和权限分配杂谈<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/Diverse-Essays/Linux/SystemSafety.html" aria-label="Linux 系统安全防护" iconsizing="both"><!---->Linux 系统安全防护<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">SDN</span><span class="vp-arrow end"></span></button><!----></section></li><li><a class="route-link auto-link vp-sidebar-link" href="/Diverse-Essays/LaTeX.html" aria-label="TeXlive-LaTeX 使用" iconsizing="both"><!---->TeXlive-LaTeX 使用<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/Diverse-Essays/Database.html" aria-label="数据库泛谈" iconsizing="both"><!---->数据库泛谈<!----></a></li></ul></section></li><li><a class="auto-link external-link vp-sidebar-link" href="https://breezeshane.github.io/YuuJinChou/" aria-label="友人帳" rel="noopener noreferrer" target="_blank" iconsizing="both"><!--[--><img class="vp-icon" src="/logos/address-book-solid.svg" alt aria-hidden no-view width="1em" height="1em" sizing="both"><!--]-->友人帳<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/resume.html" aria-label="𝕬𝖇𝖔𝖚𝖙" iconsizing="both"><!--[--><img class="vp-icon" src="/logos/circle-info-solid.svg" alt aria-hidden no-view width="1em" height="1em" sizing="both"><!--]-->𝕬𝖇𝖔𝖚𝖙<!----></a></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->ArchLinux 安装与配置</h1><div class="page-info"><span class="page-author-info" aria-label="作者🖊" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://github.com/BreezeShane" target="_blank" rel="noopener noreferrer">𝕭𝖗𝖊𝖊𝖟𝖊 𝕾𝖍𝖆𝖓𝖊</a></span><span property="author" content="𝕭𝖗𝖊𝖊𝖟𝖊 𝕾𝖍𝖆𝖓𝖊"></span></span><span class="page-date-info" aria-label="写作日期📅" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">2025年4月21日</span><meta property="datePublished" content="2025-04-21T16:23:49.000Z"></span><span class="page-category-info" aria-label="分类🌈" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon" name="category"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item color4 clickable" role="navigation">Diverse Essays</span><!--]--><meta property="articleSection" content="Diverse Essays"></span><span class="page-tag-info" aria-label="标签🏷" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon" name="tag"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item color5 clickable" role="navigation">Eclectic</span><span class="page-tag-item color2 clickable" role="navigation">Linux</span><span class="page-tag-item color5 clickable" role="navigation">Journal</span><!--]--><meta property="keywords" content="Eclectic,Linux,Journal"></span><span class="page-word-info" aria-label="字数🔠" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon word-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="word icon" name="word"><path d="M518.217 432.64V73.143A73.143 73.143 0 01603.43 1.097a512 512 0 01419.474 419.474 73.143 73.143 0 01-72.046 85.212H591.36a73.143 73.143 0 01-73.143-73.143z"></path><path d="M493.714 566.857h340.297a73.143 73.143 0 0173.143 85.577A457.143 457.143 0 11371.566 117.76a73.143 73.143 0 0185.577 73.143v339.383a36.571 36.571 0 0036.571 36.571z"></path></svg><span>约 15833 字</span><meta property="wordCount" content="15833"></span><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 53 分钟</span><meta property="timeRequired" content="PT53M"></span></div><hr></div><!----><div class="" vp-content><!----><div id="markdown-content"><h2 id="梦前要备床" tabindex="-1"><a class="header-anchor" href="#梦前要备床"><span>梦前要备床</span></a></h2><div class="hint-container info"><p class="hint-container-title">参考资料</p><p><a href="https://www.cnblogs.com/devilmaycry812839668/p/17070158.html" target="_blank" rel="noopener noreferrer">nvme硬盘的断电保护是否有用，是噱头、智商税还是真的有需要？购买DOCKCASE智能M2固态硬盘盒10秒保护</a></p></div><p>在今年1月初，正逢固态价格较低的时候，我用￥578.98的价格买下了 SOLIDIGM P44 PRO 海力士固态硬盘，并另外购置了一个高端硬盘盒 DOCKCASE Type-C 3.2, 该硬盘盒附带屏幕，还具备断电保护，实际测试大约有5s的断电保护。</p><div class="hint-container warning"><p class="hint-container-title">注意事项</p><p>含断电保护的硬盘盒一般在断电保护时会发生如下事情：</p><ol><li>检测到断电，此时电容放电，然后为当前硬盘写入读写保护标志</li><li>在电容放电时间内更新FTL映射表</li><li>更新完成后在不到10%的电量下进行弹出硬盘操作（移除读写保护标志等）</li><li>电容放电完毕，停止一切操作</li></ol><p>读写保护标志写入后，该盘会既无法读取，也无法写入任何数据，这意味着，当你关闭计算机时，PC断电后会立即触发硬盘盒断电保护的机制，如果在它未释放完所有电时启动计算机，此时硬盘仍处于读写保护状态，因此当计算机启动结束时用户会发现该盘无法读取/系统不识别该盘等类似问题。</p></div><h2 id="入梦的开始" tabindex="-1"><a class="header-anchor" href="#入梦的开始"><span>入梦的开始</span></a></h2><div class="hint-container info"><p class="hint-container-title">参考资料 <a href="https://archlinuxstudio.github.io/ArchLinuxTutorial/#/rookie/basic_install?id=_0%e7%a6%81%e7%94%a8-reflector" target="_blank" rel="noopener noreferrer">Arch Linux 基础安装 / 0.禁用 reflector</a>、<a href="https://archlinuxstudio.github.io/ArchLinuxTutorial/#/rookie/basic_install?id=_1%e5%86%8d%e6%ac%a1%e7%a1%ae%e4%bf%9d%e6%98%af%e5%90%a6%e4%b8%ba-uefi-%e6%a8%a1%e5%bc%8f" target="_blank" rel="noopener noreferrer">Arch Linux 基础安装 / 1.再次确保是否为 UEFI 模式</a></p></div><p>提前准备好 ArchLinux 的镜像之后，通过 Ventoy 把 TF 卡做成启动盘，将镜像放入之后, 用户可在此时考虑直接给盘划好分区，不管怎么说，图形化分区还是比命令行分区更友好方便。在保证 Secure Boot 【安全启动】处于关闭, 且启动方式为 UEFI 的情况下, 通过 BIOS 启动【Portable PC 一般按<code>F12</code>即可自行选择启动项】镜像系统。一般安装镜像系统是无图形化界面的，会以终端的形式出现。</p><div class="hint-container tip"><p class="hint-container-title">提示</p><p>【可选】执行<code>sudo systemctl stop reflector.service</code>来禁用 reflector ，以避免镜像源筛选不准确的可能性，该事件存在一定的概率会发生。</p><p>【可选】如已遗忘 BIOS 启动方式是否为 UEFI 时，可执行<code>ls /sys/firmware/efi/efivars</code>来查看，如若输出大量文字(EFI 变量)，说明当前已在 UEFI 模式。</p></div><h3 id="有线或无线联网" tabindex="-1"><a class="header-anchor" href="#有线或无线联网"><span>有线或无线联网</span></a></h3><div class="hint-container info"><p class="hint-container-title">参考资料 <a href="https://zhuanlan.zhihu.com/p/571764449" target="_blank" rel="noopener noreferrer">ArchLinux安装教程 / 连接到互联网</a>、<a href="https://archlinuxstudio.github.io/ArchLinuxTutorial/#/rookie/basic_install?id=_2%e8%bf%9e%e6%8e%a5%e7%bd%91%e7%bb%9c" target="_blank" rel="noopener noreferrer">Arch Linux 基础安装 / 2.连接网络</a></p></div><p>装机第一事，先连互联网。有线网络下插入网线即可【Portable PC可接入扩展坞后再接入网线】；无线网络下可使用 iwctl 接入，按照以下顺序依行键入命令：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">iwctl</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">                           # 执行iwctl命令，进入交互式命令行</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">device</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> list</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">                     # 列出设备名，一般无线网卡中会看到 wlan0</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">station</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> wlan0</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> scan</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">              # 扫描可连接的所有无线网络</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">station</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> wlan0</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> get-networks</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">      # 列出当前扫描到的所有无线网络</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">station</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> wlan0</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> connect</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">YOUR-WIRELESS-NAM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">E&gt; </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 进行连接，后面会提示键入密码</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">exit</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">                            # 也可直接按 Ctrl + D 的热键退出 iwctl 程序，退出后可使用 ping 命令确认网络连接状态</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">提示</p><p>如果提示没有 iwctl 命令请先安装<code>iwd</code>，并通过<code>systemctl enable iwd</code>和<code>systemctl start iwd</code>来启动。</p><p>如果你不能正常连接网络，首先确认系统已经启用网络接口:</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ip</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> link</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ip</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> link</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> set</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> wlan0</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> up</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></div><p>为保证网络正常连接，需要进行一次时间同步：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">timedatectl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> set-ntp</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> true</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    # 将系统时间与网络时间进行同步</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">timedatectl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> status</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">          # 检查服务状态</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="硬盘分区" tabindex="-1"><a class="header-anchor" href="#硬盘分区"><span>硬盘分区</span></a></h3><div class="hint-container info"><p class="hint-container-title">参考资料 <a href="https://zhuanlan.zhihu.com/p/399986218" target="_blank" rel="noopener noreferrer">Linux 中 Swap 交换分区设置教程，以及 Swap 大小与内存的关系 / 一、Swap 分区是什么</a></p></div><p>如果用户忘记在前面分区，这时还是可以直接进行分区的，首先执行<code>lsblk</code>查看所有硬盘的分区情况，找出需要分区的盘【类似<code>/dev/sdX</code>或者<code>/dev/nvme0n1pX</code>，以实际情况为准】，然后执行<code>parted /dev/xxxxxxx</code>进入程序。</p><p>一般情况下我们使用GPT分区表，进入程序后执行<code>mktable</code>，这时会询问使用什么类型的分区表，键入<code>gpt</code>即可，然后输入<code>quit</code>退出。</p><p>接着执行<code>cfdisk /dev/xxxxxxx</code>来为硬盘分区，划分好区并确认没问题之后，记得最后执行写入<code>[w]</code>，cfdisk下面有提示。</p><p>【可选】键入<code>fdisk -l</code>查看分区情况。</p><div class="hint-container tip"><p class="hint-container-title">请留意一下分区类别</p><p>在使用<code>fdisk -l</code>时请留意一下第一分区的 Type 是不是<code>EFI System</code>，如果不是可以在<code>cfdisk</code>中选中第一分区后在下方选择<code>[Type]</code>，调整为<code>EFI System</code>即可。</p></div><p>顺便给出我的分区情况：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Disk</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /dev/sda:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 953.87</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> GiB,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1024209543168</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> bytes,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2000409264</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> sectors</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Disk</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> model:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> DSWC1P</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Units:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> sectors</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> of</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> *</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 512</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 512</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> bytes</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Sector</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> size</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (logical/physical): 512 bytes / 512 bytes</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">I/O</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> size</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (minimum/optimal): 512 bytes / 33553920 bytes</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Disklabel</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> type:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> gpt</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Disk</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> identifier:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> C09E473C-91BF-49CF-A6E8-371D67B13335</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Device</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">          Start</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        End</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    Sectors</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   Size</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Type</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">/dev/sda1</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">        4096</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    1052671</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    1048576</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   512M</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> EFI</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> System</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">/dev/sda2</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     1052672</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  630198271</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  629145600</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   300G</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Linux</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> filesystem</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">/dev/sda3</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">   630198272</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1967132671</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1336934400</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 629.5G</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Linux</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> filesystem</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">/dev/sda4</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  1967132672</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2000408575</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">   33275904</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  23.9G</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Linux</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> filesystem</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container info"><p class="hint-container-title">说明</p><p>我另外分了约24G大小的分区，这个分区将被做成 Swap 分区。这种分区是用来缓解内存不足的问题，类似 Windows 的虚拟内存。事实上 Btrfs 文件系统允许使用 Swap 文件来代替 Swap 分区，不过仅能当作虚拟内存使用。而我划分成分区是为了支持系统休眠（Systemctl hibernate）的。</p></div><p>分好区后，就该接着进行格式化了，我个人倾向这样安排文件系统: EFI 分区使用 FAT32 文件系统，系统和数据要做物理隔离，系统分区和数据分区均使用 Btrfs 文件系统，最后剩下的这个分区则是 Swap 分区。</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mkfs.vfat</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -L</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> EFISYS</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /dev/xxxx1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mkfs.btrfs</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -m</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> dup</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -d</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> single</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -L</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> SYSTEM</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /dev/xxxx2</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mkfs.btrfs</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -m</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> dup</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -d</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> single</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -L</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> DATA</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /dev/xxxx3</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mkswap</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -L</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> SWAP</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /dev/xxxx4</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="btrfs" tabindex="-1"><a class="header-anchor" href="#btrfs"><span>Btrfs</span></a></h3><div class="hint-container info"><p class="hint-container-title">参考资料 <a href="https://arch.icekylin.online/guide/rookie/basic-install#_7-2-3-%E5%88%9B%E5%BB%BA-btrfs-%E5%AD%90%E5%8D%B7" target="_blank" rel="noopener noreferrer">archlinux 基础安装 / 7-2-3. 创建 Btrfs 子卷</a> <a href="https://www.cnblogs.com/lookfeel/p/17975517" target="_blank" rel="noopener noreferrer">archlinux调整分区及btrfs文件系统大小</a></p></div><p>为了利用 Btrfs 的特性，需要先挂载一下然后创建子卷。挂载时可以开启透明压缩，执行命令<code>mount -t btrfs -o compress=zstd /dev/xxxx2 /mnt</code>。</p><div class="hint-container tip"><p class="hint-container-title">可以使用<code>df -h</code>来确认挂载情况。</p></div><p>然后创建 Btrfs 子卷，执行：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">btrfs</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> subvolume</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> create</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /mnt/@</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 创建 / 目录子卷</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">btrfs</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> subvolume</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> create</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /mnt/@home</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 创建 /home 目录子卷</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container info"><p class="hint-container-title">这样布局是因为 TimeShift 仅支持这种布局。</p></div><div class="hint-container tip"><p class="hint-container-title">可以使用<code>btrfs subvolume list -p /mnt</code>来确认子卷情况</p></div><p>创建好之后先卸载掉该分区，执行<code>umount /mnt</code></p><div class="hint-container caution"><p class="hint-container-title">警告</p><p>如果未来需要调整 Btrfs 分区，请严格按照以下执行顺序来做：</p><ol><li>挂载 Btrfs 分区</li><li>通过 Btrfs 的工具缩小分区，执行<code>btrfs filesystem resize &lt;TARGET_PARTITION_SIZE&gt; &lt;MOUNT_POINT&gt;</code></li><li>使用<code>cfdisk</code>调整分区</li></ol><p>如果不按照该顺序执行，将会导致 Btrfs 分区无法正常挂载，这是由 Btrfs 的基本原理决定的。</p><p>若不幸先使用了<code>cfdisk</code>调整分区，如果这时还未执行额外操作，只是简单地缩小了 Btrfs 分区，对于出现的空闲空间没有做进一步操作，那么还可以使用<code>cfdisk</code>调整回原有大小，这时 Btrfs 分区就可以正常挂载了。</p><p>若对空闲空间做了创建分区、格式化等操作，不保证删除该分区后通过<code>cfdisk</code>调整回原有大小是否还能正常挂载 Btrfs 分区，这取决于进一步的操作是否影响 Btrfs 的 BTree 索引。</p></div><h3 id="硬盘挂载" tabindex="-1"><a class="header-anchor" href="#硬盘挂载"><span>硬盘挂载</span></a></h3><div class="hint-container info"><p class="hint-container-title">参考资料 <a href="https://arch.icekylin.online/guide/rookie/basic-install#_8-%E6%8C%82%E8%BD%BD" target="_blank" rel="noopener noreferrer">archlinux 基础安装 / 8. 挂载</a></p></div><p>格式化完成之后，需要按照如下顺序进行挂载</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mount</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -t</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> btrfs</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -o</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> subvol=/@,compress=zstd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /dev/xxxx2</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /mnt</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mkdir</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /mnt/home</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mount</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -t</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> btrfs</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -o</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> subvol=/@home,compress=zstd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /dev/xxxx2</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /mnt/home</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mkdir</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /mnt/home/MyData</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mount</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -t</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> btrfs</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -o</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> compress=zstd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /dev/xxxx3</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /mnt/home/MyData</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mkdir</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /mnt/boot/efi</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mount</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /dev/xxxx1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /mnt/boot/efi</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">swapon</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /dev/xxxx4</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>挂载完请使用<code>df -h</code>确认一次挂载情况，确保没有挂载错误。对于 Swap 分区的挂载情况可以使用<code>free -h</code>查看。</p><h3 id="系统安装" tabindex="-1"><a class="header-anchor" href="#系统安装"><span>系统安装</span></a></h3><details class="hint-container details"><summary>参考资料</summary><ol><li><a href="https://arch.icekylin.online/guide/rookie/basic-install#_9-%E5%AE%89%E8%A3%85%E7%B3%BB%E7%BB%9F" target="_blank" rel="noopener noreferrer">archlinux 基础安装 / 安装系统</a></li><li><a href="https://bbs.archlinux.org/viewtopic.php?id=250535" target="_blank" rel="noopener noreferrer">Does linux or linux-lts depend on specific version of linux-firmware?</a></li><li><a href="https://archlinux.org/packages/core/x86_64/linux-lts-headers/" target="_blank" rel="noopener noreferrer">linux-lts-headers 6.12.23-1 - Arch Linux</a></li><li><a href="https://archlinuxstudio.github.io/ArchLinuxTutorial/#/rookie/basic_install?id=_7%e9%95%9c%e5%83%8f%e6%ba%90%e7%9a%84%e9%80%89%e6%8b%a9" target="_blank" rel="noopener noreferrer">Arch Linux 基础安装 / 7.镜像源的选择</a></li><li><a href="https://arch.icekylin.online/guide/rookie/basic-install#_6-%E6%9B%B4%E6%8D%A2%E5%9B%BD%E5%86%85%E8%BD%AF%E4%BB%B6%E4%BB%93%E5%BA%93%E9%95%9C%E5%83%8F%E6%BA%90%E5%8A%A0%E5%BF%AB%E4%B8%8B%E8%BD%BD%E9%80%9F%E5%BA%A6" target="_blank" rel="noopener noreferrer">archlinux 基础安装 / 6. 更换国内软件仓库镜像源加快下载速度</a></li><li><a href="https://archlinuxstudio.github.io/ArchLinuxTutorial/#/rookie/basic_install?id=_9%e7%94%9f%e6%88%90-fstab-%e6%96%87%e4%bb%b6" target="_blank" rel="noopener noreferrer">Arch Linux 基础安装 / 9.生成 fstab 文件</a></li><li><a href="https://archlinuxstudio.github.io/ArchLinuxTutorial/#/rookie/basic_install?id=_10change-root" target="_blank" rel="noopener noreferrer">Arch Linux 基础安装 / 10.change root</a></li></ol></details><p>接下来要安装系统了，在此之前先选择好镜像源，执行<code>vim /etc/pacman.d/mirrorlist</code>来查看当前所有镜像，并将中科大镜像源写到第一行中：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Server</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://mirrors.ustc.edu.cn/archlinux/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$repo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/os/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$arch</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>接下来执行该命令安装系统【先确保等待 <code>pacman-init.service</code> 服务启动后，才能执行，可通过<code>systemctl status pacman-init</code>查看】：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pacstrap</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /mnt</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> base</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> base-devel</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> linux</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> linux-headers</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> linux-firmware</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> btrfs-progs</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pacstrap</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /mnt</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> dhcpcd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> vim</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> bash-completion</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> iwd</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">提示</p><p>如果你希望使用 linux-lts 内核，应执行以下这些命令：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pacstrap</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /mnt</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> base</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> base-devel</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> linux-lts</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> linux-lts-headers</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> linux-firmware</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> btrfs-progs</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pacstrap</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /mnt</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> dhcpcd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> vim</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> bash-completion</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> iwd</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></div><p>安装完毕后，执行<code>genfstab -U /mnt &gt;&gt; /mnt/etc/fstab</code>来写入<code>fstab</code>文件，可通过<code>cat /mnt/etc/fstab</code>进一步查看是否有误。</p><p>一切都没有问题之后，就可以 chroot 了，执行<code>arch-chroot /mnt</code>进入刚刚安装的系统。</p><h2 id="初梦" tabindex="-1"><a class="header-anchor" href="#初梦"><span>初梦</span></a></h2><h3 id="设置系统时区、语言以及字符编码" tabindex="-1"><a class="header-anchor" href="#设置系统时区、语言以及字符编码"><span>设置系统时区、语言以及字符编码</span></a></h3><details class="hint-container details"><summary>参考资料</summary><ol><li><a href="https://archlinuxstudio.github.io/ArchLinuxTutorial/#/rookie/basic_install?id=_11%e6%97%b6%e5%8c%ba%e8%ae%be%e7%bd%ae" target="_blank" rel="noopener noreferrer">Arch Linux 基础安装 / 11.时区设置</a></li><li><a href="https://arch.icekylin.online/guide/rookie/basic-install#_12-%E8%AE%BE%E7%BD%AE%E4%B8%BB%E6%9C%BA%E5%90%8D%E4%B8%8E%E6%97%B6%E5%8C%BA" target="_blank" rel="noopener noreferrer">archlinux 基础安装 / 12. 设置主机名与时区</a></li><li><a href="https://archlinuxstudio.github.io/ArchLinuxTutorial/#/rookie/basic_install?id=_12%e8%ae%be%e7%bd%ae-locale-%e8%bf%9b%e8%a1%8c%e6%9c%ac%e5%9c%b0%e5%8c%96" target="_blank" rel="noopener noreferrer">Arch Linux 基础安装 / 12.设置 Locale 进行本地化</a></li><li><a href="https://arch.icekylin.online/guide/rookie/basic-install#_14-%E8%AE%BE%E7%BD%AE-locale" target="_blank" rel="noopener noreferrer">archlinux 基础安装 / 14. 设置 Locale</a></li><li><a href="https://arch.icekylin.online/guide/rookie/basic-install#_13-%E7%A1%AC%E4%BB%B6%E6%97%B6%E9%97%B4%E8%AE%BE%E7%BD%AE" target="_blank" rel="noopener noreferrer">archlinux 基础安装 / 13. 硬件时间设置</a></li></ol></details><p>设置系统时区，并更新硬件时间：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ln</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -sf</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /usr/share/zoneinfo/Asia/Shanghai</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/localtime</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">hwclock</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --systohc</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>选择系统语言及编码：执行<code>vim /etc/locale.gen</code>，寻找文件中<code>en_US.UTF-8</code>和<code>zh_CN.UTF-8</code>，取消其注释后保存，执行<code>locale-gen</code>生成 Locale, 最后执行<code>echo &#39;LANG=en_US.UTF-8&#39; &gt; /etc/locale.conf</code>完成系统语言及编码的选择。</p><h3 id="设置-hostname-与其解析" tabindex="-1"><a class="header-anchor" href="#设置-hostname-与其解析"><span>设置 Hostname 与其解析</span></a></h3><details class="hint-container details"><summary>参考资料</summary><ol><li><a href="https://arch.icekylin.online/guide/rookie/basic-install#_12-%E8%AE%BE%E7%BD%AE%E4%B8%BB%E6%9C%BA%E5%90%8D%E4%B8%8E%E6%97%B6%E5%8C%BA" target="_blank" rel="noopener noreferrer">archlinux 基础安装 / 12. 设置主机名与时区</a></li><li><a href="https://archlinuxstudio.github.io/ArchLinuxTutorial/#/rookie/basic_install?id=_13%e8%ae%be%e7%bd%ae%e4%b8%bb%e6%9c%ba%e5%90%8d" target="_blank" rel="noopener noreferrer">Arch Linux 基础安装 / 13.设置主机名</a></li><li><a href="https://blog.csdn.net/wys578/article/details/80984467" target="_blank" rel="noopener noreferrer">0.0.0.0 和 127.0.0.1、127.0.1.1、localhost</a></li></ol></details><p>这时还需要设置主机名：执行<code>echo &#39;YOUR_HOST_NAME&#39; &gt; /etc/hostname</code>，并将<code>YOUR_HOST_NAME</code>换成自己的主机名即可，不建议使用中文。之后打开<code>/etc/hosts</code>，执行<code>vim /etc/hosts</code>，写入如下内容：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">127.0.0.1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   localhost</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">:1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">         localhost</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">127.0.1.1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   YOUR_HOST_NAME</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container info"><p class="hint-container-title">常见IP</p><ul><li>127.0.0.1: 本机地址，主要用于测试</li><li>127.0.1.1: 127.0.0.0/8段下面的一个IP，可用来解析自己的主机名。</li><li>0.0.0.0: 非真正意义上的IP，表示所有在 本机的路由表里没有特定条目指明如何到达 的主机和目的网络。</li><li>255.255.255.255: 限制广播地址，对本机来说指本网段内(同一广播域)的所有主机，该地址不能被路由器转发。</li></ul></div><h3 id="创建用户与设置密码" tabindex="-1"><a class="header-anchor" href="#创建用户与设置密码"><span>创建用户与设置密码</span></a></h3><p>记得为 root 用户设置密码，这是保障系统安全的重要一环，执行<code>passwd root</code>即可。</p><p>应该注意到, 一般不以 root 用户登入系统，所以现在创建非 root 用户<code>useradd -m -G wheel -s /bin/bash YOUR_USER_NAME</code>, 并为其设置密码<code>passwd YOUR_USER_NAME</code>，之后编辑<code>/etc/sudoers</code>, 找到<code>#%wheel ALL=(ALL:ALL) ALL</code>, 取消其注释。</p><h3 id="安装微码与引导程序" tabindex="-1"><a class="header-anchor" href="#安装微码与引导程序"><span>安装微码与引导程序</span></a></h3><details class="hint-container details"><summary>参考资料</summary><ol><li><a href="https://archlinuxstudio.github.io/ArchLinuxTutorial/#/rookie/basic_install?id=_15%e5%ae%89%e8%a3%85%e5%be%ae%e7%a0%81" target="_blank" rel="noopener noreferrer">Arch Linux 基础安装 / 15.安装微码</a></li><li><a href="https://arch.icekylin.online/guide/rookie/basic-install#_16-%E5%AE%89%E8%A3%85%E5%BE%AE%E7%A0%81" target="_blank" rel="noopener noreferrer">archlinux 基础安装 / 16. 安装微码</a></li><li><a href="https://wiki.archlinuxcn.org/wiki/%E5%BE%AE%E7%A0%81" target="_blank" rel="noopener noreferrer">微码 - Arch Linux 中文维基</a></li><li><a href="https://wiki.archlinux.org/title/Microcode" target="_blank" rel="noopener noreferrer">Microcode - ArchWiki</a></li><li><a href="https://zh.wikipedia.org/wiki/%E5%BE%AE%E7%A8%8B%E5%BA%8F" target="_blank" rel="noopener noreferrer">微程序 - 维基百科</a></li><li><a href="https://archlinuxstudio.github.io/ArchLinuxTutorial/#/rookie/basic_install?id=_16%e5%ae%89%e8%a3%85%e5%bc%95%e5%af%bc%e7%a8%8b%e5%ba%8f" target="_blank" rel="noopener noreferrer">Arch Linux 基础安装 / 16.安装引导程序</a></li><li><a href="https://arch.icekylin.online/guide/rookie/basic-install#_17-%E5%AE%89%E8%A3%85%E5%BC%95%E5%AF%BC%E7%A8%8B%E5%BA%8F" target="_blank" rel="noopener noreferrer">archlinux 基础安装 / 17. 安装引导程序</a></li></ol></details><p>之后安装微码：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> intel-ucode</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # For Intel</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> amd-ucode</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # For AMD</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container info"><p class="hint-container-title">为什么要安装微码？</p><p><strong>微指令</strong>（英语：microcode），又称<strong>微码</strong>，是在 CISC 结构下，执行一些功能复杂的指令时，所分解一系列相对简单的指令。<br> 处理器制造商会发布对处理器微码的稳定性和安全性更新。<strong>这些更新提供了对系统稳定性至关重要的错误修复。如果没有这些更新，则可能会遇到不明原因的崩溃或难以跟踪的意外停机。</strong><br> 使用 AMD 或 Intel CPU 的用户都应该安装微码更新以确保系统稳定性。在虚拟机或容器中，微码更新应在主机上实施，而不是在客户机系统中。</p><div style="text-align:right;"><p>——摘自 Arch Linux 中文维基</p></div></div><p>最后要安装引导程序：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> grub</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> efibootmgr</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">grub-install</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --target=x86_64-efi</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --efi-directory=/boot/efi</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --bootloader-id=ARCH</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # --removable 如果要装入移动硬盘内，一般要加上这个参数</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>有关 removable 参数有资料这样解释：<br> 某些主板的 UEFI 固件在显示 UEFI NVRAM 引导条目之前，需要在特定的位置存放可引导文件，不支持自定义存放 efi 文件<br> 因此使用<code>--removable</code>参数解决一些主板 NVRAM 的兼容性问题。</p></blockquote><p>紧接着<code>vim /etc/default/grub</code>，去掉<code>GRUB_CMDLINE_LINUX_DEFAULT</code>一行中最后的<code>quiet</code>参数，并将<code>log level</code>的值改到<code>5</code>。</p><p>【可选】可以考虑再给<code>GRUB_CMDLINE_LINUX_DEFAULT</code>加上<code>nowatchdog</code>参数，但这有可能会引发未知问题，如果watchdog没有导致极严重的问题一般不建议添加，仅当非常清楚可能导致的后果后再做决定。</p><p>接着执行<code>grub-mkconfig -o /boot/grub/grub.cfg</code>来生成grub配置后，至此系统安装就算正式完成了，执行以下命令即可进入新系统【记得拔掉系统镜像盘，修改启动项】：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">exit</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">                # 退回系统镜像</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">umount</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -R</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /mnt</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">     # 递归卸载新系统分区</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">reboot</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">              # 重启</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="浅梦" tabindex="-1"><a class="header-anchor" href="#浅梦"><span>浅梦</span></a></h2><h3 id="开启网络服务" tabindex="-1"><a class="header-anchor" href="#开启网络服务"><span>开启网络服务</span></a></h3><p>启动新系统之后，记得开启网络服务：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> enable</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> iwd</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> start</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> iwd</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>之后可以执行<code>iwctl</code>管理无线网络，方法已在<a href="#%E6%9C%89%E7%BA%BF%E6%88%96%E6%97%A0%E7%BA%BF%E8%81%94%E7%BD%91"><strong>前面</strong></a>给出。</p><h3 id="添加-archlinuxcn-软件镜像源" tabindex="-1"><a class="header-anchor" href="#添加-archlinuxcn-软件镜像源"><span>添加 Archlinuxcn 软件镜像源</span></a></h3><div class="hint-container info"><p class="hint-container-title">参考资料 <a href="https://www.expoli.tech/articles%2F2020%2F02%2F12%2F1581513647899" target="_blank" rel="noopener noreferrer">Arch Linux 启用 archlinuxcn 源</a></p></div><p>除了官方extra软件源以及其它软件源外，还有一个比较常见常用的软件源是 archlinuxcn 源，我们可以这样添加软件源【编辑<code>/etc/pacman.conf</code>】：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[archlinuxcn]</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">SigLevel</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Required</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> DatabaseOptional</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> TrustedOnly</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Include</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/pacman.d/archlinuxcn-mirrorlist</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>与此同时，再创建文件<code>/etc/pacman.d/archlinuxcn-mirrorlist</code>并写入以下内容：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Arch Linux CN community repository mirrorlist</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Generated on 2019-12-03</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Our main server (ipv4, ipv6, http, https)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#Server = &lt;https://repo.archlinuxcn.org/$arch&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 中国科学技术大学 (ipv4, ipv6, http, https)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Server</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">https://mirrors.ustc.edu.cn/archlinuxcn/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$arch</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 上海科技大学 (上海) (ipv4, http, https)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#Server = &lt;https://mirrors-wan.geekpie.club/archlinuxcn/$arch&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 网易 (ipv4, http, https)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Server</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">https://mirrors.163.com/archlinux-cn/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$arch</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 腾讯云 (ipv4, https)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Server</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">https://mirrors.cloud.tencent.com/archlinuxcn/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$arch</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 重庆大学 (ipv4, http, https)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Server</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">https://mirrors.cqu.edu.cn/archlinuxcn/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$arch</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># SJTUG 软件源镜像服务 (ipv4, https)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#Server = &lt;https://mirrors.sjtug.sjtu.edu.cn/archlinux-cn/$arch&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 莞工 GNU/Linux 协会 开源软件镜像站 (ipv4, http, https)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#Server = &lt;https://mirrors.dgut.edu.cn/archlinuxcn/$arch&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 清华大学 (ipv4, ipv6, http, https)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Server</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">https://mirrors.tuna.tsinghua.edu.cn/archlinuxcn/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$arch</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 浙江大学 (浙江杭州) (ipv4, ipv6, http, https)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Server</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">https://mirrors.zju.edu.cn/archlinuxcn/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$arch</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># xTom (Hong Kong server) (Hong Kong) (ipv4, ipv6, http, https)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#Server = &lt;https://mirror.xtom.com.hk/archlinuxcn/$arch&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># xTom (US server) (US) (ipv4, ipv6, http, https)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#Server = &lt;https://mirror.xtom.com/archlinuxcn/$arch&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># xTom (Netherlands server) (Netherlands) (ipv4, ipv6, http, https)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#Server = &lt;https://mirror.xtom.nl/archlinuxcn/$arch&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Open Computing Facility, UC Berkeley (Berkeley, CA, United States) (ipv4, ipv6, http, https)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#Server = &lt;https://mirrors.ocf.berkeley.edu/archlinuxcn/$arch&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>配置写好之后，还需要安装 Archlinuxcn 镜像源的 Keys ，执行：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pacman-key</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --init</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -Syy</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> archlinuxcn-keyring</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pacman-key</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --populate</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> archlinuxcn</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>只有 Keys 安装正确后才能正常安装 Archlinuxcn 镜像源上的软件。</p><h3 id="安装-xorg-图形桌面服务" tabindex="-1"><a class="header-anchor" href="#安装-xorg-图形桌面服务"><span>安装 Xorg 图形桌面服务</span></a></h3><div class="hint-container info"><p class="hint-container-title">参考资料 <a href="https://razonyang.com/zh-hans/archlinux-guide/xorg/" target="_blank" rel="noopener noreferrer">Arch Linux 安装 Xorg</a></p></div><p>图形桌面服务有两个可选项：<code>Xorg</code>和<code>WayLand</code>。一般都使用<code>Xorg</code>，我们以这样的方式安装<code>Xorg</code>：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> xorg-server</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 安装 Xorg 服务, 另外 xorg-xinit 以及 xorg-apps 两者都是可选的</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">lspci</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -v</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">grep</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -A1</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -e</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> VGA</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -e</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 3D</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 检查系统的显卡信息</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> xf86-video-intel</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nvidia</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nvidia-utils</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 对于 Intel CPU 和 Nvidia GPU 则需要安装这三个</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -Ss</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> xf86-video</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 自然可以考虑使用开源驱动程序</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">reboot</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 建议重启机器保证驱动等安装正确，没出现其它问题</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> xorg-xinit</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> xorg-twm</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> xterm</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> xorg-xclock</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 重启后安装测试工具(可后删除)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">cp</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/X11/xinit/xinitrc</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ~/.xinitrc</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 复制 .xinitrc 配置文件模板</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">startx</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 启动 Xorg 进行图形桌面服务测试</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="深梦" tabindex="-1"><a class="header-anchor" href="#深梦"><span>深梦</span></a></h2><h3 id="安装-i3-桌面管理器及其常用的基础系统软件" tabindex="-1"><a class="header-anchor" href="#安装-i3-桌面管理器及其常用的基础系统软件"><span>安装 i3 桌面管理器及其常用的基础系统软件</span></a></h3><div class="hint-container info"><p class="hint-container-title">参考资料 <a href="https://mindview.top/pages/be527f/" target="_blank" rel="noopener noreferrer">ArchLinux下i3wm安装和简单配置美化</a>、<a href="https://www.cnblogs.com/shadow-/p/17572589.html" target="_blank" rel="noopener noreferrer">Arch Linux install i3-wm</a></p></div><p>个人偏好使用<code>Tiling Window Manager</code>，先前尝试使用过<code>Awesome Window Manager</code>，因此这次想尝试一些不一样的，于是选择了<code>i3 Window Manager</code>，安装：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> i3-wm</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>为了开机能以图形界面登陆，安装了 Sddm 程序：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> sddm</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> enable</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> sddm</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="个人偏好" tabindex="-1"><a class="header-anchor" href="#个人偏好"><span>个人偏好</span></a></h4><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> picom</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 窗口透明化</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> rofi</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 快速启动工具</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> feh</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 壁纸设置工具，支持指定目录下随机，同时也是轻量的图片查看器</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> alacritty</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 个人偏好的终端模拟器</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> zsh</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 个人偏好的终端</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> polybar</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 系统状态栏，可自定制</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> tree</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 文件树展开，项目结构可一目了然</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> autorandr</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 屏幕扩展的自动管理工具</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> rofimoji</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # rofi界面的Emoji表情输入</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> less</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 功能强大的查看文件内容的工具</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> timeshift</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 快照备份工具，BTRFS文件系统备份常用</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> qbittorrent</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # BT下载器</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ark</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 开源压缩软件</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> flameshot</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 截屏工具，对多屏幕支持友好</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> vlc</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 开源视频播放器</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> thunar</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 资源管理器</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ranger</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 终端资源管理器</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> xsel</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 操作剪贴板的终端工具</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> xdotool</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 可以模拟鼠标和按键操作的工具</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> telegram-desktop</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # Telegram聊天工具软件</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">yay</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> i3lock-color</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # i3常用的屏幕锁定工具</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">yay</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> wechat-appimage</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 微信官方客户端</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="系统字体" tabindex="-1"><a class="header-anchor" href="#系统字体"><span>系统字体</span></a></h4><p>对个人来说安装 Noto fonts 已经够用了：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> noto-fonts</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> noto-fonts-cjk</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> noto-fonts-emoji</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> noto-fonts-extra</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="hint-container info"><p class="hint-container-title">Noto fonts 各字体包内容说明</p><ul><li><p><code>noto-fonts</code>: 基础包，覆盖拉丁字母、希腊字母、西里尔字母、阿拉伯语、希伯来语等绝大多数非 CJK 字符。</p></li><li><p><code>noto-fonts-cjk</code>: 专门覆盖<strong>简体中文</strong>、<strong>繁体中文</strong>、<strong>日文</strong>、<strong>韩文</strong>（CJK 统一表意文字），包含 Noto Sans CJK 和 Noto Serif CJK。</p></li><li><p><code>noto-fonts-emoji</code>: 支持彩色 Emoji 符号（如 😊⭐🌍）。</p></li><li><p><code>noto-fonts-extra</code>: 提供补充字体（如粗体、斜体变体及部分小众语言支持）。</p></li></ul></div><h3 id="安装-yay" tabindex="-1"><a class="header-anchor" href="#安装-yay"><span>安装 yay</span></a></h3><div class="hint-container info"><p class="hint-container-title">参考资料</p><ul><li><a href="https://zhuanlan.zhihu.com/p/661351588" target="_blank" rel="noopener noreferrer">在 Arch Linux 上安装和使用 Yay | Linux 中国</a></li><li><a href="https://github.com/Jguer/yay-PKGBUILD/blob/master/yay/PKGBUILD" target="_blank" rel="noopener noreferrer">PKGBUILD Source Code</a></li><li><a href="https://github.com/Jguer/yay/blob/next/Makefile" target="_blank" rel="noopener noreferrer">GitHub yay Makefile Source Code</a></li></ul></div><p>依次执行以下命令来安装<code>yay</code>：</p><div class="hint-container important"><p class="hint-container-title">请确保 base-devel 和 git 有正确安装，因为以下命令将会用到<code>git</code>和<code>makepkg</code>等工具。</p></div><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> clone</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://aur.archlinux.org/yay.git</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> yay</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">makepkg</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -si</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">提示</p><p>如果无法通过<code>https://aur.archlinux.org/yay.git</code>来获取<code>yay</code>，可考虑拉取 GitHub 源码后进行编译安装：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> clone</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://github.com/Jguer/yay</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> yay</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">make</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># make uninstall # 如果需要卸载，可执行该命令进行卸载。</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果仍然无法正常访问<code>https://github.com/Jguer/yay</code>，可使用 GitHub 镜像站，如<code>https://githubfast.com/Jguer/yay</code>。</p><p>更多镜像站可参考<a href="https://github.com/runningcheese/MirrorSite" target="_blank" rel="noopener noreferrer">MirrorSite - GitHub</a>。</p></div><h3 id="安装-bluetooth" tabindex="-1"><a class="header-anchor" href="#安装-bluetooth"><span>安装 Bluetooth</span></a></h3><div class="hint-container info"><p class="hint-container-title">参考资料 <a href="https://wiki.archlinuxcn.org/wiki/%E8%93%9D%E7%89%99#%E5%AE%89%E8%A3%85" target="_blank" rel="noopener noreferrer">蓝牙#安装 - ArchWiki</a> <a href="https://wiki.archlinuxcn.org/wiki/%E5%86%85%E6%A0%B8%E6%A8%A1%E5%9D%97#%E8%8E%B7%E5%8F%96%E4%BF%A1%E6%81%AF" target="_blank" rel="noopener noreferrer">内核模块#获取信息</a> <a href="https://blog.csdn.net/weixin_42396877/article/details/86772153" target="_blank" rel="noopener noreferrer">蓝牙工具 bluetoothctl 用法简介</a> <a href="https://www.cnblogs.com/zjutlitao/p/9589661.html" target="_blank" rel="noopener noreferrer">[BlueZ] 2、使用bluetoothctl搜索、连接、配对、读写、使能notify蓝牙低功耗设备</a></p></div><p>执行<code>sudo pacman -S bluez bluez-utils</code>来安装蓝牙协议栈以及相关的工具，然后执行以下命令来启动蓝牙服务：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> enable</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> bluetooth.service</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> start</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> bluetooth.service</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container important"><p class="hint-container-title">请确保通用蓝牙驱动有正常加载，执行<code>lsmod | grep btusb</code>或者<code>modinfo btusb</code>，正常情况是有输出内容。</p></div><p>此时蓝牙已经可以正常使用了，可通过<code>bluetoothctl</code>来管理蓝牙设备配对和连接。</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">bluetoothctl</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 进入控制界面</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">devices</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 查看可连接的设备</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">scan</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> on</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 扫描等待连接的设备</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pair</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">MAC_ADDRES</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">S&gt; </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 通过 MAC 地址与设备进行配对</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">connect</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">MAC_ADDRES</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">S&gt; </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 通过 MAC 地址与设备进行连接</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">disconnect</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">MAC_ADDRES</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">S&gt; </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 取消连接设备</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">scan</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> off</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 停止扫描</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">如果希望使用图形化界面来管理蓝牙连接，可以执行<code>sudo pacman -S blueman</code>来安装图形管理工具。</p></div><h3 id="屏幕亮度调节" tabindex="-1"><a class="header-anchor" href="#屏幕亮度调节"><span>屏幕亮度调节</span></a></h3><p>执行<code>sudo pacman -S acpilight</code>，安装之后我们还需要将当前用户组加入<code>video</code>组内，执行<code>sudo gpasswd video -a &lt;YOUR_USER_NAME&gt;</code>即可，如要确认该用户是否在组内，可以执行<code>groups &lt;YOUR_USER_NAME&gt;</code>，在 i3 中就需要写入<code>bindsym XF86MonBrightnessUp exec xbacklight -inc 10</code>和<code>bindsym XF86MonBrightnessDown exec xbacklight -dec 10</code></p><div class="hint-container tip"><p class="hint-container-title">类似的多媒体按键名称</p><ul><li><code>XF86AudioRaiseVolume</code></li><li><code>XF86AudioLowerVolume</code></li><li><code>XF86AudioMute</code></li><li><code>XF86AudioPlay</code></li><li><code>XF86AudioNext</code></li><li><code>XF86AudioPrev</code></li><li><code>XF86AudioStop</code></li></ul></div><h3 id="系统音频控制" tabindex="-1"><a class="header-anchor" href="#系统音频控制"><span>系统音频控制</span></a></h3><div class="hint-container info"><p class="hint-container-title">参考资料</p><ul><li><a href="https://bbs.archlinux.org/viewtopic.php?id=296995" target="_blank" rel="noopener noreferrer">[SOLVED] pactl: pa_context_connect() failed: Connection refused</a></li><li><a href="https://wiki.archlinux.org/title/PipeWire" target="_blank" rel="noopener noreferrer">PipeWire - ArchWiki</a></li><li><a href="https://wiki.archlinuxcn.org/wiki/ALSA#%E9%94%AE%E7%9B%98%E6%8E%A7%E5%88%B6%E9%9F%B3%E9%87%8F" target="_blank" rel="noopener noreferrer">ALSA#键盘控制音量 - ArchWiki</a></li><li><a href="https://bbs.archlinux.org/viewtopic.php?id=257103" target="_blank" rel="noopener noreferrer">[SOLVED] Using ALSA for i3status bar volume indicator not working</a></li><li><a href="https://i3wm.org/i3status/manpage.html#_volume" target="_blank" rel="noopener noreferrer">i3status manpage</a></li><li><a href="https://man.archlinux.org/man/extra/alsa-utils/speaker-test.1.en" target="_blank" rel="noopener noreferrer">speaker-test - Arch manual pages</a></li></ul></div><p>Linux 如今内核已经内置<code>alsa</code>了，一般不需要额外安装软件，但如果希望使用<code>alsa-utils</code>来控制音频，可以执行<code>sudo pacman -S alsa-utils</code>，然后通过<code>amixer</code>或<code>alsamixer</code>来控制即可。但由于 i3 桌面管理器一般自带<code>pipewire</code>（可执行<code>pacman -Qs pipewire</code>来确认是否已安装），所以打算继续沿用<code>pipewire</code>。</p><div class="hint-container tip"><p class="hint-container-title">提示</p><p>安装好<code>alsa-utils</code>后可在 i3 配置文件中去掉<code>XF86AudioRaiseVolume</code>、<code>XF86AudioLowerVolume</code>、<code>XF86AudioMute</code>的相关事件，并添加以下内容来控制音量：</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">bindsym XF86AudioRaiseVolume exec amixer set Master 5%+</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">bindsym XF86AudioLowerVolume exec amixer set Master 5%-</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">bindsym XF86AudioMute exec amixer set Master toggle</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><p>如果希望使用<code>pulseaudio</code>来替代<code>pipewire</code>，则需要装以下这些软件：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pulseaudio-utils</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pulseaudio</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pavucontrol</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> playerctl</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # Alsa系的音频控制工具，含pavucontrol图形控制界面工具</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></div><p>使用<code>pipewire</code>需要额外安装以下软件：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pipewire-alsa</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pipewire-pulse</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>由于 i3 配置中包含了以下内容：</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Use pactl to adjust volume in PulseAudio.</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">set $refresh_i3status killall -SIGUSR1 i3status</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">bindsym XF86AudioRaiseVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ +10% &amp;&amp; $refresh_i3status</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">bindsym XF86AudioLowerVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ -10% &amp;&amp; $refresh_i3status</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">bindsym XF86AudioMute exec --no-startup-id pactl set-sink-mute @DEFAULT_SINK@ toggle &amp;&amp; $refresh_i3status</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">bindsym XF86AudioMicMute exec --no-startup-id pactl set-source-mute @DEFAULT_SOURCE@ toggle &amp;&amp; $refresh_i3status</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>要想这些配置生效，需要依次执行以下命令来启用：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">systemctl</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --user</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> enable</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pipewire</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pipewire-pulse</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">systemctl</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --user</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> start</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pipewire</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pipewire-pulse</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container important"><p class="hint-container-title">重要</p><p><code>--user</code>参数不可省略，因为<code>systemctl</code>默认通过 System Manager 到系统空间下寻找<code>service</code>和<code>socket</code>，而对于<code>pipewire</code>它应当通过 User Service Manager 在用户空间下寻找<code>service</code>和<code>socket</code>。</p></div><div class="hint-container tip"><p class="hint-container-title">Optional for i3bar(with i3status) user</p><p>如果希望在 i3bar 状态栏上显示音量控制，在<code>~/.config/i3status/config</code>文件中按以下内容编辑：</p><p>在<code>order +=</code>块中添加一行：<code>order += &quot;volume master&quot;</code>并在文件最后部分添加以下代码块：</p><div class="language-config line-numbers-mode" data-highlighter="shiki" data-ext="config" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>volume master {</span></span>
<span class="line"><span>        format = &quot;Vol: %volume&quot;</span></span>
<span class="line"><span>        format_muted = &quot;Vol: MUTED (%volume)&quot;</span></span>
<span class="line"><span>        device = &quot;default&quot;</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后重启 i3 即可。</p></div><p>最后如果想测试声音，可以执行<code>speaker-test -c 2</code>来测试。</p><h3 id="authentication-agent-配置" tabindex="-1"><a class="header-anchor" href="#authentication-agent-配置"><span>Authentication Agent 配置</span></a></h3><div class="hint-container info"><p class="hint-container-title">参考资料 <a href="https://wiki.archlinux.org/title/Polkit" target="_blank" rel="noopener noreferrer">Polkit - ArchWiki</a></p></div><p>在linux使用过程中，难免会遇到一些软件，不能直接用<code>sudo</code>运行，但需要root权限，比如<code>via-bin</code>、<code>gparted</code>，然后我在具体运行中遇到的错误信息如下：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">UnhandledPromiseRejectionWarning:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Error:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> No</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> polkit</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> authentication</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> agent</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> found.</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>于是我就明白这里是缺少了一个专用的助手来安全地授予我们权限，于是我花了一些时间查找，最后从<a href="https://wiki.archlinux.org/title/Polkit" target="_blank" rel="noopener noreferrer">Polkit - ArchWiki</a>里的 1.1 节 Authentication agents 中选了比较合适的<a href="https://github.com/lxqt/lxqt-policykit" target="_blank" rel="noopener noreferrer">lxqt-policykit</a>，这个可以直接用pacman安装。安装好之后我们只需要让它随系统启动即可，在 i3 config 中写入<code>exec --no-startup-id lxqt-policykit</code>，重启 i3 即可。</p><h2 id="梦魇" tabindex="-1"><a class="header-anchor" href="#梦魇"><span>梦魇</span></a></h2><h3 id="efibootmgr-使用" tabindex="-1"><a class="header-anchor" href="#efibootmgr-使用"><span>Efibootmgr 使用</span></a></h3><details class="hint-container details"><summary>参考资料: Efibootmgr help doc</summary><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">base</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">➜</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  ~</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> efibootmgr</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -h</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">efibootmgr</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> version</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 18</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">usage:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> efibootmgr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [options]</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  -a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--active</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">         Set</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> bootnum</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> active.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  -A</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--inactive</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">       Set</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> bootnum</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> inactive.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  -b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--bootnum</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> XXXX</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   Modify</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> BootXXXX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (hex).</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  -B</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--delete-bootnum</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Delete</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> bootnum.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  -c</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--create</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">         Create</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> new</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> variable</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> bootnum</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> and</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> add</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> bootorder</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> at</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> index</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (-I).</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  -C</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--create-only</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    Create</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> new</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> variable</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> bootnum</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> and</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> do</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> not</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> add</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> bootorder.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  -d</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--disk</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> disk</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">      Disk</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> containing</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> boot</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> loader</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (defaults </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">to</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /dev/sda</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  -D</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--remove-dups</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    Remove</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> duplicate</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> values</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> from</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> BootOrder.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  -e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--edd</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [1|</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">3]</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">      Force</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> boot</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> entries</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> be</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> created</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> using</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> EDD</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1.0</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> or</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 3.0</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> info.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  -E</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--device</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> num</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">     EDD</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1.0</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> device</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> number</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (defaults </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">to</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0x80</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        --full-dev-path</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Use</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> a</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> full</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> device</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> path.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        --file-dev-path</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Use</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> an</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> abbreviated</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> File</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">device</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> path.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  -f</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--reconnect</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">      Re-connect</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> devices</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> after</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> driver</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> is</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> loaded.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  -F</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--no-reconnect</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   Do</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> not</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> re-connect</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> devices</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> after</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> driver</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> is</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> loaded.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  -g</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--gpt</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">            Force</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> disk</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> with</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> invalid</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> PMBR</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> be</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> treated</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> as</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> GPT.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  -i</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--iface</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> name</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">     Create</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> a</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> netboot</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> entry</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> for</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> the</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> named</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> interface.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  -I</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--index</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> number</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   When</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> creating</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> an</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> entry,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> insert</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> it</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> in</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> bootorder</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> at</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> specified</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> position</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (default: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  -l</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--loader</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">     (Defaults </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">to</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;\EFI\arch\grub.efi&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  -L</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--label</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> label</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">     Boot</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> manager</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> display</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> label</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (defaults </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">to</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;Linux&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  -m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--mirror-below-4G</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">f</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Mirror</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> memory</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> below</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 4GB.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  -M</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--mirror-above-4G</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> X</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Percentage</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> memory</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mirror</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> above</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 4GB.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  -n</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--bootnext</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> XXXX</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   Set</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> BootNext</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> XXXX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (hex).</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  -N</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--delete-bootnext</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Delete</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> BootNext.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  -o</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--bootorder</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> XXXX,YYYY,ZZZZ,...</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">     Explicitly</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> set</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> BootOrder</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (hex).</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  -O</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--delete-bootorder</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Delete</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> BootOrder.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  -p</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--part</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> part</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        Partition</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> containing</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> loader</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (defaults </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">to</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> on</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> partitioned</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> devices</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  -q</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--quiet</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">            Be</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> quiet.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  -r</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--driver</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">           Operate</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> on</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Driver</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> variables,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> not</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Boot</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Variables.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  -t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--timeout</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> seconds</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Set</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> boot</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> manager</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> timeout</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> waiting</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> for</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> user</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> input.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  -T</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--delete-timeout</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   Delete</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Timeout.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  -u</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--unicode</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--UCS-2</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Handle</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> extra</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> args</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> as</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> UCS-2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (default </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">is</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ASCII</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  -v</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--verbose</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">          Print</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> additional</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> information.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  -V</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--version</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">          Return</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> version</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> and</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> exit.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  -w</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--write-signature</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Write</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> unique</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> sig</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> MBR</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> if</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> needed.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  -y</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--sysprep</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">          Operate</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> on</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> SysPrep</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> variables,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> not</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Boot</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Variables.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  -@</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--append-binary-args</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> file</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Append</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> extra</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> args</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> from</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> file</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (use </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;-&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> for</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> stdin</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  -h</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--help</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">             Show</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> help/usage.</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><p>由于 Windows 的安装或修复机制，它总会自动修改 EFI 启动项，甚至会直接删除其它系统的启动项。对于这种情况，Linux 一般需要自行使用 LiveCD 或其它方式来添加/修复启动项。但对于启动顺序，比较稳妥的做法是使用 Efibootmgr 来调整。</p><div class="hint-container tip"><p class="hint-container-title">提示</p><p>如果希望使用同一个界面来决定启动 Windows 或 Linux 等多个操作系统，首先需要启用 <code>os-prober</code>。编辑<code>/etc/default/grub</code>文件，找到如下内容并取消注释<code>GRUB_DISABLE_OS_PROBER=false</code>：</p><div class="language-conf line-numbers-mode" data-highlighter="shiki" data-ext="conf" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># Probing for other operating systems is disabled for security reasons. Read</span></span>
<span class="line"><span># documentation on GRUB_DISABLE_OS_PROBER, if still want to enable this</span></span>
<span class="line"><span># functionality install os-prober and uncomment to detect and include other</span></span>
<span class="line"><span># operating systems.</span></span>
<span class="line"><span>GRUB_DISABLE_OS_PROBER=false</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这样在生成启动项时会自动检测是否存在其它操作系统的启动项，并将这些启动项加入到启动项界面。</p></div><p>可以通过执行<code>efibootmgr -v</code>来查看当前 EFI 启动信息，将会得到类似如下的输出：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">base</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">➜</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  ~</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> efibootmgr</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -v</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">BootCurrent:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0002</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Timeout:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> seconds</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">BootOrder:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 0002,2001,0001,2002,2003</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Boot0001*</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Windows</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Boot</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Manager</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  HD</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">1,GPT,59685006-d751-438d-845a-8594ddf09c5c,0x800,0xf4000</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\E</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">FI</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\M</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">icrosoft</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\B</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">oot</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\b</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">ootmgfw.efi57494e444f5753000100000088000000780000004200430044004f0042004a004500430054003d007b00390064006500610038003600320063002d0035006300640064002d0034006500370030002d0061006300630031002d006600330032006200330034003400640034003700390035007d00000061000100000010000000040000007fff0400</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">      dp:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 04</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 01</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 2a</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 01</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 08</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 40</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 0f</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 06</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 50</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 68</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 59</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 51</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> d7</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 8d</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 43</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 84</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 5a</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 85</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 94</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> dd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> f0</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 9c</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 5c</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 02</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 02</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 04</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 04</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 46</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 5c</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 45</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 46</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 49</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 5c</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 4d</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 69</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 63</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 72</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 6f</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 73</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 6f</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 66</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 74</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 5c</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 42</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 6f</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 6f</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 74</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 5c</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 62</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 6f</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 6f</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 74</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 6d</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 67</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 66</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 77</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 2e</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 65</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 66</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 69</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 7f</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ff</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 04</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    data:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 57</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 49</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 4e</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 44</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 4f</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 57</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 53</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 01</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 88</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 78</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 42</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 43</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 44</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 4f</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 42</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 4a</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 45</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 43</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 54</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 3d</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 7b</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 39</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 64</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 65</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 61</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 38</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 36</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 32</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 63</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 2d</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 35</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 63</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 64</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 64</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 2d</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 34</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 65</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 37</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 30</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 2d</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 61</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 63</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 63</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 31</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 2d</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 66</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 33</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 32</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 62</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 33</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 34</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 34</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 64</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 34</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 37</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 39</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 35</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 7d</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 61</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 01</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 10</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 04</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 7f</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ff</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 04</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Boot0002*</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ARCH</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  HD</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">1,GPT,59685006-d751-438d-845a-8594ddf09c5c,0x800,0xf4000</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\E</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">FI</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\A</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">RCH</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\g</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">rubx64.efi</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">      dp:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 04</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 01</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 2a</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 01</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 08</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 40</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 0f</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 06</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 50</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 68</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 59</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 51</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> d7</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 8d</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 43</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 84</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 5a</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 85</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 94</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> dd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> f0</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 9c</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 5c</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 02</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 02</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 04</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 04</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 30</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 5c</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 45</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 46</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 49</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 5c</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 41</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 52</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 43</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 48</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 5c</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 67</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 72</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 75</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 62</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 78</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 36</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 34</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 2e</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 65</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 66</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 69</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 7f</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ff</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 04</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Boot2001*</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> EFI</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> USB</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Device</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  RC</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">      dp:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 7f</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ff</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 04</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    data:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 52</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 43</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Boot2002*</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> EFI</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> DVD/CDROM</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> RC</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">      dp:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 7f</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ff</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 04</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    data:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 52</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 43</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Boot2003*</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> EFI</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Network</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> RC</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">      dp:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 7f</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ff</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 04</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 00</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    data:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 52</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 43</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>从中可以注意到每个启动项都是以<code>Boot&lt;ID&gt; &lt;Device Name&gt;</code>为开头的，找到其中的 Windows Boot Manager 和 Linux Grub 启动项即可。</p><div class="hint-container tip"><p class="hint-container-title">Linux Grub 启动项的名称取决于当初创建 Grub启动项时传递参数<code>--bootloader-id</code>的值。</p></div><p>可以通过使用<code>efibootmgr -o &lt;Ordered Boot List&gt;</code>（需要 Root 权限）来控制 EFI 启动顺序，其中<code>&lt;Ordered Boot List&gt;</code>是各 ID 之间用<code>,</code>隔开，如<code>efibootmgr -o 2001,0001,0002</code>。</p><div class="hint-container important"><p class="hint-container-title">如果<code>&lt;Ordered Boot List&gt;</code>没有包括全部的 ID，实际启动时将只会看到<code>&lt;Ordered Boot List&gt;</code>内的所有启动项。</p></div><p>最后记得执行<code>grub-mkconfig -o /boot/grub/grub.cfg</code>（需要 Root 权限）重新生成 Grub 配置，然后重启即可。</p><h3 id="设置-swap-文件或分区" tabindex="-1"><a class="header-anchor" href="#设置-swap-文件或分区"><span>设置 Swap 文件或分区</span></a></h3><p>设置交换文件/分区的做法如下，设置交换文件的话应当使用<code>dd</code>工具创建特殊文件，设置好权限之后将其格式化</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">dd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> if=/dev/zero</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> of=/swapfile</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> bs=1M</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> count=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4096</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> status=progress</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> #创建4G的交换空间 大小根据需要自定</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">chmod</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 600</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /swapfile</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> #设置正确的权限</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mkswap</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /swapfile</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> #格式化swap文件</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">swapon</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /swapfile</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> #启用swap文件</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> echo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;/swapfile none swap defaults 0 0&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt;&gt; </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/etc/fstab</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>类似的，也可以自行裁出一块分区后，依次使用<code>mkswap</code>和<code>swapon</code>制作 Swap 分区，并在<code>/etc/fstab</code>最后添加<code>UUID=&lt;YOUR_DISK_UUID&gt; /swap swap swap,defaults 0 0</code>，不过这种做法一般在前面<a href="#%E7%A1%AC%E7%9B%98%E5%88%86%E5%8C%BA">系统分区</a>的章节里就可以做了。</p><h3 id="magic-sysrq-keybinding" tabindex="-1"><a class="header-anchor" href="#magic-sysrq-keybinding"><span>Magic SysRq Keybinding</span></a></h3><div class="hint-container info"><p class="hint-container-title">参考资料 <a href="https://blog.csdn.net/hhd1988/article/details/130006269" target="_blank" rel="noopener noreferrer">Linux：内核调试之内核魔术键sysrq</a></p></div><p>我曾经时常遇到 Linux 在关机时等待时间过长的情况（甚至等待超时后会自动延长等待时间），往往这种时候我是已经有保存好自己的数据的，加之经常要马上关机离开，要为这种没必要的事情等太长时间不值得，所以我了解到了这个。</p><div class="hint-container info"><p class="hint-container-title">相关信息</p><p>Magic SysRq 组合键是一串能直接与 Linux 内核沟通的组合键，允许用户就算在系统进入死循环濒临崩溃时，直接调用系统底层将资料写入文件系统或重启，避免尚未写入文件系统与硬盘的数据在关机后消失。效果类似于电脑上的电源键或重启键，但能执行更多操作。此组合键提供一系列在系统崩溃时常用到的功能，比如上述的写入数据，或关闭 X Server 、Kill 进程、卸载 文件系统，也通常是死机时的最后手段。但在 Linux 核心停止运作的情况下 Magic SysRq 无效，例如 kernel panic。</p><div style="text-align:right;"><p>——摘自<a href="https://zh.wikipedia.org/zh-sg/Magic_SysRq%E7%B5%84%E5%90%88%E9%8D%B5" target="_blank" rel="noopener noreferrer">Magic SysRq组合键 - 维基百科</a></p></div></div><p>打开方式有两种：一种可以通过执行<code>sysctl -w kernel.sysrq=1</code>临时开启，另一种可以通过执行<code>echo &quot;kernel.sysrq = 1&quot; &gt;&gt; /etc/sysctl.conf</code>添加配置信息，接着执行<code>sysctl -p</code>来更新配置，达到永久开启的目的。</p><table><thead><tr><th style="text-align:center;">KeyBoard Shortcut</th><th style="text-align:center;">Illustration</th></tr></thead><tbody><tr><td style="text-align:center;"><code>Alt</code>+<code>SysRq</code>+<code>R</code></td><td style="text-align:center;">从 X 收回对键盘的控制</td></tr><tr><td style="text-align:center;"><code>Alt</code>+<code>SysRq</code>+<code>E</code></td><td style="text-align:center;">向所有进程发送<code>SIGTERM</code>信号，使其正常终止</td></tr><tr><td style="text-align:center;"><code>Alt</code>+<code>SysRq</code>+<code>I</code></td><td style="text-align:center;">向所有进程发送<code>SIGKILL</code>信号，强制立即终止</td></tr><tr><td style="text-align:center;"><code>Alt</code>+<code>SysRq</code>+<code>S</code></td><td style="text-align:center;">将待写数据写入磁盘</td></tr><tr><td style="text-align:center;"><code>Alt</code>+<code>SysRq</code>+<code>U</code></td><td style="text-align:center;">卸载所有硬盘然后重新按只读模式挂载</td></tr><tr><td style="text-align:center;"><code>Alt</code>+<code>SysRq</code>+<code>B</code></td><td style="text-align:center;">重启</td></tr></tbody></table><p>通常我们在关机/重启之前都会做好保存工作，因此一般而言执行这三步就可以了：</p><ol><li><code>Alt</code>+<code>SysRq</code>+<code>R</code></li><li><code>Alt</code>+<code>SysRq</code>+<code>E</code></li><li><code>Alt</code>+<code>SysRq</code>+<code>I</code></li></ol><div class="hint-container important"><p class="hint-container-title">第二步和第三步之间最好隔开 1~2 秒，不然做完第二步后立刻做第三步的话有可能导致有些本可以正常结束的进程被意外终止掉的结果，因此稍微等一下是更妥当的做法。</p></div><p>当系统中有内核高耗的进程导致系统卡顿时，可以使用 Magic SysRq 组合键<code>Alt</code>+<code>SysRq</code>+<code>F</code>唤醒 Linux Kernel 的 OOM（out of memory） Killer 杀死这些进程。使用这个组合键可以减少因内存高耗导致重启系统的次数，OMM Killer使用启发算法选取当前系统内存占用最高且不重要的进程进行杀死，所以当系统内存占用不高的情况下还是需要慎用。</p><details class="hint-container details"><summary>有关 Magic SysRq 的所有功能按键</summary><p>以下表格中的按键均与<code>Alt</code>+<code>SysRq</code>组合，如按键中写<code>B</code>时表示按下<code>Alt</code>+<code>SysRq</code>+<code>B</code>。</p><table><thead><tr><th style="text-align:center;">按键</th><th>功能</th></tr></thead><tbody><tr><td style="text-align:center;"><code>0</code>~<code>9</code></td><td>设置控制台日志等级，这个可以控制内核信息打印的等级</td></tr><tr><td style="text-align:center;"><code>B</code></td><td>立即重启系统，不同步文件系统或者卸载文件系统</td></tr><tr><td style="text-align:center;"><code>C</code></td><td>发起内核 Crash 崩溃，如果配置了 kdump 服务的话，将会获得一个 crashdump 文件</td></tr><tr><td style="text-align:center;"><code>D</code></td><td>打印当前正在被持有的锁 Locks，CONFIG_LOCKEDP 内核选项需要开启</td></tr><tr><td style="text-align:center;"><code>E</code></td><td>发送一个 SIGTERM 信号至所有进程，除开 1 号进程（init 进程）</td></tr><tr><td style="text-align:center;"><code>F</code></td><td>调用 oom_kill，选择一个最符合 oom 的进程杀死</td></tr><tr><td style="text-align:center;"><code>G</code></td><td>当使用 Kernel Model Setting 模式的时候，切换至内核的 Frame Buffer 控制台，如果正在使用 kdb 进行调试，那么直接切换到 debugger</td></tr><tr><td style="text-align:center;"><code>H</code></td><td>将简洁的帮助文档打印至控制台</td></tr><tr><td style="text-align:center;"><code>I</code></td><td>发送一个 SIGKILL 信号至所有进程，除开 1 号进程（init 进程）</td></tr><tr><td style="text-align:center;"><code>J</code></td><td>强制解冻由 FIFREEZE ioctl 冻结的文件系统</td></tr><tr><td style="text-align:center;"><code>K</code></td><td>杀死当前虚拟中断的所有进程（可以杀死 X 和 SVGAlib 进程），最初是为了模仿安全警示按键而设立的</td></tr><tr><td style="text-align:center;"><code>L</code></td><td>打印当前所有在线的 CPU 堆栈信息</td></tr><tr><td style="text-align:center;"><code>M</code></td><td>打印当前的内存信息在控制台</td></tr><tr><td style="text-align:center;"><code>N</code></td><td>重置所有的实时进程或者高优先级进程的 nice 值</td></tr><tr><td style="text-align:center;"><code>O</code></td><td>关闭系统</td></tr><tr><td style="text-align:center;"><code>P</code></td><td>打印当前的寄存器信息和 flags 信息在控制台</td></tr><tr><td style="text-align:center;"><code>Q</code></td><td>显示所有在线的高进度定时器和时钟源信息</td></tr><tr><td style="text-align:center;"><code>R</code></td><td>键盘从 raw mode 切出至 XLATE 模式，经常被 X11 或者 SVGALib 使用</td></tr><tr><td style="text-align:center;"><code>S</code></td><td>同步所有的已挂载的文件系统</td></tr><tr><td style="text-align:center;"><code>T</code></td><td>打印当前的进程列表，以及他们的详细信息</td></tr><tr><td style="text-align:center;"><code>U</code></td><td>重新挂载文件系统至只读模式</td></tr><tr><td style="text-align:center;"><code>V</code></td><td>强制还原帧缓冲控制台</td></tr><tr><td style="text-align:center;"><code>W</code></td><td>打印所有 D 状态（阻塞）的进程信息</td></tr><tr><td style="text-align:center;"><code>Z</code></td><td>转储 ftrace 缓冲区</td></tr></tbody></table></details><h3 id="linux-与-windows-时间同步" tabindex="-1"><a class="header-anchor" href="#linux-与-windows-时间同步"><span>Linux 与 Windows 时间同步</span></a></h3><div class="hint-container info"><p class="hint-container-title">参考资料</p><ul><li><a href="https://sspai.com/post/55983" target="_blank" rel="noopener noreferrer">Linux Windows 双系统时间不一致</a></li><li><a href="https://blog.csdn.net/qq_37698947/article/details/115772329" target="_blank" rel="noopener noreferrer">UTC、RTC、UNIX时间戳、localtime 理解</a></li><li><a href="https://www.cnblogs.com/fczjuever/archive/2013/04/09/3010711.html" target="_blank" rel="noopener noreferrer">使用注册表文件（REG）添加、修改或删除Windows注册表项和值</a></li></ul></div><p>Linux 和 Windows 的时间总会存在“时差”，一般这种问题有两个解决办法：</p><ul><li><p>其一，直接修改 Linux 系统</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> timedatectl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> set-local-rtc</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> true</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --adjust-system-clock</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>其二，修改 Windows 系统</p><p>可以打开 PowerShell 运行以下的命令：</p><div class="language-powershell line-numbers-mode" data-highlighter="shiki" data-ext="powershell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Reg add HKLM\SYSTEM\CurrentControlSet\Control\TimeZoneInformation </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">v RealTimeIsUniversal </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">t REG_DWORD </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">d </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>也可以自己新建一个文本文件，并修改后缀为<code>.reg</code>，在该文件中写入如下内容：</p><div class="language-reg line-numbers-mode" data-highlighter="shiki" data-ext="reg" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">Windows Registry Editor Version 5.00</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">[HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\TimeZoneInformation]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&quot;</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">RealTimeIsUniversal</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&quot; = </span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">dword</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">00000001</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后运行该脚本，即可解决时间不同步的问题。</p><div class="hint-container tip"><p class="hint-container-title">如果想移除该键，可以将<code>&quot;RealTimeIsUniversal&quot; = dword:00000001</code>改成<code>&quot;RealTimeIsUniversal&quot;=-</code>。</p></div></li></ul><div class="hint-container info"><p class="hint-container-title">原因分析</p><p>Windows 和 Linux 两个系统看待硬件时钟的方式不同：Windows 会将硬件时钟（RTC）看作本地时间；Linux 则会将 RTC 看作 UTC 时间，故 Windows 时钟 = UTC + Time Zone，即两系统之间的时差刚好就是时区。在中国（UTC+8），Linux 总是比 Windows 快 8 小时。</p></div><h3 id="关于linux系统下键盘的f1-f12键无法响应的问题" tabindex="-1"><a class="header-anchor" href="#关于linux系统下键盘的f1-f12键无法响应的问题"><span>关于Linux系统下键盘的F1～F12键无法响应的问题</span></a></h3><div class="hint-container info"><p class="hint-container-title">参考资料 <a href="https://mikeshade.com/posts/keychron-linux-function-keys/" target="_blank" rel="noopener noreferrer">Keychron Linux Function Keys</a></p></div><p>先说一下解决方案：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">echo</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> tee</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> s/module/hid_apple/parameters/fnmode</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>这个方案是临时解决方案，如果想永久生效的话，需要执行：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">echo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;options hid_apple fnmode=0&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> tee</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -a</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/modprobe.d/hid_apple.conf</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>最后重启<code>reboot</code>或者执行</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> update-initramfs</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -u</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # For Ubuntu</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mkinitcpio</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -P</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # For Arch Linux</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>这样每次重新启动计算机也能正常使用F1～F12了。</p><div class="hint-container info"><p class="hint-container-title">为什么能解决？</p><p>首先要知道Linux系统下一切皆是文件，设备也不是例外。而我们这个操作实际上在做的就是调整设备参数。<code>fnmode</code>文件内存放的内容是一位二进制码，<code>0</code>表示默认不按下<code>Fn</code>，而<code>1</code>自然表示默认按下<code>Fn</code>了。这样问题自然很容易复现了：我们在尝试按下<code>F1</code>～<code>F12</code>的时候，<code>Fn</code>键已经处于激活状态，这样自然是输入了其对应的多媒体功能键，那么就算我再按下<code>Fn</code>也无济于事了，因此这个文件我们需要置零。</p></div><details class="hint-container details"><summary><strong>扩展知识</strong> Linux伪文件</summary><blockquote><p>参考资料 <a href="https://www.cnblogs.com/rusking/p/3766633.html" target="_blank" rel="noopener noreferrer">linux伪文件与proc文件</a>、<a href="https://blog.csdn.net/qq_31730735/article/details/80527449" target="_blank" rel="noopener noreferrer">Linux学习-伪文件（设备文件，命名管道，proc文件）</a></p></blockquote><p>Linux/Unix系统的文件类型大致可分为三类：普通文件、目录文件和伪文件。</p><p>伪文件不用来存储数据，本身不占用任何空间。它是文件系统的一部分，并按目录进行组织。伪文件设置的目的在于提供一种服务，采取与常规文件相同的访问方式进行访问，而且在多数情况下，伪文件用来访问内核（操作系统的核心部分）提供的服务。</p><p>常见的伪文件分别有设备文件、命名管道及proc文件。</p><ul><li><strong>设备文件</strong>：又称特殊文件，是物理设备的内部表示，包括计算机和网络中的每个设备都可以当作特殊文件来访问，如键盘、显示器、打印机、磁盘驱动器等等，它们都存放在/dev目录中。</li><li><strong>命名管道</strong>：管道功能的一个扩展，将一个进程的输出连接到另一个进程的输入。</li><li><strong>proc文件</strong>：提供一种简单的途径来检查多种类型的系统文件的伪文件，它直接从内核获取信息，而不是使用复杂的程序搜出数据。这些文件都存放在/proc目录中。</li></ul><p>这里只是做一个简单介绍，想了解详情还是点开<a href="https://blog.csdn.net/qq_31730735/article/details/80527449" target="_blank" rel="noopener noreferrer">这里</a>比较好，这位作者写的是相当详细的。</p></details><h3 id="安装-oh-my-zsh-并切换默认终端并安装插件" tabindex="-1"><a class="header-anchor" href="#安装-oh-my-zsh-并切换默认终端并安装插件"><span>安装 Oh-my-zsh 并切换默认终端并安装插件</span></a></h3><p>前面安装好 Zsh 之后，就可以安装 Oh-my-zsh 了，并且加入其中的一些插件：</p><div class="hint-container info"><p class="hint-container-title">On building...</p></div><h3 id="i3-wm-配置" tabindex="-1"><a class="header-anchor" href="#i3-wm-配置"><span>i3 WM 配置</span></a></h3><div class="hint-container info"><p class="hint-container-title">On building...</p></div><h3 id="安装-terminal-simulator" tabindex="-1"><a class="header-anchor" href="#安装-terminal-simulator"><span>安装 Terminal Simulator</span></a></h3><h4 id="alacritty" tabindex="-1"><a class="header-anchor" href="#alacritty"><span>Alacritty</span></a></h4><div class="hint-container info"><p class="hint-container-title">On building...</p></div><h4 id="urxvt" tabindex="-1"><a class="header-anchor" href="#urxvt"><span>URxvt</span></a></h4><h5 id="给urxvt添加多标签功能" tabindex="-1"><a class="header-anchor" href="#给urxvt添加多标签功能"><span>给URxvt添加多标签功能</span></a></h5><p>修改 <code>~/.Xresources</code>文件，搜索其中的 <code>URxvt.perl-ext-common</code>字样，在后面添加 <code>,tabbed</code>后执行 <code>xrdb -merge ~/.Xresources</code>即可。</p><h5 id="让urxvt支持组合键" tabindex="-1"><a class="header-anchor" href="#让urxvt支持组合键"><span>让URxvt支持组合键</span></a></h5><p>如果你喜欢使用<code>Ctrl</code>+<code>Arrow</code>类的组合键，但是你发现它在URxvt这里并不生效，其实是需要修改 <code>~/.Xresources</code>配置文件的：</p><p>在该文件下任意一个比较合适的地方添加如下的配置：</p><div class="language-ini line-numbers-mode" data-highlighter="shiki" data-ext="ini" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">! enable some control keymap.</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">URxvt.keysym.Control-Up:     \033[1</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">;5A</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">URxvt.keysym.Control-Down:   \033[1</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">;5B</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">URxvt.keysym.Control-Left:   \033[1</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">;5D</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">URxvt.keysym.Control-Right:  \033[1</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">;5C</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="更改urxvt字体" tabindex="-1"><a class="header-anchor" href="#更改urxvt字体"><span>更改URxvt字体</span></a></h5><p>安装好字体后，需要编辑 <code>～/.Xresources</code>文件，找到其中的段落：</p><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>! fonts</span></span>
<span class="line"><span>URxvt.letterSpace:          -1</span></span>
<span class="line"><span>URxvt.font:                 xft:Monospace:regular:size=11</span></span>
<span class="line"><span>URxvt.imFont:               xft:Monospace:regular:size=11</span></span>
<span class="line"><span>URxvt.italicFont:           xft:Monospace:italic:size=11</span></span>
<span class="line"><span>URxvt.boldFont:             xft:Monospace:bold:size=11</span></span>
<span class="line"><span>URxvt.boldItalicFont:       xft:Monospace:regular:size=11</span></span>
<span class="line"><span>! run :.!fc-list | grep &lt;font-name&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>改成如下即可：</p><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>! fonts</span></span>
<span class="line"><span>URxvt.letterSpace:          -1</span></span>
<span class="line"><span>URxvt.font:                 xft:MesloLGS NF-20</span></span>
<span class="line"><span>URxvt.imFont:               xft:MesloLGS NF-20</span></span>
<span class="line"><span>URxvt.italicFont:           xft:MesloLGS NF-20</span></span>
<span class="line"><span>URxvt.boldFont:             xft:MesloLGS NF-20</span></span>
<span class="line"><span>URxvt.boldItalicFont:       xft:MesloLGS NF-20</span></span>
<span class="line"><span>! run :.!fc-list | grep &lt;font-name&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>保存退出后还需要执行 <code>xrdb -m ~/.Xresources</code></p><p>重启一下终端，你就可以看到字体已被启用了。</p><p>然后执行 <code>xrdb -merge ~/.Xresources</code>，重启一下，即可生效。</p><h3 id="安装-fcitx5-rime-中文输入法" tabindex="-1"><a class="header-anchor" href="#安装-fcitx5-rime-中文输入法"><span>安装 Fcitx5 Rime 中文输入法</span></a></h3><div class="hint-container info"><p class="hint-container-title">On building...</p></div><div class="hint-container info"><p class="hint-container-title">参考资料 <a href="https://blog.ccjp.top/index.php/archives/3/" target="_blank" rel="noopener noreferrer">Archlinux 下 fcitx5-rime 的使用</a>、<a href="https://github.com/fkxxyz/rime-cloverpinyin" target="_blank" rel="noopener noreferrer">fkxxyz/rime-cloverpinyin - GitHub</a>、<a href="https://github.com/fkxxyz/rime-cloverpinyin?tab=readme-ov-file#%E4%BB%8E%E6%9C%AC%E4%BB%93%E5%BA%93%E6%BA%90%E7%A0%81%E6%9E%84%E5%BB%BA" target="_blank" rel="noopener noreferrer">四叶草拼音输入方案 / 从本仓库源码构建</a></p></div><p>中文输入法折腾起来挺麻烦，当初我也是翻了好些个资料，现在我直接整合到一起了，首先应当安装以下这些软件</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> fcitx5-configtool</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> fcitx5</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> fcitx5-gtk</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> fcitx5-qt</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> fcitx5-rime</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> librime</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> librime-prelude</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 输入法及其可扩展的工具依赖</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">yay</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> rime-cloverpinyin</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> python-jieba</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pypinyin</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> opencc</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> python-requests</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>接着编辑<code>/etc/environment</code>文件, 写入以下这些内容：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> GTK_IM_MODULE</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">fcitx</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> QT_IM_MODULE</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">fcitx</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> XMODIFIERS</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;@im=fcitx&quot;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">fcitx5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &amp;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>接着编辑文件<code>~/.local/share/fcitx5/rime/default.custom.yaml</code>, 写入以下配置，设置使用四叶草输入法，并设定候选词个数</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">patch:</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  &quot;menu/page_size&quot;</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 10</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  schema_list:</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    -</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> schema:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> clover</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>接着先推荐一个主题，是我个人比较喜欢使用的一个主题：<a href="https://github.com/hosxy/Fcitx5-Material-Color" target="_blank" rel="noopener noreferrer">https://github.com/hosxy/Fcitx5-Material-Color</a></p><p>一般手动安装主题都是安装以下命令安装的：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> clone</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">link.to.github.rep</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">o&gt;</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">repo.nam</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">e&gt;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">cp</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -r</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">theme.nam</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">e&gt; </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">~/.local/share/fcitx5/themes</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>安装好主题之后在这里编辑文件<code>~/.config/fcitx5/conf/classicui.conf</code>，写入：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 垂直候选列表</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Vertical</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Candidate</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> List=False</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 按屏幕 DPI 使用</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">PerScreenDPI</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">True</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Font (设置成你喜欢的字体)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#Font=&quot;思源黑体 CN Medium 13&quot;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Font</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Noto Sans CJK SC Bold 20&quot;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 主题</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Theme</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Material-Color-Indigo</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>接着安装一些常用词库，重启后就可以开始体验舒适的中文输入了：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">yay</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> rime-pinyin-zhwiki</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> fcitx5-pinyin-moegirl-rime</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 安装词库</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="安装-latex-latex-workshop-in-vs-code" tabindex="-1"><a class="header-anchor" href="#安装-latex-latex-workshop-in-vs-code"><span>安装 LaTeX &amp; LaTeX Workshop in VS Code</span></a></h3><p>要想在本地使用 LaTeX，安装这些后在 VS Code 上安装插件 LaTeX Workshop，</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> texlive-core</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> texlive-langchinese</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> texlive-latexextra</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> texlive-fontsextra</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> texlive-science</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> texlive-xetex</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>打开其配置文件(<code>Ctrl</code>+<code>Shift</code>+<code>P</code>后输入<code>settings.json</code>, 打开 User Settings), 在<code>{}</code>内加入如下内容：</p><details class="hint-container details"><summary>User Settings.json 文件内容</summary><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    &quot;latex-workshop.latex.tools&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">          &quot;name&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;latexmk&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">          &quot;command&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;latexmk&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">          &quot;args&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">            &quot;-synctex=1&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">            &quot;-interaction=nonstopmode&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">            &quot;-file-line-error&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">            &quot;-pdf&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">            &quot;%DOC%&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">          ]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        },</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">          &quot;name&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;xelatex&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">          &quot;command&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;xelatex&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">          &quot;args&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">            &quot;-synctex=1&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">            &quot;-interaction=nonstopmode&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">            &quot;-file-line-error&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">            &quot;%DOC%&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">          ]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        },</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">          &quot;name&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;pdflatex&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">          &quot;command&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;pdflatex&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">          &quot;args&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">            &quot;-synctex=1&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">            &quot;-interaction=nonstopmode&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">            &quot;-file-line-error&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">            &quot;%DOC%&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">          ]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        },</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">          &quot;name&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;bibtex&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">          &quot;command&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;bibtex&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">          &quot;args&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">            &quot;%DOCFILE%&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">          ]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      ],</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">      &quot;latex-workshop.latex.recipes&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">          &quot;name&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;latexmk&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">          &quot;tools&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">            &quot;latexmk&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">          ]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        },</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">          &quot;name&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;xelatex&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">          &quot;tools&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">            &quot;xelatex&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">          ]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        },</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">          &quot;name&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;pdflatex -&gt; bibtex&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">          &quot;tools&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">            &quot;pdflatex&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">            &quot;bibtex&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">          ]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        },</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">          &quot;name&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;pdflatex -&gt; bibtex -&gt; pdflatex*2&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">          &quot;tools&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">            &quot;pdflatex&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">            &quot;bibtex&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">            &quot;pdflatex&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">            &quot;pdflatex&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">          ]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        },</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">          &quot;name&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;xelatex -&gt; bibtex -&gt; xelatex*2&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">          &quot;tools&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">            &quot;xelatex&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">            &quot;bibtex&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">            &quot;xelatex&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">            &quot;xelatex&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">          ]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      ],</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">      &quot;latex-workshop.view.pdf.viewer&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;tab&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">      &quot;latex-workshop.latex.clean.fileTypes&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        &quot;*.aux&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        &quot;*.bbl&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        &quot;*.blg&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        &quot;*.idx&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        &quot;*.ind&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        &quot;*.lof&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        &quot;*.lot&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        &quot;*.out&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        &quot;*.toc&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        &quot;*.acn&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        &quot;*.acr&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        &quot;*.alg&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        &quot;*.glg&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        &quot;*.glo&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        &quot;*.gls&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        &quot;*.ist&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        &quot;*.fls&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        &quot;*.log&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        &quot;*.fdb_latexmk&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      ],</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">      &quot;latex-workshop.bibtex-format.tab&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;4 spaces&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">      &quot;latex-workshop.latex.autoBuild.run&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;onSave&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">      &quot;latex-workshop.latex.recipe.default&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;lastUsed&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><h3 id="使用-daed-科学上网" tabindex="-1"><a class="header-anchor" href="#使用-daed-科学上网"><span>使用 Daed 科学上网</span></a></h3><div class="hint-container info"><p class="hint-container-title">参考资料 <a href="https://arch.icekylin.online/guide/rookie/transparent#dae" target="_blank" rel="noopener noreferrer">archlinux 透明代理 / dae</a></p></div><p>科学上网，就用 Daed 保驾护航，首先需要安装并运行：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> daed</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> enable</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> daed</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> start</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> daed</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>之后就可以通过访问<a href="localhost:2023" target="_blank" rel="noopener noreferrer">localhost:2023</a>来配置代理。**注意，订阅链接需要从机场的订阅链接获取。**获取到订阅链接之后可在右侧的订阅窗口里添加订阅，添加成功后手动将该元素手动拖动到左侧的群组中，如此一来便可以科学上网了。</p><p>通常情况下 DNS、Router 等配置采用默认的方案即可。</p><h3 id="linux-屏幕扩展" tabindex="-1"><a class="header-anchor" href="#linux-屏幕扩展"><span>Linux 屏幕扩展</span></a></h3><p>使用<code>xrandr</code>就要记很多参数，而且一般要花很长时间才能调整好参数，往往调整好后又几乎不需要做修改，因此每次都查询<code>xrandr</code>文档来调整屏幕扩张是麻烦且不必要的，因此使用<code>arandr</code>和<code>autorandr</code>可更方便快捷地配置屏幕扩展方案。</p><div class="hint-container tip"><p class="hint-container-title">提示</p><p><code>autorandr</code>可以将当前屏幕方案保存下来，方便下次使用时直接调用。故可以在系统检测到接口插入时触发<code>autorandr</code>加载对应屏幕方案。</p></div><h3 id="linux-windows-共用蓝牙设备" tabindex="-1"><a class="header-anchor" href="#linux-windows-共用蓝牙设备"><span>Linux &amp; Windows 共用蓝牙设备</span></a></h3><div class="hint-container info"><p class="hint-container-title">参考资料</p><ul><li><a href="https://zhuanlan.zhihu.com/p/466962255" target="_blank" rel="noopener noreferrer">双系统共用一个蓝牙鼠标 - 知乎</a></li><li><a href="https://zhul.in/2021/05/30/share-xiaomi-bluetooth-mouse-on-both-windows-and-linux/" target="_blank" rel="noopener noreferrer">在Windows与Linux双系统下共享蓝牙鼠标</a></li><li><a href="https://wiki.archlinuxcn.org/wiki/%E8%93%9D%E7%89%99" target="_blank" rel="noopener noreferrer">蓝牙 - ArchWiki</a></li><li><a href="https://zhuanlan.zhihu.com/p/546585124" target="_blank" rel="noopener noreferrer">低功耗蓝牙(Bluetooth LE)安全机制概述 - 知乎</a></li><li><a href="https://www.showapi.com/news/article/66c119c54ddd79f11a06c00d" target="_blank" rel="noopener noreferrer">BlueZ详解：Linux下的蓝牙堆栈架构与实践</a></li><li><a href="https://www.cnblogs.com/iini/p/8692541.html" target="_blank" rel="noopener noreferrer">蓝牙低功耗(LE)和蓝牙经典(BR/EDR)概述</a></li><li><a href="https://www.cnblogs.com/iini/p/8969828.html" target="_blank" rel="noopener noreferrer">深入浅出蓝牙低功耗(Bluetooth LE)协议栈</a></li><li><a href="https://cloud.tencent.com/developer/article/1958351" target="_blank" rel="noopener noreferrer">多系统共享蓝牙设备 - 腾讯云</a></li><li><a href="https://blog.csdn.net/xiaobaiPlayGame/article/details/129481945" target="_blank" rel="noopener noreferrer">工具：PsTools-windows问题定位系列小工具</a></li><li><a href="https://support.tuya.com/zh/help/_detail/Ke5d9s97d72ac" target="_blank" rel="noopener noreferrer">什么是经典蓝牙BR/EDR?</a></li><li><a href="https://www.cnblogs.com/eswd/p/15113084.html" target="_blank" rel="noopener noreferrer">解决Win10和Linux双系统配对蓝牙设备问题(不使用PsExec)</a></li></ul></div><p>普遍存在这样的情况，Linux 和 Windows 系统都可以连接蓝牙设备的情况下，切换系统时蓝牙设备必须要重新配对连接。而这一情况对用户而言很不友好，事实上无论是在哪个系统，本机设备的 MAC 都不会发生变化，但由于某种原因，两个系统连接蓝牙设备时使用的 MAC 地址是不同的，由此可见，问题出在两个系统与蓝牙设备连接时的配对信息存在差别，下面就要解决这个异常。</p><p>首先让蓝牙设备和 Linux 系统进行配对，目的是为了在<code>/var/lib/bluetooth/&lt;Local Machine MAC Address&gt;</code>目录下生成对应设备的配对信息。</p><p>然后回到 Windows 系统，先配对好蓝牙设备，再下载 <a href="https://learn.microsoft.com/en-us/sysinternals/downloads/psexec" target="_blank" rel="noopener noreferrer">PsTools</a>。下载 PsTools 的原因是 Windows 默认隐藏注册表<code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\services\BTHPORT\Parameters\Keys</code>下的信息，而这是进行后续操作所需要的信息。</p><blockquote><p>确实存在不下载 PsTools 的解决方案，但是通过将 Windows 系统盘挂载到 Linux 系统下并使用<code>chntpw</code>来读取注册表信息的，这种方案本篇不是很推荐采用，理由是：除非必要情况，应尽量避免将 Windows 系统分区盘挂载到 Linux 系统下使用的情况，尤其是在 Windows 使用 NTFS 文件系统的情况下。</p></blockquote><div class="hint-container info"><p class="hint-container-title">PsTools</p><p>PsTools 是 Sysinternals Suite 中一款排名靠前的一个安全管理工具套件，现已被微软收购。目前 PsTools 中含有各式各样的小工具。如果能灵活运用它们，渗透过程中将会收到奇效。</p></div><p>之后通过管理员身份运行命令提示符(CMD)，进入到 PsTools 存放目录，执行</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">psexec</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -si</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">PATH</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\A</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">nywhere</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\Y</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">ou</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\L</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">ik</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">e&gt;</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">ANY_NAME_YOU_LIK</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">E&gt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">.txt</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> HKEY_LOCAL_MACHINE</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">YSTEM</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\C</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">urrentControlSet</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\s</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">ervices</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\B</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">THPORT</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\P</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">arameters</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\K</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">eys</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">提示</p><p>这个命令是使用 PsExec 将<code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\services\BTHPORT\Parameters\Keys</code>目录下的所有注册表项导出到文本文件，该文本文件将会存放在你指定的<code>/e</code>参数后面的路径。当然，注册表中的<code>CurrentControlSet</code>也可以是<code>ControlSet001</code>。</p></div><p>之后最好通过某种方式，能让 Linux 系统访问到文本文件的内容。在进行下一步操作之前，有一个知识点需要了解，了解这个知识点有利于解决本小节的核心问题。</p><div class="hint-container important"><p class="hint-container-title">重要</p><p>不同蓝牙设备之间使用的蓝牙协议未必相同，同时设备的蓝牙版本与使用的蓝牙协议类型无必然联系，从 2010 年蓝牙 4.0 出现以后就有了 LE 模式，因此不能看使用了高版本的蓝牙就断定设备使用的是低功耗蓝牙协议。</p><p>蓝牙它本身是蓝牙技术联盟(SIG)发布的技术，而它自己又分 BR、EDR、AMP 和 LE 四种 Controller 类型。其中 LE 就是蓝牙低功耗模式，其它三者则通常被统称为蓝牙经典模式。</p><blockquote><p>经典蓝牙（BR/EDR）与 BLE（Bluetooth Low Energy）是蓝牙技术规范中的两个不同的协议栈，它们虽然共享相同的无线电硬件，但设计目标和应用场景不同。经典蓝牙更适合需要连续数据流的应用，而 BLE 则更专注于提供低功耗的周期性数据传输。随着蓝牙技术的发展，许多设备现在都支持这两种蓝牙模式，以满足不同的应用需求。</p></blockquote><p>因此一般常见的蓝牙设备如鼠标、键盘等等涉及数据传输、位置服务、设备网络等方面的设备多都采用蓝牙低功耗模式，而其它如蓝牙耳机等音频设备则是采用蓝牙经典模式。</p></div><p>回到 Linux 下，如前文所述，蓝牙设备信息都存储在<code>/var/lib/bluetooth/&lt;Local Machine MAC Address&gt;</code>目录下，需要留意该目录下有哪些设备，并找出要连接设备的 MAC 地址。然后执行<code>su</code>登录 root 账户，进入到<code>/var/lib/bluetooth/&lt;Local Machine MAC Address&gt;</code>，修改该目录下的蓝牙设备的 MAC（即重命名文件夹），使 Linux 解析的 MAC 值与 Windows 的值保持一致。注意 Linux 的 MAC 格式是<code>XX:XX:XX:XX:XX:XX</code>，重命名时应给<code>:</code>做转义，即<code>XX\:XX\:XX\:XX\:XX\:XX</code>。</p><p>如果不清楚自己的设备应该是哪个 MAC 地址，这时候主要参考 MAC 文件夹的<code>info</code>文件下<code>[General]</code>小节的<code>Name</code>键，它的值就是设备名称。而凭经验来看，Windows 和 Linux 两系统下同一蓝牙设备的 MAC 地址差别不大，通常只有后四位（两字节）是不同的，这个未经长期检验验证的经验或许可以帮助你快速定位到自己的设备。</p><hr><p>现在就设备所采用的蓝牙协议类型进行分类讨论：</p><p>对于鼠标、键盘一类使用 BLE 的设备，需要修改<code>info</code>文件下<code>[LongTermKey]</code>一节下的三个键的值：<code>LTK</code>、<code>Rand</code>、<code>EDiv</code>，因为 Linux 和 Windows 两个系统在这三个键上存储方式不同。</p><ul><li><code>Key</code> &amp; <code>LTK</code>: Windows 和 Linux 都是使用十六进制存储，但 Windows 会每两位数（小写）之间用<code>,</code>隔开，而 Linux 是直接连在一起（大写）。</li><li><code>Rand</code> &amp; <code>ERand</code>: Windows 下该键的数据格式和 LTK 键一样，但采用大端存储方式存储，而 Linux 则采用小端存储，并使用十进制。</li><li><code>EDiv</code> &amp; <code>EDIV</code>: Windows 采用十六进制存储，而 Linux 采用十进制存储。</li></ul><p>接下来就是要根据上面所述对数值进行一次转换，本人则是使用 Python 的简单实现：</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">ltk_str </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;63,e9,67,de,ef,17,4e,43,71,5d,93,e3,a8,ff,52,0c&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">erand_str </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;25,45,88,56,42,ec,b8,0b&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">ediv_str </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;00005240&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">key </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">join</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">( [ char.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">upper</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> char </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">in</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ltk_str.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">split</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;,&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) ] )</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">rand </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">join</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">reversed</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(erand_str.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">split</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;,&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)))</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">print</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Key: &quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, key)</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">print</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Rand: &quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(rand, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">16</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">print</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;EDiv: &quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(ediv_str, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">16</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">))</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>而对于蓝牙耳机等一类使用经典蓝牙协议的设备，它的信息结构反而没有上面那样复杂，甚至<code>info</code>可能只有<code>[General]</code>和<code>[LinkKey]</code>两小节。对于这种设备，一般只需要修改<code>[LinkKey]</code>下的<code>Key</code>键值即可。</p><p>在 Windows 的注册表中，BLE 类型的设备都会存在<code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\services\BTHPORT\Parameters\Keys\&lt;LOCAL_MAC_ADDRESS&gt;</code>下的<code>&lt;DEVICE_MAC_ADDRESS&gt;</code>内，而这类使用经典蓝牙协议的设备则是以键值对的形式（非文件夹结构）直接存放在<code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\services\BTHPORT\Parameters\Keys\&lt;LOCAL_MAC_ADDRESS&gt;</code>下的，键是设备的 MAC 地址，而值就是要寻找的<code>[LinkKey]</code>的<code>Key</code>键值，与 BLE 中 LTK 的处理方式类似，只需要 Windows 下的值去除<code>,</code>后转成大写即可。</p><hr><p>最后，经过以上两种情况的操作，该问题便可得到解决。需要重启蓝牙服务，执行<code>sudo systemctl restart bluetooth.service</code>，然后再尝试连接蓝牙设备即可。</p><h3 id="linux-查找软件安装目录的方法" tabindex="-1"><a class="header-anchor" href="#linux-查找软件安装目录的方法"><span>Linux 查找软件安装目录的方法</span></a></h3><div class="hint-container info"><p class="hint-container-title">参考资料</p><ol><li><a href="https://www.linuxjiaocheng.com/2232.html" target="_blank" rel="noopener noreferrer">Linux查看软件安装目录及位置4种方法（Linux）</a></li><li><a href="https://cloud.tencent.com/developer/article/1726016" target="_blank" rel="noopener noreferrer">linux查看软件的安装位置简单方法</a></li><li><a href="https://hustlei.github.io/2018/11/msys2-pacman.html" target="_blank" rel="noopener noreferrer">pacman常用命令</a></li></ol></div><p>Linux 一般安装的软件位置会在以下几个目录中，如有需要届时可以自行查找：</p><ol><li><code>/usr/share</code></li><li><code>/usr/local</code></li><li><code>/opt</code></li></ol><p>如果已知可执行程序，也可直接使用<code>whereis</code>, <code>which</code>等查看位置</p><h3 id="ark打开zip压缩包出现中文乱码的解决方案" tabindex="-1"><a class="header-anchor" href="#ark打开zip压缩包出现中文乱码的解决方案"><span>Ark打开Zip压缩包出现中文乱码的解决方案</span></a></h3><p>执行如下指令即可：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">yay</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> p7zip-natspec</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 中间会提示你是否要删除P7zip，选择是。</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>然后打开Ark，点击菜单栏中的设置，单击配置Ark，然后取消勾选Libzip，并且要选中P7zip，保存设置并重启Ark即可。</p><h3 id="修改默认应用程序" tabindex="-1"><a class="header-anchor" href="#修改默认应用程序"><span>修改默认应用程序</span></a></h3><div class="hint-container info"><p class="hint-container-title">参考资料 <a href="https://blog.csdn.net/iteye_6393/article/details/82231282" target="_blank" rel="noopener noreferrer">ArchLinux如何设值文件的默认打开程序</a></p></div><p>随着使用时间增长，有些文件可以由许多应用打开，这难免会发生冲突，尤其在习惯以某个应用打开之后在近期装了新软件把默认配置覆盖掉的时候，就会直接高血压。但还好有办法解决这个问题。</p><p>首先要知道系统依靠什么来设定文件到应用的映射：通过<code>/usr/share/applications</code>下的<code>desktop</code>文件来设定关联。可以通过<code>ls /usr/share/applications</code>来查看当前可以设定的关联。</p><p>因此修改的流程应该是：</p><ol><li>先通过<code>ls /usr/share/applications</code>找到要找的关联desktop文件</li><li>执行命令<code>xdg-mime query filetype &lt;你要查看文件的文件名&gt;</code>，比如当前目录有<code>file.md</code>，我就可以执行<code>xdg-mime query filetype file.md</code>，这样就可以查询这个文件类型当前设置的默认应用程序是什么</li><li>（可以不做）也可以执行命令<code>xdg-mime query default application/&lt;文件后缀&gt;</code>来查看这个文件类型当前设置的默认应用程序。</li><li>执行命令<code>xdg-mime default &lt;第一步你选择的结果&gt; application/&lt;文件后缀&gt;</code>来设定应用与文件类型的关联。</li></ol><p>修改是立即生效的，不用重启计算机。</p><h3 id="virtual-machine-manager-安装与使用方法" tabindex="-1"><a class="header-anchor" href="#virtual-machine-manager-安装与使用方法"><span>Virtual Machine Manager 安装与使用方法</span></a></h3><p>首先要确保你的系统是支持虚拟化的，执行下列命令来查看：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">LC_ALL</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">C</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> lscpu</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">grep</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Virtualization</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>如果是使用Intel CPU的话，会看到 <code>VT-x</code>，如果是使用AMD的话会看到 <code>AMD-V</code>。</p><p>接下来我们要安装相关组件：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> qemu</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> libvirt</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ovmf</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> virt-manager</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> virt-viewer</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> dnsmasq</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> vde2</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> bridge-utils</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> openbsd-netcat</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ebtables</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> iptables</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> libguestfs</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>之前确实是搞错了，不是只安装virt-manager就可以的，它只是一个GUI管理器，真正做虚拟服务的是qemu，它只是替我们去调用了qemu的API罢。安装好这些后需要继续进行配置：</p><p>首先我们需要启动服务：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> enable</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> libvirtd.service</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> start</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> libvirtd.service</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>然后将我们的用户账户添加到libvirt组内：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> usermod</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -aG</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> libvirt</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> $(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">whoami</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">newgrp</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> libvirt</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>然后我们重启一下服务：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> restart</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> libvirtd.service</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>之后我们打开 <code>virt-manager</code>，新建连接。选择 <code>QEMU/KVM</code>后保持默认就可以开始新建虚拟机了！</p><h3 id="桌面壁纸配置" tabindex="-1"><a class="header-anchor" href="#桌面壁纸配置"><span>桌面壁纸配置</span></a></h3><p>i3 窗口管理器下可以直接使用<code>feh</code>来设置壁纸。</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">feh</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --bg-fill</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --no-fehbg</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --randomize</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;Path/to/your/Wallpaper/Folder&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>对于 Awesome 窗口管理器，我推荐使用 Nitrogen。</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">nitrogen</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --head=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Your-Monitor-ID</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --random</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --set-zoom-fill</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /path/to/your/wallpaper/directory</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt; </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/dev/null</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 2&gt;&amp;1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="将平板作为扩展屏幕使用" tabindex="-1"><a class="header-anchor" href="#将平板作为扩展屏幕使用"><span>将平板作为扩展屏幕使用</span></a></h3><p>家里的显示器数量有限，但又不能因此就再买一个显示器。又考虑到我手中还有一个平板，那么我就有办法让平板作为我的第三个屏幕。</p><p>基本原理其实就是在电脑上自己手动添加一个视频信号输出，然后由服务端软件开放端口投出，最后由平板连接这个开放端口，达到显示第三屏幕的效果。</p><div class="hint-container warning"><p class="hint-container-title">注意</p><p>这种操作并非不受限制：</p><ol><li>你首先要知道你的计算机最多能扩展多少个屏幕，在这里我的电脑能支持同时输出3个显示器设备。</li><li>你还要知道你的每一个显卡的输出信号能力，即它最大的分辨率输出能力，比如我的显卡性能并不是特别强，最大只能输出1080P「1920✕1080」，那么如果我尝试让它输出2560✕1600的分辨率，这个肯定会失败的。</li><li>服务端软件一般系统并不自带，因此需要用户自行安装，可以执行 <code>sudo pacman -S x11vnc</code>来直接安装。</li></ol></div><p>了解了这些限制后我们就可以开始了：</p><ol><li><p>首先我们应该确定要输出的分辨率，并获取相关参数，执行</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">cvt</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;X&gt; &lt;Y&gt; &lt;Z&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">提示</p><p>这里的 <code>&lt;X&gt;</code>、<code>&lt;Y&gt;</code>、<code>&lt;Z&gt;</code>分别表示分辨率宽、高和屏幕刷新率参数。如 <code>cvt 1920 1080 60</code>表示分辨率为1920✕1080，屏幕刷新率为60Hz。</p><p>你会得到类似这个的输出：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> ❯</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> cvt</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1920</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1080</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 60</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 1920x1080 59.96 Hz (CVT 2.07M9) hsync: 67.16 kHz; pclk: 173.00 MHz</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> Modeline</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;1920x1080_60.00&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  173.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  1920</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2048</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2248</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2576</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  1080</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1083</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1088</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1120</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -hsync</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> +vsync</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div></li><li><p>获取到这些参数后我们还要复制好这些参数，并执行下面这个命令：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">xrandr</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --newmode</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;1920x1080_60.00&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  173.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  1920</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2048</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2248</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2576</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  1080</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1083</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1088</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1120</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -hsync</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> +vsync</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>新建好这个输出模式后再执行下面这个命令：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">xrandr</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --addmode</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">AP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">I&gt; </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">1920x1080_60.00</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">提示</p><p>这里的 <code>&lt;API&gt;</code>是指你输出的视频信号端口名称，如果觉得这里不清晰的话可以先执行 <code>xrandr</code>来看看，执行完上面指令的时候就可以看到你新添加的输出模式了。</p><p>另外，如果是希望扩展屏幕，建议 <code>&lt;API&gt;</code>选取未连接状态的端口。不过如果只是希望复制屏幕的话，大可不必用这种方法。</p></div></li><li><p>接下来你还要开启输出模式，做屏幕扩展，执行</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">xrandr</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --output</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">AP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">I&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">--mode</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 1920x1080_60.00</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --right-of</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Other</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> AP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">I&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">提示</p><p>当然也可以使用其它参数，详细可以执行 <code>xrandr --help</code>后关注 <code>--output</code>下的其它参数。</p></div></li><li><p>最后你就需要使用 <code>x11vnc</code>来开放端口，将这个新添加的屏幕输出出去，执行</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">x11vnc</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -clip</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 1920x1080+X+Y</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">提示</p><p>这里的X表示扩展屏幕的起点横坐标，Y表示扩展屏幕的起点纵坐标。比如我现在在使用两个显示器，且分辨率都是1920✕1080，那么我在扩展第三个屏幕的时候就可以选择起点横坐标为3840，纵坐标为0。<br> 当然如果你希望它在后台运行，可以添加 <code>-bg</code>来后台启动。</p><p>如果希望设置密码，添加 <code>-usepw</code>就可以了。使用这个参数时它会在 <code>~/.vnc/passwd</code>中或 <code>~/.vnc/passwdfile</code>第一行里找到密码，如果这些文件都不存在，则它会提示你输入密码，并保存在 <code>~/.vnc/passwd</code>中。</p><p>如果想指定端口的话需要添加参数 <code>-rfbport PORT</code>，其中 <code>PORT</code>要换为你想使用的端口号。</p></div></li></ol><p>现在你可以在平板上连接电脑开放的端口来查看了。</p><h3 id="通过-systemctl-设置开机自启动服务" tabindex="-1"><a class="header-anchor" href="#通过-systemctl-设置开机自启动服务"><span>通过 Systemctl 设置开机自启动服务</span></a></h3><div class="hint-container info"><p class="hint-container-title">参考资料 <a href="https://github.com/MregXN/blogs/issues/2" target="_blank" rel="noopener noreferrer">Manjaro开机自启动脚本实现</a> <a href="https://wiki.archlinux.org/title/Systemd_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)#%E4%BF%AE%E6%94%B9%E7%8E%B0%E5%AD%98%E5%8D%95%E5%85%83%E6%96%87%E4%BB%B6" target="_blank" rel="noopener noreferrer">systemd</a> <a href="https://wiki.archlinux.org/title/Systemd_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)/User_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)#%E9%9A%8F%E7%B3%BB%E7%BB%9F%E8%87%AA%E5%8A%A8%E5%90%AF%E5%8A%A8_systemd_%E7%94%A8%E6%88%B7%E5%AE%9E%E4%BE%8B" target="_blank" rel="noopener noreferrer">systemd /User</a> <a href="http://www.ruanyifeng.com/blog/2016/03/systemd-tutorial-part-two.html" target="_blank" rel="noopener noreferrer">Systemd 入门教程：实战篇</a></p></div><blockquote><p><code>systemd</code> <a href="https://www.freedesktop.org/software/systemd/man/systemd.unit.html" target="_blank" rel="noopener noreferrer">单元文件</a>的语法来源于 XDG 桌面项配置文件<code>.desktop</code>文件，最初的源头则是Microsoft Windows的<code>.ini</code>文件。单元文件可以从多个地方加载，<code>systemctl show --property=UnitPath</code> 可以按优先级从低到高显示加载目录：</p><ul><li><p><code>/usr/lib/systemd/system/</code> ：软件包安装的单元</p></li><li><p><code>/etc/systemd/system/</code> ：系统管理员安装的单元</p></li></ul><div style="text-align:right;"><p>——ArchWiki</p></div><p>systemd的文件主要存放在/usr/lib/systemd 目录中,有系统（system）和用户（user）之分</p><blockquote><p>/usr/lib/systemd/system/ #开机不登陆就能运行<br> /usr/lib/systemd/user/ #登陆后运行</p></blockquote><p>每一个服务以.service结尾，文件内一般会分为3部分：[Unit]、[Service]、[Install]</p><p>[Unit] 主要是对这个服务的说明，内容包括Description和After，Description用于描述服务，After用于描述服务类别</p><p>[Service] 是服务的关键，是服务的一些具体运行参数的设置，</p><blockquote><p>Type=forking是后台运行的形式，</p><p>PIDFile为存放PID的文件路径，</p><p>ExecStart为服务的具体运行命令，</p><p>ExecReload为重启命令，</p><p>ExecStop为停止命令，</p><p>PrivateTmp=True表示给服务分配独立的临时空间</p><p>注意：[Service]部分的启动、重启、停止命令全部要求使用绝对路径，使用相对路径则会报错！</p></blockquote><p>[Install] 是服务安装的相关设置，可设置为多用户的</p><div style="text-align:right;"><p>——MregXN</p></div></blockquote><p>对于语法问题，完全可以先看看该目录下的其他systemd单元文件，参照它们来写。</p><p>首先要准备好你希望每次开机都要启动的脚本，我姑且假设这个脚本名字叫做<code>supsys.sh</code></p><p>然后需要给这个脚本授予权限，执行<code>sudo chmod 0755 /path/supsys.sh</code></p><p>接着创建service文件，执行<code>sudo vim /usr/lib/systemd/system/supsys.service</code></p><p>输入如下样例：</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Unit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Description=run shell script</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Service</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">ExecStart= /path/supsys.sh</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Type = simple</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Install</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">WantedBy=multi-user.target</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>其他具体操作请查看ArchWiki。</p><p>保存退出后，就可以直接执行<code>sudo systemctl enable supsys.service</code>来达到你的开机自启动的目的。</p><h3 id="常用的-linux-清理命令" tabindex="-1"><a class="header-anchor" href="#常用的-linux-清理命令"><span>常用的 Linux 清理命令</span></a></h3><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -Scc</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 清除掉pacman的无用安装包</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">yay</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -Scc</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 清除掉yay的无用安装包</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -R</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> $(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -Qdtq</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 清除掉无用的依赖</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> journalctl</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --vacuum-size=50M</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 只保留50M大小的日志。</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 当然你也可以使用 sudo journalctl --vacuum-time=1w，这样就是只保留最近一周的日志。</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> rm</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /var/lib/systemd/coredump/</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">*</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 清除掉崩溃日志内容</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="醒不过来了" tabindex="-1"><a class="header-anchor" href="#醒不过来了"><span>醒不过来了</span></a></h2></div><!----><!----><!--[--><h2 id="doc-contributors" tabindex="-1"><a href="#doc-contributors" class="header-anchor"><span>贡献者</span></a></h2><div class="vp-contributors"><a href="https://github.com/BreezeShane" target="_blank" rel="noreferrer" class="vp-contributor"><!----><span class="vp-contributor-name">BreezeShane</span></a></div><!--]--></div><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/BreezeShane/BreezeShane.github.io/edit/main/src/Diverse-Essays/Linux/Linux.md" aria-label="编辑此页" rel="noopener noreferrer" target="_blank" iconsizing="both"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->编辑此页<!----></a></div><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">最近更新：</span><time class="vp-meta-info" datetime="2025-04-29T09:43:59.000Z" data-allow-mismatch>2025/4/29 09:43</time></div></div></footer><nav class="vp-page-nav"><a class="route-link route-link-active auto-link prev" href="/Diverse-Essays/Linux/" aria-label="Linux 专题目录" iconsizing="both"><div class="hint"><span class="arrow start"></span>上一页</div><div class="link"><!---->Linux 专题目录</div></a><a class="route-link auto-link next" href="/Diverse-Essays/Linux/UUA.html" aria-label="Linux 用户与组和权限分配杂谈" iconsizing="both"><div class="hint">下一页<span class="arrow end"></span></div><div class="link">Linux 用户与组和权限分配杂谈<!----></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper" vp-footer><div class="vp-footer">𝕭𝖗𝖊𝖊𝖟𝖊 𝕾𝖍𝖆𝖓𝖊 𝕭𝖑𝖔𝖌</div><div class="vp-copyright">Copyright © 2025 𝕭𝖗𝖊𝖊𝖟𝖊 𝕾𝖍𝖆𝖓𝖊 </div></footer></div><!--]--><!--]--><!--[--><!----><!--[--><!--]--><!--]--><!--]--></div>
    <script type="module" src="/assets/app-8-ql20LB.js" defer></script>
  </body>
</html>
